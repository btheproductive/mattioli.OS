import{j as f,u as Ee,c as zl,t as fB,a as _e,b as Df,d as GC,S as hB}from"./ui-3JHv0VQv.js";import{b as pB,a as w,R as P,c as Fc,d as YC,e as XC,N as QC,L as mB,O as gB,g as Bc,f as Ue,h as au,u as yB,i as vB,H as bB,j as xB,k as lo,l as wB}from"./vendor-DLNrorn0.js";function SB(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var ou={},dS;function _B(){if(dS)return ou;dS=1;var e=pB();return ou.createRoot=e.createRoot,ou.hydrateRoot=e.hydrateRoot,ou}var EB=_B();const OB=1,jB=1e6;let up=0;function AB(){return up=(up+1)%Number.MAX_SAFE_INTEGER,up.toString()}const dp=new Map,fS=e=>{if(dp.has(e))return;const t=setTimeout(()=>{dp.delete(e),kl({type:"REMOVE_TOAST",toastId:e})},jB);dp.set(e,t)},kB=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,OB)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?fS(r):e.toasts.forEach(n=>{fS(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Ku=[];let Gu={toasts:[]};function kl(e){Gu=kB(Gu,e),Ku.forEach(t=>{t(Gu)})}function PB({...e}){const t=AB(),r=i=>kl({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>kl({type:"DISMISS_TOAST",toastId:t});return kl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function TB(){const[e,t]=w.useState(Gu);return w.useEffect(()=>(Ku.push(t),()=>{const r=Ku.indexOf(t);r>-1&&Ku.splice(r,1)}),[e]),{...e,toast:PB,dismiss:r=>kl({type:"DISMISS_TOAST",toastId:r})}}function de(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}function CB(e,t){const r=w.createContext(t),n=a=>{const{children:o,...s}=a,l=w.useMemo(()=>s,Object.values(s));return f.jsx(r.Provider,{value:l,children:o})};n.displayName=e+"Provider";function i(a){const o=w.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,i]}function br(e,t=[]){let r=[];function n(a,o){const s=w.createContext(o),l=r.length;r=[...r,o];const c=d=>{const{scope:h,children:p,...y}=d,m=h?.[e]?.[l]||s,g=w.useMemo(()=>y,Object.values(y));return f.jsx(m.Provider,{value:g,children:p})};c.displayName=a+"Provider";function u(d,h){const p=h?.[e]?.[l]||s,y=w.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${a}\``)}return[c,u]}const i=()=>{const a=r.map(o=>w.createContext(o));return function(s){const l=s?.[e]||a;return w.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return i.scopeName=e,[n,NB(i,...t)]}function NB(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:c})=>{const d=l(a)[`__scope${c}`];return{...s,...d}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function $f(e){const t=e+"CollectionProvider",[r,n]=br(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:v}=m,x=P.useRef(null),b=P.useRef(new Map).current;return f.jsx(i,{scope:g,itemMap:b,collectionRef:x,children:v})};o.displayName=t;const s=e+"CollectionSlot",l=zl(s),c=P.forwardRef((m,g)=>{const{scope:v,children:x}=m,b=a(s,v),E=Ee(g,b.collectionRef);return f.jsx(l,{ref:E,children:x})});c.displayName=s;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=zl(u),p=P.forwardRef((m,g)=>{const{scope:v,children:x,...b}=m,E=P.useRef(null),S=Ee(g,E),_=a(u,v);return P.useEffect(()=>(_.itemMap.set(E,{ref:E,...b}),()=>{_.itemMap.delete(E)})),f.jsx(h,{[d]:"",ref:S,children:x})});p.displayName=u;function y(m){const g=a(e+"CollectionConsumer",m);return P.useCallback(()=>{const x=g.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((_,O)=>b.indexOf(_.ref.current)-b.indexOf(O.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},y,n]}var RB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pe=RB.reduce((e,t)=>{const r=zl(`Primitive.${t}`),n=w.forwardRef((i,a)=>{const{asChild:o,...s}=i,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...s,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function zx(e,t){e&&Fc.flushSync(()=>e.dispatchEvent(t))}function Et(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...r)=>t.current?.(...r),[])}function JC(e,t=globalThis?.document){const r=Et(e);w.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var IB="DismissableLayer",ab="dismissableLayer.update",MB="dismissableLayer.pointerDownOutside",DB="dismissableLayer.focusOutside",hS,ZC=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lf=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=e,c=w.useContext(ZC),[u,d]=w.useState(null),h=u?.ownerDocument??globalThis?.document,[,p]=w.useState({}),y=Ee(t,O=>d(O)),m=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(g),x=u?m.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,E=x>=v,S=LB(O=>{const k=O.target,T=[...c.branches].some(j=>j.contains(k));!E||T||(i?.(O),o?.(O),O.defaultPrevented||s?.())},h),_=FB(O=>{const k=O.target;[...c.branches].some(j=>j.contains(k))||(a?.(O),o?.(O),O.defaultPrevented||s?.())},h);return JC(O=>{x===c.layers.size-1&&(n?.(O),!O.defaultPrevented&&s&&(O.preventDefault(),s()))},h),w.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(hS=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),pS(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=hS)}},[u,h,r,c]),w.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),pS())},[u,c]),w.useEffect(()=>{const O=()=>p({});return document.addEventListener(ab,O),()=>document.removeEventListener(ab,O)},[]),f.jsx(pe.div,{...l,ref:y,style:{pointerEvents:b?E?"auto":"none":void 0,...e.style},onFocusCapture:de(e.onFocusCapture,_.onFocusCapture),onBlurCapture:de(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:de(e.onPointerDownCapture,S.onPointerDownCapture)})});Lf.displayName=IB;var $B="DismissableLayerBranch",eN=w.forwardRef((e,t)=>{const r=w.useContext(ZC),n=w.useRef(null),i=Ee(t,n);return w.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),f.jsx(pe.div,{...e,ref:i})});eN.displayName=$B;function LB(e,t=globalThis?.document){const r=Et(e),n=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const a=s=>{if(s.target&&!n.current){let l=function(){tN(MB,r,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function FB(e,t=globalThis?.document){const r=Et(e),n=w.useRef(!1);return w.useEffect(()=>{const i=a=>{a.target&&!n.current&&tN(DB,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function pS(){const e=new CustomEvent(ab);document.dispatchEvent(e)}function tN(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?zx(i,a):i.dispatchEvent(a)}var BB=Lf,qB=eN,Nt=globalThis?.document?w.useLayoutEffect:()=>{},zB="Portal",Ff=w.forwardRef((e,t)=>{const{container:r,...n}=e,[i,a]=w.useState(!1);Nt(()=>a(!0),[]);const o=r||i&&globalThis?.document?.body;return o?YC.createPortal(f.jsx(pe.div,{...n,ref:t}),o):null});Ff.displayName=zB;function UB(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var mi=e=>{const{present:t,children:r}=e,n=WB(t),i=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),a=Ee(n.ref,HB(i));return typeof r=="function"||n.isPresent?w.cloneElement(i,{ref:a}):null};mi.displayName="Presence";function WB(e){const[t,r]=w.useState(),n=w.useRef(null),i=w.useRef(e),a=w.useRef("none"),o=e?"mounted":"unmounted",[s,l]=UB(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const c=su(n.current);a.current=s==="mounted"?c:"none"},[s]),Nt(()=>{const c=n.current,u=i.current;if(u!==e){const h=a.current,p=su(c);e?l("MOUNT"):p==="none"||c?.display==="none"?l("UNMOUNT"):l(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Nt(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,d=p=>{const m=su(n.current).includes(p.animationName);if(p.target===t&&m&&(l("ANIMATION_END"),!i.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=p=>{p.target===t&&(a.current=su(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:w.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function su(e){return e?.animationName||"none"}function HB(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var VB=XC[" useInsertionEffect ".trim().toString()]||Nt;function Ln({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,a,o]=KB({defaultProp:t,onChange:r}),s=e!==void 0,l=s?e:i;{const u=w.useRef(e!==void 0);w.useEffect(()=>{const d=u.current;d!==s&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=s},[s,n])}const c=w.useCallback(u=>{if(s){const d=GB(u)?u(e):u;d!==e&&o.current?.(d)}else a(u)},[s,e,a,o]);return[l,c]}function KB({defaultProp:e,onChange:t}){const[r,n]=w.useState(e),i=w.useRef(r),a=w.useRef(t);return VB(()=>{a.current=t},[t]),w.useEffect(()=>{i.current!==r&&(a.current?.(r),i.current=r)},[r,i]),[r,n,a]}function GB(e){return typeof e=="function"}var rN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),YB="VisuallyHidden",Bf=w.forwardRef((e,t)=>f.jsx(pe.span,{...e,ref:t,style:{...rN,...e.style}}));Bf.displayName=YB;var XB=Bf,Ux="ToastProvider",[Wx,QB,JB]=$f("Toast"),[nN]=br("Toast",[JB]),[ZB,qf]=nN(Ux),iN=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[s,l]=w.useState(null),[c,u]=w.useState(0),d=w.useRef(!1),h=w.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ux}\`. Expected non-empty \`string\`.`),f.jsx(Wx.Provider,{scope:t,children:f.jsx(ZB,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:c,viewport:s,onViewportChange:l,onToastAdd:w.useCallback(()=>u(p=>p+1),[]),onToastRemove:w.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:o})})};iN.displayName=Ux;var aN="ToastViewport",e4=["F8"],ob="toast.viewportPause",sb="toast.viewportResume",oN=w.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=e4,label:i="Notifications ({hotkey})",...a}=e,o=qf(aN,r),s=QB(r),l=w.useRef(null),c=w.useRef(null),u=w.useRef(null),d=w.useRef(null),h=Ee(t,d,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;w.useEffect(()=>{const g=v=>{n.length!==0&&n.every(b=>v[b]||v.code===b)&&d.current?.focus()};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),w.useEffect(()=>{const g=l.current,v=d.current;if(y&&g&&v){const x=()=>{if(!o.isClosePausedRef.current){const _=new CustomEvent(ob);v.dispatchEvent(_),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const _=new CustomEvent(sb);v.dispatchEvent(_),o.isClosePausedRef.current=!1}},E=_=>{!g.contains(_.relatedTarget)&&b()},S=()=>{g.contains(document.activeElement)||b()};return g.addEventListener("focusin",x),g.addEventListener("focusout",E),g.addEventListener("pointermove",x),g.addEventListener("pointerleave",S),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{g.removeEventListener("focusin",x),g.removeEventListener("focusout",E),g.removeEventListener("pointermove",x),g.removeEventListener("pointerleave",S),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[y,o.isClosePausedRef]);const m=w.useCallback(({tabbingDirection:g})=>{const x=s().map(b=>{const E=b.ref.current,S=[E,...h4(E)];return g==="forwards"?S:S.reverse()});return(g==="forwards"?x.reverse():x).flat()},[s]);return w.useEffect(()=>{const g=d.current;if(g){const v=x=>{const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const S=document.activeElement,_=x.shiftKey;if(x.target===g&&_){c.current?.focus();return}const T=m({tabbingDirection:_?"backwards":"forwards"}),j=T.findIndex(A=>A===S);fp(T.slice(j+1))?x.preventDefault():_?c.current?.focus():u.current?.focus()}};return g.addEventListener("keydown",v),()=>g.removeEventListener("keydown",v)}},[s,m]),f.jsxs(qB,{ref:l,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&f.jsx(lb,{ref:c,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"forwards"});fp(g)}}),f.jsx(Wx.Slot,{scope:r,children:f.jsx(pe.ol,{tabIndex:-1,...a,ref:h})}),y&&f.jsx(lb,{ref:u,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"backwards"});fp(g)}})]})});oN.displayName=aN;var sN="ToastFocusProxy",lb=w.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,a=qf(sN,r);return f.jsx(Bf,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{const s=o.relatedTarget;!a.viewport?.contains(s)&&n()}})});lb.displayName=sN;var qc="Toast",t4="toast.swipeStart",r4="toast.swipeMove",n4="toast.swipeCancel",i4="toast.swipeEnd",lN=w.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...o}=e,[s,l]=Ln({prop:n,defaultProp:i??!0,onChange:a,caller:qc});return f.jsx(mi,{present:r||s,children:f.jsx(s4,{open:s,...o,ref:t,onClose:()=>l(!1),onPause:Et(e.onPause),onResume:Et(e.onResume),onSwipeStart:de(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:de(e.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:de(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:de(e.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});lN.displayName=qc;var[a4,o4]=nN(qc,{onClose(){}}),s4=w.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:s,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:p,...y}=e,m=qf(qc,r),[g,v]=w.useState(null),x=Ee(t,M=>v(M)),b=w.useRef(null),E=w.useRef(null),S=i||m.duration,_=w.useRef(0),O=w.useRef(S),k=w.useRef(0),{onToastAdd:T,onToastRemove:j}=m,A=Et(()=>{g?.contains(document.activeElement)&&m.viewport?.focus(),o()}),N=w.useCallback(M=>{!M||M===1/0||(window.clearTimeout(k.current),_.current=new Date().getTime(),k.current=window.setTimeout(A,M))},[A]);w.useEffect(()=>{const M=m.viewport;if(M){const I=()=>{N(O.current),c?.()},L=()=>{const B=new Date().getTime()-_.current;O.current=O.current-B,window.clearTimeout(k.current),l?.()};return M.addEventListener(ob,L),M.addEventListener(sb,I),()=>{M.removeEventListener(ob,L),M.removeEventListener(sb,I)}}},[m.viewport,S,l,c,N]),w.useEffect(()=>{a&&!m.isClosePausedRef.current&&N(S)},[a,S,m.isClosePausedRef,N]),w.useEffect(()=>(T(),()=>j()),[T,j]);const D=w.useMemo(()=>g?mN(g):null,[g]);return m.viewport?f.jsxs(f.Fragment,{children:[D&&f.jsx(l4,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),f.jsx(a4,{scope:r,onClose:A,children:Fc.createPortal(f.jsx(Wx.ItemSlot,{scope:r,children:f.jsx(BB,{asChild:!0,onEscapeKeyDown:de(s,()=>{m.isFocusedToastEscapeKeyDownRef.current||A(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(pe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...y,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:de(e.onKeyDown,M=>{M.key==="Escape"&&(s?.(M.nativeEvent),M.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:de(e.onPointerDown,M=>{M.button===0&&(b.current={x:M.clientX,y:M.clientY})}),onPointerMove:de(e.onPointerMove,M=>{if(!b.current)return;const I=M.clientX-b.current.x,L=M.clientY-b.current.y,B=!!E.current,F=["left","right"].includes(m.swipeDirection),$=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,C=F?$(0,I):0,W=F?0:$(0,L),z=M.pointerType==="touch"?10:2,R={x:C,y:W},X={originalEvent:M,delta:R};B?(E.current=R,lu(r4,d,X,{discrete:!1})):mS(R,m.swipeDirection,z)?(E.current=R,lu(t4,u,X,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(I)>z||Math.abs(L)>z)&&(b.current=null)}),onPointerUp:de(e.onPointerUp,M=>{const I=E.current,L=M.target;if(L.hasPointerCapture(M.pointerId)&&L.releasePointerCapture(M.pointerId),E.current=null,b.current=null,I){const B=M.currentTarget,F={originalEvent:M,delta:I};mS(I,m.swipeDirection,m.swipeThreshold)?lu(i4,p,F,{discrete:!0}):lu(n4,h,F,{discrete:!0}),B.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),l4=e=>{const{__scopeToast:t,children:r,...n}=e,i=qf(qc,t),[a,o]=w.useState(!1),[s,l]=w.useState(!1);return d4(()=>o(!0)),w.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),s?null:f.jsx(Ff,{asChild:!0,children:f.jsx(Bf,{...n,children:a&&f.jsxs(f.Fragment,{children:[i.label," ",r]})})})},c4="ToastTitle",cN=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return f.jsx(pe.div,{...n,ref:t})});cN.displayName=c4;var u4="ToastDescription",uN=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return f.jsx(pe.div,{...n,ref:t})});uN.displayName=u4;var dN="ToastAction",fN=w.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?f.jsx(pN,{altText:r,asChild:!0,children:f.jsx(Hx,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${dN}\`. Expected non-empty \`string\`.`),null)});fN.displayName=dN;var hN="ToastClose",Hx=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=o4(hN,r);return f.jsx(pN,{asChild:!0,children:f.jsx(pe.button,{type:"button",...n,ref:t,onClick:de(e.onClick,i.onClose)})})});Hx.displayName=hN;var pN=w.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return f.jsx(pe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function mN(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),f4(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...mN(n))}}),t}function lu(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?zx(i,a):i.dispatchEvent(a)}var mS=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),a=n>i;return t==="left"||t==="right"?a&&n>r:!a&&i>r};function d4(e=()=>{}){const t=Et(e);Nt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function f4(e){return e.nodeType===e.ELEMENT_NODE}function h4(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function fp(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var p4=iN,gN=oN,yN=lN,vN=cN,bN=uN,xN=fN,wN=Hx;const m4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SN=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();var g4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const y4=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...s},l)=>w.createElement("svg",{ref:l,...g4,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:SN("lucide",i),...s},[...o.map(([c,u])=>w.createElement(c,u)),...Array.isArray(a)?a:[a]]));const me=(e,t)=>{const r=w.forwardRef(({className:n,...i},a)=>w.createElement(y4,{ref:a,iconNode:t,className:SN(`lucide-${m4(e)}`,n),...i}));return r.displayName=`${e}`,r};const gS=me("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const v4=me("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);const b4=me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const x4=me("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);const yS=me("BatteryLow",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}]]);const w4=me("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);const vS=me("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);const ad=me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const _N=me("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);const Vx=me("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);const zf=me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const EN=me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Kx=me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Gx=me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const S4=me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const ON=me("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const _4=me("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const E4=me("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const O4=me("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);const jN=me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const j4=me("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const AN=me("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const A4=me("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const bS=me("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);const xS=me("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);const kN=me("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);const k4=me("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const P4=me("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);const T4=me("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);const Pa=me("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const C4=me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const N4=me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const R4=me("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);const I4=me("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);const Yu=me("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const M4=me("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const D4=me("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const cb=me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const $4=me("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);const PN=me("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const L4=me("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const F4=me("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);const B4=me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const q4=me("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const z4=me("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const U4=me("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);const Ul=me("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const $i=me("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const Yx=me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const ub=me("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const qi=me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const TN=me("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Ro=me("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const W4=me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const H4=me("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const V4=me("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);const ks=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const Xx=me("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function Y(...e){return fB(_e(e))}const K4=p4,CN=w.forwardRef(({className:e,...t},r)=>f.jsx(gN,{ref:r,className:Y("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));CN.displayName=gN.displayName;const G4=Df("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),NN=w.forwardRef(({className:e,variant:t,...r},n)=>f.jsx(yN,{ref:n,className:Y(G4({variant:t}),e),...r}));NN.displayName=yN.displayName;const Y4=w.forwardRef(({className:e,...t},r)=>f.jsx(xN,{ref:r,className:Y("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));Y4.displayName=xN.displayName;const RN=w.forwardRef(({className:e,...t},r)=>f.jsx(wN,{ref:r,className:Y("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:f.jsx(ks,{className:"h-4 w-4"})}));RN.displayName=wN.displayName;const IN=w.forwardRef(({className:e,...t},r)=>f.jsx(vN,{ref:r,className:Y("text-sm font-semibold",e),...t}));IN.displayName=vN.displayName;const MN=w.forwardRef(({className:e,...t},r)=>f.jsx(bN,{ref:r,className:Y("text-sm opacity-90",e),...t}));MN.displayName=bN.displayName;function X4(){const{toasts:e}=TB();return f.jsxs(K4,{children:[e.map(function({id:t,title:r,description:n,action:i,...a}){return f.jsxs(NN,{...a,children:[f.jsxs("div",{className:"grid gap-1",children:[r&&f.jsx(IN,{children:r}),n&&f.jsx(MN,{children:n})]}),i,f.jsx(RN,{})]},t)}),f.jsx(CN,{})]})}var wS=["light","dark"],Q4="(prefers-color-scheme: dark)",J4=w.createContext(void 0),Z4={setTheme:e=>{},themes:[]},Qx=()=>{var e;return(e=w.useContext(J4))!=null?e:Z4};w.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:a,value:o,attrs:s,nonce:l})=>{let c=a==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${s.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=i?wS.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(y,m=!1,g=!0)=>{let v=o?o[y]:y,x=m?y+"|| ''":`'${v}'`,b="";return i&&g&&!m&&wS.includes(y)&&(b+=`d.style.colorScheme = '${y}';`),r==="class"?m||v?b+=`c.add(${x})`:b+="null":v&&(b+=`d[s](n,${x})`),b},p=e?`!function(){${u}${h(e)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${Q4}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${c?"":"else{"+h(a,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${d}}catch(t){}}();`;return w.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var eq=e=>{switch(e){case"success":return nq;case"info":return aq;case"warning":return iq;case"error":return oq;default:return null}},tq=Array(12).fill(0),rq=({visible:e,className:t})=>P.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},P.createElement("div",{className:"sonner-spinner"},tq.map((r,n)=>P.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),nq=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),iq=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),aq=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),oq=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),sq=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},P.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),P.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),lq=()=>{let[e,t]=P.useState(document.hidden);return P.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},db=1,cq=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,i=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:db++,a=this.toasts.find(s=>s.id===i),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(s=>s.id===i?(this.publish({...s,...e,id:i,title:r}),{...s,...e,id:i,dismissible:o,title:r}):s):this.addToast({title:r,...n,dismissible:o,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),i=r!==void 0,a,o=n.then(async l=>{if(a=["resolve",l],P.isValidElement(l))i=!1,this.create({id:r,type:"default",message:l});else if(dq(l)&&!l.ok){i=!1;let c=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:r,type:"error",message:c,description:u})}else if(t.success!==void 0){i=!1;let c=typeof t.success=="function"?await t.success(l):t.success,u=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"success",message:c,description:u})}}).catch(async l=>{if(a=["reject",l],t.error!==void 0){i=!1;let c=typeof t.error=="function"?await t.error(l):t.error,u=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"error",message:c,description:u})}}).finally(()=>{var l;i&&(this.dismiss(r),r=void 0),(l=t.finally)==null||l.call(t)}),s=()=>new Promise((l,c)=>o.then(()=>a[0]==="reject"?c(a[1]):l(a[1])).catch(c));return typeof r!="string"&&typeof r!="number"?{unwrap:s}:Object.assign(r,{unwrap:s})},this.custom=(e,t)=>{let r=t?.id||db++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},gr=new cq,uq=(e,t)=>{let r=t?.id||db++;return gr.addToast({title:e,...t,id:r}),r},dq=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",fq=uq,hq=()=>gr.toasts,pq=()=>gr.getActiveToasts(),Ze=Object.assign(fq,{success:gr.success,info:gr.info,warning:gr.warning,error:gr.error,custom:gr.custom,message:gr.message,promise:gr.promise,dismiss:gr.dismiss,loading:gr.loading},{getHistory:hq,getToasts:pq});function mq(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}mq(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function cu(e){return e.label!==void 0}var gq=3,yq="32px",vq="16px",SS=4e3,bq=356,xq=14,wq=20,Sq=200;function an(...e){return e.filter(Boolean).join(" ")}function _q(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var Eq=e=>{var t,r,n,i,a,o,s,l,c,u,d;let{invert:h,toast:p,unstyled:y,interacting:m,setHeights:g,visibleToasts:v,heights:x,index:b,toasts:E,expanded:S,removeToast:_,defaultRichColors:O,closeButton:k,style:T,cancelButtonStyle:j,actionButtonStyle:A,className:N="",descriptionClassName:D="",duration:M,position:I,gap:L,loadingIcon:B,expandByDefault:F,classNames:$,icons:C,closeButtonAriaLabel:W="Close toast",pauseWhenPageIsHidden:z}=e,[R,X]=P.useState(null),[oe,se]=P.useState(null),[K,Q]=P.useState(!1),[V,J]=P.useState(!1),[Z,U]=P.useState(!1),[ne,q]=P.useState(!1),[ae,ie]=P.useState(!1),[je,Ve]=P.useState(0),[tt,Rt]=P.useState(0),Qe=P.useRef(p.duration||M||SS),xt=P.useRef(null),It=P.useRef(null),Lr=b===0,_i=b+1<=v,H=p.type,te=p.dismissible!==!1,Oe=p.className||"",Pe=p.descriptionClassName||"",Me=P.useMemo(()=>x.findIndex(ge=>ge.toastId===p.id)||0,[x,p.id]),Mt=P.useMemo(()=>{var ge;return(ge=p.closeButton)!=null?ge:k},[p.closeButton,k]),Sr=P.useMemo(()=>p.duration||M||SS,[p.duration,M]),ir=P.useRef(0),fr=P.useRef(0),Sn=P.useRef(0),yt=P.useRef(null),[_n,he]=I.split("-"),We=P.useMemo(()=>x.reduce((ge,Te,Le)=>Le>=Me?ge:ge+Te.height,0),[x,Me]),Je=lq(),st=p.invert||h,$e=H==="loading";fr.current=P.useMemo(()=>Me*L+We,[Me,We]),P.useEffect(()=>{Qe.current=Sr},[Sr]),P.useEffect(()=>{Q(!0)},[]),P.useEffect(()=>{let ge=It.current;if(ge){let Te=ge.getBoundingClientRect().height;return Rt(Te),g(Le=>[{toastId:p.id,height:Te,position:p.position},...Le]),()=>g(Le=>Le.filter(Ot=>Ot.toastId!==p.id))}},[g,p.id]),P.useLayoutEffect(()=>{if(!K)return;let ge=It.current,Te=ge.style.height;ge.style.height="auto";let Le=ge.getBoundingClientRect().height;ge.style.height=Te,Rt(Le),g(Ot=>Ot.find(vt=>vt.toastId===p.id)?Ot.map(vt=>vt.toastId===p.id?{...vt,height:Le}:vt):[{toastId:p.id,height:Le,position:p.position},...Ot])},[K,p.title,p.description,g,p.id]);let wt=P.useCallback(()=>{J(!0),Ve(fr.current),g(ge=>ge.filter(Te=>Te.toastId!==p.id)),setTimeout(()=>{_(p)},Sq)},[p,_,g,fr]);P.useEffect(()=>{if(p.promise&&H==="loading"||p.duration===1/0||p.type==="loading")return;let ge;return S||m||z&&Je?(()=>{if(Sn.current<ir.current){let Te=new Date().getTime()-ir.current;Qe.current=Qe.current-Te}Sn.current=new Date().getTime()})():Qe.current!==1/0&&(ir.current=new Date().getTime(),ge=setTimeout(()=>{var Te;(Te=p.onAutoClose)==null||Te.call(p,p),wt()},Qe.current)),()=>clearTimeout(ge)},[S,m,p,H,z,Je,wt]),P.useEffect(()=>{p.delete&&wt()},[wt,p.delete]);function Kt(){var ge,Te,Le;return C!=null&&C.loading?P.createElement("div",{className:an($?.loader,(ge=p?.classNames)==null?void 0:ge.loader,"sonner-loader"),"data-visible":H==="loading"},C.loading):B?P.createElement("div",{className:an($?.loader,(Te=p?.classNames)==null?void 0:Te.loader,"sonner-loader"),"data-visible":H==="loading"},B):P.createElement(rq,{className:an($?.loader,(Le=p?.classNames)==null?void 0:Le.loader),visible:H==="loading"})}return P.createElement("li",{tabIndex:0,ref:It,className:an(N,Oe,$?.toast,(t=p?.classNames)==null?void 0:t.toast,$?.default,$?.[H],(r=p?.classNames)==null?void 0:r[H]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:O,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":K,"data-promise":!!p.promise,"data-swiped":ae,"data-removed":V,"data-visible":_i,"data-y-position":_n,"data-x-position":he,"data-index":b,"data-front":Lr,"data-swiping":Z,"data-dismissible":te,"data-type":H,"data-invert":st,"data-swipe-out":ne,"data-swipe-direction":oe,"data-expanded":!!(S||F&&K),style:{"--index":b,"--toasts-before":b,"--z-index":E.length-b,"--offset":`${V?je:fr.current}px`,"--initial-height":F?"auto":`${tt}px`,...T,...p.style},onDragEnd:()=>{U(!1),X(null),yt.current=null},onPointerDown:ge=>{$e||!te||(xt.current=new Date,Ve(fr.current),ge.target.setPointerCapture(ge.pointerId),ge.target.tagName!=="BUTTON"&&(U(!0),yt.current={x:ge.clientX,y:ge.clientY}))},onPointerUp:()=>{var ge,Te,Le,Ot;if(ne||!te)return;yt.current=null;let vt=Number(((ge=It.current)==null?void 0:ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),_r=Number(((Te=It.current)==null?void 0:Te.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),En=new Date().getTime()-((Le=xt.current)==null?void 0:Le.getTime()),nn=R==="x"?vt:_r,Ei=Math.abs(nn)/En;if(Math.abs(nn)>=wq||Ei>.11){Ve(fr.current),(Ot=p.onDismiss)==null||Ot.call(p,p),se(R==="x"?vt>0?"right":"left":_r>0?"down":"up"),wt(),q(!0),ie(!1);return}U(!1),X(null)},onPointerMove:ge=>{var Te,Le,Ot,vt;if(!yt.current||!te||((Te=window.getSelection())==null?void 0:Te.toString().length)>0)return;let _r=ge.clientY-yt.current.y,En=ge.clientX-yt.current.x,nn=(Le=e.swipeDirections)!=null?Le:_q(I);!R&&(Math.abs(En)>1||Math.abs(_r)>1)&&X(Math.abs(En)>Math.abs(_r)?"x":"y");let Ei={x:0,y:0};R==="y"?(nn.includes("top")||nn.includes("bottom"))&&(nn.includes("top")&&_r<0||nn.includes("bottom")&&_r>0)&&(Ei.y=_r):R==="x"&&(nn.includes("left")||nn.includes("right"))&&(nn.includes("left")&&En<0||nn.includes("right")&&En>0)&&(Ei.x=En),(Math.abs(Ei.x)>0||Math.abs(Ei.y)>0)&&ie(!0),(Ot=It.current)==null||Ot.style.setProperty("--swipe-amount-x",`${Ei.x}px`),(vt=It.current)==null||vt.style.setProperty("--swipe-amount-y",`${Ei.y}px`)}},Mt&&!p.jsx?P.createElement("button",{"aria-label":W,"data-disabled":$e,"data-close-button":!0,onClick:$e||!te?()=>{}:()=>{var ge;wt(),(ge=p.onDismiss)==null||ge.call(p,p)},className:an($?.closeButton,(i=p?.classNames)==null?void 0:i.closeButton)},(a=C?.close)!=null?a:sq):null,p.jsx||w.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:P.createElement(P.Fragment,null,H||p.icon||p.promise?P.createElement("div",{"data-icon":"",className:an($?.icon,(o=p?.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Kt():null,p.type!=="loading"?p.icon||C?.[H]||eq(H):null):null,P.createElement("div",{"data-content":"",className:an($?.content,(s=p?.classNames)==null?void 0:s.content)},P.createElement("div",{"data-title":"",className:an($?.title,(l=p?.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?P.createElement("div",{"data-description":"",className:an(D,Pe,$?.description,(c=p?.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),w.isValidElement(p.cancel)?p.cancel:p.cancel&&cu(p.cancel)?P.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||j,onClick:ge=>{var Te,Le;cu(p.cancel)&&te&&((Le=(Te=p.cancel).onClick)==null||Le.call(Te,ge),wt())},className:an($?.cancelButton,(u=p?.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,w.isValidElement(p.action)?p.action:p.action&&cu(p.action)?P.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||A,onClick:ge=>{var Te,Le;cu(p.action)&&((Le=(Te=p.action).onClick)==null||Le.call(Te,ge),!ge.defaultPrevented&&wt())},className:an($?.actionButton,(d=p?.classNames)==null?void 0:d.actionButton)},p.action.label):null))};function _S(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Oq(e,t){let r={};return[e,t].forEach((n,i)=>{let a=i===1,o=a?"--mobile-offset":"--offset",s=a?vq:yq;function l(c){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?r[`${o}-${c}`]=s:r[`${o}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):l(s)}),r}var jq=w.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:s,offset:l,mobileOffset:c,theme:u="light",richColors:d,duration:h,style:p,visibleToasts:y=gq,toastOptions:m,dir:g=_S(),gap:v=xq,loadingIcon:x,icons:b,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:S}=e,[_,O]=P.useState([]),k=P.useMemo(()=>Array.from(new Set([n].concat(_.filter(z=>z.position).map(z=>z.position)))),[_,n]),[T,j]=P.useState([]),[A,N]=P.useState(!1),[D,M]=P.useState(!1),[I,L]=P.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=P.useRef(null),F=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=P.useRef(null),C=P.useRef(!1),W=P.useCallback(z=>{O(R=>{var X;return(X=R.find(oe=>oe.id===z.id))!=null&&X.delete||gr.dismiss(z.id),R.filter(({id:oe})=>oe!==z.id)})},[]);return P.useEffect(()=>gr.subscribe(z=>{if(z.dismiss){O(R=>R.map(X=>X.id===z.id?{...X,delete:!0}:X));return}setTimeout(()=>{YC.flushSync(()=>{O(R=>{let X=R.findIndex(oe=>oe.id===z.id);return X!==-1?[...R.slice(0,X),{...R[X],...z},...R.slice(X+1)]:[z,...R]})})})}),[]),P.useEffect(()=>{if(u!=="system"){L(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;let z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:R})=>{L(R?"dark":"light")})}catch{z.addListener(({matches:X})=>{try{L(X?"dark":"light")}catch(oe){console.error(oe)}})}},[u]),P.useEffect(()=>{_.length<=1&&N(!1)},[_]),P.useEffect(()=>{let z=R=>{var X,oe;i.every(se=>R[se]||R.code===se)&&(N(!0),(X=B.current)==null||X.focus()),R.code==="Escape"&&(document.activeElement===B.current||(oe=B.current)!=null&&oe.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[i]),P.useEffect(()=>{if(B.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,C.current=!1)}},[B.current]),P.createElement("section",{ref:t,"aria-label":`${E} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((z,R)=>{var X;let[oe,se]=z.split("-");return _.length?P.createElement("ol",{key:z,dir:g==="auto"?_S():g,tabIndex:-1,ref:B,className:s,"data-sonner-toaster":!0,"data-theme":I,"data-y-position":oe,"data-lifted":A&&_.length>1&&!a,"data-x-position":se,style:{"--front-toast-height":`${((X=T[0])==null?void 0:X.height)||0}px`,"--width":`${bq}px`,"--gap":`${v}px`,...p,...Oq(l,c)},onBlur:K=>{C.current&&!K.currentTarget.contains(K.relatedTarget)&&(C.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||C.current||(C.current=!0,$.current=K.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{D||N(!1)},onDragEnd:()=>N(!1),onPointerDown:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},_.filter(K=>!K.position&&R===0||K.position===z).map((K,Q)=>{var V,J;return P.createElement(Eq,{key:K.id,icons:b,index:Q,toast:K,defaultRichColors:d,duration:(V=m?.duration)!=null?V:h,className:m?.className,descriptionClassName:m?.descriptionClassName,invert:r,visibleToasts:y,closeButton:(J=m?.closeButton)!=null?J:o,interacting:D,position:z,style:m?.style,unstyled:m?.unstyled,classNames:m?.classNames,cancelButtonStyle:m?.cancelButtonStyle,actionButtonStyle:m?.actionButtonStyle,removeToast:W,toasts:_.filter(Z=>Z.position==K.position),heights:T.filter(Z=>Z.position==K.position),setHeights:j,expandByDefault:a,gap:v,loadingIcon:x,expanded:A,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const Aq=({...e})=>{const{theme:t="system"}=Qx();return f.jsx(jq,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var kq=XC[" useId ".trim().toString()]||(()=>{}),Pq=0;function ai(e){const[t,r]=w.useState(kq());return Nt(()=>{r(n=>n??String(Pq++))},[e]),t?`radix-${t}`:""}const Tq=["top","right","bottom","left"],Ji=Math.min,kr=Math.max,od=Math.round,uu=Math.floor,Mn=e=>({x:e,y:e}),Cq={left:"right",right:"left",bottom:"top",top:"bottom"},Nq={start:"end",end:"start"};function fb(e,t,r){return kr(e,Ji(t,r))}function li(e,t){return typeof e=="function"?e(t):e}function ci(e){return e.split("-")[0]}function Ps(e){return e.split("-")[1]}function Jx(e){return e==="x"?"y":"x"}function Zx(e){return e==="y"?"height":"width"}const Rq=new Set(["top","bottom"]);function Cn(e){return Rq.has(ci(e))?"y":"x"}function ew(e){return Jx(Cn(e))}function Iq(e,t,r){r===void 0&&(r=!1);const n=Ps(e),i=ew(e),a=Zx(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=sd(o)),[o,sd(o)]}function Mq(e){const t=sd(e);return[hb(e),t,hb(t)]}function hb(e){return e.replace(/start|end/g,t=>Nq[t])}const ES=["left","right"],OS=["right","left"],Dq=["top","bottom"],$q=["bottom","top"];function Lq(e,t,r){switch(e){case"top":case"bottom":return r?t?OS:ES:t?ES:OS;case"left":case"right":return t?Dq:$q;default:return[]}}function Fq(e,t,r,n){const i=Ps(e);let a=Lq(ci(e),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(hb)))),a}function sd(e){return e.replace(/left|right|bottom|top/g,t=>Cq[t])}function Bq(e){return{top:0,right:0,bottom:0,left:0,...e}}function DN(e){return typeof e!="number"?Bq(e):{top:e,right:e,bottom:e,left:e}}function ld(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function jS(e,t,r){let{reference:n,floating:i}=e;const a=Cn(t),o=ew(t),s=Zx(o),l=ci(t),c=a==="y",u=n.x+n.width/2-i.width/2,d=n.y+n.height/2-i.height/2,h=n[s]/2-i[s]/2;let p;switch(l){case"top":p={x:u,y:n.y-i.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:d};break;case"left":p={x:n.x-i.width,y:d};break;default:p={x:n.x,y:n.y}}switch(Ps(t)){case"start":p[o]-=h*(r&&c?-1:1);break;case"end":p[o]+=h*(r&&c?-1:1);break}return p}const qq=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,s=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=jS(c,n,l),h=n,p={},y=0;for(let m=0;m<s.length;m++){const{name:g,fn:v}=s[m],{x,y:b,data:E,reset:S}=await v({x:u,y:d,initialPlacement:n,placement:h,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:e,floating:t}});u=x??u,d=b??d,p={...p,[g]:{...p[g],...E}},S&&y<=50&&(y++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:u,y:d}=jS(c,h,l)),m=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:p}};async function Wl(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:o,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=li(t,e),y=DN(p),g=s[h?d==="floating"?"reference":"floating":d],v=ld(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(g)))==null||r?g:g.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),x=d==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),E=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},S=ld(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:x,offsetParent:b,strategy:l}):x);return{top:(v.top-S.top+y.top)/E.y,bottom:(S.bottom-v.bottom+y.bottom)/E.y,left:(v.left-S.left+y.left)/E.x,right:(S.right-v.right+y.right)/E.x}}const zq=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=t,{element:c,padding:u=0}=li(e,t)||{};if(c==null)return{};const d=DN(u),h={x:r,y:n},p=ew(i),y=Zx(p),m=await o.getDimensions(c),g=p==="y",v=g?"top":"left",x=g?"bottom":"right",b=g?"clientHeight":"clientWidth",E=a.reference[y]+a.reference[p]-h[p]-a.floating[y],S=h[p]-a.reference[p],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let O=_?_[b]:0;(!O||!await(o.isElement==null?void 0:o.isElement(_)))&&(O=s.floating[b]||a.floating[y]);const k=E/2-S/2,T=O/2-m[y]/2-1,j=Ji(d[v],T),A=Ji(d[x],T),N=j,D=O-m[y]-A,M=O/2-m[y]/2+k,I=fb(N,M,D),L=!l.arrow&&Ps(i)!=null&&M!==I&&a.reference[y]/2-(M<N?j:A)-m[y]/2<0,B=L?M<N?M-N:M-D:0;return{[p]:h[p]+B,data:{[p]:I,centerOffset:M-I-B,...L&&{alignmentOffset:B}},reset:L}}}),Uq=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...g}=li(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const v=ci(i),x=Cn(s),b=ci(s)===s,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=h||(b||!m?[sd(s)]:Mq(s)),_=y!=="none";!h&&_&&S.push(...Fq(s,m,y,E));const O=[s,...S],k=await Wl(t,g),T=[];let j=((n=a.flip)==null?void 0:n.overflows)||[];if(u&&T.push(k[v]),d){const M=Iq(i,o,E);T.push(k[M[0]],k[M[1]])}if(j=[...j,{placement:i,overflows:T}],!T.every(M=>M<=0)){var A,N;const M=(((A=a.flip)==null?void 0:A.index)||0)+1,I=O[M];if(I&&(!(d==="alignment"?x!==Cn(I):!1)||j.every(F=>F.overflows[0]>0&&Cn(F.placement)===x)))return{data:{index:M,overflows:j},reset:{placement:I}};let L=(N=j.filter(B=>B.overflows[0]<=0).sort((B,F)=>B.overflows[1]-F.overflows[1])[0])==null?void 0:N.placement;if(!L)switch(p){case"bestFit":{var D;const B=(D=j.filter(F=>{if(_){const $=Cn(F.placement);return $===x||$==="y"}return!0}).map(F=>[F.placement,F.overflows.filter($=>$>0).reduce(($,C)=>$+C,0)]).sort((F,$)=>F[1]-$[1])[0])==null?void 0:D[0];B&&(L=B);break}case"initialPlacement":L=s;break}if(i!==L)return{reset:{placement:L}}}return{}}}};function AS(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function kS(e){return Tq.some(t=>e[t]>=0)}const Wq=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=li(e,t);switch(n){case"referenceHidden":{const a=await Wl(t,{...i,elementContext:"reference"}),o=AS(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:kS(o)}}}case"escaped":{const a=await Wl(t,{...i,altBoundary:!0}),o=AS(a,r.floating);return{data:{escapedOffsets:o,escaped:kS(o)}}}default:return{}}}}},$N=new Set(["left","top"]);async function Hq(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=ci(r),s=Ps(r),l=Cn(r)==="y",c=$N.has(o)?-1:1,u=a&&l?-1:1,d=li(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:y}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof y=="number"&&(p=s==="end"?y*-1:y),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}const Vq=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:o,middlewareData:s}=t,l=await Hq(t,e);return o===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},Kq=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:g=>{let{x:v,y:x}=g;return{x:v,y:x}}},...l}=li(e,t),c={x:r,y:n},u=await Wl(t,l),d=Cn(ci(i)),h=Jx(d);let p=c[h],y=c[d];if(a){const g=h==="y"?"top":"left",v=h==="y"?"bottom":"right",x=p+u[g],b=p-u[v];p=fb(x,p,b)}if(o){const g=d==="y"?"top":"left",v=d==="y"?"bottom":"right",x=y+u[g],b=y-u[v];y=fb(x,y,b)}const m=s.fn({...t,[h]:p,[d]:y});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:a,[d]:o}}}}}},Gq=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=li(e,t),u={x:r,y:n},d=Cn(i),h=Jx(d);let p=u[h],y=u[d];const m=li(s,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const b=h==="y"?"height":"width",E=a.reference[h]-a.floating[b]+g.mainAxis,S=a.reference[h]+a.reference[b]-g.mainAxis;p<E?p=E:p>S&&(p=S)}if(c){var v,x;const b=h==="y"?"width":"height",E=$N.has(ci(i)),S=a.reference[d]-a.floating[b]+(E&&((v=o.offset)==null?void 0:v[d])||0)+(E?0:g.crossAxis),_=a.reference[d]+a.reference[b]+(E?0:((x=o.offset)==null?void 0:x[d])||0)-(E?g.crossAxis:0);y<S?y=S:y>_&&(y=_)}return{[h]:p,[d]:y}}}},Yq=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:o,elements:s}=t,{apply:l=()=>{},...c}=li(e,t),u=await Wl(t,c),d=ci(i),h=Ps(i),p=Cn(i)==="y",{width:y,height:m}=a.floating;let g,v;d==="top"||d==="bottom"?(g=d,v=h===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(v=d,g=h==="end"?"top":"bottom");const x=m-u.top-u.bottom,b=y-u.left-u.right,E=Ji(m-u[g],x),S=Ji(y-u[v],b),_=!t.middlewareData.shift;let O=E,k=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(O=x),_&&!h){const j=kr(u.left,0),A=kr(u.right,0),N=kr(u.top,0),D=kr(u.bottom,0);p?k=y-2*(j!==0||A!==0?j+A:kr(u.left,u.right)):O=m-2*(N!==0||D!==0?N+D:kr(u.top,u.bottom))}await l({...t,availableWidth:k,availableHeight:O});const T=await o.getDimensions(s.floating);return y!==T.width||m!==T.height?{reset:{rects:!0}}:{}}}};function Uf(){return typeof window<"u"}function Ts(e){return LN(e)?(e.nodeName||"").toLowerCase():"#document"}function Ir(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Un(e){var t;return(t=(LN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function LN(e){return Uf()?e instanceof Node||e instanceof Ir(e).Node:!1}function vn(e){return Uf()?e instanceof Element||e instanceof Ir(e).Element:!1}function Fn(e){return Uf()?e instanceof HTMLElement||e instanceof Ir(e).HTMLElement:!1}function PS(e){return!Uf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ir(e).ShadowRoot}const Xq=new Set(["inline","contents"]);function zc(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=bn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Xq.has(i)}const Qq=new Set(["table","td","th"]);function Jq(e){return Qq.has(Ts(e))}const Zq=[":popover-open",":modal"];function Wf(e){return Zq.some(t=>{try{return e.matches(t)}catch{return!1}})}const ez=["transform","translate","scale","rotate","perspective"],tz=["transform","translate","scale","rotate","perspective","filter"],rz=["paint","layout","strict","content"];function tw(e){const t=rw(),r=vn(e)?bn(e):e;return ez.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||tz.some(n=>(r.willChange||"").includes(n))||rz.some(n=>(r.contain||"").includes(n))}function nz(e){let t=Zi(e);for(;Fn(t)&&!Ho(t);){if(tw(t))return t;if(Wf(t))return null;t=Zi(t)}return null}function rw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const iz=new Set(["html","body","#document"]);function Ho(e){return iz.has(Ts(e))}function bn(e){return Ir(e).getComputedStyle(e)}function Hf(e){return vn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Zi(e){if(Ts(e)==="html")return e;const t=e.assignedSlot||e.parentNode||PS(e)&&e.host||Un(e);return PS(t)?t.host:t}function FN(e){const t=Zi(e);return Ho(t)?e.ownerDocument?e.ownerDocument.body:e.body:Fn(t)&&zc(t)?t:FN(t)}function Hl(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=FN(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),o=Ir(i);if(a){const s=pb(o);return t.concat(o,o.visualViewport||[],zc(i)?i:[],s&&r?Hl(s):[])}return t.concat(i,Hl(i,[],r))}function pb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function BN(e){const t=bn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Fn(e),a=i?e.offsetWidth:r,o=i?e.offsetHeight:n,s=od(r)!==a||od(n)!==o;return s&&(r=a,n=o),{width:r,height:n,$:s}}function nw(e){return vn(e)?e:e.contextElement}function Io(e){const t=nw(e);if(!Fn(t))return Mn(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=BN(t);let o=(a?od(r.width):r.width)/n,s=(a?od(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const az=Mn(0);function qN(e){const t=Ir(e);return!rw()||!t.visualViewport?az:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function oz(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ir(e)?!1:t}function qa(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=nw(e);let o=Mn(1);t&&(n?vn(n)&&(o=Io(n)):o=Io(e));const s=oz(a,r,n)?qN(a):Mn(0);let l=(i.left+s.x)/o.x,c=(i.top+s.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(a){const h=Ir(a),p=n&&vn(n)?Ir(n):n;let y=h,m=pb(y);for(;m&&n&&p!==y;){const g=Io(m),v=m.getBoundingClientRect(),x=bn(m),b=v.left+(m.clientLeft+parseFloat(x.paddingLeft))*g.x,E=v.top+(m.clientTop+parseFloat(x.paddingTop))*g.y;l*=g.x,c*=g.y,u*=g.x,d*=g.y,l+=b,c+=E,y=Ir(m),m=pb(y)}}return ld({width:u,height:d,x:l,y:c})}function iw(e,t){const r=Hf(e).scrollLeft;return t?t.left+r:qa(Un(e)).left+r}function zN(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:iw(e,n)),a=n.top+t.scrollTop;return{x:i,y:a}}function sz(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",o=Un(n),s=t?Wf(t.floating):!1;if(n===o||s&&a)return r;let l={scrollLeft:0,scrollTop:0},c=Mn(1);const u=Mn(0),d=Fn(n);if((d||!d&&!a)&&((Ts(n)!=="body"||zc(o))&&(l=Hf(n)),Fn(n))){const p=qa(n);c=Io(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}const h=o&&!d&&!a?zN(o,l,!0):Mn(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:r.y*c.y-l.scrollTop*c.y+u.y+h.y}}function lz(e){return Array.from(e.getClientRects())}function cz(e){const t=Un(e),r=Hf(e),n=e.ownerDocument.body,i=kr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=kr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+iw(e);const s=-r.scrollTop;return bn(n).direction==="rtl"&&(o+=kr(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:s}}function uz(e,t){const r=Ir(e),n=Un(e),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const c=rw();(!c||c&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s,y:l}}const dz=new Set(["absolute","fixed"]);function fz(e,t){const r=qa(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=Fn(e)?Io(e):Mn(1),o=e.clientWidth*a.x,s=e.clientHeight*a.y,l=i*a.x,c=n*a.y;return{width:o,height:s,x:l,y:c}}function TS(e,t,r){let n;if(t==="viewport")n=uz(e,r);else if(t==="document")n=cz(Un(e));else if(vn(t))n=fz(t,r);else{const i=qN(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return ld(n)}function UN(e,t){const r=Zi(e);return r===t||!vn(r)||Ho(r)?!1:bn(r).position==="fixed"||UN(r,t)}function hz(e,t){const r=t.get(e);if(r)return r;let n=Hl(e,[],!1).filter(s=>vn(s)&&Ts(s)!=="body"),i=null;const a=bn(e).position==="fixed";let o=a?Zi(e):e;for(;vn(o)&&!Ho(o);){const s=bn(o),l=tw(o);!l&&s.position==="fixed"&&(i=null),(a?!l&&!i:!l&&s.position==="static"&&!!i&&dz.has(i.position)||zc(o)&&!l&&UN(e,o))?n=n.filter(u=>u!==o):i=s,o=Zi(o)}return t.set(e,n),n}function pz(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const o=[...r==="clippingAncestors"?Wf(t)?[]:hz(t,this._c):[].concat(r),n],s=o[0],l=o.reduce((c,u)=>{const d=TS(t,u,i);return c.top=kr(d.top,c.top),c.right=Ji(d.right,c.right),c.bottom=Ji(d.bottom,c.bottom),c.left=kr(d.left,c.left),c},TS(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function mz(e){const{width:t,height:r}=BN(e);return{width:t,height:r}}function gz(e,t,r){const n=Fn(t),i=Un(t),a=r==="fixed",o=qa(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const l=Mn(0);function c(){l.x=iw(i)}if(n||!n&&!a)if((Ts(t)!=="body"||zc(i))&&(s=Hf(t)),n){const p=qa(t,!0,a,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else i&&c();a&&!n&&i&&c();const u=i&&!n&&!a?zN(i,s):Mn(0),d=o.left+s.scrollLeft-l.x-u.x,h=o.top+s.scrollTop-l.y-u.y;return{x:d,y:h,width:o.width,height:o.height}}function hp(e){return bn(e).position==="static"}function CS(e,t){if(!Fn(e)||bn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Un(e)===r&&(r=r.ownerDocument.body),r}function WN(e,t){const r=Ir(e);if(Wf(e))return r;if(!Fn(e)){let i=Zi(e);for(;i&&!Ho(i);){if(vn(i)&&!hp(i))return i;i=Zi(i)}return r}let n=CS(e,t);for(;n&&Jq(n)&&hp(n);)n=CS(n,t);return n&&Ho(n)&&hp(n)&&!tw(n)?r:n||nz(e)||r}const yz=async function(e){const t=this.getOffsetParent||WN,r=this.getDimensions,n=await r(e.floating);return{reference:gz(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function vz(e){return bn(e).direction==="rtl"}const bz={convertOffsetParentRelativeRectToViewportRelativeRect:sz,getDocumentElement:Un,getClippingRect:pz,getOffsetParent:WN,getElementRects:yz,getClientRects:lz,getDimensions:mz,getScale:Io,isElement:vn,isRTL:vz};function HN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function xz(e,t){let r=null,n;const i=Un(e);function a(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const c=e.getBoundingClientRect(),{left:u,top:d,width:h,height:p}=c;if(s||t(),!h||!p)return;const y=uu(d),m=uu(i.clientWidth-(u+h)),g=uu(i.clientHeight-(d+p)),v=uu(u),b={rootMargin:-y+"px "+-m+"px "+-g+"px "+-v+"px",threshold:kr(0,Ji(1,l))||1};let E=!0;function S(_){const O=_[0].intersectionRatio;if(O!==l){if(!E)return o();O?o(!1,O):n=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!HN(c,e.getBoundingClientRect())&&o(),E=!1}try{r=new IntersectionObserver(S,{...b,root:i.ownerDocument})}catch{r=new IntersectionObserver(S,b)}r.observe(e)}return o(!0),a}function wz(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=nw(e),u=i||a?[...c?Hl(c):[],...Hl(t)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",r,{passive:!0}),a&&v.addEventListener("resize",r)});const d=c&&s?xz(c,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(v=>{let[x]=v;x&&x.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),c&&!l&&p.observe(c),p.observe(t));let y,m=l?qa(e):null;l&&g();function g(){const v=qa(e);m&&!HN(m,v)&&r(),m=v,y=requestAnimationFrame(g)}return r(),()=>{var v;u.forEach(x=>{i&&x.removeEventListener("scroll",r),a&&x.removeEventListener("resize",r)}),d?.(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(y)}}const Sz=Vq,_z=Kq,Ez=Uq,Oz=Yq,jz=Wq,NS=zq,Az=Gq,kz=(e,t,r)=>{const n=new Map,i={platform:bz,...r},a={...i.platform,_c:n};return qq(e,t,{...i,platform:a})};var Pz=typeof document<"u",Tz=function(){},Xu=Pz?w.useLayoutEffect:Tz;function cd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!cd(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!cd(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function VN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function RS(e,t){const r=VN(e);return Math.round(t*r)/r}function pp(e){const t=w.useRef(e);return Xu(()=>{t.current=e}),t}function Cz(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:l,open:c}=e,[u,d]=w.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=w.useState(n);cd(h,n)||p(n);const[y,m]=w.useState(null),[g,v]=w.useState(null),x=w.useCallback(F=>{F!==_.current&&(_.current=F,m(F))},[]),b=w.useCallback(F=>{F!==O.current&&(O.current=F,v(F))},[]),E=a||y,S=o||g,_=w.useRef(null),O=w.useRef(null),k=w.useRef(u),T=l!=null,j=pp(l),A=pp(i),N=pp(c),D=w.useCallback(()=>{if(!_.current||!O.current)return;const F={placement:t,strategy:r,middleware:h};A.current&&(F.platform=A.current),kz(_.current,O.current,F).then($=>{const C={...$,isPositioned:N.current!==!1};M.current&&!cd(k.current,C)&&(k.current=C,Fc.flushSync(()=>{d(C)}))})},[h,t,r,A,N]);Xu(()=>{c===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,d(F=>({...F,isPositioned:!1})))},[c]);const M=w.useRef(!1);Xu(()=>(M.current=!0,()=>{M.current=!1}),[]),Xu(()=>{if(E&&(_.current=E),S&&(O.current=S),E&&S){if(j.current)return j.current(E,S,D);D()}},[E,S,D,j,T]);const I=w.useMemo(()=>({reference:_,floating:O,setReference:x,setFloating:b}),[x,b]),L=w.useMemo(()=>({reference:E,floating:S}),[E,S]),B=w.useMemo(()=>{const F={position:r,left:0,top:0};if(!L.floating)return F;const $=RS(L.floating,u.x),C=RS(L.floating,u.y);return s?{...F,transform:"translate("+$+"px, "+C+"px)",...VN(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:$,top:C}},[r,s,L.floating,u.x,u.y]);return w.useMemo(()=>({...u,update:D,refs:I,elements:L,floatingStyles:B}),[u,D,I,L,B])}const Nz=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?NS({element:n.current,padding:i}).fn(r):{}:n?NS({element:n,padding:i}).fn(r):{}}}},Rz=(e,t)=>({...Sz(e),options:[e,t]}),Iz=(e,t)=>({..._z(e),options:[e,t]}),Mz=(e,t)=>({...Az(e),options:[e,t]}),Dz=(e,t)=>({...Ez(e),options:[e,t]}),$z=(e,t)=>({...Oz(e),options:[e,t]}),Lz=(e,t)=>({...jz(e),options:[e,t]}),Fz=(e,t)=>({...Nz(e),options:[e,t]});var Bz="Arrow",KN=w.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...a}=e;return f.jsx(pe.svg,{...a,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});KN.displayName=Bz;var qz=KN;function Vf(e){const[t,r]=w.useState(void 0);return Nt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,s;if("borderBoxSize"in a){const l=a.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,s=c.blockSize}else o=e.offsetWidth,s=e.offsetHeight;r({width:o,height:s})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var aw="Popper",[GN,Kf]=br(aw),[zz,YN]=GN(aw),XN=e=>{const{__scopePopper:t,children:r}=e,[n,i]=w.useState(null);return f.jsx(zz,{scope:t,anchor:n,onAnchorChange:i,children:r})};XN.displayName=aw;var QN="PopperAnchor",JN=w.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,a=YN(QN,r),o=w.useRef(null),s=Ee(t,o);return w.useEffect(()=>{a.onAnchorChange(n?.current||o.current)}),n?null:f.jsx(pe.div,{...i,ref:s})});JN.displayName=QN;var ow="PopperContent",[Uz,Wz]=GN(ow),ZN=w.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:y,...m}=e,g=YN(ow,r),[v,x]=w.useState(null),b=Ee(t,K=>x(K)),[E,S]=w.useState(null),_=Vf(E),O=_?.width??0,k=_?.height??0,T=n+(a!=="center"?"-"+a:""),j=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},A=Array.isArray(c)?c:[c],N=A.length>0,D={padding:j,boundary:A.filter(Vz),altBoundary:N},{refs:M,floatingStyles:I,placement:L,isPositioned:B,middlewareData:F}=Cz({strategy:"fixed",placement:T,whileElementsMounted:(...K)=>wz(...K,{animationFrame:p==="always"}),elements:{reference:g.anchor},middleware:[Rz({mainAxis:i+k,alignmentAxis:o}),l&&Iz({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?Mz():void 0,...D}),l&&Dz({...D}),$z({...D,apply:({elements:K,rects:Q,availableWidth:V,availableHeight:J})=>{const{width:Z,height:U}=Q.reference,ne=K.floating.style;ne.setProperty("--radix-popper-available-width",`${V}px`),ne.setProperty("--radix-popper-available-height",`${J}px`),ne.setProperty("--radix-popper-anchor-width",`${Z}px`),ne.setProperty("--radix-popper-anchor-height",`${U}px`)}}),E&&Fz({element:E,padding:s}),Kz({arrowWidth:O,arrowHeight:k}),h&&Lz({strategy:"referenceHidden",...D})]}),[$,C]=rR(L),W=Et(y);Nt(()=>{B&&W?.()},[B,W]);const z=F.arrow?.x,R=F.arrow?.y,X=F.arrow?.centerOffset!==0,[oe,se]=w.useState();return Nt(()=>{v&&se(window.getComputedStyle(v).zIndex)},[v]),f.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:B?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[F.transformOrigin?.x,F.transformOrigin?.y].join(" "),...F.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:f.jsx(Uz,{scope:r,placedSide:$,onArrowChange:S,arrowX:z,arrowY:R,shouldHideArrow:X,children:f.jsx(pe.div,{"data-side":$,"data-align":C,...m,ref:b,style:{...m.style,animation:B?void 0:"none"}})})})});ZN.displayName=ow;var eR="PopperArrow",Hz={top:"bottom",right:"left",bottom:"top",left:"right"},tR=w.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,a=Wz(eR,n),o=Hz[a.placedSide];return f.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:f.jsx(qz,{...i,ref:r,style:{...i.style,display:"block"}})})});tR.displayName=eR;function Vz(e){return e!==null}var Kz=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,s=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,u]=rR(r),d={start:"0%",center:"50%",end:"100%"}[u],h=(i.arrow?.x??0)+s/2,p=(i.arrow?.y??0)+l/2;let y="",m="";return c==="bottom"?(y=o?d:`${h}px`,m=`${-l}px`):c==="top"?(y=o?d:`${h}px`,m=`${n.floating.height+l}px`):c==="right"?(y=`${-l}px`,m=o?d:`${p}px`):c==="left"&&(y=`${n.floating.width+l}px`,m=o?d:`${p}px`),{data:{x:y,y:m}}}});function rR(e){const[t,r="center"]=e.split("-");return[t,r]}var nR=XN,iR=JN,aR=ZN,oR=tR,[Gf]=br("Tooltip",[Kf]),Yf=Kf(),sR="TooltipProvider",Gz=700,mb="tooltip.open",[Yz,sw]=Gf(sR),lR=e=>{const{__scopeTooltip:t,delayDuration:r=Gz,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=e,o=w.useRef(!0),s=w.useRef(!1),l=w.useRef(0);return w.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),f.jsx(Yz,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:w.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:s,onPointerInTransitChange:w.useCallback(c=>{s.current=c},[]),disableHoverableContent:i,children:a})};lR.displayName=sR;var Vl="Tooltip",[Xz,Xf]=Gf(Vl),cR=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:s}=e,l=sw(Vl,e.__scopeTooltip),c=Yf(t),[u,d]=w.useState(null),h=ai(),p=w.useRef(0),y=o??l.disableHoverableContent,m=s??l.delayDuration,g=w.useRef(!1),[v,x]=Ln({prop:n,defaultProp:i??!1,onChange:O=>{O?(l.onOpen(),document.dispatchEvent(new CustomEvent(mb))):l.onClose(),a?.(O)},caller:Vl}),b=w.useMemo(()=>v?g.current?"delayed-open":"instant-open":"closed",[v]),E=w.useCallback(()=>{window.clearTimeout(p.current),p.current=0,g.current=!1,x(!0)},[x]),S=w.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x(!1)},[x]),_=w.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{g.current=!0,x(!0),p.current=0},m)},[m,x]);return w.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),f.jsx(nR,{...c,children:f.jsx(Xz,{scope:t,contentId:h,open:v,stateAttribute:b,trigger:u,onTriggerChange:d,onTriggerEnter:w.useCallback(()=>{l.isOpenDelayedRef.current?_():E()},[l.isOpenDelayedRef,_,E]),onTriggerLeave:w.useCallback(()=>{y?S():(window.clearTimeout(p.current),p.current=0)},[S,y]),onOpen:E,onClose:S,disableHoverableContent:y,children:r})})};cR.displayName=Vl;var gb="TooltipTrigger",uR=w.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=Xf(gb,r),a=sw(gb,r),o=Yf(r),s=w.useRef(null),l=Ee(t,s,i.onTriggerChange),c=w.useRef(!1),u=w.useRef(!1),d=w.useCallback(()=>c.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),f.jsx(iR,{asChild:!0,...o,children:f.jsx(pe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:l,onPointerMove:de(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:de(e.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:de(e.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:de(e.onFocus,()=>{c.current||i.onOpen()}),onBlur:de(e.onBlur,i.onClose),onClick:de(e.onClick,i.onClose)})})});uR.displayName=gb;var Qz="TooltipPortal",[b0e,Jz]=Gf(Qz,{forceMount:void 0}),Vo="TooltipContent",dR=w.forwardRef((e,t)=>{const r=Jz(Vo,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=e,o=Xf(Vo,e.__scopeTooltip);return f.jsx(mi,{present:n||o.open,children:o.disableHoverableContent?f.jsx(fR,{side:i,...a,ref:t}):f.jsx(Zz,{side:i,...a,ref:t})})}),Zz=w.forwardRef((e,t)=>{const r=Xf(Vo,e.__scopeTooltip),n=sw(Vo,e.__scopeTooltip),i=w.useRef(null),a=Ee(t,i),[o,s]=w.useState(null),{trigger:l,onClose:c}=r,u=i.current,{onPointerInTransitChange:d}=n,h=w.useCallback(()=>{s(null),d(!1)},[d]),p=w.useCallback((y,m)=>{const g=y.currentTarget,v={x:y.clientX,y:y.clientY},x=iU(v,g.getBoundingClientRect()),b=aU(v,x),E=oU(m.getBoundingClientRect()),S=lU([...b,...E]);s(S),d(!0)},[d]);return w.useEffect(()=>()=>h(),[h]),w.useEffect(()=>{if(l&&u){const y=g=>p(g,u),m=g=>p(g,l);return l.addEventListener("pointerleave",y),u.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",y),u.removeEventListener("pointerleave",m)}}},[l,u,p,h]),w.useEffect(()=>{if(o){const y=m=>{const g=m.target,v={x:m.clientX,y:m.clientY},x=l?.contains(g)||u?.contains(g),b=!sU(v,o);x?h():b&&(h(),c())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,u,o,c,h]),f.jsx(fR,{...e,ref:a})}),[eU,tU]=Gf(Vl,{isInside:!1}),rU=GC("TooltipContent"),fR=w.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...s}=e,l=Xf(Vo,r),c=Yf(r),{onClose:u}=l;return w.useEffect(()=>(document.addEventListener(mb,u),()=>document.removeEventListener(mb,u)),[u]),w.useEffect(()=>{if(l.trigger){const d=h=>{h.target?.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),f.jsx(Lf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:f.jsxs(aR,{"data-state":l.stateAttribute,...c,...s,ref:t,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(rU,{children:n}),f.jsx(eU,{scope:r,isInside:!0,children:f.jsx(XB,{id:l.contentId,role:"tooltip",children:i||n})})]})})});dR.displayName=Vo;var hR="TooltipArrow",nU=w.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=Yf(r);return tU(hR,r).isInside?null:f.jsx(oR,{...i,...n,ref:t})});nU.displayName=hR;function iU(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function aU(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function oU(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function sU(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const s=t[a],l=t[o],c=s.x,u=s.y,d=l.x,h=l.y;u>n!=h>n&&r<(d-c)*(n-u)/(h-u)+c&&(i=!i)}return i}function lU(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),cU(t)}function cU(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var uU=lR,dU=cR,fU=uR,pR=dR;const mR=uU,hU=dU,pU=fU,gR=w.forwardRef(({className:e,sideOffset:t=4,...r},n)=>f.jsx(pR,{ref:n,sideOffset:t,className:Y("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));gR.displayName=pR.displayName;var Cs=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},za=typeof window>"u"||"Deno"in globalThis;function or(){}function mU(e,t){return typeof e=="function"?e(t):e}function yb(e){return typeof e=="number"&&e>=0&&e!==1/0}function yR(e,t){return Math.max(e+(t||0)-Date.now(),0)}function zi(e,t){return typeof e=="function"?e(t):e}function Hr(e,t){return typeof e=="function"?e(t):e}function IS(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:s}=e;if(o){if(n){if(t.queryHash!==lw(o,t.options))return!1}else if(!Kl(t.queryKey,o))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof s=="boolean"&&t.isStale()!==s||i&&i!==t.state.fetchStatus||a&&!a(t))}function MS(e,t){const{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Ua(t.options.mutationKey)!==Ua(a))return!1}else if(!Kl(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function lw(e,t){return(t?.queryKeyHashFn||Ua)(e)}function Ua(e){return JSON.stringify(e,(t,r)=>vb(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Kl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Kl(e[r],t[r])):!1}function vR(e,t){if(e===t)return e;const r=DS(e)&&DS(t);if(r||vb(e)&&vb(t)){const n=r?e:Object.keys(e),i=n.length,a=r?t:Object.keys(t),o=a.length,s=r?[]:{},l=new Set(n);let c=0;for(let u=0;u<o;u++){const d=r?u:a[u];(!r&&l.has(d)||r)&&e[d]===void 0&&t[d]===void 0?(s[d]=void 0,c++):(s[d]=vR(e[d],t[d]),s[d]===e[d]&&e[d]!==void 0&&c++)}return i===o&&c===i?e:s}return t}function ud(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function DS(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function vb(e){if(!$S(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!$S(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function $S(e){return Object.prototype.toString.call(e)==="[object Object]"}function gU(e){return new Promise(t=>{setTimeout(t,e)})}function bb(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?vR(e,t):t}function yU(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function vU(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var cw=Symbol();function bR(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===cw?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function xR(e,t){return typeof e=="function"?e(...t):!!e}var bU=class extends Cs{#t;#e;#r;constructor(){super(),this.#r=e=>{if(!za&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},uw=new bU,xU=class extends Cs{#t=!0;#e;#r;constructor(){super(),this.#r=e=>{if(!za&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#t}},dd=new xU;function xb(){let e,t;const r=new Promise((i,a)=>{e=i,t=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function wU(e){return Math.min(1e3*2**e,3e4)}function wR(e){return(e??"online")==="online"?dd.isOnline():!0}var SR=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function mp(e){return e instanceof SR}function _R(e){let t=!1,r=0,n=!1,i;const a=xb(),o=m=>{n||(h(new SR(m)),e.abort?.())},s=()=>{t=!0},l=()=>{t=!1},c=()=>uw.isFocused()&&(e.networkMode==="always"||dd.isOnline())&&e.canRun(),u=()=>wR(e.networkMode)&&e.canRun(),d=m=>{n||(n=!0,e.onSuccess?.(m),i?.(),a.resolve(m))},h=m=>{n||(n=!0,e.onError?.(m),i?.(),a.reject(m))},p=()=>new Promise(m=>{i=g=>{(n||c())&&m(g)},e.onPause?.()}).then(()=>{i=void 0,n||e.onContinue?.()}),y=()=>{if(n)return;let m;const g=r===0?e.initialPromise:void 0;try{m=g??e.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(d).catch(v=>{if(n)return;const x=e.retry??(za?0:3),b=e.retryDelay??wU,E=typeof b=="function"?b(r,v):b,S=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,v);if(t||!S){h(v);return}r++,e.onFail?.(r,v),gU(E).then(()=>c()?void 0:p()).then(()=>{t?h(v):y()})})};return{promise:a,cancel:o,continue:()=>(i?.(),a),cancelRetry:s,continueRetry:l,canStart:u,start:()=>(u()?y():p().then(y),a)}}var SU=e=>setTimeout(e,0);function _U(){let e=[],t=0,r=s=>{s()},n=s=>{s()},i=SU;const a=s=>{t?e.push(s):i(()=>{r(s)})},o=()=>{const s=e;e=[],s.length&&i(()=>{n(()=>{s.forEach(l=>{r(l)})})})};return{batch:s=>{let l;t++;try{l=s()}finally{t--,t||o()}return l},batchCalls:s=>(...l)=>{a(()=>{s(...l)})},schedule:a,setNotifyFunction:s=>{r=s},setBatchNotifyFunction:s=>{n=s},setScheduler:s=>{i=s}}}var qt=_U(),ER=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),yb(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(za?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},EU=class extends ER{#t;#e;#r;#n;#i;#o;#s;constructor(e){super(),this.#s=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#r=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=OU(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=bb(this.state.data,e,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(or).catch(or):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>Hr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>zi(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!yR(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#s?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const r=new AbortController,n=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#s=!0,r.signal)})},i=()=>{const l=bR(this.options,t),u=(()=>{const d={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(d),d})();return this.#s=!1,this.options.persister?this.options.persister(l,u,this):l(u)},o=(()=>{const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:i};return n(l),l})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#a({type:"fetch",meta:o.fetchOptions?.meta});const s=l=>{mp(l)&&l.silent||this.#a({type:"error",error:l}),mp(l)||(this.#r.config.onError?.(l,this),this.#r.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#i=_R({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:l=>{if(l===void 0){s(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){s(c);return}this.#r.config.onSuccess?.(l,this),this.#r.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:s,onFail:(l,c)=>{this.#a({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#i.start()}#a(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...OR(r.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return mp(n)&&n.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),qt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function OR(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wR(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function OU(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var jU=class extends Cs{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,r){const n=t.queryKey,i=t.queryHash??lw(n,t);let a=this.get(i);return a||(a=new EU({client:e,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(a)),a}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){qt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>IS(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>IS(e,r)):t}notify(e){qt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){qt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){qt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},AU=class extends ER{#t;#e;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||jR(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})};this.#r=_R({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,a)=>{this.#n({type:"failed",failureCount:i,error:a})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)t();else{this.#n({type:"pending",variables:e,isPaused:n}),await this.#e.config.onMutate?.(e,this);const a=await this.options.onMutate?.(e);a!==this.state.context&&this.#n({type:"pending",context:a,variables:e,isPaused:n})}const i=await this.#r.start();return await this.#e.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#n({type:"error",error:i})}}finally{this.#e.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),qt.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function jR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var kU=class extends Cs{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(e,t,r){const n=new AU({mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#t.add(e);const t=du(e);if(typeof t=="string"){const r=this.#e.get(t);r?r.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=du(e);if(typeof t=="string"){const r=this.#e.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=du(e);if(typeof t=="string"){const n=this.#e.get(t)?.find(i=>i.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=du(e);return typeof t=="string"?this.#e.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){qt.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>MS(t,r))}findAll(e={}){return this.getAll().filter(t=>MS(e,t))}notify(e){qt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return qt.batch(()=>Promise.all(e.map(t=>t.continue().catch(or))))}};function du(e){return e.options.scope?.id}function LS(e){return{onFetch:(t,r)=>{const n=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,a=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let s={pages:[],pageParams:[]},l=0;const c=async()=>{let u=!1;const d=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?u=!0:t.signal.addEventListener("abort",()=>{u=!0}),t.signal)})},h=bR(t.options,t.fetchOptions),p=async(y,m,g)=>{if(u)return Promise.reject();if(m==null&&y.pages.length)return Promise.resolve(y);const x=(()=>{const _={client:t.client,queryKey:t.queryKey,pageParam:m,direction:g?"backward":"forward",meta:t.options.meta};return d(_),_})(),b=await h(x),{maxPages:E}=t.options,S=g?vU:yU;return{pages:S(y.pages,b,E),pageParams:S(y.pageParams,m,E)}};if(i&&a.length){const y=i==="backward",m=y?PU:FS,g={pages:a,pageParams:o},v=m(n,g);s=await p(g,v,y)}else{const y=e??a.length;do{const m=l===0?o[0]??n.initialPageParam:FS(n,s);if(l>0&&m==null)break;s=await p(s,m),l++}while(l<y)}return s};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=c}}}function FS(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function PU(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var TU=class{#t;#e;#r;#n;#i;#o;#s;#a;constructor(e={}){this.#t=e.queryCache||new jU,this.#e=e.mutationCache||new kU,this.#r=e.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#s=uw.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#a=dd.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#s?.(),this.#s=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#t.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(zi(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=this.#t.get(n.queryHash)?.state.data,o=mU(t,a);if(o!==void 0)return this.#t.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return qt.batch(()=>this.#t.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;qt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#t;return qt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=qt.batch(()=>this.#t.findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(or).catch(or)}invalidateQueries(e,t={}){return qt.batch(()=>(this.#t.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=qt.batch(()=>this.#t.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(or)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(or)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#t.build(this,t);return r.isStaleByTime(zi(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(or).catch(or)}fetchInfiniteQuery(e){return e.behavior=LS(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(or).catch(or)}ensureInfiniteQueryData(e){return e.behavior=LS(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return dd.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(Ua(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{Kl(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#i.set(Ua(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()],r={};return t.forEach(n=>{Kl(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=lw(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===cw&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},CU=class extends Cs{constructor(e,t){super(),this.options=t,this.#t=e,this.#a=null,this.#s=xb(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#r=void 0;#n=void 0;#i;#o;#s;#a;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),BS(this.#e,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return wb(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return wb(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Hr(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#e.setOptions(this.options),t._defaulted&&!ud(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&qS(this.#e,r,this.options,t)&&this.#d(),this.updateResult(),n&&(this.#e!==r||Hr(this.options.enabled,this.#e)!==Hr(t.enabled,this.#e)||zi(this.options.staleTime,this.#e)!==zi(t.staleTime,this.#e))&&this.#g();const i=this.#y();n&&(this.#e!==r||Hr(this.options.enabled,this.#e)!==Hr(t.enabled,this.#e)||i!==this.#l)&&this.#v(i)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),r=this.createResult(t,e);return RU(this,r)&&(this.#n=r,this.#o=this.options,this.#i=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),Reflect.get(r,n))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),r=this.#t.getQueryCache().build(this.#t,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(e){this.#S();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(or)),t}#g(){this.#x();const e=zi(this.options.staleTime,this.#e);if(za||this.#n.isStale||!yb(e))return;const r=yR(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#l=e,!(za||Hr(this.options.enabled,this.#e)===!1||!yb(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||uw.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#v(this.#y())}#x(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#e,n=this.options,i=this.#n,a=this.#i,o=this.#o,l=e!==r?e.state:this.#r,{state:c}=e;let u={...c},d=!1,h;if(t._optimisticResults){const k=this.hasListeners(),T=!k&&BS(e,t),j=k&&qS(e,r,t,n);(T||j)&&(u={...u,...OR(c.data,e.options)}),t._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:p,errorUpdatedAt:y,status:m}=u;h=u.data;let g=!1;if(t.placeholderData!==void 0&&h===void 0&&m==="pending"){let k;i?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(k=i.data,g=!0):k=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,k!==void 0&&(m="success",h=bb(i?.data,k,t),d=!0)}if(t.select&&h!==void 0&&!g)if(i&&h===a?.data&&t.select===this.#m)h=this.#f;else try{this.#m=t.select,h=t.select(h),h=bb(i?.data,h,t),this.#f=h,this.#a=null}catch(k){this.#a=k}this.#a&&(p=this.#a,h=this.#f,y=Date.now(),m="error");const v=u.fetchStatus==="fetching",x=m==="pending",b=m==="error",E=x&&v,S=h!==void 0,O={status:m,fetchStatus:u.fetchStatus,isPending:x,isSuccess:m==="success",isError:b,isInitialLoading:E,isLoading:E,data:h,dataUpdatedAt:u.dataUpdatedAt,error:p,errorUpdatedAt:y,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>l.dataUpdateCount||u.errorUpdateCount>l.errorUpdateCount,isFetching:v,isRefetching:v&&!x,isLoadingError:b&&!S,isPaused:u.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:b&&S,isStale:dw(e,t),refetch:this.refetch,promise:this.#s,isEnabled:Hr(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const k=A=>{O.status==="error"?A.reject(O.error):O.data!==void 0&&A.resolve(O.data)},T=()=>{const A=this.#s=O.promise=xb();k(A)},j=this.#s;switch(j.status){case"pending":e.queryHash===r.queryHash&&k(j);break;case"fulfilled":(O.status==="error"||O.data!==j.value)&&T();break;case"rejected":(O.status!=="error"||O.error!==j.reason)&&T();break}}return O}updateResult(){const e=this.#n,t=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#o=this.options,this.#i.data!==void 0&&(this.#h=this.#e),ud(t,e))return;this.#n=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!this.#p.size)return!0;const a=new Set(i??this.#p);return this.options.throwOnError&&a.add("error"),Object.keys(this.#n).some(o=>{const s=o;return this.#n[s]!==e[s]&&a.has(s)})};this.#_({listeners:r()})}#S(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#_(e){qt.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function NU(e,t){return Hr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function BS(e,t){return NU(e,t)||e.state.data!==void 0&&wb(e,t,t.refetchOnMount)}function wb(e,t,r){if(Hr(t.enabled,e)!==!1&&zi(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&dw(e,t)}return!1}function qS(e,t,r,n){return(e!==t||Hr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&dw(e,r)}function dw(e,t){return Hr(t.enabled,e)!==!1&&e.isStaleByTime(zi(t.staleTime,e))}function RU(e,t){return!ud(e.getCurrentResult(),t)}var IU=class extends Cs{#t;#e=void 0;#r;#n;constructor(t,r){super(),this.#t=t,this.setOptions(r),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#t.defaultMutationOptions(t),ud(this.options,r)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&Ua(r.mutationKey)!==Ua(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#o(t)}getCurrentResult(){return this.#e}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#o()}mutate(t,r){return this.#n=r,this.#r?.removeObserver(this),this.#r=this.#t.getMutationCache().build(this.#t,this.options),this.#r.addObserver(this),this.#r.execute(t)}#i(){const t=this.#r?.state??jR();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#o(t){qt.batch(()=>{if(this.#n&&this.hasListeners()){const r=this.#e.variables,n=this.#e.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,r,n),this.#n.onSettled?.(t.data,null,r,n)):t?.type==="error"&&(this.#n.onError?.(t.error,r,n),this.#n.onSettled?.(void 0,t.error,r,n))}this.listeners.forEach(r=>{r(this.#e)})})}},AR=w.createContext(void 0),ro=e=>{const t=w.useContext(AR);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},MU=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),f.jsx(AR.Provider,{value:e,children:t})),kR=w.createContext(!1),DU=()=>w.useContext(kR);kR.Provider;function $U(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var LU=w.createContext($U()),FU=()=>w.useContext(LU),BU=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},qU=e=>{w.useEffect(()=>{e.clearReset()},[e])},zU=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(i&&e.data===void 0||xR(r,[e.error,n])),UU=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},WU=(e,t)=>e.isLoading&&e.isFetching&&!t,HU=(e,t)=>e?.suspense&&t.isPending,zS=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function VU(e,t,r){const n=DU(),i=FU(),a=ro(),o=a.defaultQueryOptions(e);a.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",UU(o),BU(o,i),qU(i);const s=!a.getQueryCache().get(o.queryHash),[l]=w.useState(()=>new t(a,o)),c=l.getOptimisticResult(o),u=!n&&e.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(d=>{const h=u?l.subscribe(qt.batchCalls(d)):or;return l.updateResult(),h},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),w.useEffect(()=>{l.setOptions(o)},[o,l]),HU(o,c))throw zS(o,l,i);if(zU({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;return a.getDefaultOptions().queries?._experimental_afterQuery?.(o,c),o.experimental_prefetchInRender&&!za&&WU(c,n)&&(s?zS(o,l,i):a.getQueryCache().get(o.queryHash)?.promise)?.catch(or).finally(()=>{l.updateResult()}),o.notifyOnChangeProps?c:l.trackResult(c)}function Bn(e,t){return VU(e,CU)}function hn(e,t){const r=ro(),[n]=w.useState(()=>new IU(r,e));w.useEffect(()=>{n.setOptions(e)},[n,e]);const i=w.useSyncExternalStore(w.useCallback(o=>n.subscribe(qt.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=w.useCallback((o,s)=>{n.mutate(o,s).catch(or)},[n]);if(i.error&&xR(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const KU=[{to:"/stats",label:"Statistiche",icon:_N},{to:"/macro-goals",label:"Macro Obiettivi",icon:Vx}];function GU(){return f.jsx("nav",{className:"flex items-center justify-center gap-1 sm:gap-2",children:KU.map(({to:e,label:t,icon:r})=>f.jsxs(QC,{to:e,className:({isActive:n})=>Y("flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all","hover:bg-accent",n?"bg-primary text-primary-foreground hover:bg-primary/90":"text-muted-foreground"),children:[f.jsx(r,{className:"w-4 h-4"}),f.jsx("span",{className:"hidden xs:inline sm:inline",children:t})]},e))})}const YU=[{to:"/",label:"Home",icon:k4},{to:"/stats",label:"Stats",icon:_N},{to:"/macro-goals",label:"Obiettivi",icon:Vx}];function XU(){return f.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-[#0a0a0a]/80 backdrop-blur-xl border-t border-white/10 pb-6 pt-2 px-6 lg:hidden",children:f.jsx("div",{className:"flex items-center justify-around max-w-md mx-auto",children:YU.map(({to:e,label:t,icon:r})=>f.jsx(QC,{to:e,className:({isActive:n})=>Y("flex flex-col items-center justify-center gap-1 p-2 rounded-2xl transition-all duration-300 w-16 group active:scale-95",n?"text-primary":"text-muted-foreground hover:text-foreground"),children:({isActive:n})=>f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:Y("relative p-1.5 rounded-xl transition-all duration-300",n?"bg-primary/20":"group-hover:bg-white/5"),children:[f.jsx(r,{className:Y("w-6 h-6")}),n&&f.jsx("span",{className:"absolute inset-0 rounded-xl ring-2 ring-primary/20 animate-pulse-success"})]}),f.jsx("span",{className:"text-[10px] font-medium tracking-wide",children:t})]})},e))})})}function QU(){return f.jsxs("div",{className:"h-dvh lg:min-h-screen bg-background flex flex-col relative w-full overflow-x-hidden selection:bg-primary/20",children:[f.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-md sticky top-0 z-50 transition-all duration-300",children:f.jsxs("div",{className:"h-16 flex items-center justify-between px-4 sm:px-8 max-w-[2400px] mx-auto w-full relative",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-transparent to-primary/5 pointer-events-none lg:hidden"}),f.jsxs(mB,{to:"/",className:"flex items-center gap-2 sm:gap-3 group relative z-10 active:scale-95 transition-transform",children:[f.jsxs("div",{className:"relative",children:[f.jsx(O4,{className:"h-6 w-6 sm:h-6 sm:w-6 text-primary animate-pulse"}),f.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-lg rounded-full opacity-50"})]}),f.jsx("span",{className:"font-display font-bold text-lg sm:text-lg tracking-tight group-hover:text-primary transition-colors",children:"Mattioli.OS"})]}),f.jsx("div",{className:"hidden lg:block",children:f.jsx(GU,{})})]})}),f.jsx("main",{className:"flex-1 min-h-0 pb-28 lg:pb-0",children:f.jsx(gB,{})}),f.jsx(XU,{})]})}var Xn={},fu={},Sb=function(e,t){return Sb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Sb(e,t)};function PR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Sb(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Kr=function(){return Kr=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Kr.apply(this,arguments)};function na(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function TR(e,t,r,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function CR(e,t){return function(r,n){t(r,n,e)}}function NR(e,t,r,n,i,a){function o(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var s=n.kind,l=s==="getter"?"get":s==="setter"?"set":"value",c=!t&&e?n.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),d,h=!1,p=r.length-1;p>=0;p--){var y={};for(var m in n)y[m]=m==="access"?{}:n[m];for(var m in n.access)y.access[m]=n.access[m];y.addInitializer=function(v){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(v||null))};var g=(0,r[p])(s==="accessor"?{get:u.get,set:u.set}:u[l],y);if(s==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(d=o(g.get))&&(u.get=d),(d=o(g.set))&&(u.set=d),(d=o(g.init))&&i.unshift(d)}else(d=o(g))&&(s==="field"?i.unshift(d):u[l]=d)}c&&Object.defineProperty(c,n.name,u),h=!0}function RR(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function IR(e){return typeof e=="symbol"?e:"".concat(e)}function MR(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function DR(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ce(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})}function $R(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(u){c=[6,u],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Qf=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function LR(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Qf(t,e,r)}function fd(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function fw(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function FR(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(fw(arguments[t]));return e}function BR(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function hw(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function Ko(e){return this instanceof Ko?(this.v=e,this):new Ko(e)}function qR(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(p){return function(y){return Promise.resolve(y).then(p,d)}}function s(p,y){n[p]&&(i[p]=function(m){return new Promise(function(g,v){a.push([p,m,g,v])>1||l(p,m)})},y&&(i[p]=y(i[p])))}function l(p,y){try{c(n[p](y))}catch(m){h(a[0][3],m)}}function c(p){p.value instanceof Ko?Promise.resolve(p.value.v).then(u,d):h(a[0][2],p)}function u(p){l("next",p)}function d(p){l("throw",p)}function h(p,y){p(y),a.shift(),a.length&&l(a[0][0],a[0][1])}}function zR(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,a){t[i]=e[i]?function(o){return(r=!r)?{value:Ko(e[i](o)),done:!1}:a?a(o):o}:a}}function UR(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof fd=="function"?fd(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(o){return new Promise(function(s,l){o=e[a](o),i(s,l,o.done,o.value)})}}function i(a,o,s,l){Promise.resolve(l).then(function(c){a({value:c,done:s})},o)}}function WR(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var JU=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},_b=function(e){return _b=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},_b(e)};function HR(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=_b(e),n=0;n<r.length;n++)r[n]!=="default"&&Qf(t,e,r[n]);return JU(t,e),t}function VR(e){return e&&e.__esModule?e:{default:e}}function KR(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function GR(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function YR(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function XR(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var ZU=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function QR(e){function t(a){e.error=e.hasError?new ZU(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(o){return t(o),i()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function JR(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,o){return n?t?".jsx":".js":i&&(!a||!o)?r:i+a+"."+o.toLowerCase()+"js"}):e}const e8={__extends:PR,__assign:Kr,__rest:na,__decorate:TR,__param:CR,__esDecorate:NR,__runInitializers:RR,__propKey:IR,__setFunctionName:MR,__metadata:DR,__awaiter:ce,__generator:$R,__createBinding:Qf,__exportStar:LR,__values:fd,__read:fw,__spread:FR,__spreadArrays:BR,__spreadArray:hw,__await:Ko,__asyncGenerator:qR,__asyncDelegator:zR,__asyncValues:UR,__makeTemplateObject:WR,__importStar:HR,__importDefault:VR,__classPrivateFieldGet:KR,__classPrivateFieldSet:GR,__classPrivateFieldIn:YR,__addDisposableResource:XR,__disposeResources:QR,__rewriteRelativeImportExtension:JR},t8=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:XR,get __assign(){return Kr},__asyncDelegator:zR,__asyncGenerator:qR,__asyncValues:UR,__await:Ko,__awaiter:ce,__classPrivateFieldGet:KR,__classPrivateFieldIn:YR,__classPrivateFieldSet:GR,__createBinding:Qf,__decorate:TR,__disposeResources:QR,__esDecorate:NR,__exportStar:LR,__extends:PR,__generator:$R,__importDefault:VR,__importStar:HR,__makeTemplateObject:WR,__metadata:DR,__param:CR,__propKey:IR,__read:fw,__rest:na,__rewriteRelativeImportExtension:JR,__runInitializers:RR,__setFunctionName:MR,__spread:FR,__spreadArray:hw,__spreadArrays:BR,__values:fd,default:e8},Symbol.toStringTag,{value:"Module"})),r8=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let Jf=class extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}},ZR=class extends Jf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Eb=class extends Jf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Ob=class extends Jf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var hd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(hd||(hd={}));class n8{constructor(t,{headers:r={},customFetch:n,region:i=hd.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=r8(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ce(this,arguments,void 0,function*(r,n={}){var i;let a,o;try{const{headers:s,method:l,body:c,signal:u,timeout:d}=n;let h={},{region:p}=n;p||(p=this.region);const y=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,y.searchParams.set("forceFunctionRegion",p));let m;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(h["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(h["Content-Type"]="application/json",m=JSON.stringify(c)):m=c;let g=u;d&&(o=new AbortController,a=setTimeout(()=>o.abort(),d),u?(g=o.signal,u.addEventListener("abort",()=>o.abort())):g=o.signal);const v=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:m,signal:g}).catch(S=>{throw new ZR(S)}),x=v.headers.get("x-relay-error");if(x&&x==="true")throw new Eb(v);if(!v.ok)throw new Ob(v);let b=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),E;return b==="application/json"?E=yield v.json():b==="application/octet-stream"||b==="application/pdf"?E=yield v.blob():b==="text/event-stream"?E=v:b==="multipart/form-data"?E=yield v.formData():E=yield v.text(),{data:E,error:null,response:v}}catch(s){return{data:null,error:s,response:s instanceof Ob||s instanceof Eb?s.context:void 0}}finally{a&&clearTimeout(a)}})}}const i8=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return hd},FunctionsClient:n8,FunctionsError:Jf,FunctionsFetchError:ZR,FunctionsHttpError:Ob,FunctionsRelayError:Eb},Symbol.toStringTag,{value:"Module"})),e2=Bc(i8);var Zt={};const Ns=Bc(t8);var hu={},pu={},mu={},gu={},yu={},vu={},US;function t2(){if(US)return vu;US=1,Object.defineProperty(vu,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return vu.default=e,vu}var WS;function r2(){if(WS)return yu;WS=1,Object.defineProperty(yu,"__esModule",{value:!0});const t=Ns.__importDefault(t2());let r=class{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let s=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,u,d,h;let p=null,y=null,m=null,g=l.status,v=l.statusText;if(l.ok){if(this.method!=="HEAD"){const S=await l.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?y=S:y=JSON.parse(S))}const b=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),E=(d=l.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");b&&E&&E.length>1&&(m=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(p={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,m=null,g=406,v="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const b=await l.text();try{p=JSON.parse(b),Array.isArray(p)&&l.status===404&&(y=[],p=null,g=200,v="OK")}catch{l.status===404&&b===""?(g=204,v="No Content"):p={message:b}}if(p&&this.isMaybeSingle&&(!((h=p?.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,g=200,v="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:y,count:m,status:g,statusText:v}});return this.shouldThrowOnError||(s=s.catch(l=>{var c,u,d,h,p,y;let m="";const g=l?.cause;if(g){const v=(c=g?.message)!==null&&c!==void 0?c:"",x=(u=g?.code)!==null&&u!==void 0?u:"";m=`${(d=l?.name)!==null&&d!==void 0?d:"FetchError"}: ${l?.message}`,m+=`

Caused by: ${(h=g?.name)!==null&&h!==void 0?h:"Error"}: ${v}`,x&&(m+=` (${x})`),g?.stack&&(m+=`
${g.stack}`)}else m=(p=l?.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(y=l?.name)!==null&&y!==void 0?y:"FetchError"}: ${l?.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(i,a)}returns(){return this}overrideTypes(){return this}};return yu.default=r,yu}var HS;function n2(){if(HS)return gu;HS=1,Object.defineProperty(gu,"__esModule",{value:!0});const t=Ns.__importDefault(r2());let r=class extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:s,referencedTable:l=s}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:s=o}={}){const l=typeof s>"u"?"offset":`${s}.offset`,c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:s=!1,wal:l=!1,format:c="text"}={}){var u;const d=[i?"analyze":null,a?"verbose":null,o?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${h}"; options=${d};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return gu.default=r,gu}var VS;function pw(){if(VS)return mu;VS=1,Object.defineProperty(mu,"__esModule",{value:!0});const t=Ns.__importDefault(n2()),r=new RegExp("[,()]");let n=class extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}regexMatch(a,o){return this.url.searchParams.append(a,`match.${o}`),this}regexIMatch(a,o){return this.url.searchParams.append(a,`imatch.${o}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}isDistinct(a,o){return this.url.searchParams.append(a,`isdistinct.${o}`),this}in(a,o){const s=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:s,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${c}fts${u}.${o}`),this}match(a){return Object.entries(a).forEach(([o,s])=>{this.url.searchParams.append(o,`eq.${s}`)}),this}not(a,o,s){return this.url.searchParams.append(a,`not.${o}.${s}`),this}or(a,{foreignTable:o,referencedTable:s=o}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,o,s){return this.url.searchParams.append(a,`${o}.${s}`),this}};return mu.default=n,mu}var KS;function i2(){if(KS)return pu;KS=1,Object.defineProperty(pu,"__esModule",{value:!0});const t=Ns.__importDefault(pw());let r=class{constructor(i,{headers:a={},schema:o,fetch:s}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=s}select(i,a){const{head:o=!1,count:s}=a??{},l=o?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",u),s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var s;const l="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:s,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:a}={}){var o;const s="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return pu.default=r,pu}var GS;function a8(){if(GS)return hu;GS=1,Object.defineProperty(hu,"__esModule",{value:!0});const e=Ns,t=e.__importDefault(i2()),r=e.__importDefault(pw());let n=class a2{constructor(a,{headers:o={},schema:s,fetch:l}={}){this.url=a,this.headers=new Headers(o),this.schemaName=s,this.fetch=l}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new a2(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:s=!1,get:l=!1,count:c}={}){var u;let d;const h=new URL(`${this.url}/rpc/${a}`);let p;s||l?(d=s?"HEAD":"GET",Object.entries(o).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{h.searchParams.append(m,g)})):(d="POST",p=o);const y=new Headers(this.headers);return c&&y.set("Prefer",`count=${c}`),new r.default({method:d,url:h,headers:y,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};return hu.default=n,hu}var YS;function o2(){if(YS)return Zt;YS=1,Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.PostgrestError=Zt.PostgrestBuilder=Zt.PostgrestTransformBuilder=Zt.PostgrestFilterBuilder=Zt.PostgrestQueryBuilder=Zt.PostgrestClient=void 0;const e=Ns,t=e.__importDefault(a8());Zt.PostgrestClient=t.default;const r=e.__importDefault(i2());Zt.PostgrestQueryBuilder=r.default;const n=e.__importDefault(pw());Zt.PostgrestFilterBuilder=n.default;const i=e.__importDefault(n2());Zt.PostgrestTransformBuilder=i.default;const a=e.__importDefault(r2());Zt.PostgrestBuilder=a.default;const o=e.__importDefault(t2());return Zt.PostgrestError=o.default,Zt.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},Zt}class s2{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const o8="2.87.1",s8=`realtime-js/${o8}`,l2="1.0.0",l8="2.0.0",XS=l2,jb=1e4,c8=1e3,u8=100;var ja;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ja||(ja={}));var jt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(jt||(jt={}));var un;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(un||(un={}));var Ab;(function(e){e.websocket="websocket"})(Ab||(Ab={}));var Aa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Aa||(Aa={}));class d8{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var i,a;const o=t.topic,s=(i=t.ref)!==null&&i!==void 0?i:"",l=(a=t.join_ref)!==null&&a!==void 0?a:"",c=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+o.length+c.length+d.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(p),m=0;y.setUint8(m++,this.KINDS.userBroadcastPush),y.setUint8(m++,l.length),y.setUint8(m++,s.length),y.setUint8(m++,o.length),y.setUint8(m++,c.length),y.setUint8(m++,d.length),y.setUint8(m++,r),Array.from(l,v=>y.setUint8(m++,v.charCodeAt(0))),Array.from(s,v=>y.setUint8(m++,v.charCodeAt(0))),Array.from(o,v=>y.setUint8(m++,v.charCodeAt(0))),Array.from(c,v=>y.setUint8(m++,v.charCodeAt(0))),Array.from(d,v=>y.setUint8(m++,v.charCodeAt(0)));var g=new Uint8Array(p.byteLength+n.byteLength);return g.set(new Uint8Array(p),0),g.set(new Uint8Array(n),p.byteLength),g.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,o,s,l]=n;return r({join_ref:i,ref:a,topic:o,event:s,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,r,i)}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),s=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(t.slice(l,l+i));l=l+i;const u=n.decode(t.slice(l,l+a));l=l+a;const d=n.decode(t.slice(l,l+o));l=l+o;const h=t.slice(l,t.byteLength),p=s===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,y={type:this.BROADCAST_EVENT,event:u,payload:p};return o>0&&(y.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class c2{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var lt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(lt||(lt={}));const QS=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=f8(o,e,t,i),a),{}):{}},f8=(e,t,r,n)=>{const i=t.find(s=>s.name===e),a=i?.type,o=r[e];return a&&!n.includes(a)?u2(a,o):kb(o)},u2=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return g8(t,r)}switch(e){case lt.bool:return h8(t);case lt.float4:case lt.float8:case lt.int2:case lt.int4:case lt.int8:case lt.numeric:case lt.oid:return p8(t);case lt.json:case lt.jsonb:return m8(t);case lt.timestamp:return y8(t);case lt.abstime:case lt.date:case lt.daterange:case lt.int4range:case lt.int8range:case lt.money:case lt.reltime:case lt.text:case lt.time:case lt.timestamptz:case lt.timetz:case lt.tsrange:case lt.tstzrange:return kb(t);default:return kb(t)}},kb=e=>e,h8=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},p8=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},m8=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},g8=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>u2(t,s))}return e},y8=e=>typeof e=="string"?e.replace(" ","T"):e,d2=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class gp{constructor(t,r,n={},i=jb){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Pb;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Pb||(Pb={}));let f2=class Qu{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qu.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=Qu.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Qu.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),o=this.transformState(r),s={},l={};return this.map(a,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=a[c];if(d){const h=u.map(g=>g.presence_ref),p=d.map(g=>g.presence_ref),y=u.filter(g=>p.indexOf(g.presence_ref)<0),m=d.filter(g=>h.indexOf(g.presence_ref)<0);y.length>0&&(s[c]=y),m.length>0&&(l[c]=m)}else s[c]=u}),this.syncDiff(a,{joins:s,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var c;const u=(c=t[s])!==null&&c!==void 0?c:[];if(t[s]=this.cloneDeep(l),u.length>0){const d=t[s].map(p=>p.presence_ref),h=u.filter(p=>d.indexOf(p.presence_ref)<0);t[s].unshift(...h)}n(s,u,l)}),this.map(o,(s,l)=>{let c=t[s];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[s]=c,i(s,c,l),c.length===0&&delete t[s]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Tb;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Tb||(Tb={}));var Mo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Mo||(Mo={}));var An;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(An||(An={}));const v8=jt;let h2=class vl{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new gp(this,un.join,this.params,this.timeout),this.rejoinTimer=new c2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(un.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new f2(this),this.broadcastEndpointURL=d2(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==jt.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Mo.PRESENCE]&&this.bindings[Mo.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>t?.(An.CHANNEL_ERROR,p)),this._onClose(()=>t?.(An.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t?.(An.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,g=(y=m?.length)!==null&&y!==void 0?y:0,v=[];for(let x=0;x<g;x++){const b=m[x],{filter:{event:E,schema:S,table:_,filter:O}}=b,k=p&&p[x];if(k&&k.event===E&&vl.isFilterValueEqual(k.schema,S)&&vl.isFilterValueEqual(k.table,_)&&vl.isFilterValueEqual(k.filter,O))v.push(Object.assign(Object.assign({},b),{id:k.id}));else{this.unsubscribe(),this.state=jt.errored,t?.(An.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(An.SUBSCRIBED);return}}).receive("error",p=>{this.state=jt.errored,t?.(An.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t?.(An.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===jt.joined&&t===Mo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const c=await s.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=jt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(un.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new gp(this,un.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=jt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new gp(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>u8){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const o=t.toLocaleLowerCase(),{close:s,error:l,leave:c,join:u}=un;if(n&&[s,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var y,m,g;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((g=(m=p.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var y,m,g,v,x,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const E=p.id,S=(y=p.filter)===null||y===void 0?void 0:y.event;return E&&((m=r.ids)===null||m===void 0?void 0:m.includes(E))&&(S==="*"||S?.toLocaleLowerCase()===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const E=(x=(v=p?.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return E==="*"||E===((b=r?.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:m,table:g,commit_timestamp:v,type:x,errors:b}=y;h=Object.assign(Object.assign({},{schema:m,table:g,commit_timestamp:v,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(y))}p.callback(h,n)})}_isClosed(){return this.state===jt.closed}_isJoined(){return this.state===jt.joined}_isJoining(){return this.state===jt.joining}_isLeaving(){return this.state===jt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&vl.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(un.close,{},t)}_onError(t){this._on(un.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=QS(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=QS(t.columns,t.old_record)),r}};const yp=()=>{},bu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},b8=[1e3,2e3,5e3,1e4],x8=1e4,w8=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let S8=class{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=jb,this.transport=null,this.heartbeatIntervalMs=bu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yp,this.ref=0,this.reconnectTimer=null,this.vsn=XS,this.logger=yp,this.conn=null,this.sendBuffer=[],this.serializer=new d8,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Ab.websocket}`,this.httpEndpoint=d2(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=s2.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ja.connecting:return Aa.Connecting;case ja.open:return Aa.Open;case ja.closing:return Aa.Closing;default:return Aa.Closed}}isConnected(){return this.connectionState()===Aa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new h2(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,o=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(c8,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},bu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${s}`.trim(),a),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ja.open||this.conn.readyState===ja.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(un.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([w8],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:s8};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(un.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new c2(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,o,s,l,c,u,d,h,p;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:jb,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:bu.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t?.heartbeatCallback)!==null&&s!==void 0?s:yp,this.vsn=(l=t?.vsn)!==null&&l!==void 0?l:XS,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:(y=>b8[y-1]||x8),this.vsn){case l2:this.encode=(u=t?.encode)!==null&&u!==void 0?u:((y,m)=>m(JSON.stringify(y))),this.decode=(d=t?.decode)!==null&&d!==void 0?d:((y,m)=>m(JSON.parse(y)));break;case l8:this.encode=(h=t?.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const _8=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:v8,get REALTIME_LISTEN_TYPES(){return Mo},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Tb},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Pb},get REALTIME_SUBSCRIBE_STATES(){return An},RealtimeChannel:h2,RealtimeClient:S8,RealtimePresence:f2,WebSocketFactory:s2},Symbol.toStringTag,{value:"Module"})),p2=Bc(_8);class Uc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function pt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class m2 extends Uc{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pd extends Uc{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const mw=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),E8=()=>Response,Cb=e=>{if(Array.isArray(e))return e.map(r=>Cb(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Cb(n)}),t},O8=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},j8=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),vp=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},A8=(e,t,r)=>ce(void 0,void 0,void 0,function*(){const n=yield E8();e instanceof n&&!r?.noResolveJson?e.json().then(i=>{const a=e.status||500,o=i?.statusCode||a+"";t(new m2(vp(i),a,o))}).catch(i=>{t(new pd(vp(i),i))}):t(new pd(vp(e),e))}),k8=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!n?i:(O8(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function Wc(e,t,r,n,i,a){return ce(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,k8(t,n,i,a)).then(l=>{if(!l.ok)throw l;return n?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>A8(l,s,n))})})}function Gl(e,t,r,n){return ce(this,void 0,void 0,function*(){return Wc(e,"GET",t,r,n)})}function cn(e,t,r,n,i){return ce(this,void 0,void 0,function*(){return Wc(e,"POST",t,n,i,r)})}function Nb(e,t,r,n,i){return ce(this,void 0,void 0,function*(){return Wc(e,"PUT",t,n,i,r)})}function P8(e,t,r,n){return ce(this,void 0,void 0,function*(){return Wc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function gw(e,t,r,n,i){return ce(this,void 0,void 0,function*(){return Wc(e,"DELETE",t,n,i,r)})}class T8{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return ce(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pt(t))return{data:null,error:t};throw t}})}}var g2;class C8{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[g2]="BlobDownloadBuilder",this.promise=null}asStream(){return new T8(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ce(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pt(t))return{data:null,error:t};throw t}})}}g2=Symbol.toStringTag;const N8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},JS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class R8{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=mw(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return ce(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},JS),i);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),l&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(l))):(a=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(s=Object.assign(Object.assign({},s),i.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),d=yield(t=="PUT"?Nb:cn)(this.fetch,`${this.url}/object/${u}`,a,Object.assign({headers:s},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}})}upload(t,r,n){return ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return ce(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:JS.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield Nb(this.fetch,s.toString(),l,{headers:u});return{data:{path:a,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(pt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return ce(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const a=yield cn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new Uc("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}update(t,r,n){return ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ce(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}copy(t,r,n){return ce(this,void 0,void 0,function*(){try{return{data:{path:(yield cn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return ce(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield cn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return ce(this,void 0,void 0,function*(){try{const i=yield cn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(r?.transform||{}),o=a?`?${a}`:"",s=this._getFinalPath(t),l=()=>Gl(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new C8(l,this.shouldThrowOnError)}info(t){return ce(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Gl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Cb(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}exists(t){return ce(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield P8(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n)&&n instanceof pd){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r?.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const s=typeof r?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(r?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${c}`)}}}remove(t){return ce(this,void 0,void 0,function*(){try{return{data:yield gw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}list(t,r,n){return ce(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},N8),r),{prefix:t||""});return{data:yield cn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}listV2(t,r){return ce(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield cn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const y2="2.87.1",v2={"X-Client-Info":`storage-js/${y2}`};class I8{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},v2),r),this.fetch=mw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return ce(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Gl(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}getBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:yield Gl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}createBucket(t){return ce(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield cn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return ce(this,void 0,void 0,function*(){try{return{data:yield Nb(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:yield gw(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Yl=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function M8(e,t,r){const n=new URL(t,e);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function D8(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function $8(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:o}){const s=M8(e.baseUrl,n,i),l=await D8(e.auth),c=await t(s,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...l,...o},body:a?JSON.stringify(a):void 0}),u=await c.text(),d=(c.headers.get("content-type")||"").includes("application/json"),h=d&&u?JSON.parse(u):u;if(!c.ok){const p=d?h:void 0,y=p?.error;throw new Yl(y?.message??`Request failed with status ${c.status}`,{status:c.status,icebergType:y?.type,icebergCode:y?.code,details:p})}return{status:c.status,headers:c.headers,data:h}}}}function xu(e){return e.join("")}var L8=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:xu(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${xu(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xu(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${xu(e.namespace)}`}),!0}catch(t){if(t instanceof Yl&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Yl&&r.status===409)return;throw r}}};function co(e){return e.join("")}var F8=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${co(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${co(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${co(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${co(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${co(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${co(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Yl&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Yl&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},B8=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=$8({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new L8(this.client,t),this.tableOps=new F8(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class b2{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},v2),r),this.fetch=mw(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}listBuckets(t){return ce(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Gl(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:yield gw(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}from(t){if(!j8(t))throw new Uc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new B8({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>ce(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,o){const s=a[o];return typeof s!="function"?s:(...l)=>ce(this,void 0,void 0,function*(){try{return{data:yield s.apply(a,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}})}})}}const yw={"X-Client-Info":`storage-js/${y2}`,"Content-Type":"application/json"};class vw extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function yr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Ju extends vw{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class x2 extends vw{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Rb;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Rb||(Rb={}));const Zf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),q8=()=>Response,w2=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},z8=e=>Array.from(new Float32Array(e)),U8=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},ZS=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),W8=(e,t,r)=>ce(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const s=o?.statusCode||o?.code||i+"";t(new Ju(ZS(o),i,s))}).catch(()=>{const o=i+"",s=a.statusText||`HTTP ${i} error`;t(new Ju(s,i,o))});else{const o=i+"",s=a.statusText||`HTTP ${i} error`;t(new Ju(s,i,o))}}else t(new x2(ZS(e),e))}),H8=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return n?(w2(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function V8(e,t,r,n,i,a){return ce(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,H8(t,n,i,a)).then(l=>{if(!l.ok)throw l;if(n?.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>W8(l,s,n))})})}function Tr(e,t,r,n,i){return ce(this,void 0,void 0,function*(){return V8(e,"POST",t,n,i,r)})}class S2{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yw),r),this.fetch=Zf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ce(this,void 0,void 0,function*(){try{return{data:(yield Tr(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return ce(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yr(n))return{data:null,error:n};throw n}})}listIndexes(t){return ce(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return ce(this,void 0,void 0,function*(){try{return{data:(yield Tr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yr(n))return{data:null,error:n};throw n}})}}class _2{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yw),r),this.fetch=Zf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ce(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Tr(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}})}getVectors(t){return ce(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}})}listVectors(t){return ce(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Tr(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}})}queryVectors(t){return ce(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return ce(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Tr(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}})}}class E2{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yw),r),this.fetch=Zf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:(yield Tr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}})}getBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}})}listBuckets(){return ce(this,arguments,void 0,function*(t={}){try{return{data:yield Tr(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ce(this,void 0,void 0,function*(){try{return{data:(yield Tr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}})}}class O2 extends E2{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new j2(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ce(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ce(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ce(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ce(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class j2 extends S2{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ce(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ce(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ce(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ce(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new A2(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class A2 extends _2{constructor(t,r,n,i,a){super(t,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ce(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ce(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ce(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ce(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ce(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class K8 extends I8{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new R8(this.url,this.headers,t,this.fetch)}get vectors(){return new O2(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new b2(this.url+"/iceberg",this.headers,this.fetch)}}const G8=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:b2,StorageApiError:m2,StorageClient:K8,StorageError:Uc,StorageUnknownError:pd,StorageVectorsApiError:Ju,StorageVectorsClient:O2,StorageVectorsError:vw,get StorageVectorsErrorCode(){return Rb},StorageVectorsUnknownError:x2,VectorBucketApi:E2,VectorBucketScope:j2,VectorDataApi:_2,VectorIndexApi:S2,VectorIndexScope:A2,isPlainObject:w2,isStorageError:pt,isStorageVectorsError:yr,normalizeToFloat32:z8,resolveFetch:Zf,resolveResponse:q8,validateVectorDimension:U8},Symbol.toStringTag,{value:"Module"})),Y8=Bc(G8);var bp={},el={},e_;function X8(){return e_||(e_=1,Object.defineProperty(el,"__esModule",{value:!0}),el.version=void 0,el.version="2.87.1"),el}var t_;function Q8(){return t_||(t_=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=X8();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(bp)),bp}var xp={},r_;function J8(){return r_||(r_=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);e.resolveFetch=t;const r=()=>Headers;e.resolveHeadersConstructor=r;const n=(i,a,o)=>{const s=(0,e.resolveFetch)(o),l=(0,e.resolveHeadersConstructor)();return async(c,u)=>{var d;const h=(d=await a())!==null&&d!==void 0?d:i;let p=new l(u?.headers);return p.has("apikey")||p.set("apikey",i),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),s(c,Object.assign(Object.assign({},u),{headers:p}))}};e.fetchWithAuth=n})(xp)),xp}var Qn={},n_;function Z8(){if(n_)return Qn;n_=1,Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.isBrowser=void 0,Qn.uuid=e,Qn.ensureTrailingSlash=t,Qn.applySettingDefaults=n,Qn.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var o=Math.random()*16|0,s=a=="x"?o:o&3|8;return s.toString(16)})}function t(a){return a.endsWith("/")?a:a+"/"}const r=()=>typeof window<"u";Qn.isBrowser=r;function n(a,o){var s,l;const{db:c,auth:u,realtime:d,global:h}=a,{db:p,auth:y,realtime:m,global:g}=o,v={db:Object.assign(Object.assign({},p),c),auth:Object.assign(Object.assign({},y),u),realtime:Object.assign(Object.assign({},m),d),storage:{},global:Object.assign(Object.assign(Object.assign({},g),h),{headers:Object.assign(Object.assign({},(s=g?.headers)!==null&&s!==void 0?s:{}),(l=h?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return a.accessToken?v.accessToken=a.accessToken:delete v.accessToken,v}function i(a){const o=a?.trim();if(!o)throw new Error("supabaseUrl is required.");if(!o.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(o))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Qn}var tl={};const k2="2.87.1",Oo=30*1e3,Ib=3,wp=Ib*Oo,eW="http://localhost:9999",tW="supabase.auth.token",rW={"X-Client-Info":`gotrue-js/${k2}`},Mb="X-Supabase-Api-Version",P2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},nW=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,iW=600*1e3;let Go=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function fe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let T2=class extends Go{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function C2(e){return fe(e)&&e.name==="AuthApiError"}let Ii=class extends Go{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},gi=class extends Go{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}},pr=class extends gi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function N2(e){return fe(e)&&e.name==="AuthSessionMissingError"}let ba=class extends gi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},bl=class extends gi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},xl=class extends gi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function R2(e){return fe(e)&&e.name==="AuthImplicitGrantRedirectError"}let Db=class extends gi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},md=class extends gi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function Zu(e){return fe(e)&&e.name==="AuthRetryableFetchError"}let $b=class extends gi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function aW(e){return fe(e)&&e.name==="AuthWeakPasswordError"}let gd=class extends gi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const yd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),i_=` 	
\r=`.split(""),oW=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<i_.length;t+=1)e[i_[t].charCodeAt(0)]=-2;for(let t=0;t<yd.length;t+=1)e[yd[t].charCodeAt(0)]=t;return e})();function a_(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(yd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(yd[n]),t.queuedBits-=6}}function I2(e,t,r){const n=oW[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function o_(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{cW(o,n,r)};for(let o=0;o<e.length;o+=1)I2(e.charCodeAt(o),i,a);return t.join("")}function sW(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function lW(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}sW(n,t)}}function cW(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Do(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)I2(e.charCodeAt(i),r,n);return new Uint8Array(t)}function uW(e){const t=[];return lW(e,r=>t.push(r)),new Uint8Array(t)}function Ta(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>a_(i,r,n)),a_(null,r,n),t.join("")}function dW(e){return Math.round(Date.now()/1e3)+e}function fW(){return Symbol("auth-callback")}const Yt=()=>typeof window<"u"&&typeof document<"u",fa={tested:!1,writable:!1},M2=()=>{if(!Yt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fa.tested)return fa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),fa.tested=!0,fa.writable=!0}catch{fa.tested=!0,fa.writable=!1}return fa.writable};function hW(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const D2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),pW=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",jo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ha=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Gt=async(e,t)=>{await e.removeItem(t)};class eh{constructor(){this.promise=new eh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}eh.promiseConstructor=Promise;function Sp(e){const t=e.split(".");if(t.length!==3)throw new gd("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!nW.test(t[n]))throw new gd("JWT not in base64url format");return{header:JSON.parse(o_(t[0])),payload:JSON.parse(o_(t[1])),signature:Do(t[2]),raw:{header:t[0],payload:t[1]}}}async function mW(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function gW(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function yW(e){return("0"+e.toString(16)).substr(-2)}function vW(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,yW).join("")}async function bW(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function xW(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await bW(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function uo(e,t,r=!1){const n=vW();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await jo(e,`${t}-code-verifier`,i);const a=await xW(n);return[a,n===a?"plain":"s256"]}const wW=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function SW(e){const t=e.headers.get(Mb);if(!t||!t.match(wW))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function _W(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function EW(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const OW=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fo(e){if(!OW.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _p(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function jW(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function s_(e){return JSON.parse(JSON.stringify(e))}const xa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),AW=[502,503,504];async function l_(e){var t;if(!pW(e))throw new md(xa(e),0);if(AW.includes(e.status))throw new md(xa(e),e.status);let r;try{r=await e.json()}catch(a){throw new Ii(xa(a),a)}let n;const i=SW(e);if(i&&i.getTime()>=P2["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new $b(xa(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new pr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new $b(xa(r),e.status,r.weak_password.reasons);throw new T2(xa(r),e.status||500,n)}const kW=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Se(e,t,r,n){var i;const a=Object.assign({},n?.headers);a[Mb]||(a[Mb]=P2["2024-01-01"].name),n?.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await PW(e,t,r+s,{headers:a,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(l):{data:Object.assign({},l),error:null}}async function PW(e,t,r,n,i,a){const o=kW(t,n,i,a);let s;try{s=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new md(xa(l),0)}if(s.ok||await l_(s),n?.noResolveJson)return s;try{return await s.json()}catch(l){await l_(l)}}function sn(e){var t;let r=null;NW(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=dW(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function c_(e){const t=sn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Mi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function TW(e){return{data:e,error:null}}function CW(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,o=na(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function u_(e){return e}function NW(e){return e.access_token&&e.refresh_token&&e.expires_in}const ed=["global","local","others"];let bw=class{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=D2(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=ed[0]){if(ed.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ed.join(", ")}`);try{return await Se(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Se(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Mi})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=na(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:CW,redirectTo:r?.redirectTo})}catch(r){if(fe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Se(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Mi})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:u_});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(y.split(";")[1].split("=")[1]);c[`${g}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(fe(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){fo(t);try{return await Se(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Mi})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){fo(t);try{return await Se(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Mi})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){fo(t);try{return await Se(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Mi})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){fo(t.userId);try{const{data:r,error:n}=await Se(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){fo(t.userId),fo(t.id);try{return{data:await Se(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:u_});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(y.split(";")[1].split("=")[1]);c[`${g}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(fe(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(fe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}};function d_(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const wa={debug:!!(globalThis&&M2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xw extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let $2=class extends xw{};class RW extends xw{}async function L2(e,t,r){wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),wa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new $2(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(wa.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const f_={};async function IW(e,t,r){var n;const i=(n=f_[e])!==null&&n!==void 0?n:Promise.resolve(),a=Promise.race([i.catch(()=>null),t>=0?new Promise((o,s)=>{setTimeout(()=>{s(new RW(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await r());return f_[e]=a.catch(async o=>{if(o&&o.isAcquireTimeout)return await i,null;throw o}),await a}function MW(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function F2(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function DW(e){return parseInt(e,16)}function $W(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function LW(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:c,scheme:u,uri:d,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=F2(e.address),y=u?`${u}://${n}`:n,m=e.statement?`${e.statement}
`:"",g=`${y} wants you to sign in with your Ethereum account:
${p}

${m}`;let v=`URI: ${d}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),s&&(v+=`
Not Before: ${s.toISOString()}`),l&&(v+=`
Request ID: ${l}`),c){let x=`
Resources:`;for(const b of c){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);x+=`
- ${b}`}v+=x}return`${g}
${v}`}class Pt extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class vd extends Pt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function FW({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Pt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Pt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Pt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Pt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Pt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new Pt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Pt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(B2(o)){if(a.rp.id!==o)return new Pt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Pt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Pt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function BW({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Pt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(B2(n)){if(r.rpId!==n)return new Pt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Pt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class qW{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const zW=new qW;function UW(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=na(e,["challenge","user","excludeCredentials"]),a=Do(t).buffer,o=Object.assign(Object.assign({},r),{id:Do(r.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];s.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Do(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function WW(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=na(e,["challenge","allowCredentials"]),i=Do(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const s=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},s),{id:Do(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return a}function HW(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ta(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ta(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function VW(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ta(new Uint8Array(i.authenticatorData)),clientDataJSON:Ta(new Uint8Array(i.clientDataJSON)),signature:Ta(new Uint8Array(i.signature)),userHandle:i.userHandle?Ta(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function B2(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function h_(){var e,t;return!!(Yt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function KW(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new vd("Browser returned unexpected credential type",t)}:{data:null,error:new vd("Empty credential response",t)}}catch(t){return{data:null,error:FW({error:t,options:e})}}}async function GW(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new vd("Browser returned unexpected credential type",t)}:{data:null,error:new vd("Empty credential response",t)}}catch(t){return{data:null,error:BW({error:t,options:e})}}}const YW={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},XW={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function bd(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(t(o)){const s=n[a];t(s)?n[a]=bd(s,o):n[a]=bd(o)}else n[a]=o}return n}function QW(e,t){return bd(YW,e,t||{})}function JW(e,t){return bd(XW,e,t||{})}class ZW{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:s};const l=i??zW.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=QW(o.webauthn.credential_options.publicKey,a?.create),{data:u,error:d}=await KW({publicKey:c,signal:l});return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{const c=JW(o.webauthn.credential_options.publicKey,a?.request),{data:u,error:d}=await GW(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(o){return fe(o)?{data:null,error:o}:{data:null,error:new Ii("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Go("rpId is required for WebAuthn authentication")};try{if(!h_())return{data:null,error:new Ii("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!o)return{data:null,error:s};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return fe(o)?{data:null,error:o}:{data:null,error:new Ii("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Go("rpId is required for WebAuthn registration")};try{if(!h_())return{data:null,error:new Ii("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:s};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return fe(o)?{data:null,error:o}:{data:null,error:new Ii("Unexpected error in register",o)}}}}MW();const eH={url:eW,storageKey:tW,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rW,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function p_(e,t,r){return await r()}const ho={};let ww=class Lb{get jwks(){var t,r;return(r=(t=ho[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ho[this.storageKey]=Object.assign(Object.assign({},ho[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ho[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ho[this.storageKey]=Object.assign(Object.assign({},ho[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},eH),t);if(this.storageKey=a.storageKey,this.instanceID=(r=Lb.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Lb.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Yt()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new bw({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=D2(a.fetch),this.lock=a.lock||p_,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&Yt()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=L2:this.lock=p_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ZW(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:M2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=d_(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=d_(this.memoryStorage)),Yt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${k2}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Yt()&&(r=hW(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Yt()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),R2(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return fe(r)?this._returnResult({error:r}):this._returnResult({error:new Ii("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:sn}),{data:o,error:s}=a;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(fe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:u,password:d,options:h}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await uo(this.storage,this.storageKey)),a=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:u,password:d,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:p,code_challenge_method:y},xform:sn})}else if("phone"in t){const{phone:u,password:d,options:h}=t;a=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=h?.data)!==null&&n!==void 0?n:{},channel:(i=h?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:sn})}else throw new bl("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return await Gt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(await Gt(this.storage,`${this.storageKey}-code-verifier`),fe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:s}=t;r=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:c_})}else if("phone"in t){const{phone:a,password:o,options:s}=t;r=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:c_})}else throw new bl("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new ba;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(fe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,o,s,l,c,u,d,h;let p,y;if("message"in t)p=t.message,y=t.signature;else{const{chain:m,wallet:g,statement:v,options:x}=t;let b;if(Yt())if(typeof g=="object")b=g;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")b=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!x?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const E=new URL((r=x?.url)!==null&&r!==void 0?r:window.location.href),S=await b.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=F2(S[0]);let O=(n=x?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!O){const T=await b.request({method:"eth_chainId"});O=DW(T)}const k={domain:E.host,address:_,statement:v,uri:E.href,version:"1",chainId:O,nonce:(i=x?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=x?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=x?.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=x?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=x?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=x?.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=LW(k),y=await b.request({method:"personal_sign",params:[$W(p),_]})}try{const{data:m,error:g}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:sn});if(g)throw g;if(!m||!m.session||!m.user){const v=new ba;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:g})}catch(m){if(fe(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,i,a,o,s,l,c,u,d,h,p;let y,m;if("message"in t)y=t.message,m=t.signature;else{const{chain:g,wallet:v,statement:x,options:b}=t;let E;if(Yt())if(typeof v=="object")E=v;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))E=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=v}const S=new URL((r=b?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in E&&E.signIn){const _=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b?.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),x?{statement:x}:null));let O;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")O=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)O=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)y=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),m=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(n=b?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=b?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((s=b?.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((c=b?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((d=(u=b?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...b.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const _=await E.signMessage(new TextEncoder().encode(y),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=_}}try{const{data:g,error:v}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Ta(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:sn});if(v)throw v;if(!g||!g.session||!g.user){const x=new ba;return this._returnResult({data:{user:null,session:null},error:x})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:v})}catch(g){if(fe(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(t){const r=await ha(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:o}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:sn});if(await Gt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const s=new ba;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await Gt(this.storage,`${this.storageKey}-code-verifier`),fe(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=t,s=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:sn}),{data:l,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new ba;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(fe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,o;try{if("email"in t){const{email:s,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await uo(this.storage,this.storageKey));const{error:d}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(n=l?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:s,options:l}=t,{data:c,error:u}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(a=l?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:u})}throw new bl("You must provide either an email or phone number.")}catch(s){if(await Gt(this.storage,`${this.storageKey}-code-verifier`),fe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await Se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:sn});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(fe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,a,o;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await uo(this.storage,this.storageKey));const c=await Se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:TW});return!((a=c.data)===null||a===void 0)&&a.url&&Yt()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(s){if(await Gt(this.storage,`${this.storageKey}-code-verifier`),fe(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new pr;const{error:i}=await Se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(fe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:o}=await Se(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:o,error:s}=await Se(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:s})}throw new bl("You must provide either an email or phone number and a type")}catch(r){if(fe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ha(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<wp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await ha(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=_p()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=jW(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Mi}):await this._useSession(async r=>{var n,i,a;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pr}:await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Mi})})}catch(r){if(fe(r))return N2(r)&&(await this._removeSession(),await Gt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new pr;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await uo(this.storage,this.storageKey));const{data:c,error:u}=await Se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:Mi});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await Gt(this.storage,`${this.storageKey}-code-verifier`),fe(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new pr;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=Sp(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(fe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:s}=r;if(s)throw s;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new pr;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(fe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Yt())throw new xl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new xl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Db("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Db("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:c}=t;if(!a||!s||!o||!c)throw new xl("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(s);let h=u+d;l&&(h=parseInt(l));const p=h-u;p*1e3<=Oo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const y=h-d;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,u);const{data:m,error:g}=await this._getUser(a);if(g)throw g;const v={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(n){if(fe(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ha(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(C2(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return t!=="others"&&(await this._removeSession(),await Gt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=fW(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await uo(this.storage,this.storageKey,!0));try{return await Se(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await Gt(this.storage,`${this.storageKey}-code-verifier`),fe(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,s,l,c,u;const{data:d,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Se(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Yt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(fe(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:o,provider:s,token:l,access_token:c,nonce:u}=t,d=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:sn}),{data:h,error:p}=d;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new ba}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(i){if(await Gt(this.storage,`${this.storageKey}-code-verifier`),fe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await Se(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await gW(async i=>(i>0&&await mW(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:sn})),(i,a)=>{const o=200*Math.pow(2,i);return a&&Zu(a)&&Date.now()+o-n<Oo})}catch(n){if(this._debug(r,"error",n),fe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Yt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await ha(this.storage,this.storageKey);if(i&&this.userStorage){let o=await ha(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await jo(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:_p()}else if(i&&!i.user&&!i.user){const o=await ha(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Gt(this.storage,this.storageKey+"-user"),await jo(this.storage,this.storageKey,i)):i.user=_p()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<wp;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${wp}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Zu(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new pr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new eh;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new pr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={data:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),fe(a)){const o={data:null,error:a};return Zu(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,r)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Gt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await jo(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=s_(i);await jo(this.storage,this.storageKey,a)}else{const i=s_(r);await jo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Gt(this.storage,this.storageKey),await Gt(this.storage,this.storageKey+"-code-verifier"),await Gt(this.storage,this.storageKey+"-user"),this.userStorage&&await Gt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Yt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Oo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Oo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Oo}ms, refresh threshold is ${Ib} ticks`),i<=Ib&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof xw)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Yt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await uo(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(n?.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await Se(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await Se(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?HW(t.webauthn.credential_response):VW(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:l}=await Se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await Se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:UW(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:WW(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Sp(n.access_token);let o=null;a.aal&&(o=a.aal);let s=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(s="aal2");const c=a.amr||[];return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Se(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new pr})})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new pr});const o=await Se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&Yt()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(fe(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new pr});const o=await Se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&Yt()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(fe(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new pr})})}catch(t){if(fe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new pr})})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(s=>s.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+iW>i)return n;const{data:a,error:o}=await Se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(s=>s.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:y}=await this.getSession();if(y||!p.session)return this._returnResult({data:null,error:y});n=p.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=Sp(n);r?.allowExpired||_W(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:i,signature:o},error:null}}const u=EW(i.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,uW(`${s}.${l}`)))throw new gd("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(fe(n))return this._returnResult({data:null,error:n});throw n}}};ww.nextInstanceID={};const tH=bw,rH=ww,nH=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:tH,AuthApiError:T2,AuthClient:rH,AuthError:Go,AuthImplicitGrantRedirectError:xl,AuthInvalidCredentialsError:bl,AuthInvalidJwtError:gd,AuthInvalidTokenResponseError:ba,AuthPKCEGrantCodeExchangeError:Db,AuthRetryableFetchError:md,AuthSessionMissingError:pr,AuthUnknownError:Ii,AuthWeakPasswordError:$b,CustomAuthError:gi,GoTrueAdminApi:bw,GoTrueClient:ww,NavigatorLockAcquireTimeoutError:$2,SIGN_OUT_SCOPES:ed,isAuthApiError:C2,isAuthError:fe,isAuthImplicitGrantRedirectError:R2,isAuthRetryableFetchError:Zu,isAuthSessionMissingError:N2,isAuthWeakPasswordError:aW,lockInternals:wa,navigatorLock:L2,processLock:IW},Symbol.toStringTag,{value:"Module"})),q2=Bc(nH);var m_;function iH(){if(m_)return tl;m_=1,Object.defineProperty(tl,"__esModule",{value:!0}),tl.SupabaseAuthClient=void 0;const e=q2;let t=class extends e.AuthClient{constructor(n){super(n)}};return tl.SupabaseAuthClient=t,tl}var g_;function y_(){if(g_)return fu;g_=1,Object.defineProperty(fu,"__esModule",{value:!0});const e=e2,t=o2(),r=p2,n=Y8,i=Q8(),a=J8(),o=Z8(),s=iH();class l{constructor(u,d,h){var p,y,m;this.supabaseUrl=u,this.supabaseKey=d;const g=(0,o.validateSupabaseUrl)(u);if(!d)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const v=`sb-${g.hostname.split(".")[0]}-auth-token`,x={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:v}),global:i.DEFAULT_GLOBAL_OPTIONS},b=(0,o.applySettingDefaults)(h??{},x);this.storageKey=(p=b.auth.storageKey)!==null&&p!==void 0?p:"",this.headers=(y=b.global.headers)!==null&&y!==void 0?y:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(E,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((m=b.auth)!==null&&m!==void 0?m:{},this.headers,b.global.fetch),this.fetch=(0,a.fetchWithAuth)(d,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.accessToken&&this.accessToken().then(E=>this.realtime.setAuth(E)).catch(E=>console.warn("Failed to set initial Realtime auth token:",E)),this.rest=new t.PostgrestClient(new URL("rest/v1",g).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),this.storage=new n.StorageClient(this.storageUrl.href,this.headers,this.fetch,h?.storage),b.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(u){return this.rest.from(u)}schema(u){return this.rest.schema(u)}rpc(u,d={},h={head:!1,get:!1,count:void 0}){return this.rest.rpc(u,d,h)}channel(u,d={config:{}}){return this.realtime.channel(u,d)}getChannels(){return this.realtime.getChannels()}removeChannel(u){return this.realtime.removeChannel(u)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var u,d;if(this.accessToken)return await this.accessToken();const{data:h}=await this.auth.getSession();return(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:u,persistSession:d,detectSessionInUrl:h,storage:p,userStorage:y,storageKey:m,flowType:g,lock:v,debug:x,throwOnError:b},E,S){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new s.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),E),storageKey:m,autoRefreshToken:u,persistSession:d,detectSessionInUrl:h,storage:p,userStorage:y,flowType:g,lock:v,debug:x,throwOnError:b,fetch:S,hasCustomAuthorizationHeader:Object.keys(this.headers).some(O=>O.toLowerCase()==="authorization")})}_initRealtimeClient(u){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},u),{params:Object.assign({apikey:this.supabaseKey},u?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((d,h)=>{this._handleTokenChanged(d,"CLIENT",h?.access_token)})}_handleTokenChanged(u,d,h){(u==="TOKEN_REFRESHED"||u==="SIGNED_IN")&&this.changedAccessToken!==h?(this.changedAccessToken=h,this.realtime.setAuth(h)):u==="SIGNED_OUT"&&(this.realtime.setAuth(),d=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return fu.default=l,fu}var v_;function aH(){return v_||(v_=1,(function(e){var t=Xn&&Xn.__createBinding||(Object.create?(function(u,d,h,p){p===void 0&&(p=h);var y=Object.getOwnPropertyDescriptor(d,h);(!y||("get"in y?!d.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return d[h]}}),Object.defineProperty(u,p,y)}):(function(u,d,h,p){p===void 0&&(p=h),u[p]=d[h]})),r=Xn&&Xn.__exportStar||function(u,d){for(var h in u)h!=="default"&&!Object.prototype.hasOwnProperty.call(d,h)&&t(d,u,h)},n=Xn&&Xn.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=n(y_());r(q2,e);var a=o2();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var o=e2;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),r(p2,e);var s=y_();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return n(s).default}});const l=(u,d,h)=>new i.default(u,d,h);e.createClient=l;function c(){if(typeof window<"u"||typeof process>"u")return!1;const u=process.version;if(u==null)return!1;const d=u.match(/^v(\d+)\./);return d?parseInt(d[1],10)<=18:!1}c()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Xn)),Xn}var z2=aH();const U2=Ue(z2),oH=SB({__proto__:null,default:U2},[z2]),{PostgrestError:H0e,FunctionsHttpError:V0e,FunctionsFetchError:K0e,FunctionsRelayError:G0e,FunctionsError:Y0e,FunctionRegion:X0e,SupabaseClient:Q0e,createClient:sH,GoTrueAdminApi:J0e,GoTrueClient:Z0e,AuthAdminApi:exe,AuthClient:txe,navigatorLock:rxe,NavigatorLockAcquireTimeoutError:nxe,lockInternals:ixe,processLock:axe,SIGN_OUT_SCOPES:oxe,AuthError:sxe,AuthApiError:lxe,AuthUnknownError:cxe,CustomAuthError:uxe,AuthSessionMissingError:dxe,AuthInvalidTokenResponseError:fxe,AuthInvalidCredentialsError:hxe,AuthImplicitGrantRedirectError:pxe,AuthPKCEGrantCodeExchangeError:mxe,AuthRetryableFetchError:gxe,AuthWeakPasswordError:yxe,AuthInvalidJwtError:vxe,isAuthError:bxe,isAuthApiError:xxe,isAuthSessionMissingError:wxe,isAuthImplicitGrantRedirectError:Sxe,isAuthRetryableFetchError:_xe,isAuthWeakPasswordError:Exe,RealtimePresence:Oxe,RealtimeChannel:jxe,RealtimeClient:Axe,REALTIME_LISTEN_TYPES:kxe,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:Pxe,REALTIME_PRESENCE_LISTEN_EVENTS:Txe,REALTIME_SUBSCRIBE_STATES:Cxe,REALTIME_CHANNEL_STATES:Nxe}=U2||oH,lH="https://vestbasnnejekdhiuydr.supabase.co",cH="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZlc3RiYXNubmVqZWtkaGl1eWRyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU2NTQ0NTIsImV4cCI6MjA4MTIzMDQ1Mn0.U170a90MkIIO2yTfmPiqhWpAuUc4eZbUpY1DF0hoRu8",uH=lH,dH=cH,ye=sH(uH,dH,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});function Ye(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function qn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function xd(e,t){const r=Ye(e);return isNaN(t)?qn(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function W2(e,t){const r=Ye(e);if(isNaN(t))return qn(e,NaN);if(!t)return r;const n=r.getDate(),i=qn(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const a=i.getDate();return n>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const Sw=6048e5,fH=864e5,H2=6e4,V2=36e5;let hH={};function th(){return hH}function Jr(e,t){const r=th(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=Ye(e),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function wd(e){return Jr(e,{weekStartsOn:1})}function K2(e){const t=Ye(e),r=t.getFullYear(),n=qn(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=wd(n),a=qn(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=wd(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function kn(e){const t=Ye(e);return t.setHours(0,0,0,0),t}function Sd(e){const t=Ye(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Xl(e,t){const r=kn(e),n=kn(t),i=+r-Sd(r),a=+n-Sd(n);return Math.round((i-a)/fH)}function pH(e){const t=K2(e),r=qn(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),wd(r)}function mH(e,t){const r=t*7;return xd(e,r)}function gH(e,t){return W2(e,t*12)}function ti(e,t){const r=kn(e),n=kn(t);return+r==+n}function yH(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function vH(e){if(!yH(e)&&typeof e!="number")return!1;const t=Ye(e);return!isNaN(Number(t))}function bH(e){const t=Ye(e);return Math.trunc(t.getMonth()/3)+1}function xH(e,t,r){const n=Jr(e,r),i=Jr(t,r),a=+n-Sd(n),o=+i-Sd(i);return Math.round((a-o)/Sw)}function wH(e,t){const r=Ye(e),n=Ye(t),i=b_(r,n),a=Math.abs(Xl(r,n));r.setDate(r.getDate()-i*a);const o=+(b_(r,n)===-i),s=i*(a-o);return s===0?0:s}function b_(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function G2(e){const t=Ye(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function pn(e,t){const r=Ye(e.start),n=Ye(e.end);let i=+r>+n;const a=i?+r:+n,o=i?n:r;o.setHours(0,0,0,0);let s=1;const l=[];for(;+o<=a;)l.push(Ye(o)),o.setDate(o.getDate()+s),o.setHours(0,0,0,0);return i?l.reverse():l}function Ca(e){const t=Ye(e);return t.setDate(1),t.setHours(0,0,0,0),t}function SH(e){const t=Ye(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function _w(e){const t=Ye(e),r=qn(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function _H(e,t){const r=t?.weekStartsOn,n=Ye(e),i=n.getDay(),a=(i<r?-7:0)+6-(i-r);return n.setDate(n.getDate()+a),n.setHours(23,59,59,999),n}const EH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},OH=(e,t,r)=>{let n;const i=EH[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function $o(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const jH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},AH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},PH={date:$o({formats:jH,defaultWidth:"full"}),time:$o({formats:AH,defaultWidth:"full"}),dateTime:$o({formats:kH,defaultWidth:"full"})},TH={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},CH=(e,t,r,n)=>TH[e];function Pn(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,s=r?.width?String(r.width):o;i=e.formattingValues[s]||e.formattingValues[o]}else{const o=e.defaultWidth,s=r?.width?String(r.width):e.defaultWidth;i=e.values[s]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const NH={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},RH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},IH={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},MH={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},DH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},$H={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},LH=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},FH={ordinalNumber:LH,era:Pn({values:NH,defaultWidth:"wide"}),quarter:Pn({values:RH,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Pn({values:IH,defaultWidth:"wide"}),day:Pn({values:MH,defaultWidth:"wide"}),dayPeriod:Pn({values:DH,defaultWidth:"wide",formattingValues:$H,defaultFormattingWidth:"wide"})};function Tn(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?qH(s,d=>d.test(o)):BH(s,d=>d.test(o));let c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const u=t.slice(o.length);return{value:c,rest:u}}}function BH(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function qH(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Y2(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const s=t.slice(i.length);return{value:o,rest:s}}}const zH=/^(\d+)(th|st|nd|rd)?/i,UH=/\d+/i,WH={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},HH={any:[/^b/i,/^(a|c)/i]},VH={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},KH={any:[/1/i,/2/i,/3/i,/4/i]},GH={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},YH={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},XH={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},QH={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},JH={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ZH={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},e6={ordinalNumber:Y2({matchPattern:zH,parsePattern:UH,valueCallback:e=>parseInt(e,10)}),era:Tn({matchPatterns:WH,defaultMatchWidth:"wide",parsePatterns:HH,defaultParseWidth:"any"}),quarter:Tn({matchPatterns:VH,defaultMatchWidth:"wide",parsePatterns:KH,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Tn({matchPatterns:GH,defaultMatchWidth:"wide",parsePatterns:YH,defaultParseWidth:"any"}),day:Tn({matchPatterns:XH,defaultMatchWidth:"wide",parsePatterns:QH,defaultParseWidth:"any"}),dayPeriod:Tn({matchPatterns:JH,defaultMatchWidth:"any",parsePatterns:ZH,defaultParseWidth:"any"})},t6={code:"en-US",formatDistance:OH,formatLong:PH,formatRelative:CH,localize:FH,match:e6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function r6(e){const t=Ye(e);return Xl(t,_w(t))+1}function n6(e){const t=Ye(e),r=+wd(t)-+pH(t);return Math.round(r/Sw)+1}function X2(e,t){const r=Ye(e),n=r.getFullYear(),i=th(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=qn(e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const s=Jr(o,t),l=qn(e,0);l.setFullYear(n,0,a),l.setHours(0,0,0,0);const c=Jr(l,t);return r.getTime()>=s.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function i6(e,t){const r=th(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=X2(e,t),a=qn(e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),Jr(a,t)}function a6(e,t){const r=Ye(e),n=+Jr(r,t)-+i6(r,t);return Math.round(n/Sw)+1}function Xe(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Oi={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Xe(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Xe(r+1,2)},d(e,t){return Xe(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Xe(e.getHours()%12||12,t.length)},H(e,t){return Xe(e.getHours(),t.length)},m(e,t){return Xe(e.getMinutes(),t.length)},s(e,t){return Xe(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Xe(i,t.length)}},po={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},x_={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Oi.y(e,t)},Y:function(e,t,r,n){const i=X2(e,n),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return Xe(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):Xe(a,t.length)},R:function(e,t){const r=K2(e);return Xe(r,t.length)},u:function(e,t){const r=e.getFullYear();return Xe(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Xe(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Xe(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Oi.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Xe(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=a6(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):Xe(i,t.length)},I:function(e,t,r){const n=n6(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Xe(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Oi.d(e,t)},D:function(e,t,r){const n=r6(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Xe(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Xe(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Xe(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return Xe(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=po.noon:n===0?i=po.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=po.evening:n>=12?i=po.afternoon:n>=4?i=po.morning:i=po.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Oi.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Oi.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Xe(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Xe(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Oi.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Oi.s(e,t)},S:function(e,t){return Oi.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return S_(n);case"XXXX":case"XX":return Sa(n);default:return Sa(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return S_(n);case"xxxx":case"xx":return Sa(n);default:return Sa(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+w_(n,":");default:return"GMT"+Sa(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+w_(n,":");default:return"GMT"+Sa(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Xe(n,t.length)},T:function(e,t,r){const n=e.getTime();return Xe(n,t.length)}};function w_(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+Xe(a,2)}function S_(e,t){return e%60===0?(e>0?"-":"+")+Xe(Math.abs(e)/60,2):Sa(e,t)}function Sa(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Xe(Math.trunc(n/60),2),a=Xe(n%60,2);return r+i+t+a}const __=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Q2=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},o6=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return __(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",__(n,t)).replace("{{time}}",Q2(i,t))},s6={p:Q2,P:o6},l6=/^D+$/,c6=/^Y+$/,u6=["D","DD","YY","YYYY"];function d6(e){return l6.test(e)}function f6(e){return c6.test(e)}function h6(e,t,r){const n=p6(e,t,r);if(console.warn(n),u6.includes(e))throw new RangeError(n)}function p6(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const m6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,g6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,y6=/^'([^]*?)'?$/,v6=/''/g,b6=/[a-zA-Z]/;function Re(e,t,r){const n=th(),i=r?.locale??n.locale??t6,a=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=Ye(e);if(!vH(s))throw new RangeError("Invalid time value");let l=t.match(g6).map(u=>{const d=u[0];if(d==="p"||d==="P"){const h=s6[d];return h(u,i.formatLong)}return u}).join("").match(m6).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const d=u[0];if(d==="'")return{isToken:!1,value:x6(u)};if(x_[d])return{isToken:!0,value:u};if(d.match(b6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");return{isToken:!1,value:u}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const c={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return l.map(u=>{if(!u.isToken)return u.value;const d=u.value;(!r?.useAdditionalWeekYearTokens&&f6(d)||!r?.useAdditionalDayOfYearTokens&&d6(d))&&h6(d,t,String(e));const h=x_[d[0]];return h(s,d,i.localize,c)}).join("")}function x6(e){const t=e.match(y6);return t?t[1].replace(v6,"'"):e}function w6(e){return Ye(e).getDate()}function S6(e){return Ye(e).getDay()}function _6(e,t){const r=t?.weekStartsOn,n=w6(e);if(isNaN(n))return NaN;const i=S6(Ca(e));let a=r-i;a<=0&&(a+=7);const o=n-a;return Math.ceil(o/7)+1}function E6(e){const t=Ye(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function O6(e,t){return xH(E6(e),Ca(e),t)+1}function Ti(e,t){const r=Ye(e),n=Ye(t);return r.getTime()>n.getTime()}function On(e,t){const r=Ye(e),n=Ye(t);return+r<+n}function E_(e,t,r){const n=Jr(e,r),i=Jr(t,r);return+n==+i}function Tt(e,t){return xd(e,-t)}function j6(e,t){const n=T6(e);let i;if(n.date){const l=C6(n.date,2);i=N6(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const a=i.getTime();let o=0,s;if(n.time&&(o=R6(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(s=I6(n.timezone),isNaN(s))return new Date(NaN)}else{const l=new Date(a+o),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(a+o+s)}const wu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},A6=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,k6=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,P6=/^([+-])(\d{2})(?::?(\d{2}))?$/;function T6(e){const t={},r=e.split(wu.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],wu.timeZoneDelimiter.test(t.date)&&(t.date=e.split(wu.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const i=wu.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function C6(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((n[1]||n[2]).length)}}function N6(e,t){if(t===null)return new Date(NaN);const r=e.match(A6);if(!r)return new Date(NaN);const n=!!r[4],i=rl(r[1]),a=rl(r[2])-1,o=rl(r[3]),s=rl(r[4]),l=rl(r[5])-1;if(n)return F6(t,s,l)?M6(t,s,l):new Date(NaN);{const c=new Date(0);return!$6(t,a,o)||!L6(t,i)?new Date(NaN):(c.setUTCFullYear(t,a,Math.max(i,o)),c)}}function rl(e){return e?parseInt(e):1}function R6(e){const t=e.match(k6);if(!t)return NaN;const r=Ep(t[1]),n=Ep(t[2]),i=Ep(t[3]);return B6(r,n,i)?r*V2+n*H2+i*1e3:NaN}function Ep(e){return e&&parseFloat(e.replace(",","."))||0}function I6(e){if(e==="Z")return 0;const t=e.match(P6);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return q6(n,i)?r*(n*V2+i*H2):NaN}function M6(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,a=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}const D6=[31,null,31,30,31,30,31,31,30,31,30,31];function J2(e){return e%400===0||e%4===0&&e%100!==0}function $6(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(D6[t]||(J2(e)?29:28))}function L6(e,t){return t>=1&&t<=(J2(e)?366:365)}function F6(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function B6(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function q6(e,t){return t>=0&&t<=59}function O_(e,t){return W2(e,-t)}function z6(e,t){return mH(e,-1)}function U6(e,t){return gH(e,-1)}function mo(e=new Date){return Re(e,"yyyy-MM-dd")}function W6(e,t,r){return!(e<t||r&&e>r)}function Z2(){const e=ro(),{data:t,isLoading:r}=Bn({queryKey:["goals"],queryFn:async()=>{const{data:p,error:y}=await ye.from("goals").select("*").order("created_at",{ascending:!0});if(y)throw Ze.error("Errore caricamento obiettivi"),y;return p}}),{data:n,isLoading:i}=Bn({queryKey:["goal_logs"],queryFn:async()=>{let p=[],y=0;const m=1e3;let g=!0;for(;g;){const{data:v,error:x}=await ye.from("goal_logs").select("*").range(y,y+m-1);if(x)throw console.error(x),x;v&&v.length>0?(p=[...p,...v],v.length<m?g=!1:y+=m):g=!1}return p}}),a={};n&&n.forEach(p=>{a[p.date]||(a[p.date]={}),a[p.date][p.goal_id]=p.status});const o=hn({mutationFn:async p=>{const{data:{session:y}}=await ye.auth.getSession();if(!y)throw new Error("Non sei autenticato. Effettua il login.");const{data:m,error:g}=await ye.from("goals").insert([{title:p.title,color:p.color,start_date:p.start_date||mo(new Date),user_id:y.user.id}]).select().single();if(g)throw g;return m},onSuccess:()=>{e.invalidateQueries({queryKey:["goals"]}),Ze.success("Obiettivo creato")},onError:p=>{Ze.error("Errore creazione: "+p.message)}}),s=hn({mutationFn:async({id:p,title:y,color:m})=>{const{data:{session:g}}=await ye.auth.getSession();if(!g)throw new Error("Non sei autenticato. Effettua il login.");const{error:v}=await ye.from("goals").update({title:y,color:m}).eq("id",p).eq("user_id",g.user.id);if(v)throw v},onSuccess:()=>{e.invalidateQueries({queryKey:["goals"]}),Ze.success("Abitudine aggiornata")},onError:p=>{Ze.error("Errore aggiornamento: "+p.message)}}),l=async p=>{const y=new Date;y.setDate(y.getDate()-1);const{error:m}=await ye.from("goals").update({end_date:mo(y)}).eq("id",p)},c=hn({mutationFn:async p=>{const{count:y,error:m}=await ye.from("goal_logs").select("*",{count:"exact",head:!0}).eq("goal_id",p);if(m)throw m;if(y&&y>0)await l(p);else try{const{error:g}=await ye.from("goals").delete().eq("id",p);g&&(console.warn("Hard delete failed, falling back to soft delete",g),await l(p))}catch(g){console.warn("Hard delete exception, falling back to soft delete",g),await l(p)}},onSuccess:()=>{e.invalidateQueries({queryKey:["goals"]}),Ze.success("Obiettivo eliminato")},onError:p=>{Ze.error("Errore eliminazione: "+p.message)}}),u=hn({mutationFn:async()=>{const{data:{session:p}}=await ye.auth.getSession();if(!p)throw new Error("Not authenticated");const{error:y}=await ye.from("goal_logs").delete().eq("user_id",p.user.id);if(y)throw y;const{error:m}=await ye.from("goals").delete().eq("user_id",p.user.id);if(m)throw m},onSuccess:()=>{e.invalidateQueries({queryKey:["goals"]}),e.invalidateQueries({queryKey:["goal_logs"]}),Ze.success("Reset completo effettuato")},onError:p=>{Ze.error("Errore reset: "+p.message)}}),d=(t||[]).filter(p=>!p.end_date||p.end_date>=mo(new Date)),h=hn({mutationFn:async({goalId:p,date:y,currentStatus:m})=>{const g=mo(y),{data:{session:v}}=await ye.auth.getSession(),{data:x,error:b}=await ye.from("goals").select("start_date, end_date").eq("id",p).single();if(b||!x)throw b||new Error("Goal not found");const E=x;if(!W6(g,E.start_date,E.end_date))throw new Error("Impossibile modificare un obiettivo fuori dal suo periodo di validit.");let S="done";if(m==="done"?S="missed":m==="missed"&&(S=null),S===null){const{error:_}=await ye.from("goal_logs").delete().eq("goal_id",p).eq("date",g);if(_)throw _}else{const{error:_}=await ye.from("goal_logs").upsert({goal_id:p,date:g,status:S,user_id:v?.user.id},{onConflict:"goal_id, date"});if(_)throw _}return{goalId:p,dateStr:g,nextStatus:S}},onMutate:async({goalId:p,date:y,currentStatus:m})=>{await e.cancelQueries({queryKey:["goal_logs"]});const g=e.getQueryData(["goal_logs"]),v=mo(y);let x="done";return m==="done"?x="missed":m==="missed"&&(x=null),e.setQueryData(["goal_logs"],b=>{if(!b)return[];const E=b.filter(S=>!(S.goal_id===p&&S.date===v));return x?[...E,{id:"temp-"+Date.now(),goal_id:p,date:v,status:x,created_at:"",updated_at:""}]:E}),{previousLogs:g}},onError:(p,y,m)=>{e.setQueryData(["goal_logs"],m?.previousLogs),Ze.error("Errore aggiornamento")},onSettled:()=>{e.invalidateQueries({queryKey:["goal_logs"]})}});return{goals:d,allGoals:t||[],logs:a,rawLogs:n||[],isLoading:r||i,createGoal:o.mutate,updateGoal:s.mutate,isUpdating:s.isPending,deleteGoal:c.mutate,isDeleting:c.isPending,resetAllData:u.mutate,isResetting:u.isPending,toggleGoal:async(p,y)=>{const m=mo(p),g=a[m]?.[y]||null;h.mutate({goalId:y,date:p,currentStatus:g})}}}const eI=w.createContext(void 0),H6=({children:e})=>{const[t,r]=w.useState(!1),n=()=>{r(i=>!i)};return f.jsx(eI.Provider,{value:{isPrivacyMode:t,setIsPrivacyMode:r,togglePrivacyMode:n},children:e})},Ew=()=>{const e=w.useContext(eI);if(e===void 0)throw new Error("usePrivacy must be used within a PrivacyProvider");return e},Ow=Df("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),qe=w.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},a)=>{const o=n?hB:"button";return f.jsx(o,{className:Y(Ow({variant:t,size:r,className:e})),ref:a,...i})});qe.displayName="Button";const V6={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXWeeks:{one:"circa una settimana",other:"circa {{count}} settimane"},xWeeks:{one:"una settimana",other:"{{count}} settimane"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"pi di un anno",other:"pi di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}},K6=(e,t,r)=>{let n;const i=V6[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"tra "+n:n+" fa":n},G6={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},Y6={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},X6={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Q6={date:$o({formats:G6,defaultWidth:"full"}),time:$o({formats:Y6,defaultWidth:"full"}),dateTime:$o({formats:X6,defaultWidth:"full"})},jw=["domenica","luned","marted","mercoled","gioved","venerd","sabato"];function J6(e){return e===0?"'domenica scorsa alle' p":"'"+jw[e]+" scorso alle' p"}function j_(e){return"'"+jw[e]+" alle' p"}function Z6(e){return e===0?"'domenica prossima alle' p":"'"+jw[e]+" prossimo alle' p"}const eV={lastWeek:(e,t,r)=>{const n=e.getDay();return E_(e,t,r)?j_(n):J6(n)},yesterday:"'ieri alle' p",today:"'oggi alle' p",tomorrow:"'domani alle' p",nextWeek:(e,t,r)=>{const n=e.getDay();return E_(e,t,r)?j_(n):Z6(n)},other:"P"},tV=(e,t,r,n)=>{const i=eV[e];return typeof i=="function"?i(t,r,n):i},rV={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["avanti Cristo","dopo Cristo"]},nV={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},iV={narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},aV={narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],abbreviated:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","luned","marted","mercoled","gioved","venerd","sabato"]},oV={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"}},sV={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"}},lV=(e,t)=>{const r=Number(e);return String(r)},cV={ordinalNumber:lV,era:Pn({values:rV,defaultWidth:"wide"}),quarter:Pn({values:nV,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Pn({values:iV,defaultWidth:"wide"}),day:Pn({values:aV,defaultWidth:"wide"}),dayPeriod:Pn({values:oV,defaultWidth:"wide",formattingValues:sV,defaultFormattingWidth:"wide"})},uV=/^(\d+)()?/i,dV=/\d+/i,fV={narrow:/^(aC|dC)/i,abbreviated:/^(a\.?\s?C\.?|a\.?\s?e\.?\s?v\.?|d\.?\s?C\.?|e\.?\s?v\.?)/i,wide:/^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i},hV={any:[/^a/i,/^(d|e)/i]},pV={narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234]()? trimestre/i},mV={any:[/1/i,/2/i,/3/i,/4/i]},gV={narrow:/^[gfmalsond]/i,abbreviated:/^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,wide:/^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i},yV={narrow:[/^g/i,/^f/i,/^m/i,/^a/i,/^m/i,/^g/i,/^l/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ge/i,/^f/i,/^mar/i,/^ap/i,/^mag/i,/^gi/i,/^l/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},vV={narrow:/^[dlmgvs]/i,short:/^(do|lu|ma|me|gi|ve|sa)/i,abbreviated:/^(dom|lun|mar|mer|gio|ven|sab)/i,wide:/^(domenica|luned[i|]|marted[i|]|mercoled[i|]|gioved[i|]|venerd[i|]|sabato)/i},bV={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^g/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^me/i,/^g/i,/^v/i,/^s/i]},xV={narrow:/^(a|m\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,any:/^([ap]\.?\s?m\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i},wV={any:{am:/^a/i,pm:/^p/i,midnight:/^mezza/i,noon:/^mezzo/i,morning:/mattina/i,afternoon:/pomeriggio/i,evening:/sera/i,night:/notte/i}},SV={ordinalNumber:Y2({matchPattern:uV,parsePattern:dV,valueCallback:e=>parseInt(e,10)}),era:Tn({matchPatterns:fV,defaultMatchWidth:"wide",parsePatterns:hV,defaultParseWidth:"any"}),quarter:Tn({matchPatterns:pV,defaultMatchWidth:"wide",parsePatterns:mV,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Tn({matchPatterns:gV,defaultMatchWidth:"wide",parsePatterns:yV,defaultParseWidth:"any"}),day:Tn({matchPatterns:vV,defaultMatchWidth:"wide",parsePatterns:bV,defaultParseWidth:"any"}),dayPeriod:Tn({matchPatterns:xV,defaultMatchWidth:"any",parsePatterns:wV,defaultParseWidth:"any"})},Cr={code:"it",formatDistance:K6,formatLong:Q6,formatRelative:tV,localize:cV,match:SV,options:{weekStartsOn:1,firstWeekContainsDate:4}};function Ui(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}var _V="DismissableLayer",Fb="dismissableLayer.update",EV="dismissableLayer.pointerDownOutside",OV="dismissableLayer.focusOutside",A_,tI=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),rI=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=e,c=w.useContext(tI),[u,d]=w.useState(null),h=u?.ownerDocument??globalThis?.document,[,p]=w.useState({}),y=Ee(t,O=>d(O)),m=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(g),x=u?m.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,E=x>=v,S=kV(O=>{const k=O.target,T=[...c.branches].some(j=>j.contains(k));!E||T||(i?.(O),o?.(O),O.defaultPrevented||s?.())},h),_=PV(O=>{const k=O.target;[...c.branches].some(j=>j.contains(k))||(a?.(O),o?.(O),O.defaultPrevented||s?.())},h);return JC(O=>{x===c.layers.size-1&&(n?.(O),!O.defaultPrevented&&s&&(O.preventDefault(),s()))},h),w.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(A_=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),k_(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=A_)}},[u,h,r,c]),w.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),k_())},[u,c]),w.useEffect(()=>{const O=()=>p({});return document.addEventListener(Fb,O),()=>document.removeEventListener(Fb,O)},[]),f.jsx(pe.div,{...l,ref:y,style:{pointerEvents:b?E?"auto":"none":void 0,...e.style},onFocusCapture:Ui(e.onFocusCapture,_.onFocusCapture),onBlurCapture:Ui(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:Ui(e.onPointerDownCapture,S.onPointerDownCapture)})});rI.displayName=_V;var jV="DismissableLayerBranch",AV=w.forwardRef((e,t)=>{const r=w.useContext(tI),n=w.useRef(null),i=Ee(t,n);return w.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),f.jsx(pe.div,{...e,ref:i})});AV.displayName=jV;function kV(e,t=globalThis?.document){const r=Et(e),n=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const a=s=>{if(s.target&&!n.current){let l=function(){nI(EV,r,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function PV(e,t=globalThis?.document){const r=Et(e),n=w.useRef(!1);return w.useEffect(()=>{const i=a=>{a.target&&!n.current&&nI(OV,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function k_(){const e=new CustomEvent(Fb);document.dispatchEvent(e)}function nI(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?zx(i,a):i.dispatchEvent(a)}var Op="focusScope.autoFocusOnMount",jp="focusScope.autoFocusOnUnmount",P_={bubbles:!1,cancelable:!0},TV="FocusScope",Aw=w.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[s,l]=w.useState(null),c=Et(i),u=Et(a),d=w.useRef(null),h=Ee(t,m=>l(m)),p=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(n){let m=function(b){if(p.paused||!s)return;const E=b.target;s.contains(E)?d.current=E:Ai(d.current,{select:!0})},g=function(b){if(p.paused||!s)return;const E=b.relatedTarget;E!==null&&(s.contains(E)||Ai(d.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&Ai(s)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const x=new MutationObserver(v);return s&&x.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),x.disconnect()}}},[n,s,p.paused]),w.useEffect(()=>{if(s){C_.add(p);const m=document.activeElement;if(!s.contains(m)){const v=new CustomEvent(Op,P_);s.addEventListener(Op,c),s.dispatchEvent(v),v.defaultPrevented||(CV(DV(iI(s)),{select:!0}),document.activeElement===m&&Ai(s))}return()=>{s.removeEventListener(Op,c),setTimeout(()=>{const v=new CustomEvent(jp,P_);s.addEventListener(jp,u),s.dispatchEvent(v),v.defaultPrevented||Ai(m??document.body,{select:!0}),s.removeEventListener(jp,u),C_.remove(p)},0)}}},[s,c,u,p]);const y=w.useCallback(m=>{if(!r&&!n||p.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(g&&v){const x=m.currentTarget,[b,E]=NV(x);b&&E?!m.shiftKey&&v===E?(m.preventDefault(),r&&Ai(b,{select:!0})):m.shiftKey&&v===b&&(m.preventDefault(),r&&Ai(E,{select:!0})):v===x&&m.preventDefault()}},[r,n,p.paused]);return f.jsx(pe.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});Aw.displayName=TV;function CV(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ai(n,{select:t}),document.activeElement!==r)return}function NV(e){const t=iI(e),r=T_(t,e),n=T_(t.reverse(),e);return[r,n]}function iI(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function T_(e,t){for(const r of e)if(!RV(r,{upTo:t}))return r}function RV(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function IV(e){return e instanceof HTMLInputElement&&"select"in e}function Ai(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&IV(e)&&t&&e.select()}}var C_=MV();function MV(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=N_(e,t),e.unshift(t)},remove(t){e=N_(e,t),e[0]?.resume()}}}function N_(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function DV(e){return e.filter(t=>t.tagName!=="A")}function $V(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var rh=e=>{const{present:t,children:r}=e,n=LV(t),i=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),a=Ee(n.ref,FV(i));return typeof r=="function"||n.isPresent?w.cloneElement(i,{ref:a}):null};rh.displayName="Presence";function LV(e){const[t,r]=w.useState(),n=w.useRef(null),i=w.useRef(e),a=w.useRef("none"),o=e?"mounted":"unmounted",[s,l]=$V(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const c=Su(n.current);a.current=s==="mounted"?c:"none"},[s]),Nt(()=>{const c=n.current,u=i.current;if(u!==e){const h=a.current,p=Su(c);e?l("MOUNT"):p==="none"||c?.display==="none"?l("UNMOUNT"):l(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Nt(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,d=p=>{const m=Su(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&m&&(l("ANIMATION_END"),!i.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=p=>{p.target===t&&(a.current=Su(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:w.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function Su(e){return e?.animationName||"none"}function FV(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ap=0;function BV(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??R_()),document.body.insertAdjacentElement("beforeend",e[1]??R_()),Ap++,()=>{Ap===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ap--}},[])}function R_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var td="right-scroll-bar-position",rd="width-before-scroll-bar",qV="with-scroll-bars-hidden",zV="--removed-body-scroll-bar-size";function kp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function UV(e,t){var r=w.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var WV=typeof window<"u"?w.useLayoutEffect:w.useEffect,I_=new WeakMap;function HV(e,t){var r=UV(null,function(n){return e.forEach(function(i){return kp(i,n)})});return WV(function(){var n=I_.get(r);if(n){var i=new Set(n),a=new Set(e),o=r.current;i.forEach(function(s){a.has(s)||kp(s,null)}),a.forEach(function(s){i.has(s)||kp(s,o)})}I_.set(r,e)},[e]),r}function VV(e){return e}function KV(e,t){t===void 0&&(t=VV);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(s){return a(s)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var s=r;r=[],s.forEach(a),o=r}var l=function(){var u=o;o=[],u.forEach(a)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),r}}}};return i}function GV(e){e===void 0&&(e={});var t=KV(null);return t.options=Kr({async:!0,ssr:!1},e),t}var aI=function(e){var t=e.sideCar,r=na(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return w.createElement(n,Kr({},r))};aI.isSideCarExport=!0;function YV(e,t){return e.useMedium(t),aI}var oI=GV(),Pp=function(){},nh=w.forwardRef(function(e,t){var r=w.useRef(null),n=w.useState({onScrollCapture:Pp,onWheelCapture:Pp,onTouchMoveCapture:Pp}),i=n[0],a=n[1],o=e.forwardProps,s=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,h=e.sideCar,p=e.noRelative,y=e.noIsolation,m=e.inert,g=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,b=e.gapMode,E=na(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,_=HV([r,t]),O=Kr(Kr({},E),i);return w.createElement(w.Fragment,null,u&&w.createElement(S,{sideCar:oI,removeScrollBar:c,shards:d,noRelative:p,noIsolation:y,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:r,gapMode:b}),o?w.cloneElement(w.Children.only(s),Kr(Kr({},O),{ref:_})):w.createElement(x,Kr({},O,{className:l,ref:_}),s))});nh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};nh.classNames={fullWidth:rd,zeroRight:td};var XV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function QV(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=XV();return t&&e.setAttribute("nonce",t),e}function JV(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ZV(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var e9=function(){var e=0,t=null;return{add:function(r){e==0&&(t=QV())&&(JV(t,r),ZV(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},t9=function(){var e=e9();return function(t,r){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},sI=function(){var e=t9(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},r9={left:0,top:0,right:0,gap:0},Tp=function(e){return parseInt(e||"",10)||0},n9=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Tp(r),Tp(n),Tp(i)]},i9=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return r9;var t=n9(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},a9=sI(),Lo="data-scroll-locked",o9=function(e,t,r,n){var i=e.left,a=e.top,o=e.right,s=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(qV,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(Lo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(td,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(rd,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(td," .").concat(td,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(rd," .").concat(rd,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Lo,`] {
    `).concat(zV,": ").concat(s,`px;
  }
`)},M_=function(){var e=parseInt(document.body.getAttribute(Lo)||"0",10);return isFinite(e)?e:0},s9=function(){w.useEffect(function(){return document.body.setAttribute(Lo,(M_()+1).toString()),function(){var e=M_()-1;e<=0?document.body.removeAttribute(Lo):document.body.setAttribute(Lo,e.toString())}},[])},l9=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;s9();var a=w.useMemo(function(){return i9(i)},[i]);return w.createElement(a9,{styles:o9(a,!t,i,r?"":"!important")})},Bb=!1;if(typeof window<"u")try{var _u=Object.defineProperty({},"passive",{get:function(){return Bb=!0,!0}});window.addEventListener("test",_u,_u),window.removeEventListener("test",_u,_u)}catch{Bb=!1}var go=Bb?{passive:!1}:!1,c9=function(e){return e.tagName==="TEXTAREA"},lI=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!c9(e)&&r[t]==="visible")},u9=function(e){return lI(e,"overflowY")},d9=function(e){return lI(e,"overflowX")},D_=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=cI(e,n);if(i){var a=uI(e,n),o=a[1],s=a[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},f9=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},h9=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},cI=function(e,t){return e==="v"?u9(t):d9(t)},uI=function(e,t){return e==="v"?f9(t):h9(t)},p9=function(e,t){return e==="h"&&t==="rtl"?-1:1},m9=function(e,t,r,n,i){var a=p9(e,window.getComputedStyle(t).direction),o=a*n,s=r.target,l=t.contains(s),c=!1,u=o>0,d=0,h=0;do{if(!s)break;var p=uI(e,s),y=p[0],m=p[1],g=p[2],v=m-g-a*y;(y||v)&&cI(e,s)&&(d+=v,h+=y);var x=s.parentNode;s=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(u&&Math.abs(d)<1||!u&&Math.abs(h)<1)&&(c=!0),c},Eu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},$_=function(e){return[e.deltaX,e.deltaY]},L_=function(e){return e&&"current"in e?e.current:e},g9=function(e,t){return e[0]===t[0]&&e[1]===t[1]},y9=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},v9=0,yo=[];function b9(e){var t=w.useRef([]),r=w.useRef([0,0]),n=w.useRef(),i=w.useState(v9++)[0],a=w.useState(sI)[0],o=w.useRef(e);w.useEffect(function(){o.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=hw([e.lockRef.current],(e.shards||[]).map(L_),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=w.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var v=Eu(m),x=r.current,b="deltaX"in m?m.deltaX:x[0]-v[0],E="deltaY"in m?m.deltaY:x[1]-v[1],S,_=m.target,O=Math.abs(b)>Math.abs(E)?"h":"v";if("touches"in m&&O==="h"&&_.type==="range")return!1;var k=D_(O,_);if(!k)return!0;if(k?S=O:(S=O==="v"?"h":"v",k=D_(O,_)),!k)return!1;if(!n.current&&"changedTouches"in m&&(b||E)&&(n.current=S),!S)return!0;var T=n.current||S;return m9(T,g,m,T==="h"?b:E)},[]),l=w.useCallback(function(m){var g=m;if(!(!yo.length||yo[yo.length-1]!==a)){var v="deltaY"in g?$_(g):Eu(g),x=t.current.filter(function(S){return S.name===g.type&&(S.target===g.target||g.target===S.shadowParent)&&g9(S.delta,v)})[0];if(x&&x.should){g.cancelable&&g.preventDefault();return}if(!x){var b=(o.current.shards||[]).map(L_).filter(Boolean).filter(function(S){return S.contains(g.target)}),E=b.length>0?s(g,b[0]):!o.current.noIsolation;E&&g.cancelable&&g.preventDefault()}}},[]),c=w.useCallback(function(m,g,v,x){var b={name:m,delta:g,target:v,should:x,shadowParent:x9(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(E){return E!==b})},1)},[]),u=w.useCallback(function(m){r.current=Eu(m),n.current=void 0},[]),d=w.useCallback(function(m){c(m.type,$_(m),m.target,s(m,e.lockRef.current))},[]),h=w.useCallback(function(m){c(m.type,Eu(m),m.target,s(m,e.lockRef.current))},[]);w.useEffect(function(){return yo.push(a),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,go),document.addEventListener("touchmove",l,go),document.addEventListener("touchstart",u,go),function(){yo=yo.filter(function(m){return m!==a}),document.removeEventListener("wheel",l,go),document.removeEventListener("touchmove",l,go),document.removeEventListener("touchstart",u,go)}},[]);var p=e.removeScrollBar,y=e.inert;return w.createElement(w.Fragment,null,y?w.createElement(a,{styles:y9(i)}):null,p?w.createElement(l9,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function x9(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const w9=YV(oI,b9);var kw=w.forwardRef(function(e,t){return w.createElement(nh,Kr({},e,{ref:t,sideCar:w9}))});kw.classNames=nh.classNames;var S9=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},vo=new WeakMap,Ou=new WeakMap,ju={},Cp=0,dI=function(e){return e&&(e.host||dI(e.parentNode))},_9=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=dI(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},E9=function(e,t,r,n){var i=_9(t,Array.isArray(e)?e:[e]);ju[r]||(ju[r]=new WeakMap);var a=ju[r],o=[],s=new Set,l=new Set(i),c=function(d){!d||s.has(d)||(s.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(s.has(h))u(h);else try{var p=h.getAttribute(n),y=p!==null&&p!=="false",m=(vo.get(h)||0)+1,g=(a.get(h)||0)+1;vo.set(h,m),a.set(h,g),o.push(h),m===1&&y&&Ou.set(h,!0),g===1&&h.setAttribute(r,"true"),y||h.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return u(t),s.clear(),Cp++,function(){o.forEach(function(d){var h=vo.get(d)-1,p=a.get(d)-1;vo.set(d,h),a.set(d,p),h||(Ou.has(d)||d.removeAttribute(n),Ou.delete(d)),p||d.removeAttribute(r)}),Cp--,Cp||(vo=new WeakMap,vo=new WeakMap,Ou=new WeakMap,ju={})}},fI=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=S9(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),E9(n,i,r,"aria-hidden")):function(){return null}},ih="Dialog",[hI,pI]=br(ih),[O9,xn]=hI(ih),mI=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,s=w.useRef(null),l=w.useRef(null),[c,u]=Ln({prop:n,defaultProp:i??!1,onChange:a,caller:ih});return f.jsx(O9,{scope:t,triggerRef:s,contentRef:l,contentId:ai(),titleId:ai(),descriptionId:ai(),open:c,onOpenChange:u,onOpenToggle:w.useCallback(()=>u(d=>!d),[u]),modal:o,children:r})};mI.displayName=ih;var gI="DialogTrigger",yI=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=xn(gI,r),a=Ee(t,i.triggerRef);return f.jsx(pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Cw(i.open),...n,ref:a,onClick:Ui(e.onClick,i.onOpenToggle)})});yI.displayName=gI;var Pw="DialogPortal",[j9,vI]=hI(Pw,{forceMount:void 0}),bI=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=xn(Pw,t);return f.jsx(j9,{scope:t,forceMount:r,children:w.Children.map(n,o=>f.jsx(rh,{present:r||a.open,children:f.jsx(Ff,{asChild:!0,container:i,children:o})}))})};bI.displayName=Pw;var _d="DialogOverlay",xI=w.forwardRef((e,t)=>{const r=vI(_d,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=xn(_d,e.__scopeDialog);return a.modal?f.jsx(rh,{present:n||a.open,children:f.jsx(k9,{...i,ref:t})}):null});xI.displayName=_d;var A9=zl("DialogOverlay.RemoveScroll"),k9=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=xn(_d,r);return f.jsx(kw,{as:A9,allowPinchZoom:!0,shards:[i.contentRef],children:f.jsx(pe.div,{"data-state":Cw(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Wa="DialogContent",wI=w.forwardRef((e,t)=>{const r=vI(Wa,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=xn(Wa,e.__scopeDialog);return f.jsx(rh,{present:n||a.open,children:a.modal?f.jsx(P9,{...i,ref:t}):f.jsx(T9,{...i,ref:t})})});wI.displayName=Wa;var P9=w.forwardRef((e,t)=>{const r=xn(Wa,e.__scopeDialog),n=w.useRef(null),i=Ee(t,r.contentRef,n);return w.useEffect(()=>{const a=n.current;if(a)return fI(a)},[]),f.jsx(SI,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ui(e.onCloseAutoFocus,a=>{a.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Ui(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&a.preventDefault()}),onFocusOutside:Ui(e.onFocusOutside,a=>a.preventDefault())})}),T9=w.forwardRef((e,t)=>{const r=xn(Wa,e.__scopeDialog),n=w.useRef(!1),i=w.useRef(!1);return f.jsx(SI,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(n.current||r.triggerRef.current?.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;r.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),SI=w.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,s=xn(Wa,r),l=w.useRef(null),c=Ee(t,l);return BV(),f.jsxs(f.Fragment,{children:[f.jsx(Aw,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:f.jsx(rI,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":Cw(s.open),...o,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(N9,{titleId:s.titleId}),f.jsx(I9,{contentRef:l,descriptionId:s.descriptionId})]})]})}),Tw="DialogTitle",_I=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=xn(Tw,r);return f.jsx(pe.h2,{id:i.titleId,...n,ref:t})});_I.displayName=Tw;var EI="DialogDescription",OI=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=xn(EI,r);return f.jsx(pe.p,{id:i.descriptionId,...n,ref:t})});OI.displayName=EI;var jI="DialogClose",AI=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=xn(jI,r);return f.jsx(pe.button,{type:"button",...n,ref:t,onClick:Ui(e.onClick,()=>i.onOpenChange(!1))})});AI.displayName=jI;function Cw(e){return e?"open":"closed"}var kI="DialogTitleWarning",[C9,PI]=CB(kI,{contentName:Wa,titleName:Tw,docsSlug:"dialog"}),N9=({titleId:e})=>{const t=PI(kI),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},R9="DialogDescriptionWarning",I9=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${PI(R9).contentName}}.`;return w.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},ah=mI,oh=yI,sh=bI,Rs=xI,Is=wI,Ms=_I,Ds=OI,lh=AI;const ch=ah,Nw=oh,M9=sh,TI=w.forwardRef(({className:e,...t},r)=>f.jsx(Rs,{ref:r,className:Y("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));TI.displayName=Rs.displayName;const Hc=w.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(M9,{children:[f.jsx(TI,{}),f.jsxs(Is,{ref:n,className:Y("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,f.jsxs(lh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[f.jsx(ks,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Hc.displayName=Is.displayName;const uh=({className:e,...t})=>f.jsx("div",{className:Y("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});uh.displayName="DialogHeader";const CI=({className:e,...t})=>f.jsx("div",{className:Y("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});CI.displayName="DialogFooter";const Vc=w.forwardRef(({className:e,...t},r)=>f.jsx(Ms,{ref:r,className:Y("text-lg font-semibold leading-none tracking-tight",e),...t}));Vc.displayName=Ms.displayName;const Kc=w.forwardRef(({className:e,...t},r)=>f.jsx(Ds,{ref:r,className:Y("text-sm text-muted-foreground",e),...t}));Kc.displayName=Ds.displayName;function Rw({date:e,isOpen:t,onClose:r,habits:n,records:i,onToggleHabit:a,isPrivacyMode:o=!1,readonly:s=!1}){if(!e)return null;const l=Re(e,"yyyy-MM-dd"),c=n.filter(u=>{const d=u.start_date<=l,h=!u.end_date||u.end_date>=l;return d&&h});return f.jsx(ch,{open:t,onOpenChange:r,children:f.jsxs(Hc,{className:"sm:max-w-[400px]",children:[f.jsxs(uh,{children:[f.jsxs("div",{className:"flex items-center justify-between pr-8",children:[f.jsx(Vc,{className:"text-xl font-display capitalize",children:Re(e,"EEEE d MMMM",{locale:Cr})}),s?f.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-muted text-muted-foreground border border-border",children:"Solo visualizzazione"}):f.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-primary/10 text-primary border border-primary/20",children:"Modifica abilitata"})]}),f.jsx(Kc,{className:"sr-only",children:"Dettagli delle attivit giornaliere"})]}),f.jsx("div",{className:"py-2",children:f.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:f.jsx("div",{className:"space-y-3 pr-4",children:c.map(u=>{const h=(i[l]||{})[u.id],p=h==="done",y=h==="missed";return f.jsxs("div",{onClick:()=>!s&&a(u.id),className:Y("flex items-center justify-between p-3 rounded-xl border transition-all",!s&&"cursor-pointer hover:shadow-md hover:scale-[1.02] active:scale-[0.98]",s&&"opacity-90",p&&"bg-success/15 border-success/30",y&&"bg-destructive/15 border-destructive/30",!h&&"bg-card border-border",!h&&!s&&"hover:bg-accent"),children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"h-3 w-3 rounded-full ring-2 ring-offset-2 ring-offset-background",style:{backgroundColor:u.color}}),f.jsx("span",{className:Y("font-medium transition-colors transition-all duration-300",(p||y)&&"text-foreground",o&&"blur-sm"),children:u.title})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[p&&f.jsx(zf,{className:"h-5 w-5 text-success"}),y&&f.jsx(ks,{className:"h-5 w-5 text-destructive"}),!h&&f.jsx("div",{className:"h-5 w-5 rounded-full border-2 border-muted-foreground/30"})]})]},u.id)})})})})]})})}const D9=["Lun","Mar","Mer","Gio","Ven","Sab","Dom"],$9=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"];function L9({habits:e,records:t,onToggleHabit:r,isPrivacyMode:n=!1}){const[i,a]=w.useState(new Date),[o,s]=w.useState(null),l=i.getFullYear(),c=i.getMonth(),u=new Date(l,c,1),d=new Date(l,c+1,0);let h=u.getDay()-1;h<0&&(h=6);const p=d.getDate(),y=new Date,m=()=>a(new Date(l,c-1,1)),g=()=>a(new Date(l,c+1,1)),v=()=>a(new Date),x=O=>y.getDate()===O&&y.getMonth()===c&&y.getFullYear()===l,b=O=>{const k=new Date(l,c,O),T=new Date(y.getFullYear(),y.getMonth(),y.getDate());return k>T},E=h+p,S=Math.ceil(E/7),_=()=>{const O=[];for(let k=0;k<h;k++)O.push(f.jsx("div",{className:"aspect-auto h-full"},`empty-${k}`));for(let k=1;k<=p;k++){const T=new Date(l,c,k),j=Re(T,"yyyy-MM-dd"),A=t[j]||{},N=b(k),D=e.filter(W=>{const z=W.start_date<=j,R=!W.end_date||W.end_date>=j;return z&&R}),M=D.filter(W=>A[W.id]==="done").length,I=D.filter(W=>A[W.id]==="missed").length,L=M+I,B=D.length;let F=0;B>0&&(F=M/B);let $={};const C=L>0;if(C&&B>0){const W=Math.round(F*142);$={backgroundColor:`hsl(${W}, 70%, 10%, 0.3)`,borderColor:`hsl(${W}, 80%, 40%, 0.5)`,boxShadow:F===1?`0 0 10px hsl(${W}, 80%, 40%, 0.2)`:"none"}}O.push(f.jsxs("button",{onClick:()=>!N&&s(T),disabled:N,style:$,className:Y("w-full h-full rounded-xl flex flex-col items-center justify-start py-[clamp(4px,1vw,8px)] transition-all duration-300 relative border border-white/5 hover:border-white/20 hover:bg-white/5 group",N&&"opacity-30 cursor-not-allowed",x(k)&&!C&&"bg-white/5 ring-1 ring-primary/50",!N&&(ti(T,new Date)||ti(T,Tt(new Date,1))&&new Date().getHours()<12)&&"ring-1 ring-primary/30 bg-primary/5"),children:[f.jsx("span",{className:Y("text-[clamp(0.7rem,2.5vw,0.9rem)] font-medium mb-[2px] font-mono-nums transition-all duration-300",x(k)&&"text-primary font-bold",C&&"text-foreground",n&&"blur-[2px]"),children:k}),f.jsx("div",{className:Y("flex flex-wrap items-center justify-center gap-0.5 px-1 w-full max-w-[80%] transition-all duration-300",n&&"blur-[1px]"),children:D.map(W=>{const z=A[W.id];return z?f.jsx("div",{className:Y("w-1 h-1 rounded-sm",z==="done"?"opacity-80":"opacity-0"),style:{backgroundColor:z==="done"?W.color:void 0}},W.id):null})})]},k))}return O};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"w-full h-full p-2 sm:p-4 animate-scale-in flex flex-col",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-6 shrink-0",children:[f.jsx(qe,{variant:"ghost",size:"icon",onClick:m,children:f.jsx(Kx,{className:"h-5 w-5"})}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("h2",{className:"text-xl sm:text-2xl font-display font-bold",children:[$9[c]," ",f.jsx("span",{className:"text-muted-foreground font-light",children:l})]}),f.jsx(qe,{variant:"ghost",size:"icon",onClick:v,className:"h-8 w-8 ml-2 opacity-0 hover:opacity-100 transition-opacity",children:f.jsx(PN,{className:"h-3 w-3"})})]}),f.jsx(qe,{variant:"ghost",size:"icon",onClick:g,children:f.jsx(Gx,{className:"h-5 w-5"})})]}),f.jsx("div",{className:"grid grid-cols-7 gap-x-[clamp(4px,1.5vw,12px)] mb-2 shrink-0",children:D9.map(O=>f.jsx("div",{className:"text-center text-[10px] sm:text-xs font-semibold text-muted-foreground uppercase tracking-wider py-2",children:O},O))}),f.jsx("div",{className:"grid grid-cols-7 gap-[clamp(2px,1vw,8px)] flex-1 min-h-0",style:{gridTemplateRows:`repeat(${S}, 1fr)`},children:_()})]}),f.jsx(Rw,{isOpen:!!o,onClose:()=>s(null),date:o,habits:e,records:t,onToggleHabit:O=>o&&r(o,O),isPrivacyMode:n,readonly:o?!(ti(o,new Date)||ti(o,Tt(new Date,1))&&new Date().getHours()<12):!0})]})}function F9({habits:e,records:t,onToggleHabit:r,isPrivacyMode:n=!1}){const i=w.useMemo(()=>new Date,[]),[a,o]=w.useState(new Date),s=w.useMemo(()=>Jr(a,{weekStartsOn:1}),[a]),l=w.useMemo(()=>_H(a,{weekStartsOn:1}),[a]),[c,u]=w.useState(null),d=w.useMemo(()=>Array.from({length:7}).map((m,g)=>xd(s,g)),[s]),h=()=>{o(m=>Tt(m,7))},p=()=>{o(m=>xd(m,7))},y=w.useMemo(()=>{const m=Re(s,"d",{locale:Cr}),g=Re(l,"d MMMM",{locale:Cr});return`${m} - ${g}`},[s,l]);return ti(Jr(i,{weekStartsOn:1}),s),f.jsxs("div",{className:"w-full h-full p-2 sm:p-4 animate-scale-in flex flex-col",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-6",children:[f.jsx("h2",{className:"text-xl font-display font-bold capitalize",children:y}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:h,className:"p-2 rounded-lg hover:bg-white/5 transition-colors active:scale-95",children:f.jsx(Kx,{className:"w-5 h-5"})}),f.jsx("button",{onClick:p,className:"p-2 rounded-lg hover:bg-white/5 transition-colors active:scale-95",children:f.jsx(Gx,{className:"w-5 h-5"})})]})]}),f.jsx("div",{className:"grid grid-cols-7 gap-2 sm:gap-4 flex-1 h-full overflow-hidden",children:d.map(m=>{const g=Re(m,"yyyy-MM-dd"),v=t[g]||{},x=ti(m,i),b=new Date(i);b.setHours(0,0,0,0);const E=m>b;return f.jsxs("div",{className:"flex flex-col gap-2 h-full overflow-hidden",children:[f.jsxs("button",{onClick:()=>!E&&u(m),disabled:E,className:Y("text-center py-2 rounded-xl border border-transparent transition-all w-full shrink-0",x&&"bg-primary/10 border-primary/20 text-primary",!E&&"hover:bg-white/5 hover:border-white/10 cursor-pointer active:scale-95",E&&"opacity-50 cursor-default"),children:[f.jsx("div",{className:"text-[10px] uppercase font-bold opacity-60",children:Re(m,"EEE",{locale:Cr})}),f.jsx("div",{className:"text-lg font-mono font-bold",children:Re(m,"d")})]}),f.jsx("div",{className:Y("flex flex-col gap-2 transition-all duration-300 flex-1 h-full",n&&"blur-[2px]"),children:e.map(S=>{const _=S.start_date<=g,O=S.end_date&&S.end_date<g;if(!_||O)return f.jsx("div",{className:"flex-1 rounded-xl invisible"},S.id);const k=v[S.id];return f.jsx("button",{disabled:E,onClick:()=>u(m),className:Y("flex-1 w-full rounded-xl border border-white/5 flex items-center justify-center transition-all hover:border-white/20 min-h-0",E&&"opacity-30 cursor-not-allowed",!E&&"cursor-pointer hover:bg-white/10",k==="done"&&"opacity-100 shadow-[0_0_10px_currentColor]",k==="missed"&&"opacity-50 grayscale",!k&&!E&&"bg-white/5"),style:{backgroundColor:k==="done"?S.color:void 0,color:S.color}},S.id)})})]},g)})}),f.jsx(Rw,{isOpen:!!c,onClose:()=>u(null),date:c,habits:e,records:t,onToggleHabit:m=>c&&r(c,m),isPrivacyMode:n,readonly:!0})]})}const B9=["GEN","FEB","MAR","APR","MAG","GIU","LUG","AGO","SET","OTT","NOV","DIC"];function q9({habits:e,records:t,onToggleHabit:r,isPrivacyMode:n=!1}){const[i,a]=w.useState(new Date),[o,s]=w.useState(null),l=i.getFullYear(),c=new Date,u=()=>a(new Date(l-1,0,1)),d=()=>a(new Date(l+1,0,1)),h=()=>a(new Date),p=v=>ti(c,v),y=v=>v>c,m=w.useMemo(()=>Array.from({length:12},(v,x)=>{const b=new Date(l,x,1),E=pn({start:Ca(b),end:G2(b)});return{monthIndex:x,days:E}}),[l]),g=v=>{const x=Re(v,"yyyy-MM-dd"),b=t[x]||{},E=y(v),S=Re(v,"d MMMM yyyy",{locale:Cr}),_=e.filter(M=>{const I=M.start_date<=x,L=!M.end_date||M.end_date>=x;return I&&L}),O=_.filter(M=>b[M.id]==="done").length,k=_.filter(M=>b[M.id]==="missed").length,T=O+k,j=_.length;let A=0;j>0&&(A=O/j);let N={};const D=T>0;if(D&&j>0){const M=Math.round(A*142);N={backgroundColor:`hsl(${M}, 70%, 25%)`,borderColor:`hsl(${M}, 80%, 50%)`}}return f.jsx(mR,{children:f.jsxs(hU,{delayDuration:0,children:[f.jsx(pU,{asChild:!0,children:f.jsx("button",{onClick:()=>!E&&s(v),disabled:E,style:N,className:Y("w-full h-full rounded-[2px] flex items-center justify-center transition-all duration-200 relative border border-white/5 hover:border-white/40 hover:scale-110 hover:z-10",E&&"opacity-20 cursor-not-allowed border-none bg-white/5",!E&&!D&&"bg-white/5",p(v)&&!D&&"ring-1 ring-primary/50 bg-primary/10")})}),f.jsxs(gR,{className:"bg-background/90 backdrop-blur border-white/10 text-xs",children:[f.jsx("p",{className:"capitalize font-medium",children:S}),_.length>0&&f.jsxs("p",{className:"text-muted-foreground",children:[O,"/",_.length," completate"]})]})]})},x)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"w-full h-full p-2 sm:p-6 animate-scale-in flex flex-col overflow-hidden",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4 shrink-0",children:[f.jsx(qe,{variant:"ghost",size:"icon",onClick:u,children:f.jsx(Kx,{className:"h-5 w-5"})}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h2",{className:"text-xl sm:text-2xl font-display font-bold",children:f.jsx("span",{className:"text-foreground",children:l})}),f.jsx(qe,{variant:"ghost",size:"icon",onClick:h,className:"h-8 w-8 ml-2 opacity-0 hover:opacity-100 transition-opacity",children:f.jsx(PN,{className:"h-3 w-3"})})]}),f.jsx(qe,{variant:"ghost",size:"icon",onClick:d,children:f.jsx(Gx,{className:"h-5 w-5"})})]}),f.jsx("div",{className:"flex-1 min-h-0 grid grid-cols-2 gap-x-6 gap-y-2",children:m.map(({monthIndex:v,days:x})=>f.jsxs("div",{className:"flex items-center gap-2 min-h-0",children:[f.jsx("span",{className:"text-[10px] font-bold text-muted-foreground w-8 shrink-0",children:B9[v]}),f.jsx("div",{className:"flex-1 h-full grid gap-[2px]",style:{gridTemplateColumns:`repeat(${x.length}, 1fr)`},children:x.map(b=>g(b))})]},v))})]}),f.jsx(Rw,{isOpen:!!o,onClose:()=>s(null),date:o,habits:e,records:t,onToggleHabit:v=>o&&r(o,v),isPrivacyMode:n,readonly:o?!(ti(o,new Date)||ti(o,Tt(new Date,1))&&new Date().getHours()<12):!0})]})}const ea=w.forwardRef(({className:e,type:t,...r},n)=>f.jsx("input",{type:t,className:Y("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ea.displayName="Input";var z9="Label",NI=w.forwardRef((e,t)=>f.jsx(pe.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));NI.displayName=z9;var RI=NI;const U9=Df("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Nn=w.forwardRef(({className:e,...t},r)=>f.jsx(RI,{ref:r,className:Y(U9(),e),...t}));Nn.displayName=RI.displayName;function dh(){return(dh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function II(e,t){if(e==null)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||(i[r]=e[r]);return i}function qb(e){var t=w.useRef(e),r=w.useRef(function(n){t.current&&t.current(n)});return t.current=e,r.current}var Ql=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=1),e>r?r:e<t?t:e},Pl=function(e){return"touches"in e},zb=function(e){return e&&e.ownerDocument.defaultView||self},F_=function(e,t,r){var n=e.getBoundingClientRect(),i=Pl(t)?(function(a,o){for(var s=0;s<a.length;s++)if(a[s].identifier===o)return a[s];return a[0]})(t.touches,r):t;return{left:Ql((i.pageX-(n.left+zb(e).pageXOffset))/n.width),top:Ql((i.pageY-(n.top+zb(e).pageYOffset))/n.height)}},B_=function(e){!Pl(e)&&e.preventDefault()},MI=P.memo(function(e){var t=e.onMove,r=e.onKey,n=II(e,["onMove","onKey"]),i=w.useRef(null),a=qb(t),o=qb(r),s=w.useRef(null),l=w.useRef(!1),c=w.useMemo(function(){var p=function(g){B_(g),(Pl(g)?g.touches.length>0:g.buttons>0)&&i.current?a(F_(i.current,g,s.current)):m(!1)},y=function(){return m(!1)};function m(g){var v=l.current,x=zb(i.current),b=g?x.addEventListener:x.removeEventListener;b(v?"touchmove":"mousemove",p),b(v?"touchend":"mouseup",y)}return[function(g){var v=g.nativeEvent,x=i.current;if(x&&(B_(v),!(function(E,S){return S&&!Pl(E)})(v,l.current)&&x)){if(Pl(v)){l.current=!0;var b=v.changedTouches||[];b.length&&(s.current=b[0].identifier)}x.focus(),a(F_(x,v,s.current)),m(!0)}},function(g){var v=g.which||g.keyCode;v<37||v>40||(g.preventDefault(),o({left:v===39?.05:v===37?-.05:0,top:v===40?.05:v===38?-.05:0}))},m]},[o,a]),u=c[0],d=c[1],h=c[2];return w.useEffect(function(){return h},[h]),P.createElement("div",dh({},n,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:i,onKeyDown:d,tabIndex:0,role:"slider"}))}),Iw=function(e){return e.filter(Boolean).join(" ")},DI=function(e){var t=e.color,r=e.left,n=e.top,i=n===void 0?.5:n,a=Iw(["react-colorful__pointer",e.className]);return P.createElement("div",{className:a,style:{top:100*i+"%",left:100*r+"%"}},P.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},Jt=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=Math.pow(10,t)),Math.round(r*e)/r},W9=function(e){return Y9(Ub(e))},Ub=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Jt(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?Jt(parseInt(e.substring(6,8),16)/255,2):1}},H9=function(e){return G9(K9(e))},V9=function(e){var t=e.s,r=e.v,n=e.a,i=(200-t)*r/100;return{h:Jt(e.h),s:Jt(i>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0),l:Jt(i/2),a:Jt(n,2)}},Wb=function(e){var t=V9(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},K9=function(e){var t=e.h,r=e.s,n=e.v,i=e.a;t=t/360*6,r/=100,n/=100;var a=Math.floor(t),o=n*(1-r),s=n*(1-(t-a)*r),l=n*(1-(1-t+a)*r),c=a%6;return{r:Jt(255*[n,s,o,o,l,n][c]),g:Jt(255*[l,n,n,s,o,o][c]),b:Jt(255*[o,o,l,n,n,s][c]),a:Jt(i,2)}},Au=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},G9=function(e){var t=e.r,r=e.g,n=e.b,i=e.a,a=i<1?Au(Jt(255*i)):"";return"#"+Au(t)+Au(r)+Au(n)+a},Y9=function(e){var t=e.r,r=e.g,n=e.b,i=e.a,a=Math.max(t,r,n),o=a-Math.min(t,r,n),s=o?a===t?(r-n)/o:a===r?2+(n-t)/o:4+(t-r)/o:0;return{h:Jt(60*(s<0?s+6:s)),s:Jt(a?o/a*100:0),v:Jt(a/255*100),a:i}},X9=P.memo(function(e){var t=e.hue,r=e.onChange,n=Iw(["react-colorful__hue",e.className]);return P.createElement("div",{className:n},P.createElement(MI,{onMove:function(i){r({h:360*i.left})},onKey:function(i){r({h:Ql(t+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":Jt(t),"aria-valuemax":"360","aria-valuemin":"0"},P.createElement(DI,{className:"react-colorful__hue-pointer",left:t/360,color:Wb({h:t,s:100,v:100,a:1})})))}),Q9=P.memo(function(e){var t=e.hsva,r=e.onChange,n={backgroundColor:Wb({h:t.h,s:100,v:100,a:1})};return P.createElement("div",{className:"react-colorful__saturation",style:n},P.createElement(MI,{onMove:function(i){r({s:100*i.left,v:100-100*i.top})},onKey:function(i){r({s:Ql(t.s+100*i.left,0,100),v:Ql(t.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Jt(t.s)+"%, Brightness "+Jt(t.v)+"%"},P.createElement(DI,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:Wb(t)})))}),$I=function(e,t){if(e===t)return!0;for(var r in e)if(e[r]!==t[r])return!1;return!0},J9=function(e,t){return e.toLowerCase()===t.toLowerCase()||$I(Ub(e),Ub(t))};function Z9(e,t,r){var n=qb(r),i=w.useState(function(){return e.toHsva(t)}),a=i[0],o=i[1],s=w.useRef({color:t,hsva:a});w.useEffect(function(){if(!e.equal(t,s.current.color)){var c=e.toHsva(t);s.current={hsva:c,color:t},o(c)}},[t,e]),w.useEffect(function(){var c;$I(a,s.current.hsva)||e.equal(c=e.fromHsva(a),s.current.color)||(s.current={hsva:a,color:c},n(c))},[a,e,n]);var l=w.useCallback(function(c){o(function(u){return Object.assign({},u,c)})},[]);return[a,l]}var eK=typeof window<"u"?w.useLayoutEffect:w.useEffect,tK=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},q_=new Map,rK=function(e){eK(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!q_.has(t)){var r=t.createElement("style");r.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,q_.set(t,r);var n=tK();n&&r.setAttribute("nonce",n),t.head.appendChild(r)}},[])},nK=function(e){var t=e.className,r=e.colorModel,n=e.color,i=n===void 0?r.defaultColor:n,a=e.onChange,o=II(e,["className","colorModel","color","onChange"]),s=w.useRef(null);rK(s);var l=Z9(r,i,a),c=l[0],u=l[1],d=Iw(["react-colorful",t]);return P.createElement("div",dh({},o,{ref:s,className:d}),P.createElement(Q9,{hsva:c,onChange:u}),P.createElement(X9,{hue:c.h,onChange:u,className:"react-colorful__last-control"}))},iK={defaultColor:"000",toHsva:W9,fromHsva:function(e){return H9({h:e.h,s:e.s,v:e.v,a:1})},equal:J9},aK=function(e){return P.createElement(nK,dh({},e,{colorModel:iK}))};const oK=ah,sK=oh,lK=sh,LI=w.forwardRef(({className:e,...t},r)=>f.jsx(Rs,{className:Y("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));LI.displayName=Rs.displayName;const cK=Df("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),FI=w.forwardRef(({side:e="right",className:t,children:r,...n},i)=>f.jsxs(lK,{children:[f.jsx(LI,{}),f.jsxs(Is,{ref:i,className:Y(cK({side:e}),t),...n,children:[r,f.jsxs(lh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[f.jsx(ks,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));FI.displayName=Is.displayName;const BI=({className:e,...t})=>f.jsx("div",{className:Y("flex flex-col space-y-2 text-center sm:text-left",e),...t});BI.displayName="SheetHeader";const qI=w.forwardRef(({className:e,...t},r)=>f.jsx(Ms,{ref:r,className:Y("text-lg font-semibold text-foreground",e),...t}));qI.displayName=Ms.displayName;const uK=w.forwardRef(({className:e,...t},r)=>f.jsx(Ds,{ref:r,className:Y("text-sm text-muted-foreground",e),...t}));uK.displayName=Ds.displayName;const dK=[{name:"Green",hex:"#4ade80"},{name:"Blue",hex:"#3b82f6"},{name:"Purple",hex:"#a855f7"},{name:"Red",hex:"#ef4444"},{name:"Orange",hex:"#f97316"},{name:"Pink",hex:"#ec4899"},{name:"Teal",hex:"#14b8a6"},{name:"Yellow",hex:"#eab308"}];function z_(e){const t=e.match(/hsl\((\d+)\s+(\d+)%\s+(\d+)%\)/);if(!t)return e.startsWith("#")?e:"#4ade80";const r=parseInt(t[1])/360,n=parseInt(t[2])/100,i=parseInt(t[3])/100,a=(u,d,h)=>(h<0&&(h+=1),h>1&&(h-=1),h<1/6?u+(d-u)*6*h:h<1/2?d:h<2/3?u+(d-u)*(2/3-h)*6:u);let o,s,l;if(n===0)o=s=l=i;else{const u=i<.5?i*(1+n):i+n-i*n,d=2*i-u;o=a(d,u,r+1/3),s=a(d,u,r),l=a(d,u,r-1/3)}const c=u=>{const d=Math.round(u*255).toString(16);return d.length===1?"0"+d:d};return`#${c(o)}${c(s)}${c(l)}`}function U_(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(!t)return e;const r=parseInt(t[1],16)/255,n=parseInt(t[2],16)/255,i=parseInt(t[3],16)/255,a=Math.max(r,n,i),o=Math.min(r,n,i);let s=0,l=0;const c=(a+o)/2;if(a!==o){const u=a-o;switch(l=c>.5?u/(2-a-o):u/(a+o),a){case r:s=((n-i)/u+(n<i?6:0))/6;break;case n:s=((i-r)/u+2)/6;break;case i:s=((r-n)/u+4)/6;break}}return`hsl(${Math.round(s*360)} ${Math.round(l*100)}% ${Math.round(c*100)}%)`}function Hb({value:e,onChange:t,className:r,showValueLabel:n=!0}){const[i,a]=w.useState(()=>z_(e)),[o,s]=w.useState(!1);w.useEffect(()=>{a(z_(e))},[e]);const l=u=>{a(u),t(U_(u))},c=u=>{a(u),t(U_(u))};return f.jsxs(oK,{open:o,onOpenChange:s,children:[f.jsx(sK,{asChild:!0,children:f.jsxs(qe,{type:"button",variant:"outline",className:Y("w-full justify-start gap-3 h-10 rounded-xl bg-black/20 border-white/10 hover:bg-white/5",!n&&"justify-center px-0 gap-0",r),children:[f.jsx("div",{className:"h-5 w-5 rounded-full shadow-[0_0_10px_currentColor] shrink-0",style:{backgroundColor:i,color:i}}),n&&f.jsx("span",{className:"font-mono text-sm uppercase tracking-wider",children:i})]})}),f.jsxs(FI,{side:"bottom",className:"bg-[#0a0a0a]/95 backdrop-blur-2xl border-white/10",children:[f.jsx(BI,{className:"pb-4",children:f.jsx(qI,{children:"Seleziona Colore"})}),f.jsxs("div",{className:"space-y-6 pb-6 max-w-md mx-auto",children:[f.jsx("div",{className:"flex justify-center",children:f.jsx(aK,{color:i,onChange:l,style:{width:"100%",height:"180px"}})}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Nn,{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Codice HEX"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"h-12 w-12 rounded-xl border border-white/10 shrink-0 shadow-[0_0_15px_currentColor]",style:{backgroundColor:i,color:i}}),f.jsxs("div",{className:"flex-1 relative",children:[f.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground font-mono text-lg",children:"#"}),f.jsx(ea,{value:i.replace("#",""),onChange:u=>{const d=u.target.value.replace(/[^a-fA-F0-9]/g,"").slice(0,6);d.length===6?l("#"+d):a("#"+d)},className:"pl-10 font-mono uppercase bg-black/30 border-white/10 h-12 rounded-xl text-lg",maxLength:6,placeholder:"4ade80"})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Nn,{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Colori Rapidi"}),f.jsx("div",{className:"grid grid-cols-8 gap-2",children:dK.map(u=>f.jsx("button",{type:"button",onClick:()=>c(u.hex),className:Y("aspect-square w-full rounded-xl border-2 transition-all hover:scale-110 shadow-[0_0_8px_currentColor]",i.toLowerCase()===u.hex.toLowerCase()?"border-white scale-110":"border-transparent"),style:{backgroundColor:u.hex,color:u.hex},title:u.name},u.hex))})]}),f.jsx(qe,{onClick:()=>s(!1),className:"w-full h-12 rounded-xl text-base",children:"Conferma Colore"})]})]})]})}function fK(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}var zI="AlertDialog",[hK]=br(zI,[pI]),yi=pI(),UI=e=>{const{__scopeAlertDialog:t,...r}=e,n=yi(t);return f.jsx(ah,{...n,...r,modal:!0})};UI.displayName=zI;var pK="AlertDialogTrigger",WI=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=yi(r);return f.jsx(oh,{...i,...n,ref:t})});WI.displayName=pK;var mK="AlertDialogPortal",HI=e=>{const{__scopeAlertDialog:t,...r}=e,n=yi(t);return f.jsx(sh,{...n,...r})};HI.displayName=mK;var gK="AlertDialogOverlay",VI=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=yi(r);return f.jsx(Rs,{...i,...n,ref:t})});VI.displayName=gK;var Fo="AlertDialogContent",[yK,vK]=hK(Fo),bK=GC("AlertDialogContent"),KI=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...i}=e,a=yi(r),o=w.useRef(null),s=Ee(t,o),l=w.useRef(null);return f.jsx(C9,{contentName:Fo,titleName:GI,docsSlug:"alert-dialog",children:f.jsx(yK,{scope:r,cancelRef:l,children:f.jsxs(Is,{role:"alertdialog",...a,...i,ref:s,onOpenAutoFocus:fK(i.onOpenAutoFocus,c=>{c.preventDefault(),l.current?.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[f.jsx(bK,{children:n}),f.jsx(wK,{contentRef:o})]})})})});KI.displayName=Fo;var GI="AlertDialogTitle",YI=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=yi(r);return f.jsx(Ms,{...i,...n,ref:t})});YI.displayName=GI;var XI="AlertDialogDescription",QI=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=yi(r);return f.jsx(Ds,{...i,...n,ref:t})});QI.displayName=XI;var xK="AlertDialogAction",JI=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=yi(r);return f.jsx(lh,{...i,...n,ref:t})});JI.displayName=xK;var ZI="AlertDialogCancel",eM=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:i}=vK(ZI,r),a=yi(r),o=Ee(t,i);return f.jsx(lh,{...a,...n,ref:o})});eM.displayName=ZI;var wK=({contentRef:e})=>{const t=`\`${Fo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Fo}\` by passing a \`${XI}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Fo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},SK=UI,_K=WI,EK=HI,tM=VI,rM=KI,nM=JI,iM=eM,aM=YI,oM=QI;const $a=SK,Yo=_K,OK=EK,sM=w.forwardRef(({className:e,...t},r)=>f.jsx(tM,{className:Y("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));sM.displayName=tM.displayName;const Wi=w.forwardRef(({className:e,...t},r)=>f.jsxs(OK,{children:[f.jsx(sM,{}),f.jsx(rM,{ref:r,className:Y("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Wi.displayName=rM.displayName;const Hi=({className:e,...t})=>f.jsx("div",{className:Y("flex flex-col space-y-2 text-center sm:text-left",e),...t});Hi.displayName="AlertDialogHeader";const Vi=({className:e,...t})=>f.jsx("div",{className:Y("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Vi.displayName="AlertDialogFooter";const Ki=w.forwardRef(({className:e,...t},r)=>f.jsx(aM,{ref:r,className:Y("text-lg font-semibold",e),...t}));Ki.displayName=aM.displayName;const Gi=w.forwardRef(({className:e,...t},r)=>f.jsx(oM,{ref:r,className:Y("text-sm text-muted-foreground",e),...t}));Gi.displayName=oM.displayName;const Yi=w.forwardRef(({className:e,...t},r)=>f.jsx(nM,{ref:r,className:Y(Ow(),e),...t}));Yi.displayName=nM.displayName;const Ha=w.forwardRef(({className:e,...t},r)=>f.jsx(iM,{ref:r,className:Y(Ow({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Ha.displayName=iM.displayName;function jK({habits:e,onAddHabit:t,onRemoveHabit:r,onUpdateHabit:n,isDeleting:i,isUpdating:a,isPrivacyMode:o=!1}){const[s,l]=w.useState(!1),c=w.useMemo(()=>[...e].sort((k,T)=>new Date(k.created_at).getTime()-new Date(T.created_at).getTime()),[e]),[u,d]=w.useState(""),[h,p]=w.useState("hsl(145 55% 42%)"),[y,m]=w.useState(null),[g,v]=w.useState(""),[x,b]=w.useState(""),E=()=>{u.trim()&&(t({title:u,color:h}),d(""),p("hsl(145 55% 42%)"))},S=k=>{m(k),v(k.title),b(k.color)},_=()=>{m(null),v(""),b("")},O=()=>{y&&g.trim()&&n&&(n({id:y.id,title:g.trim(),color:x}),_())};return f.jsxs(ch,{open:s,onOpenChange:l,children:[f.jsx(Nw,{asChild:!0,children:f.jsx(qe,{variant:"outline",size:"icon",className:"h-10 w-10 sm:h-9 sm:w-9",children:f.jsx(B4,{className:"h-4 w-4"})})}),f.jsxs(Hc,{className:"sm:max-w-[425px] max-h-[85vh] flex flex-col bg-[#0a0a0a]/90 backdrop-blur-2xl border-white/10 text-foreground p-0 gap-0",children:[f.jsxs(uh,{className:"p-6 pb-2 shrink-0",children:[f.jsx(Vc,{children:"Gestisci Abitudini"}),f.jsx(Kc,{children:"Aggiungi, modifica o rimuovi le abitudini che vuoi tracciare."})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-6 pt-2 space-y-8",children:[f.jsxs("div",{className:"space-y-4 p-4 rounded-2xl bg-white/5 border border-white/10 backdrop-blur-md",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/20 flex items-center justify-center text-primary",children:f.jsx(cb,{className:"h-4 w-4"})}),f.jsx("h4",{className:"text-sm font-display font-bold",children:"Nuova Abitudine"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx(Nn,{className:"text-xs uppercase tracking-wider text-muted-foreground ml-1",children:"Nome"}),f.jsx(ea,{placeholder:"Es. Bere acqua, Leggere...",value:u,onChange:k=>d(k.target.value),className:"bg-black/30 border-white/10 h-10 rounded-xl"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx(Nn,{className:"text-xs uppercase tracking-wider text-muted-foreground ml-1",children:"Colore"}),f.jsx(Hb,{value:h,onChange:p})]}),f.jsx(qe,{onClick:E,disabled:!u.trim(),className:"w-full rounded-xl",children:"Aggiungi al Protocollo"})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("h4",{className:"text-sm font-display font-bold px-1",children:"Le tue Abitudini"}),f.jsxs("div",{className:"space-y-2",children:[c.map(k=>f.jsx("div",{children:y?.id===k.id?f.jsxs("div",{className:"rounded-xl p-3 bg-primary/10 border border-primary/30 space-y-3",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Nn,{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Nome"}),f.jsx(ea,{value:g,onChange:T=>v(T.target.value),className:"bg-black/30 border-white/10 h-9 rounded-lg",autoFocus:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Nn,{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Colore"}),f.jsx(Hb,{value:x,onChange:b})]}),f.jsxs("div",{className:"flex gap-2 pt-1",children:[f.jsxs(qe,{size:"sm",variant:"ghost",onClick:_,className:"flex-1 h-8 rounded-lg",children:[f.jsx(ks,{className:"h-4 w-4 mr-1"}),"Annulla"]}),f.jsxs(qe,{size:"sm",onClick:O,disabled:!g.trim()||a,className:"flex-1 h-8 rounded-lg",children:[f.jsx(zf,{className:"h-4 w-4 mr-1"}),a?"Salvando...":"Salva"]})]})]}):f.jsxs("div",{className:"group flex items-center justify-between rounded-xl p-3 bg-white/5 border border-transparent hover:border-white/10 hover:bg-white/10 transition-all",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"h-3 w-3 rounded-full shadow-[0_0_8px_currentColor]",style:{backgroundColor:k.color,color:k.color}}),f.jsx("span",{className:Y("text-sm font-medium transition-all duration-300",o&&"blur-sm"),children:k.title})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(qe,{variant:"ghost",size:"icon",onClick:()=>S(k),className:"h-8 w-8 text-muted-foreground opacity-60 group-hover:opacity-100 group-hover:text-primary hover:bg-primary/10 transition-all rounded-lg",children:f.jsx(D4,{className:"h-4 w-4"})}),f.jsxs($a,{children:[f.jsx(Yo,{asChild:!0,children:f.jsx(qe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground opacity-60 group-hover:opacity-100 group-hover:text-destructive hover:bg-destructive/10 transition-all rounded-lg",children:f.jsx(Yx,{className:"h-4 w-4"})})}),f.jsxs(Wi,{children:[f.jsxs(Hi,{children:[f.jsx(Ki,{children:"Sei sicuro?"}),f.jsx(Gi,{children:"Stai per rimuovere questa abitudine. Se ha dei dati associati, verr archiviata per preservare lo storico. Altrimenti verr eliminata definitivamente."})]}),f.jsxs(Vi,{children:[f.jsx(Ha,{children:"Annulla"}),f.jsx(Yi,{onClick:()=>r(k.id),className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",disabled:i,children:i?"Eliminazione...":"Conferma elimina"})]})]})]})]})]})},k.id)),e.length===0&&f.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center text-muted-foreground space-y-2",children:[f.jsx("div",{className:"h-10 w-10 rounded-full bg-white/5 flex items-center justify-center",children:f.jsx(cb,{className:"h-5 w-5 opacity-50"})}),f.jsx("p",{className:"text-sm",children:"Nessuna abitudine definita."})]})]})]})]})]})]})}const lM=w.forwardRef(({className:e,...t},r)=>f.jsx("textarea",{className:Y("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));lM.displayName="Textarea";var AK=w.createContext(void 0);function $s(e){const t=w.useContext(AK);return e||t||"ltr"}function Jl(e,[t,r]){return Math.min(r,Math.max(t,e))}function kK(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var Mw="ScrollArea",[cM]=br(Mw),[PK,tn]=cM(Mw),uM=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:a=600,...o}=e,[s,l]=w.useState(null),[c,u]=w.useState(null),[d,h]=w.useState(null),[p,y]=w.useState(null),[m,g]=w.useState(null),[v,x]=w.useState(0),[b,E]=w.useState(0),[S,_]=w.useState(!1),[O,k]=w.useState(!1),T=Ee(t,A=>l(A)),j=$s(i);return f.jsx(PK,{scope:r,type:n,dir:j,scrollHideDelay:a,scrollArea:s,viewport:c,onViewportChange:u,content:d,onContentChange:h,scrollbarX:p,onScrollbarXChange:y,scrollbarXEnabled:S,onScrollbarXEnabledChange:_,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:O,onScrollbarYEnabledChange:k,onCornerWidthChange:x,onCornerHeightChange:E,children:f.jsx(pe.div,{dir:j,...o,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});uM.displayName=Mw;var dM="ScrollAreaViewport",fM=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:i,...a}=e,o=tn(dM,r),s=w.useRef(null),l=Ee(t,s,o.onViewportChange);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),f.jsx(pe.div,{"data-radix-scroll-area-viewport":"",...a,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:f.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});fM.displayName=dM;var Wn="ScrollAreaScrollbar",Dw=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=tn(Wn,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,s=e.orientation==="horizontal";return w.useEffect(()=>(s?a(!0):o(!0),()=>{s?a(!1):o(!1)}),[s,a,o]),i.type==="hover"?f.jsx(TK,{...n,ref:t,forceMount:r}):i.type==="scroll"?f.jsx(CK,{...n,ref:t,forceMount:r}):i.type==="auto"?f.jsx(hM,{...n,ref:t,forceMount:r}):i.type==="always"?f.jsx($w,{...n,ref:t}):null});Dw.displayName=Wn;var TK=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=tn(Wn,e.__scopeScrollArea),[a,o]=w.useState(!1);return w.useEffect(()=>{const s=i.scrollArea;let l=0;if(s){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return s.addEventListener("pointerenter",c),s.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),s.removeEventListener("pointerenter",c),s.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),f.jsx(mi,{present:r||a,children:f.jsx(hM,{"data-state":a?"visible":"hidden",...n,ref:t})})}),CK=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=tn(Wn,e.__scopeScrollArea),a=e.orientation==="horizontal",o=hh(()=>l("SCROLL_END"),100),[s,l]=kK("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(s==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[s,i.scrollHideDelay,l]),w.useEffect(()=>{const c=i.viewport,u=a?"scrollLeft":"scrollTop";if(c){let d=c[u];const h=()=>{const p=c[u];d!==p&&(l("SCROLL"),o()),d=p};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,a,l,o]),f.jsx(mi,{present:r||s!=="hidden",children:f.jsx($w,{"data-state":s==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:de(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:de(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),hM=w.forwardRef((e,t)=>{const r=tn(Wn,e.__scopeScrollArea),{forceMount:n,...i}=e,[a,o]=w.useState(!1),s=e.orientation==="horizontal",l=hh(()=>{if(r.viewport){const c=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(s?c:u)}},10);return Xo(r.viewport,l),Xo(r.content,l),f.jsx(mi,{present:n||a,children:f.jsx($w,{"data-state":a?"visible":"hidden",...i,ref:t})})}),$w=w.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,i=tn(Wn,e.__scopeScrollArea),a=w.useRef(null),o=w.useRef(0),[s,l]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=vM(s.viewport,s.content),u={...n,sizes:s,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function d(h,p){return $K(h,o.current,s,p)}return r==="horizontal"?f.jsx(NK,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollLeft,p=W_(h,s,i.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=d(h,i.dir))}}):r==="vertical"?f.jsx(RK,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollTop,p=W_(h,s);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=d(h))}}):null}),NK=w.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,a=tn(Wn,e.__scopeScrollArea),[o,s]=w.useState(),l=w.useRef(null),c=Ee(t,l,a.onScrollbarXChange);return w.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),f.jsx(mM,{"data-orientation":"horizontal",...i,ref:c,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":fh(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(a.viewport){const h=a.viewport.scrollLeft+u.deltaX;e.onWheelScroll(h),xM(h,d)&&u.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Od(o.paddingLeft),paddingEnd:Od(o.paddingRight)}})}})}),RK=w.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,a=tn(Wn,e.__scopeScrollArea),[o,s]=w.useState(),l=w.useRef(null),c=Ee(t,l,a.onScrollbarYChange);return w.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),f.jsx(mM,{"data-orientation":"vertical",...i,ref:c,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":fh(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(a.viewport){const h=a.viewport.scrollTop+u.deltaY;e.onWheelScroll(h),xM(h,d)&&u.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Od(o.paddingTop),paddingEnd:Od(o.paddingBottom)}})}})}),[IK,pM]=cM(Wn),mM=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:d,...h}=e,p=tn(Wn,r),[y,m]=w.useState(null),g=Ee(t,T=>m(T)),v=w.useRef(null),x=w.useRef(""),b=p.viewport,E=n.content-n.viewport,S=Et(u),_=Et(l),O=hh(d,10);function k(T){if(v.current){const j=T.clientX-v.current.left,A=T.clientY-v.current.top;c({x:j,y:A})}}return w.useEffect(()=>{const T=j=>{const A=j.target;y?.contains(A)&&S(j,E)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[b,y,E,S]),w.useEffect(_,[n,_]),Xo(y,O),Xo(p.content,O),f.jsx(IK,{scope:r,scrollbar:y,hasThumb:i,onThumbChange:Et(a),onThumbPointerUp:Et(o),onThumbPositionChange:_,onThumbPointerDown:Et(s),children:f.jsx(pe.div,{...h,ref:g,style:{position:"absolute",...h.style},onPointerDown:de(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),v.current=y.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),k(T))}),onPointerMove:de(e.onPointerMove,k),onPointerUp:de(e.onPointerUp,T=>{const j=T.target;j.hasPointerCapture(T.pointerId)&&j.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),v.current=null})})})}),Ed="ScrollAreaThumb",gM=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=pM(Ed,e.__scopeScrollArea);return f.jsx(mi,{present:r||i.hasThumb,children:f.jsx(MK,{ref:t,...n})})}),MK=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...i}=e,a=tn(Ed,r),o=pM(Ed,r),{onThumbPositionChange:s}=o,l=Ee(t,d=>o.onThumbChange(d)),c=w.useRef(void 0),u=hh(()=>{c.current&&(c.current(),c.current=void 0)},100);return w.useEffect(()=>{const d=a.viewport;if(d){const h=()=>{if(u(),!c.current){const p=LK(d,s);c.current=p,s()}};return s(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[a.viewport,u,s]),f.jsx(pe.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:de(e.onPointerDownCapture,d=>{const p=d.target.getBoundingClientRect(),y=d.clientX-p.left,m=d.clientY-p.top;o.onThumbPointerDown({x:y,y:m})}),onPointerUp:de(e.onPointerUp,o.onThumbPointerUp)})});gM.displayName=Ed;var Lw="ScrollAreaCorner",yM=w.forwardRef((e,t)=>{const r=tn(Lw,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?f.jsx(DK,{...e,ref:t}):null});yM.displayName=Lw;var DK=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,i=tn(Lw,r),[a,o]=w.useState(0),[s,l]=w.useState(0),c=!!(a&&s);return Xo(i.scrollbarX,()=>{const u=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(u),l(u)}),Xo(i.scrollbarY,()=>{const u=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(u),o(u)}),c?f.jsx(pe.div,{...n,ref:t,style:{width:a,height:s,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Od(e){return e?parseInt(e,10):0}function vM(e,t){const r=e/t;return isNaN(r)?0:r}function fh(e){const t=vM(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function $K(e,t,r,n="ltr"){const i=fh(r),a=i/2,o=t||a,s=i-o,l=r.scrollbar.paddingStart+o,c=r.scrollbar.size-r.scrollbar.paddingEnd-s,u=r.content-r.viewport,d=n==="ltr"?[0,u]:[u*-1,0];return bM([l,c],d)(e)}function W_(e,t,r="ltr"){const n=fh(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,o=t.content-t.viewport,s=a-n,l=r==="ltr"?[0,o]:[o*-1,0],c=Jl(e,l);return bM([0,o],[0,s])(c)}function bM(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function xM(e,t){return e>0&&e<t}var LK=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function i(){const a={left:e.scrollLeft,top:e.scrollTop},o=r.left!==a.left,s=r.top!==a.top;(o||s)&&t(),r=a,n=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(n)};function hh(e,t){const r=Et(e),n=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),w.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Xo(e,t){const r=Et(t);Nt(()=>{let n=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(n),i.unobserve(e)}}},[e,r])}var wM=uM,FK=fM,BK=yM;const SM=w.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(wM,{ref:n,className:Y("relative overflow-hidden",e),...r,children:[f.jsx(FK,{className:"h-full w-full rounded-[inherit]",children:t}),f.jsx(_M,{}),f.jsx(BK,{})]}));SM.displayName=wM.displayName;const _M=w.forwardRef(({className:e,orientation:t="vertical",...r},n)=>f.jsx(Dw,{ref:n,orientation:t,className:Y("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:f.jsx(gM,{className:"relative flex-1 rounded-full bg-border"})}));_M.displayName=Dw.displayName;function qK(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const zK=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,UK=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,WK={};function H_(e,t){return(WK.jsx?UK:zK).test(e)}const HK=/[ \t\n\f\r]/g;function VK(e){return typeof e=="object"?e.type==="text"?V_(e.value):!1:V_(e)}function V_(e){return e.replace(HK,"")===""}class Gc{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}Gc.prototype.normal={};Gc.prototype.property={};Gc.prototype.space=void 0;function EM(e,t){const r={},n={};for(const i of e)Object.assign(r,i.property),Object.assign(n,i.normal);return new Gc(r,n,t)}function Vb(e){return e.toLowerCase()}class xr{constructor(t,r){this.attribute=r,this.property=t}}xr.prototype.attribute="";xr.prototype.booleanish=!1;xr.prototype.boolean=!1;xr.prototype.commaOrSpaceSeparated=!1;xr.prototype.commaSeparated=!1;xr.prototype.defined=!1;xr.prototype.mustUseProperty=!1;xr.prototype.number=!1;xr.prototype.overloadedBoolean=!1;xr.prototype.property="";xr.prototype.spaceSeparated=!1;xr.prototype.space=void 0;let KK=0;const ke=no(),At=no(),Kb=no(),re=no(),ct=no(),Bo=no(),Er=no();function no(){return 2**++KK}const Gb=Object.freeze(Object.defineProperty({__proto__:null,boolean:ke,booleanish:At,commaOrSpaceSeparated:Er,commaSeparated:Bo,number:re,overloadedBoolean:Kb,spaceSeparated:ct},Symbol.toStringTag,{value:"Module"})),Np=Object.keys(Gb);class Fw extends xr{constructor(t,r,n,i){let a=-1;if(super(t,r),K_(this,"space",i),typeof n=="number")for(;++a<Np.length;){const o=Np[a];K_(this,Np[a],(n&Gb[o])===Gb[o])}}}Fw.prototype.defined=!0;function K_(e,t,r){r&&(e[t]=r)}function Ls(e){const t={},r={};for(const[n,i]of Object.entries(e.properties)){const a=new Fw(n,e.transform(e.attributes||{},n),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(a.mustUseProperty=!0),t[n]=a,r[Vb(n)]=n,r[Vb(a.attribute)]=n}return new Gc(t,r,e.space)}const OM=Ls({properties:{ariaActiveDescendant:null,ariaAtomic:At,ariaAutoComplete:null,ariaBusy:At,ariaChecked:At,ariaColCount:re,ariaColIndex:re,ariaColSpan:re,ariaControls:ct,ariaCurrent:null,ariaDescribedBy:ct,ariaDetails:null,ariaDisabled:At,ariaDropEffect:ct,ariaErrorMessage:null,ariaExpanded:At,ariaFlowTo:ct,ariaGrabbed:At,ariaHasPopup:null,ariaHidden:At,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ct,ariaLevel:re,ariaLive:null,ariaModal:At,ariaMultiLine:At,ariaMultiSelectable:At,ariaOrientation:null,ariaOwns:ct,ariaPlaceholder:null,ariaPosInSet:re,ariaPressed:At,ariaReadOnly:At,ariaRelevant:null,ariaRequired:At,ariaRoleDescription:ct,ariaRowCount:re,ariaRowIndex:re,ariaRowSpan:re,ariaSelected:At,ariaSetSize:re,ariaSort:null,ariaValueMax:re,ariaValueMin:re,ariaValueNow:re,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function jM(e,t){return t in e?e[t]:t}function AM(e,t){return jM(e,t.toLowerCase())}const GK=Ls({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Bo,acceptCharset:ct,accessKey:ct,action:null,allow:null,allowFullScreen:ke,allowPaymentRequest:ke,allowUserMedia:ke,alt:null,as:null,async:ke,autoCapitalize:null,autoComplete:ct,autoFocus:ke,autoPlay:ke,blocking:ct,capture:null,charSet:null,checked:ke,cite:null,className:ct,cols:re,colSpan:null,content:null,contentEditable:At,controls:ke,controlsList:ct,coords:re|Bo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ke,defer:ke,dir:null,dirName:null,disabled:ke,download:Kb,draggable:At,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ke,formTarget:null,headers:ct,height:re,hidden:Kb,high:re,href:null,hrefLang:null,htmlFor:ct,httpEquiv:ct,id:null,imageSizes:null,imageSrcSet:null,inert:ke,inputMode:null,integrity:null,is:null,isMap:ke,itemId:null,itemProp:ct,itemRef:ct,itemScope:ke,itemType:ct,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ke,low:re,manifest:null,max:null,maxLength:re,media:null,method:null,min:null,minLength:re,multiple:ke,muted:ke,name:null,nonce:null,noModule:ke,noValidate:ke,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ke,optimum:re,pattern:null,ping:ct,placeholder:null,playsInline:ke,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ke,referrerPolicy:null,rel:ct,required:ke,reversed:ke,rows:re,rowSpan:re,sandbox:ct,scope:null,scoped:ke,seamless:ke,selected:ke,shadowRootClonable:ke,shadowRootDelegatesFocus:ke,shadowRootMode:null,shape:null,size:re,sizes:null,slot:null,span:re,spellCheck:At,src:null,srcDoc:null,srcLang:null,srcSet:null,start:re,step:null,style:null,tabIndex:re,target:null,title:null,translate:null,type:null,typeMustMatch:ke,useMap:null,value:At,width:re,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ct,axis:null,background:null,bgColor:null,border:re,borderColor:null,bottomMargin:re,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ke,declare:ke,event:null,face:null,frame:null,frameBorder:null,hSpace:re,leftMargin:re,link:null,longDesc:null,lowSrc:null,marginHeight:re,marginWidth:re,noResize:ke,noHref:ke,noShade:ke,noWrap:ke,object:null,profile:null,prompt:null,rev:null,rightMargin:re,rules:null,scheme:null,scrolling:At,standby:null,summary:null,text:null,topMargin:re,valueType:null,version:null,vAlign:null,vLink:null,vSpace:re,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ke,disableRemotePlayback:ke,prefix:null,property:null,results:re,security:null,unselectable:null},space:"html",transform:AM}),YK=Ls({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Er,accentHeight:re,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:re,amplitude:re,arabicForm:null,ascent:re,attributeName:null,attributeType:null,azimuth:re,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:re,by:null,calcMode:null,capHeight:re,className:ct,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:re,diffuseConstant:re,direction:null,display:null,dur:null,divisor:re,dominantBaseline:null,download:ke,dx:null,dy:null,edgeMode:null,editable:null,elevation:re,enableBackground:null,end:null,event:null,exponent:re,externalResourcesRequired:null,fill:null,fillOpacity:re,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Bo,g2:Bo,glyphName:Bo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:re,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:re,horizOriginX:re,horizOriginY:re,id:null,ideographic:re,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:re,k:re,k1:re,k2:re,k3:re,k4:re,kernelMatrix:Er,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:re,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:re,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:re,overlineThickness:re,paintOrder:null,panose1:null,path:null,pathLength:re,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ct,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:re,pointsAtY:re,pointsAtZ:re,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Er,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Er,rev:Er,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Er,requiredFeatures:Er,requiredFonts:Er,requiredFormats:Er,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:re,specularExponent:re,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:re,strikethroughThickness:re,string:null,stroke:null,strokeDashArray:Er,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:re,strokeOpacity:re,strokeWidth:null,style:null,surfaceScale:re,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Er,tabIndex:re,tableValues:null,target:null,targetX:re,targetY:re,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Er,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:re,underlineThickness:re,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:re,values:null,vAlphabetic:re,vMathematical:re,vectorEffect:null,vHanging:re,vIdeographic:re,version:null,vertAdvY:re,vertOriginX:re,vertOriginY:re,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:re,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:jM}),kM=Ls({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),PM=Ls({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:AM}),TM=Ls({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),XK={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},QK=/[A-Z]/g,G_=/-[a-z]/g,JK=/^data[-\w.:]+$/i;function ZK(e,t){const r=Vb(t);let n=t,i=xr;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&JK.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(G_,tG);n="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!G_.test(a)){let o=a.replace(QK,eG);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=Fw}return new i(n,t)}function eG(e){return"-"+e.toLowerCase()}function tG(e){return e.charAt(1).toUpperCase()}const rG=EM([OM,GK,kM,PM,TM],"html"),Bw=EM([OM,YK,kM,PM,TM],"svg");function nG(e){return e.join(" ").trim()}var bo={},Rp,Y_;function iG(){if(Y_)return Rp;Y_=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,r=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,s=/^\s+|\s+$/g,l=`
`,c="/",u="*",d="",h="comment",p="declaration";function y(g,v){if(typeof g!="string")throw new TypeError("First argument must be a string");if(!g)return[];v=v||{};var x=1,b=1;function E(M){var I=M.match(t);I&&(x+=I.length);var L=M.lastIndexOf(l);b=~L?M.length-L:b+M.length}function S(){var M={line:x,column:b};return function(I){return I.position=new _(M),T(),I}}function _(M){this.start=M,this.end={line:x,column:b},this.source=v.source}_.prototype.content=g;function O(M){var I=new Error(v.source+":"+x+":"+b+": "+M);if(I.reason=M,I.filename=v.source,I.line=x,I.column=b,I.source=g,!v.silent)throw I}function k(M){var I=M.exec(g);if(I){var L=I[0];return E(L),g=g.slice(L.length),I}}function T(){k(r)}function j(M){var I;for(M=M||[];I=A();)I!==!1&&M.push(I);return M}function A(){var M=S();if(!(c!=g.charAt(0)||u!=g.charAt(1))){for(var I=2;d!=g.charAt(I)&&(u!=g.charAt(I)||c!=g.charAt(I+1));)++I;if(I+=2,d===g.charAt(I-1))return O("End of comment missing");var L=g.slice(2,I-2);return b+=2,E(L),g=g.slice(I),b+=2,M({type:h,comment:L})}}function N(){var M=S(),I=k(n);if(I){if(A(),!k(i))return O("property missing ':'");var L=k(a),B=M({type:p,property:m(I[0].replace(e,d)),value:L?m(L[0].replace(e,d)):d});return k(o),B}}function D(){var M=[];j(M);for(var I;I=N();)I!==!1&&(M.push(I),j(M));return M}return T(),D()}function m(g){return g?g.replace(s,d):d}return Rp=y,Rp}var X_;function aG(){if(X_)return bo;X_=1;var e=bo&&bo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(bo,"__esModule",{value:!0}),bo.default=r;const t=e(iG());function r(n,i){let a=null;if(!n||typeof n!="string")return a;const o=(0,t.default)(n),s=typeof i=="function";return o.forEach(l=>{if(l.type!=="declaration")return;const{property:c,value:u}=l;s?i(c,u,l):u&&(a=a||{},a[c]=u)}),a}return bo}var nl={},Q_;function oG(){if(Q_)return nl;Q_=1,Object.defineProperty(nl,"__esModule",{value:!0}),nl.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,r=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,a=function(c){return!c||r.test(c)||e.test(c)},o=function(c,u){return u.toUpperCase()},s=function(c,u){return"".concat(u,"-")},l=function(c,u){return u===void 0&&(u={}),a(c)?c:(c=c.toLowerCase(),u.reactCompat?c=c.replace(i,s):c=c.replace(n,s),c.replace(t,o))};return nl.camelCase=l,nl}var il,J_;function sG(){if(J_)return il;J_=1;var e=il&&il.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(aG()),r=oG();function n(i,a){var o={};return!i||typeof i!="string"||(0,t.default)(i,function(s,l){s&&l&&(o[(0,r.camelCase)(s,a)]=l)}),o}return n.default=n,il=n,il}var lG=sG();const cG=Ue(lG),CM=NM("end"),qw=NM("start");function NM(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function uG(e){const t=qw(e),r=CM(e);if(t&&r)return{start:t,end:r}}function Tl(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Z_(e.position):"start"in e||"end"in e?Z_(e):"line"in e||"column"in e?Yb(e):""}function Yb(e){return eE(e&&e.line)+":"+eE(e&&e.column)}function Z_(e){return Yb(e&&e.start)+"-"+Yb(e&&e.end)}function eE(e){return e&&typeof e=="number"?e:1}class nr extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",a={},o=!1;if(r&&("line"in r&&"column"in r?a={place:r}:"start"in r&&"end"in r?a={place:r}:"type"in r?a={ancestors:[r],place:r.position}:a={...r}),typeof t=="string"?i=t:!a.cause&&t&&(o=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof n=="string"){const l=n.indexOf(":");l===-1?a.ruleId=n:(a.source=n.slice(0,l),a.ruleId=n.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const s=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=Tl(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}nr.prototype.file="";nr.prototype.name="";nr.prototype.reason="";nr.prototype.message="";nr.prototype.stack="";nr.prototype.column=void 0;nr.prototype.line=void 0;nr.prototype.ancestors=void 0;nr.prototype.cause=void 0;nr.prototype.fatal=void 0;nr.prototype.place=void 0;nr.prototype.ruleId=void 0;nr.prototype.source=void 0;const zw={}.hasOwnProperty,dG=new Map,fG=/[A-Z]/g,hG=new Set(["table","tbody","thead","tfoot","tr"]),pG=new Set(["td","th"]),RM="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function mG(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=_G(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=SG(r,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Bw:rG,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=IM(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function IM(e,t,r){if(t.type==="element")return gG(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return yG(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return bG(e,t,r);if(t.type==="mdxjsEsm")return vG(e,t);if(t.type==="root")return xG(e,t,r);if(t.type==="text")return wG(e,t)}function gG(e,t,r){const n=e.schema;let i=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=Bw,e.schema=i),e.ancestors.push(t);const a=DM(e,t.tagName,!1),o=EG(e,t);let s=Ww(e,t);return hG.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!VK(l):!0})),MM(e,o,a,t),Uw(o,s),e.ancestors.pop(),e.schema=n,e.create(t,a,o,r)}function yG(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Zl(e,t.position)}function vG(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Zl(e,t.position)}function bG(e,t,r){const n=e.schema;let i=n;t.name==="svg"&&n.space==="html"&&(i=Bw,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:DM(e,t.name,!0),o=OG(e,t),s=Ww(e,t);return MM(e,o,a,t),Uw(o,s),e.ancestors.pop(),e.schema=n,e.create(t,a,o,r)}function xG(e,t,r){const n={};return Uw(n,Ww(e,t)),e.create(t,e.Fragment,n,r)}function wG(e,t){return t.value}function MM(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function Uw(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function SG(e,t,r){return n;function n(i,a,o,s){const c=Array.isArray(o.children)?r:t;return s?c(a,o,s):c(a,o)}}function _G(e,t){return r;function r(n,i,a,o){const s=Array.isArray(a.children),l=qw(n);return t(i,a,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function EG(e,t){const r={};let n,i;for(i in t.properties)if(i!=="children"&&zw.call(t.properties,i)){const a=jG(e,i,t.properties[i]);if(a){const[o,s]=a;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&pG.has(t.tagName)?n=s:r[o]=s}}if(n){const a=r.style||(r.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function OG(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const a=n.data.estree.body[0];a.type;const o=a.expression;o.type;const s=o.properties[0];s.type,Object.assign(r,e.evaluater.evaluateExpression(s.argument))}else Zl(e,t.position);else{const i=n.name;let a;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const s=n.value.data.estree.body[0];s.type,a=e.evaluater.evaluateExpression(s.expression)}else Zl(e,t.position);else a=n.value===null?!0:n.value;r[i]=a}return r}function Ww(e,t){const r=[];let n=-1;const i=e.passKeys?new Map:dG;for(;++n<t.children.length;){const a=t.children[n];let o;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const s=IM(e,a,o);s!==void 0&&r.push(s)}return r}function jG(e,t,r){const n=ZK(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?qK(r):nG(r)),n.property==="style"){let i=typeof r=="object"?r:AG(e,String(r));return e.stylePropertyNameCase==="css"&&(i=kG(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&n.space?XK[n.property]||n.property:n.attribute,r]}}function AG(e,t){try{return cG(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,i=new nr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=RM+"#cannot-parse-style-attribute",i}}function DM(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,o;for(;++a<i.length;){const s=H_(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(a&&s.type==="Literal"),optional:!1}:s}n=o}else n=H_(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const i=n.value;return zw.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(n);Zl(e)}function Zl(e,t){const r=new nr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=RM+"#cannot-handle-mdx-estrees-without-createevaluater",r}function kG(e){const t={};let r;for(r in e)zw.call(e,r)&&(t[PG(r)]=e[r]);return t}function PG(e){let t=e.replace(fG,TG);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function TG(e){return"-"+e.toLowerCase()}const Ip={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},CG={};function Hw(e,t){const r=CG,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return $M(e,n,i)}function $M(e,t,r){if(NG(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return tE(e.children,t,r)}return Array.isArray(e)?tE(e,t,r):""}function tE(e,t,r){const n=[];let i=-1;for(;++i<e.length;)n[i]=$M(e[i],t,r);return n.join("")}function NG(e){return!!(e&&typeof e=="object")}const rE=document.createElement("i");function Vw(e){const t="&"+e+";";rE.innerHTML=t;const r=rE.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function Mr(e,t,r,n){const i=e.length;let a=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,r=r>0?r:0,n.length<1e4)o=Array.from(n),o.unshift(t,r),e.splice(...o);else for(r&&e.splice(t,r);a<n.length;)o=n.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function Vr(e,t){return e.length>0?(Mr(e,e.length,0,t),e):t}const nE={}.hasOwnProperty;function LM(e){const t={};let r=-1;for(;++r<e.length;)RG(t,e[r]);return t}function RG(e,t){let r;for(r in t){const i=(nE.call(e,r)?e[r]:void 0)||(e[r]={}),a=t[r];let o;if(a)for(o in a){nE.call(i,o)||(i[o]=[]);const s=a[o];IG(i[o],Array.isArray(s)?s:s?[s]:[])}}}function IG(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);Mr(e,0,0,n)}function FM(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function gn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const sr=ia(/[A-Za-z]/),rr=ia(/[\dA-Za-z]/),MG=ia(/[#-'*+\--9=?A-Z^-~]/);function jd(e){return e!==null&&(e<32||e===127)}const Xb=ia(/\d/),DG=ia(/[\dA-Fa-f]/),$G=ia(/[!-/:-@[-`{-~]/);function xe(e){return e!==null&&e<-2}function ot(e){return e!==null&&(e<0||e===32)}function Ie(e){return e===-2||e===-1||e===32}const ph=ia(new RegExp("\\p{P}|\\p{S}","u")),Va=ia(/\s/);function ia(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function Fs(e){const t=[];let r=-1,n=0,i=0;for(;++r<e.length;){const a=e.charCodeAt(r);let o="";if(a===37&&rr(e.charCodeAt(r+1))&&rr(e.charCodeAt(r+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const s=e.charCodeAt(r+1);a<56320&&s>56319&&s<57344?(o=String.fromCharCode(a,s),i=1):o=""}else o=String.fromCharCode(a);o&&(t.push(e.slice(n,r),encodeURIComponent(o)),n=r+i+1,o=""),i&&(r+=i,i=0)}return t.join("")+e.slice(n)}function De(e,t,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(l){return Ie(l)?(e.enter(r),s(l)):t(l)}function s(l){return Ie(l)&&a++<i?(e.consume(l),s):(e.exit(r),t(l))}}const LG={tokenize:FG};function FG(e){const t=e.attempt(this.parser.constructs.contentInitial,n,i);let r;return t;function n(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),De(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),a(s)}function a(s){const l=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=l),r=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return xe(s)?(e.consume(s),e.exit("chunkText"),a):(e.consume(s),o)}}const BG={tokenize:qG},iE={tokenize:zG};function qG(e){const t=this,r=[];let n=0,i,a,o;return s;function s(b){if(n<r.length){const E=r[n];return t.containerState=E[1],e.attempt(E[0].continuation,l,c)(b)}return c(b)}function l(b){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&x();const E=t.events.length;let S=E,_;for(;S--;)if(t.events[S][0]==="exit"&&t.events[S][1].type==="chunkFlow"){_=t.events[S][1].end;break}v(n);let O=E;for(;O<t.events.length;)t.events[O][1].end={..._},O++;return Mr(t.events,S+1,0,t.events.slice(E)),t.events.length=O,c(b)}return s(b)}function c(b){if(n===r.length){if(!i)return h(b);if(i.currentConstruct&&i.currentConstruct.concrete)return y(b);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(iE,u,d)(b)}function u(b){return i&&x(),v(n),h(b)}function d(b){return t.parser.lazy[t.now().line]=n!==r.length,o=t.now().offset,y(b)}function h(b){return t.containerState={},e.attempt(iE,p,y)(b)}function p(b){return n++,r.push([t.currentConstruct,t.containerState]),h(b)}function y(b){if(b===null){i&&x(),v(0),e.consume(b);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),m(b)}function m(b){if(b===null){g(e.exit("chunkFlow"),!0),v(0),e.consume(b);return}return xe(b)?(e.consume(b),g(e.exit("chunkFlow")),n=0,t.interrupt=void 0,s):(e.consume(b),m)}function g(b,E){const S=t.sliceStream(b);if(E&&S.push(null),b.previous=a,a&&(a.next=b),a=b,i.defineSkip(b.start),i.write(S),t.parser.lazy[b.start.line]){let _=i.events.length;for(;_--;)if(i.events[_][1].start.offset<o&&(!i.events[_][1].end||i.events[_][1].end.offset>o))return;const O=t.events.length;let k=O,T,j;for(;k--;)if(t.events[k][0]==="exit"&&t.events[k][1].type==="chunkFlow"){if(T){j=t.events[k][1].end;break}T=!0}for(v(n),_=O;_<t.events.length;)t.events[_][1].end={...j},_++;Mr(t.events,k+1,0,t.events.slice(O)),t.events.length=_}}function v(b){let E=r.length;for(;E-- >b;){const S=r[E];t.containerState=S[1],S[0].exit.call(t,e)}r.length=b}function x(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function zG(e,t,r){return De(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Qo(e){if(e===null||ot(e)||Va(e))return 1;if(ph(e))return 2}function mh(e,t,r){const n=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!n.includes(a)&&(t=a(t,r),n.push(a))}return t}const Qb={name:"attention",resolveAll:UG,tokenize:WG};function UG(e,t){let r=-1,n,i,a,o,s,l,c,u;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;l=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const d={...e[n][1].end},h={...e[r][1].start};aE(d,-l),aE(h,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...e[n][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:h},a={type:l>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[n][1].end={...o.start},e[r][1].start={...s.end},c=[],e[n][1].end.offset-e[n][1].start.offset&&(c=Vr(c,[["enter",e[n][1],t],["exit",e[n][1],t]])),c=Vr(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",a,t]]),c=Vr(c,mh(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),c=Vr(c,[["exit",a,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(u=2,c=Vr(c,[["enter",e[r][1],t],["exit",e[r][1],t]])):u=0,Mr(e,n-1,r-n+3,c),r=n+c.length-u-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function WG(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=Qo(n);let a;return o;function o(l){return a=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===a)return e.consume(l),s;const c=e.exit("attentionSequence"),u=Qo(l),d=!u||u===2&&i||r.includes(l),h=!i||i===2&&u||r.includes(n);return c._open=!!(a===42?d:d&&(i||!h)),c._close=!!(a===42?h:h&&(u||!d)),t(l)}}function aE(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const HG={name:"autolink",tokenize:VG};function VG(e,t,r){let n=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(p){return sr(p)?(e.consume(p),o):p===64?r(p):c(p)}function o(p){return p===43||p===45||p===46||rr(p)?(n=1,s(p)):c(p)}function s(p){return p===58?(e.consume(p),n=0,l):(p===43||p===45||p===46||rr(p))&&n++<32?(e.consume(p),s):(n=0,c(p))}function l(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||jd(p)?r(p):(e.consume(p),l)}function c(p){return p===64?(e.consume(p),u):MG(p)?(e.consume(p),c):r(p)}function u(p){return rr(p)?d(p):r(p)}function d(p){return p===46?(e.consume(p),n=0,u):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):h(p)}function h(p){if((p===45||rr(p))&&n++<63){const y=p===45?h:d;return e.consume(p),y}return r(p)}}const Yc={partial:!0,tokenize:KG};function KG(e,t,r){return n;function n(a){return Ie(a)?De(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||xe(a)?t(a):r(a)}}const BM={continuation:{tokenize:YG},exit:XG,name:"blockQuote",tokenize:GG};function GG(e,t,r){const n=this;return i;function i(o){if(o===62){const s=n.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),a}return r(o)}function a(o){return Ie(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function YG(e,t,r){const n=this;return i;function i(o){return Ie(o)?De(e,a,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return e.attempt(BM,t,r)(o)}}function XG(e){e.exit("blockQuote")}const qM={name:"characterEscape",tokenize:QG};function QG(e,t,r){return n;function n(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return $G(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(a)}}const zM={name:"characterReference",tokenize:JG};function JG(e,t,r){const n=this;let i=0,a,o;return s;function s(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),l}function l(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),a=31,o=rr,u(d))}function c(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,o=DG,u):(e.enter("characterReferenceValue"),a=7,o=Xb,u(d))}function u(d){if(d===59&&i){const h=e.exit("characterReferenceValue");return o===rr&&!Vw(n.sliceSerialize(h))?r(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(d)&&i++<a?(e.consume(d),u):r(d)}}const oE={partial:!0,tokenize:e7},sE={concrete:!0,name:"codeFenced",tokenize:ZG};function ZG(e,t,r){const n=this,i={partial:!0,tokenize:S};let a=0,o=0,s;return l;function l(_){return c(_)}function c(_){const O=n.events[n.events.length-1];return a=O&&O[1].type==="linePrefix"?O[2].sliceSerialize(O[1],!0).length:0,s=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u(_)}function u(_){return _===s?(o++,e.consume(_),u):o<3?r(_):(e.exit("codeFencedFenceSequence"),Ie(_)?De(e,d,"whitespace")(_):d(_))}function d(_){return _===null||xe(_)?(e.exit("codeFencedFence"),n.interrupt?t(_):e.check(oE,m,E)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(_))}function h(_){return _===null||xe(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(_)):Ie(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),De(e,p,"whitespace")(_)):_===96&&_===s?r(_):(e.consume(_),h)}function p(_){return _===null||xe(_)?d(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(_))}function y(_){return _===null||xe(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(_)):_===96&&_===s?r(_):(e.consume(_),y)}function m(_){return e.attempt(i,E,g)(_)}function g(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),v}function v(_){return a>0&&Ie(_)?De(e,x,"linePrefix",a+1)(_):x(_)}function x(_){return _===null||xe(_)?e.check(oE,m,E)(_):(e.enter("codeFlowValue"),b(_))}function b(_){return _===null||xe(_)?(e.exit("codeFlowValue"),x(_)):(e.consume(_),b)}function E(_){return e.exit("codeFenced"),t(_)}function S(_,O,k){let T=0;return j;function j(I){return _.enter("lineEnding"),_.consume(I),_.exit("lineEnding"),A}function A(I){return _.enter("codeFencedFence"),Ie(I)?De(_,N,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):N(I)}function N(I){return I===s?(_.enter("codeFencedFenceSequence"),D(I)):k(I)}function D(I){return I===s?(T++,_.consume(I),D):T>=o?(_.exit("codeFencedFenceSequence"),Ie(I)?De(_,M,"whitespace")(I):M(I)):k(I)}function M(I){return I===null||xe(I)?(_.exit("codeFencedFence"),O(I)):k(I)}}}function e7(e,t,r){const n=this;return i;function i(o){return o===null?r(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a)}function a(o){return n.parser.lazy[n.now().line]?r(o):t(o)}}const Mp={name:"codeIndented",tokenize:r7},t7={partial:!0,tokenize:n7};function r7(e,t,r){const n=this;return i;function i(c){return e.enter("codeIndented"),De(e,a,"linePrefix",5)(c)}function a(c){const u=n.events[n.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?o(c):r(c)}function o(c){return c===null?l(c):xe(c)?e.attempt(t7,o,l)(c):(e.enter("codeFlowValue"),s(c))}function s(c){return c===null||xe(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),s)}function l(c){return e.exit("codeIndented"),t(c)}}function n7(e,t,r){const n=this;return i;function i(o){return n.parser.lazy[n.now().line]?r(o):xe(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):De(e,a,"linePrefix",5)(o)}function a(o){const s=n.events[n.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):xe(o)?i(o):r(o)}}const i7={name:"codeText",previous:o7,resolve:a7,tokenize:s7};function a7(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="codeTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}function o7(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function s7(e,t,r){let n=0,i,a;return o;function o(d){return e.enter("codeText"),e.enter("codeTextSequence"),s(d)}function s(d){return d===96?(e.consume(d),n++,s):(e.exit("codeTextSequence"),l(d))}function l(d){return d===null?r(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),l):d===96?(a=e.enter("codeTextSequence"),i=0,u(d)):xe(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||xe(d)?(e.exit("codeTextData"),l(d)):(e.consume(d),c)}function u(d){return d===96?(e.consume(d),i++,u):i===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(a.type="codeTextData",c(d))}}class l7{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const i=r||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&al(this.left,n),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),al(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),al(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);al(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);al(this.left,r.reverse())}}}function al(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function UM(e){const t={};let r=-1,n,i,a,o,s,l,c;const u=new l7(e);for(;++r<u.length;){for(;r in t;)r=t[r];if(n=u.get(r),r&&n[1].type==="chunkFlow"&&u.get(r-1)[1].type==="listItemPrefix"&&(l=n[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,c7(u,r)),r=t[r],c=!0);else if(n[1]._container){for(a=r,i=void 0;a--;)if(o=u.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(n[1].end={...u.get(i)[1].start},s=u.slice(i,r),s.unshift(n),u.splice(i,r-i+1,s))}}return Mr(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function c7(e,t){const r=e.get(t)[1],n=e.get(t)[2];let i=t-1;const a=[];let o=r._tokenizer;o||(o=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,l=[],c={};let u,d,h=-1,p=r,y=0,m=0;const g=[m];for(;p;){for(;e.get(++i)[1]!==p;);a.push(i),p._tokenizer||(u=n.sliceStream(p),p.next||u.push(null),d&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(u),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=r;++h<s.length;)s[h][0]==="exit"&&s[h-1][0]==="enter"&&s[h][1].type===s[h-1][1].type&&s[h][1].start.line!==s[h][1].end.line&&(m=h+1,g.push(m),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):g.pop(),h=g.length;h--;){const v=s.slice(g[h],g[h+1]),x=a.pop();l.push([x,x+v.length-1]),e.splice(x,2,v)}for(l.reverse(),h=-1;++h<l.length;)c[y+l[h][0]]=y+l[h][1],y+=l[h][1]-l[h][0]-1;return c}const u7={resolve:f7,tokenize:h7},d7={partial:!0,tokenize:p7};function f7(e){return UM(e),e}function h7(e,t){let r;return n;function n(s){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?a(s):xe(s)?e.check(d7,o,a)(s):(e.consume(s),i)}function a(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function p7(e,t,r){const n=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),De(e,a,"linePrefix")}function a(o){if(o===null||xe(o))return r(o);const s=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(n.parser.constructs.flow,r,t)(o)}}function WM(e,t,r,n,i,a,o,s,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return d;function d(v){return v===60?(e.enter(n),e.enter(i),e.enter(a),e.consume(v),e.exit(a),h):v===null||v===32||v===41||jd(v)?r(v):(e.enter(n),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),m(v))}function h(v){return v===62?(e.enter(a),e.consume(v),e.exit(a),e.exit(i),e.exit(n),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===62?(e.exit("chunkString"),e.exit(s),h(v)):v===null||v===60||xe(v)?r(v):(e.consume(v),v===92?y:p)}function y(v){return v===60||v===62||v===92?(e.consume(v),p):p(v)}function m(v){return!u&&(v===null||v===41||ot(v))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(n),t(v)):u<c&&v===40?(e.consume(v),u++,m):v===41?(e.consume(v),u--,m):v===null||v===32||v===40||jd(v)?r(v):(e.consume(v),v===92?g:m)}function g(v){return v===40||v===41||v===92?(e.consume(v),m):m(v)}}function HM(e,t,r,n,i,a){const o=this;let s=0,l;return c;function c(p){return e.enter(n),e.enter(i),e.consume(p),e.exit(i),e.enter(a),u}function u(p){return s>999||p===null||p===91||p===93&&!l||p===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?r(p):p===93?(e.exit(a),e.enter(i),e.consume(p),e.exit(i),e.exit(n),t):xe(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||xe(p)||s++>999?(e.exit("chunkString"),u(p)):(e.consume(p),l||(l=!Ie(p)),p===92?h:d)}function h(p){return p===91||p===92||p===93?(e.consume(p),s++,d):d(p)}}function VM(e,t,r,n,i,a){let o;return s;function s(h){return h===34||h===39||h===40?(e.enter(n),e.enter(i),e.consume(h),e.exit(i),o=h===40?41:h,l):r(h)}function l(h){return h===o?(e.enter(i),e.consume(h),e.exit(i),e.exit(n),t):(e.enter(a),c(h))}function c(h){return h===o?(e.exit(a),l(o)):h===null?r(h):xe(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),De(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(h))}function u(h){return h===o||h===null||xe(h)?(e.exit("chunkString"),c(h)):(e.consume(h),h===92?d:u)}function d(h){return h===o||h===92?(e.consume(h),u):u(h)}}function Cl(e,t){let r;return n;function n(i){return xe(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,n):Ie(i)?De(e,n,r?"linePrefix":"lineSuffix")(i):t(i)}}const m7={name:"definition",tokenize:y7},g7={partial:!0,tokenize:v7};function y7(e,t,r){const n=this;let i;return a;function a(p){return e.enter("definition"),o(p)}function o(p){return HM.call(n,e,s,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function s(p){return i=gn(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),l):r(p)}function l(p){return ot(p)?Cl(e,c)(p):c(p)}function c(p){return WM(e,u,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function u(p){return e.attempt(g7,d,d)(p)}function d(p){return Ie(p)?De(e,h,"whitespace")(p):h(p)}function h(p){return p===null||xe(p)?(e.exit("definition"),n.parser.defined.push(i),t(p)):r(p)}}function v7(e,t,r){return n;function n(s){return ot(s)?Cl(e,i)(s):r(s)}function i(s){return VM(e,a,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function a(s){return Ie(s)?De(e,o,"whitespace")(s):o(s)}function o(s){return s===null||xe(s)?t(s):r(s)}}const b7={name:"hardBreakEscape",tokenize:x7};function x7(e,t,r){return n;function n(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return xe(a)?(e.exit("hardBreakEscape"),t(a)):r(a)}}const w7={name:"headingAtx",resolve:S7,tokenize:_7};function S7(e,t){let r=e.length-2,n=3,i,a;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},a={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},Mr(e,n,r-n+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function _7(e,t,r){let n=0;return i;function i(u){return e.enter("atxHeading"),a(u)}function a(u){return e.enter("atxHeadingSequence"),o(u)}function o(u){return u===35&&n++<6?(e.consume(u),o):u===null||ot(u)?(e.exit("atxHeadingSequence"),s(u)):r(u)}function s(u){return u===35?(e.enter("atxHeadingSequence"),l(u)):u===null||xe(u)?(e.exit("atxHeading"),t(u)):Ie(u)?De(e,s,"whitespace")(u):(e.enter("atxHeadingText"),c(u))}function l(u){return u===35?(e.consume(u),l):(e.exit("atxHeadingSequence"),s(u))}function c(u){return u===null||u===35||ot(u)?(e.exit("atxHeadingText"),s(u)):(e.consume(u),c)}}const E7=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],lE=["pre","script","style","textarea"],O7={concrete:!0,name:"htmlFlow",resolveTo:k7,tokenize:P7},j7={partial:!0,tokenize:C7},A7={partial:!0,tokenize:T7};function k7(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function P7(e,t,r){const n=this;let i,a,o,s,l;return c;function c(R){return u(R)}function u(R){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(R),d}function d(R){return R===33?(e.consume(R),h):R===47?(e.consume(R),a=!0,m):R===63?(e.consume(R),i=3,n.interrupt?t:C):sr(R)?(e.consume(R),o=String.fromCharCode(R),g):r(R)}function h(R){return R===45?(e.consume(R),i=2,p):R===91?(e.consume(R),i=5,s=0,y):sr(R)?(e.consume(R),i=4,n.interrupt?t:C):r(R)}function p(R){return R===45?(e.consume(R),n.interrupt?t:C):r(R)}function y(R){const X="CDATA[";return R===X.charCodeAt(s++)?(e.consume(R),s===X.length?n.interrupt?t:N:y):r(R)}function m(R){return sr(R)?(e.consume(R),o=String.fromCharCode(R),g):r(R)}function g(R){if(R===null||R===47||R===62||ot(R)){const X=R===47,oe=o.toLowerCase();return!X&&!a&&lE.includes(oe)?(i=1,n.interrupt?t(R):N(R)):E7.includes(o.toLowerCase())?(i=6,X?(e.consume(R),v):n.interrupt?t(R):N(R)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(R):a?x(R):b(R))}return R===45||rr(R)?(e.consume(R),o+=String.fromCharCode(R),g):r(R)}function v(R){return R===62?(e.consume(R),n.interrupt?t:N):r(R)}function x(R){return Ie(R)?(e.consume(R),x):j(R)}function b(R){return R===47?(e.consume(R),j):R===58||R===95||sr(R)?(e.consume(R),E):Ie(R)?(e.consume(R),b):j(R)}function E(R){return R===45||R===46||R===58||R===95||rr(R)?(e.consume(R),E):S(R)}function S(R){return R===61?(e.consume(R),_):Ie(R)?(e.consume(R),S):b(R)}function _(R){return R===null||R===60||R===61||R===62||R===96?r(R):R===34||R===39?(e.consume(R),l=R,O):Ie(R)?(e.consume(R),_):k(R)}function O(R){return R===l?(e.consume(R),l=null,T):R===null||xe(R)?r(R):(e.consume(R),O)}function k(R){return R===null||R===34||R===39||R===47||R===60||R===61||R===62||R===96||ot(R)?S(R):(e.consume(R),k)}function T(R){return R===47||R===62||Ie(R)?b(R):r(R)}function j(R){return R===62?(e.consume(R),A):r(R)}function A(R){return R===null||xe(R)?N(R):Ie(R)?(e.consume(R),A):r(R)}function N(R){return R===45&&i===2?(e.consume(R),L):R===60&&i===1?(e.consume(R),B):R===62&&i===4?(e.consume(R),W):R===63&&i===3?(e.consume(R),C):R===93&&i===5?(e.consume(R),$):xe(R)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(j7,z,D)(R)):R===null||xe(R)?(e.exit("htmlFlowData"),D(R)):(e.consume(R),N)}function D(R){return e.check(A7,M,z)(R)}function M(R){return e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),I}function I(R){return R===null||xe(R)?D(R):(e.enter("htmlFlowData"),N(R))}function L(R){return R===45?(e.consume(R),C):N(R)}function B(R){return R===47?(e.consume(R),o="",F):N(R)}function F(R){if(R===62){const X=o.toLowerCase();return lE.includes(X)?(e.consume(R),W):N(R)}return sr(R)&&o.length<8?(e.consume(R),o+=String.fromCharCode(R),F):N(R)}function $(R){return R===93?(e.consume(R),C):N(R)}function C(R){return R===62?(e.consume(R),W):R===45&&i===2?(e.consume(R),C):N(R)}function W(R){return R===null||xe(R)?(e.exit("htmlFlowData"),z(R)):(e.consume(R),W)}function z(R){return e.exit("htmlFlow"),t(R)}}function T7(e,t,r){const n=this;return i;function i(o){return xe(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):r(o)}function a(o){return n.parser.lazy[n.now().line]?r(o):t(o)}}function C7(e,t,r){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Yc,t,r)}}const N7={name:"htmlText",tokenize:R7};function R7(e,t,r){const n=this;let i,a,o;return s;function s(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),l}function l(C){return C===33?(e.consume(C),c):C===47?(e.consume(C),S):C===63?(e.consume(C),b):sr(C)?(e.consume(C),k):r(C)}function c(C){return C===45?(e.consume(C),u):C===91?(e.consume(C),a=0,y):sr(C)?(e.consume(C),x):r(C)}function u(C){return C===45?(e.consume(C),p):r(C)}function d(C){return C===null?r(C):C===45?(e.consume(C),h):xe(C)?(o=d,B(C)):(e.consume(C),d)}function h(C){return C===45?(e.consume(C),p):d(C)}function p(C){return C===62?L(C):C===45?h(C):d(C)}function y(C){const W="CDATA[";return C===W.charCodeAt(a++)?(e.consume(C),a===W.length?m:y):r(C)}function m(C){return C===null?r(C):C===93?(e.consume(C),g):xe(C)?(o=m,B(C)):(e.consume(C),m)}function g(C){return C===93?(e.consume(C),v):m(C)}function v(C){return C===62?L(C):C===93?(e.consume(C),v):m(C)}function x(C){return C===null||C===62?L(C):xe(C)?(o=x,B(C)):(e.consume(C),x)}function b(C){return C===null?r(C):C===63?(e.consume(C),E):xe(C)?(o=b,B(C)):(e.consume(C),b)}function E(C){return C===62?L(C):b(C)}function S(C){return sr(C)?(e.consume(C),_):r(C)}function _(C){return C===45||rr(C)?(e.consume(C),_):O(C)}function O(C){return xe(C)?(o=O,B(C)):Ie(C)?(e.consume(C),O):L(C)}function k(C){return C===45||rr(C)?(e.consume(C),k):C===47||C===62||ot(C)?T(C):r(C)}function T(C){return C===47?(e.consume(C),L):C===58||C===95||sr(C)?(e.consume(C),j):xe(C)?(o=T,B(C)):Ie(C)?(e.consume(C),T):L(C)}function j(C){return C===45||C===46||C===58||C===95||rr(C)?(e.consume(C),j):A(C)}function A(C){return C===61?(e.consume(C),N):xe(C)?(o=A,B(C)):Ie(C)?(e.consume(C),A):T(C)}function N(C){return C===null||C===60||C===61||C===62||C===96?r(C):C===34||C===39?(e.consume(C),i=C,D):xe(C)?(o=N,B(C)):Ie(C)?(e.consume(C),N):(e.consume(C),M)}function D(C){return C===i?(e.consume(C),i=void 0,I):C===null?r(C):xe(C)?(o=D,B(C)):(e.consume(C),D)}function M(C){return C===null||C===34||C===39||C===60||C===61||C===96?r(C):C===47||C===62||ot(C)?T(C):(e.consume(C),M)}function I(C){return C===47||C===62||ot(C)?T(C):r(C)}function L(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):r(C)}function B(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),F}function F(C){return Ie(C)?De(e,$,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):$(C)}function $(C){return e.enter("htmlTextData"),o(C)}}const Kw={name:"labelEnd",resolveAll:$7,resolveTo:L7,tokenize:F7},I7={tokenize:B7},M7={tokenize:q7},D7={tokenize:z7};function $7(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",t+=i}}return e.length!==r.length&&Mr(e,0,e.length,r),e}function L7(e,t){let r=e.length,n=0,i,a,o,s;for(;r--;)if(i=e[r][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(o=r);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[a][1].start},end:{...e[o][1].end}},u={type:"labelText",start:{...e[a+n+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",l,t],["enter",c,t]],s=Vr(s,e.slice(a+1,a+n+3)),s=Vr(s,[["enter",u,t]]),s=Vr(s,mh(t.parser.constructs.insideSpan.null,e.slice(a+n+4,o-3),t)),s=Vr(s,[["exit",u,t],e[o-2],e[o-1],["exit",c,t]]),s=Vr(s,e.slice(o+1)),s=Vr(s,[["exit",l,t]]),Mr(e,a,e.length,s),e}function F7(e,t,r){const n=this;let i=n.events.length,a,o;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){a=n.events[i][1];break}return s;function s(h){return a?a._inactive?d(h):(o=n.parser.defined.includes(gn(n.sliceSerialize({start:a.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),l):r(h)}function l(h){return h===40?e.attempt(I7,u,o?u:d)(h):h===91?e.attempt(M7,u,o?c:d)(h):o?u(h):d(h)}function c(h){return e.attempt(D7,u,d)(h)}function u(h){return t(h)}function d(h){return a._balanced=!0,r(h)}}function B7(e,t,r){return n;function n(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return ot(d)?Cl(e,a)(d):a(d)}function a(d){return d===41?u(d):WM(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return ot(d)?Cl(e,l)(d):u(d)}function s(d){return r(d)}function l(d){return d===34||d===39||d===40?VM(e,c,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):u(d)}function c(d){return ot(d)?Cl(e,u)(d):u(d)}function u(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):r(d)}}function q7(e,t,r){const n=this;return i;function i(s){return HM.call(n,e,a,o,"reference","referenceMarker","referenceString")(s)}function a(s){return n.parser.defined.includes(gn(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(s):r(s)}function o(s){return r(s)}}function z7(e,t,r){return n;function n(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):r(a)}}const U7={name:"labelStartImage",resolveAll:Kw.resolveAll,tokenize:W7};function W7(e,t,r){const n=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),a}function a(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):r(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(s):t(s)}}const H7={name:"labelStartLink",resolveAll:Kw.resolveAll,tokenize:V7};function V7(e,t,r){const n=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}const Dp={name:"lineEnding",tokenize:K7};function K7(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),De(e,t,"linePrefix")}}const nd={name:"thematicBreak",tokenize:G7};function G7(e,t,r){let n=0,i;return a;function a(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,s(c)}function s(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):n>=3&&(c===null||xe(c))?(e.exit("thematicBreak"),t(c)):r(c)}function l(c){return c===i?(e.consume(c),n++,l):(e.exit("thematicBreakSequence"),Ie(c)?De(e,s,"whitespace")(c):s(c))}}const hr={continuation:{tokenize:J7},exit:eY,name:"list",tokenize:Q7},Y7={partial:!0,tokenize:tY},X7={partial:!0,tokenize:Z7};function Q7(e,t,r){const n=this,i=n.events[n.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(p){const y=n.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!n.containerState.marker||p===n.containerState.marker:Xb(p)){if(n.containerState.type||(n.containerState.type=y,e.enter(y,{_container:!0})),y==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(nd,r,c)(p):c(p);if(!n.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(p)}return r(p)}function l(p){return Xb(p)&&++o<10?(e.consume(p),l):(!n.interrupt||o<2)&&(n.containerState.marker?p===n.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),c(p)):r(p)}function c(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||p,e.check(Yc,n.interrupt?r:u,e.attempt(Y7,h,d))}function u(p){return n.containerState.initialBlankLine=!0,a++,h(p)}function d(p){return Ie(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),h):r(p)}function h(p){return n.containerState.size=a+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function J7(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(Yc,i,a);function i(s){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,De(e,t,"listItemIndent",n.containerState.size+1)(s)}function a(s){return n.containerState.furtherBlankLines||!Ie(s)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,o(s)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(X7,t,o)(s))}function o(s){return n.containerState._closeFlow=!0,n.interrupt=void 0,De(e,e.attempt(hr,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function Z7(e,t,r){const n=this;return De(e,i,"listItemIndent",n.containerState.size+1);function i(a){const o=n.events[n.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===n.containerState.size?t(a):r(a)}}function eY(e){e.exit(this.containerState.type)}function tY(e,t,r){const n=this;return De(e,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=n.events[n.events.length-1];return!Ie(a)&&o&&o[1].type==="listItemPrefixWhitespace"?t(a):r(a)}}const cE={name:"setextUnderline",resolveTo:rY,tokenize:nY};function rY(e,t){let r=e.length,n,i,a;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!a&&e[r][1].type==="definition"&&(a=r);const o={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",o,t]),e.splice(a+1,0,["exit",e[n][1],t]),e[n][1].end={...e[a][1].end}):e[n][1]=o,e.push(["exit",o,t]),e}function nY(e,t,r){const n=this;let i;return a;function a(c){let u=n.events.length,d;for(;u--;)if(n.events[u][1].type!=="lineEnding"&&n.events[u][1].type!=="linePrefix"&&n.events[u][1].type!=="content"){d=n.events[u][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||d)?(e.enter("setextHeadingLine"),i=c,o(c)):r(c)}function o(c){return e.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===i?(e.consume(c),s):(e.exit("setextHeadingLineSequence"),Ie(c)?De(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||xe(c)?(e.exit("setextHeadingLine"),t(c)):r(c)}}const iY={tokenize:aY};function aY(e){const t=this,r=e.attempt(Yc,n,e.attempt(this.parser.constructs.flowInitial,i,De(e,e.attempt(this.parser.constructs.flow,i,e.attempt(u7,i)),"linePrefix")));return r;function n(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const oY={resolveAll:GM()},sY=KM("string"),lY=KM("text");function KM(e){return{resolveAll:GM(e==="text"?cY:void 0),tokenize:t};function t(r){const n=this,i=this.parser.constructs[e],a=r.attempt(i,o,s);return o;function o(u){return c(u)?a(u):s(u)}function s(u){if(u===null){r.consume(u);return}return r.enter("data"),r.consume(u),l}function l(u){return c(u)?(r.exit("data"),a(u)):(r.consume(u),l)}function c(u){if(u===null)return!0;const d=i[u];let h=-1;if(d)for(;++h<d.length;){const p=d[h];if(!p.previous||p.previous.call(n,n.previous))return!0}return!1}}}function GM(e){return t;function t(r,n){let i=-1,a;for(;++i<=r.length;)a===void 0?r[i]&&r[i][1].type==="data"&&(a=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==a+2&&(r[a][1].end=r[i-1][1].end,r.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(r,n):r}}function cY(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],i=t.sliceStream(n);let a=i.length,o=-1,s=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(c===-2)l=!0,s++;else if(c!==-1){a++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(s=0),s){const c={type:r===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:n.start._bufferIndex+o,_index:n.start._index+a,line:n.end.line,column:n.end.column-s,offset:n.end.offset-s},end:{...n.end}};n.end={...c.start},n.start.offset===n.end.offset?Object.assign(n,c):(e.splice(r,0,["enter",c,t],["exit",c,t]),r+=2)}r++}return e}const uY={42:hr,43:hr,45:hr,48:hr,49:hr,50:hr,51:hr,52:hr,53:hr,54:hr,55:hr,56:hr,57:hr,62:BM},dY={91:m7},fY={[-2]:Mp,[-1]:Mp,32:Mp},hY={35:w7,42:nd,45:[cE,nd],60:O7,61:cE,95:nd,96:sE,126:sE},pY={38:zM,92:qM},mY={[-5]:Dp,[-4]:Dp,[-3]:Dp,33:U7,38:zM,42:Qb,60:[HG,N7],91:H7,92:[b7,qM],93:Kw,95:Qb,96:i7},gY={null:[Qb,oY]},yY={null:[42,95]},vY={null:[]},bY=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:yY,contentInitial:dY,disable:vY,document:uY,flow:hY,flowInitial:fY,insideSpan:gY,string:pY,text:mY},Symbol.toStringTag,{value:"Module"}));function xY(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},a=[];let o=[],s=[];const l={attempt:O(S),check:O(_),consume:x,enter:b,exit:E,interrupt:O(_,{interrupt:!0})},c={code:null,containerState:{},defineSkip:m,events:[],now:y,parser:e,previous:null,sliceSerialize:h,sliceStream:p,write:d};let u=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function d(A){return o=Vr(o,A),g(),o[o.length-1]!==null?[]:(k(t,0),c.events=mh(a,c.events,c),c.events)}function h(A,N){return SY(p(A),N)}function p(A){return wY(o,A)}function y(){const{_bufferIndex:A,_index:N,line:D,column:M,offset:I}=n;return{_bufferIndex:A,_index:N,line:D,column:M,offset:I}}function m(A){i[A.line]=A.column,j()}function g(){let A;for(;n._index<o.length;){const N=o[n._index];if(typeof N=="string")for(A=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===A&&n._bufferIndex<N.length;)v(N.charCodeAt(n._bufferIndex));else v(N)}}function v(A){u=u(A)}function x(A){xe(A)?(n.line++,n.column=1,n.offset+=A===-3?2:1,j()):A!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===o[n._index].length&&(n._bufferIndex=-1,n._index++)),c.previous=A}function b(A,N){const D=N||{};return D.type=A,D.start=y(),c.events.push(["enter",D,c]),s.push(D),D}function E(A){const N=s.pop();return N.end=y(),c.events.push(["exit",N,c]),N}function S(A,N){k(A,N.from)}function _(A,N){N.restore()}function O(A,N){return D;function D(M,I,L){let B,F,$,C;return Array.isArray(M)?z(M):"tokenize"in M?z([M]):W(M);function W(se){return K;function K(Q){const V=Q!==null&&se[Q],J=Q!==null&&se.null,Z=[...Array.isArray(V)?V:V?[V]:[],...Array.isArray(J)?J:J?[J]:[]];return z(Z)(Q)}}function z(se){return B=se,F=0,se.length===0?L:R(se[F])}function R(se){return K;function K(Q){return C=T(),$=se,se.partial||(c.currentConstruct=se),se.name&&c.parser.constructs.disable.null.includes(se.name)?oe():se.tokenize.call(N?Object.assign(Object.create(c),N):c,l,X,oe)(Q)}}function X(se){return A($,C),I}function oe(se){return C.restore(),++F<B.length?R(B[F]):L}}}function k(A,N){A.resolveAll&&!a.includes(A)&&a.push(A),A.resolve&&Mr(c.events,N,c.events.length-N,A.resolve(c.events.slice(N),c)),A.resolveTo&&(c.events=A.resolveTo(c.events,c))}function T(){const A=y(),N=c.previous,D=c.currentConstruct,M=c.events.length,I=Array.from(s);return{from:M,restore:L};function L(){n=A,c.previous=N,c.currentConstruct=D,c.events.length=M,s=I,j()}}function j(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function wY(e,t){const r=t.start._index,n=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let o;if(r===i)o=[e[r].slice(n,a)];else{if(o=e.slice(r,i),n>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(n):o.shift()}a>0&&o.push(e[i].slice(0,a))}return o}function SY(e,t){let r=-1;const n=[];let i;for(;++r<e.length;){const a=e[r];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,n.push(o)}return n.join("")}function _Y(e){const n={constructs:LM([bY,...(e||{}).extensions||[]]),content:i(LG),defined:[],document:i(BG),flow:i(iY),lazy:{},string:i(sY),text:i(lY)};return n;function i(a){return o;function o(s){return xY(n,a,s)}}}function EY(e){for(;!UM(e););return e}const uE=/[\0\t\n\r]/g;function OY(){let e=1,t="",r=!0,n;return i;function i(a,o,s){const l=[];let c,u,d,h,p;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),d=0,t="",r&&(a.charCodeAt(0)===65279&&d++,r=void 0);d<a.length;){if(uE.lastIndex=d,c=uE.exec(a),h=c&&c.index!==void 0?c.index:a.length,p=a.charCodeAt(h),!c){t=a.slice(d);break}if(p===10&&d===h&&n)l.push(-3),n=void 0;else switch(n&&(l.push(-5),n=void 0),d<h&&(l.push(a.slice(d,h)),e+=h-d),p){case 0:{l.push(65533),e++;break}case 9:{for(u=Math.ceil(e/4)*4,l.push(-2);e++<u;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:n=!0,e=1}d=h+1}return s&&(n&&l.push(-5),t&&l.push(t),l.push(null)),l}}const jY=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function AY(e){return e.replace(jY,kY)}function kY(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),a=i===120||i===88;return FM(r.slice(a?2:1),a?16:10)}return Vw(r)||e}const YM={}.hasOwnProperty;function PY(e,t,r){return typeof t!="string"&&(r=t,t=void 0),TY(r)(EY(_Y(r).document().write(OY()(e,t,!0))))}function TY(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(tt),autolinkProtocol:T,autolinkEmail:T,atxHeading:a(ae),blockQuote:a(J),characterEscape:T,characterReference:T,codeFenced:a(Z),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(Z,o),codeText:a(U,o),codeTextData:T,data:T,codeFlowValue:T,definition:a(ne),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(q),hardBreakEscape:a(ie),hardBreakTrailing:a(ie),htmlFlow:a(je,o),htmlFlowData:T,htmlText:a(je,o),htmlTextData:T,image:a(Ve),label:o,link:a(tt),listItem:a(Qe),listItemValue:h,listOrdered:a(Rt,d),listUnordered:a(Rt),paragraph:a(xt),reference:R,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(ae),strong:a(It),thematicBreak:a(_i)},exit:{atxHeading:l(),atxHeadingSequence:S,autolink:l(),autolinkEmail:V,autolinkProtocol:Q,blockQuote:l(),characterEscapeValue:j,characterReferenceMarkerHexadecimal:oe,characterReferenceMarkerNumeric:oe,characterReferenceValue:se,characterReference:K,codeFenced:l(g),codeFencedFence:m,codeFencedFenceInfo:p,codeFencedFenceMeta:y,codeFlowValue:j,codeIndented:l(v),codeText:l(I),codeTextData:j,data:j,definition:l(),definitionDestinationString:E,definitionLabelString:x,definitionTitleString:b,emphasis:l(),hardBreakEscape:l(N),hardBreakTrailing:l(N),htmlFlow:l(D),htmlFlowData:j,htmlText:l(M),htmlTextData:j,image:l(B),label:$,labelText:F,lineEnding:A,link:l(L),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:X,resourceDestinationString:C,resourceTitleString:W,resource:z,setextHeading:l(k),setextHeadingLineSequence:O,setextHeadingText:_,strong:l(),thematicBreak:l()}};XM(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(H){let te={type:"root",children:[]};const Oe={stack:[te],tokenStack:[],config:t,enter:s,exit:c,buffer:o,resume:u,data:r},Pe=[];let Me=-1;for(;++Me<H.length;)if(H[Me][1].type==="listOrdered"||H[Me][1].type==="listUnordered")if(H[Me][0]==="enter")Pe.push(Me);else{const Mt=Pe.pop();Me=i(H,Mt,Me)}for(Me=-1;++Me<H.length;){const Mt=t[H[Me][0]];YM.call(Mt,H[Me][1].type)&&Mt[H[Me][1].type].call(Object.assign({sliceSerialize:H[Me][2].sliceSerialize},Oe),H[Me][1])}if(Oe.tokenStack.length>0){const Mt=Oe.tokenStack[Oe.tokenStack.length-1];(Mt[1]||dE).call(Oe,void 0,Mt[0])}for(te.position={start:ji(H.length>0?H[0][1].start:{line:1,column:1,offset:0}),end:ji(H.length>0?H[H.length-2][1].end:{line:1,column:1,offset:0})},Me=-1;++Me<t.transforms.length;)te=t.transforms[Me](te)||te;return te}function i(H,te,Oe){let Pe=te-1,Me=-1,Mt=!1,Sr,ir,fr,Sn;for(;++Pe<=Oe;){const yt=H[Pe];switch(yt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{yt[0]==="enter"?Me++:Me--,Sn=void 0;break}case"lineEndingBlank":{yt[0]==="enter"&&(Sr&&!Sn&&!Me&&!fr&&(fr=Pe),Sn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Sn=void 0}if(!Me&&yt[0]==="enter"&&yt[1].type==="listItemPrefix"||Me===-1&&yt[0]==="exit"&&(yt[1].type==="listUnordered"||yt[1].type==="listOrdered")){if(Sr){let _n=Pe;for(ir=void 0;_n--;){const he=H[_n];if(he[1].type==="lineEnding"||he[1].type==="lineEndingBlank"){if(he[0]==="exit")continue;ir&&(H[ir][1].type="lineEndingBlank",Mt=!0),he[1].type="lineEnding",ir=_n}else if(!(he[1].type==="linePrefix"||he[1].type==="blockQuotePrefix"||he[1].type==="blockQuotePrefixWhitespace"||he[1].type==="blockQuoteMarker"||he[1].type==="listItemIndent"))break}fr&&(!ir||fr<ir)&&(Sr._spread=!0),Sr.end=Object.assign({},ir?H[ir][1].start:yt[1].end),H.splice(ir||Pe,0,["exit",Sr,yt[2]]),Pe++,Oe++}if(yt[1].type==="listItemPrefix"){const _n={type:"listItem",_spread:!1,start:Object.assign({},yt[1].start),end:void 0};Sr=_n,H.splice(Pe,0,["enter",_n,yt[2]]),Pe++,Oe++,fr=void 0,Sn=!0}}}return H[te][1]._spread=Mt,Oe}function a(H,te){return Oe;function Oe(Pe){s.call(this,H(Pe),Pe),te&&te.call(this,Pe)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(H,te,Oe){this.stack[this.stack.length-1].children.push(H),this.stack.push(H),this.tokenStack.push([te,Oe||void 0]),H.position={start:ji(te.start),end:void 0}}function l(H){return te;function te(Oe){H&&H.call(this,Oe),c.call(this,Oe)}}function c(H,te){const Oe=this.stack.pop(),Pe=this.tokenStack.pop();if(Pe)Pe[0].type!==H.type&&(te?te.call(this,H,Pe[0]):(Pe[1]||dE).call(this,H,Pe[0]));else throw new Error("Cannot close `"+H.type+"` ("+Tl({start:H.start,end:H.end})+"): its not open");Oe.position.end=ji(H.end)}function u(){return Hw(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(H){if(this.data.expectingFirstListItemValue){const te=this.stack[this.stack.length-2];te.start=Number.parseInt(this.sliceSerialize(H),10),this.data.expectingFirstListItemValue=void 0}}function p(){const H=this.resume(),te=this.stack[this.stack.length-1];te.lang=H}function y(){const H=this.resume(),te=this.stack[this.stack.length-1];te.meta=H}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const H=this.resume(),te=this.stack[this.stack.length-1];te.value=H.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const H=this.resume(),te=this.stack[this.stack.length-1];te.value=H.replace(/(\r?\n|\r)$/g,"")}function x(H){const te=this.resume(),Oe=this.stack[this.stack.length-1];Oe.label=te,Oe.identifier=gn(this.sliceSerialize(H)).toLowerCase()}function b(){const H=this.resume(),te=this.stack[this.stack.length-1];te.title=H}function E(){const H=this.resume(),te=this.stack[this.stack.length-1];te.url=H}function S(H){const te=this.stack[this.stack.length-1];if(!te.depth){const Oe=this.sliceSerialize(H).length;te.depth=Oe}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function O(H){const te=this.stack[this.stack.length-1];te.depth=this.sliceSerialize(H).codePointAt(0)===61?1:2}function k(){this.data.setextHeadingSlurpLineEnding=void 0}function T(H){const Oe=this.stack[this.stack.length-1].children;let Pe=Oe[Oe.length-1];(!Pe||Pe.type!=="text")&&(Pe=Lr(),Pe.position={start:ji(H.start),end:void 0},Oe.push(Pe)),this.stack.push(Pe)}function j(H){const te=this.stack.pop();te.value+=this.sliceSerialize(H),te.position.end=ji(H.end)}function A(H){const te=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Oe=te.children[te.children.length-1];Oe.position.end=ji(H.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(te.type)&&(T.call(this,H),j.call(this,H))}function N(){this.data.atHardBreak=!0}function D(){const H=this.resume(),te=this.stack[this.stack.length-1];te.value=H}function M(){const H=this.resume(),te=this.stack[this.stack.length-1];te.value=H}function I(){const H=this.resume(),te=this.stack[this.stack.length-1];te.value=H}function L(){const H=this.stack[this.stack.length-1];if(this.data.inReference){const te=this.data.referenceType||"shortcut";H.type+="Reference",H.referenceType=te,delete H.url,delete H.title}else delete H.identifier,delete H.label;this.data.referenceType=void 0}function B(){const H=this.stack[this.stack.length-1];if(this.data.inReference){const te=this.data.referenceType||"shortcut";H.type+="Reference",H.referenceType=te,delete H.url,delete H.title}else delete H.identifier,delete H.label;this.data.referenceType=void 0}function F(H){const te=this.sliceSerialize(H),Oe=this.stack[this.stack.length-2];Oe.label=AY(te),Oe.identifier=gn(te).toLowerCase()}function $(){const H=this.stack[this.stack.length-1],te=this.resume(),Oe=this.stack[this.stack.length-1];if(this.data.inReference=!0,Oe.type==="link"){const Pe=H.children;Oe.children=Pe}else Oe.alt=te}function C(){const H=this.resume(),te=this.stack[this.stack.length-1];te.url=H}function W(){const H=this.resume(),te=this.stack[this.stack.length-1];te.title=H}function z(){this.data.inReference=void 0}function R(){this.data.referenceType="collapsed"}function X(H){const te=this.resume(),Oe=this.stack[this.stack.length-1];Oe.label=te,Oe.identifier=gn(this.sliceSerialize(H)).toLowerCase(),this.data.referenceType="full"}function oe(H){this.data.characterReferenceType=H.type}function se(H){const te=this.sliceSerialize(H),Oe=this.data.characterReferenceType;let Pe;Oe?(Pe=FM(te,Oe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Pe=Vw(te);const Me=this.stack[this.stack.length-1];Me.value+=Pe}function K(H){const te=this.stack.pop();te.position.end=ji(H.end)}function Q(H){j.call(this,H);const te=this.stack[this.stack.length-1];te.url=this.sliceSerialize(H)}function V(H){j.call(this,H);const te=this.stack[this.stack.length-1];te.url="mailto:"+this.sliceSerialize(H)}function J(){return{type:"blockquote",children:[]}}function Z(){return{type:"code",lang:null,meta:null,value:""}}function U(){return{type:"inlineCode",value:""}}function ne(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function q(){return{type:"emphasis",children:[]}}function ae(){return{type:"heading",depth:0,children:[]}}function ie(){return{type:"break"}}function je(){return{type:"html",value:""}}function Ve(){return{type:"image",title:null,url:"",alt:null}}function tt(){return{type:"link",title:null,url:"",children:[]}}function Rt(H){return{type:"list",ordered:H.type==="listOrdered",start:null,spread:H._spread,children:[]}}function Qe(H){return{type:"listItem",spread:H._spread,checked:null,children:[]}}function xt(){return{type:"paragraph",children:[]}}function It(){return{type:"strong",children:[]}}function Lr(){return{type:"text",value:""}}function _i(){return{type:"thematicBreak"}}}function ji(e){return{line:e.line,column:e.column,offset:e.offset}}function XM(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?XM(e,n):CY(e,n)}}function CY(e,t){let r;for(r in t)if(YM.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function dE(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Tl({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Tl({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Tl({start:t.start,end:t.end})+") is still open")}function NY(e){const t=this;t.parser=r;function r(n){return PY(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function RY(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function IY(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function MY(e,t){const r=t.value?t.value+`
`:"",n={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(n.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function DY(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function $Y(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function LY(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),i=Fs(n.toLowerCase()),a=e.footnoteOrder.indexOf(n);let o,s=e.footnoteCounts.get(n);s===void 0?(s=0,e.footnoteOrder.push(n),o=e.footnoteOrder.length):o=a+1,s+=1,e.footnoteCounts.set(n,s);const l={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function FY(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function BY(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function QM(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=n:i.push({type:"text",value:n}),i}function qY(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return QM(e,t);const i={src:Fs(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function zY(e,t){const r={src:Fs(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function UY(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function WY(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return QM(e,t);const i={href:Fs(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function HY(e,t){const r={href:Fs(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function VY(e,t,r){const n=e.all(t),i=r?KY(r):JM(t),a={},o=[];if(typeof t.checked=="boolean"){const u=n[0];let d;u&&u.type==="element"&&u.tagName==="p"?d=u:(d={type:"element",tagName:"p",properties:{},children:[]},n.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let s=-1;for(;++s<n.length;){const u=n[s];(i||s!==0||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?o.push(...u.children):o.push(u)}const l=n[n.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:o};return e.patch(t,c),e.applyData(t,c)}function KY(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=JM(r[n])}return t}function JM(e){const t=e.spread;return t??e.children.length>1}function GY(e,t){const r={},n=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++i<n.length;){const o=n[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,a),e.applyData(t,a)}function YY(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function XY(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function QY(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function JY(e,t){const r=e.all(t),n=r.shift(),i=[];if(n){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],o),i.push(o)}if(r.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},s=qw(t.children[1]),l=CM(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function ZY(e,t,r){const n=r?r.children:void 0,a=(n?n.indexOf(t):1)===0?"th":"td",o=r&&r.type==="table"?r.align:void 0,s=o?o.length:t.children.length;let l=-1;const c=[];for(;++l<s;){const d=t.children[l],h={},p=o?o[l]:void 0;p&&(h.align=p);let y={type:"element",tagName:a,properties:h,children:[]};d&&(y.children=e.all(d),e.patch(d,y),y=e.applyData(d,y)),c.push(y)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,u),e.applyData(t,u)}function eX(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const fE=9,hE=32;function tX(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),i=0;const a=[];for(;n;)a.push(pE(t.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(t);return a.push(pE(t.slice(i),i>0,!1)),a.join("")}function pE(e,t,r){let n=0,i=e.length;if(t){let a=e.codePointAt(n);for(;a===fE||a===hE;)n++,a=e.codePointAt(n)}if(r){let a=e.codePointAt(i-1);for(;a===fE||a===hE;)i--,a=e.codePointAt(i-1)}return i>n?e.slice(n,i):""}function rX(e,t){const r={type:"text",value:tX(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function nX(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const iX={blockquote:RY,break:IY,code:MY,delete:DY,emphasis:$Y,footnoteReference:LY,heading:FY,html:BY,imageReference:qY,image:zY,inlineCode:UY,linkReference:WY,link:HY,listItem:VY,list:GY,paragraph:YY,root:XY,strong:QY,table:JY,tableCell:eX,tableRow:ZY,text:rX,thematicBreak:nX,toml:ku,yaml:ku,definition:ku,footnoteDefinition:ku};function ku(){}const ZM=-1,gh=0,Nl=1,Ad=2,Gw=3,Yw=4,Xw=5,Qw=6,eD=7,tD=8,mE=typeof self=="object"?self:globalThis,aX=(e,t)=>{const r=(i,a)=>(e.set(a,i),i),n=i=>{if(e.has(i))return e.get(i);const[a,o]=t[i];switch(a){case gh:case ZM:return r(o,i);case Nl:{const s=r([],i);for(const l of o)s.push(n(l));return s}case Ad:{const s=r({},i);for(const[l,c]of o)s[n(l)]=n(c);return s}case Gw:return r(new Date(o),i);case Yw:{const{source:s,flags:l}=o;return r(new RegExp(s,l),i)}case Xw:{const s=r(new Map,i);for(const[l,c]of o)s.set(n(l),n(c));return s}case Qw:{const s=r(new Set,i);for(const l of o)s.add(n(l));return s}case eD:{const{name:s,message:l}=o;return r(new mE[s](l),i)}case tD:return r(BigInt(o),i);case"BigInt":return r(Object(BigInt(o)),i);case"ArrayBuffer":return r(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return r(new DataView(s),o)}}return r(new mE[a](o),i)};return n},gE=e=>aX(new Map,e)(0),xo="",{toString:oX}={},{keys:sX}=Object,ol=e=>{const t=typeof e;if(t!=="object"||!e)return[gh,t];const r=oX.call(e).slice(8,-1);switch(r){case"Array":return[Nl,xo];case"Object":return[Ad,xo];case"Date":return[Gw,xo];case"RegExp":return[Yw,xo];case"Map":return[Xw,xo];case"Set":return[Qw,xo];case"DataView":return[Nl,r]}return r.includes("Array")?[Nl,r]:r.includes("Error")?[eD,r]:[Ad,r]},Pu=([e,t])=>e===gh&&(t==="function"||t==="symbol"),lX=(e,t,r,n)=>{const i=(o,s)=>{const l=n.push(o)-1;return r.set(s,l),l},a=o=>{if(r.has(o))return r.get(o);let[s,l]=ol(o);switch(s){case gh:{let u=o;switch(l){case"bigint":s=tD,u=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([ZM],o)}return i([s,u],o)}case Nl:{if(l){let h=o;return l==="DataView"?h=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(o)),i([l,[...h]],o)}const u=[],d=i([s,u],o);for(const h of o)u.push(a(h));return d}case Ad:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return a(o.toJSON());const u=[],d=i([s,u],o);for(const h of sX(o))(e||!Pu(ol(o[h])))&&u.push([a(h),a(o[h])]);return d}case Gw:return i([s,o.toISOString()],o);case Yw:{const{source:u,flags:d}=o;return i([s,{source:u,flags:d}],o)}case Xw:{const u=[],d=i([s,u],o);for(const[h,p]of o)(e||!(Pu(ol(h))||Pu(ol(p))))&&u.push([a(h),a(p)]);return d}case Qw:{const u=[],d=i([s,u],o);for(const h of o)(e||!Pu(ol(h)))&&u.push(a(h));return d}}const{message:c}=o;return i([s,{name:l,message:c}],o)};return a},yE=(e,{json:t,lossy:r}={})=>{const n=[];return lX(!(t||r),!!t,new Map,n)(e),n},kd=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?gE(yE(e,t)):structuredClone(e):(e,t)=>gE(yE(e,t));function cX(e,t){const r=[{type:"text",value:""}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function uX(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function dX(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||cX,n=e.options.footnoteBackLabel||uX,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const u=e.all(c),d=String(c.identifier).toUpperCase(),h=Fs(d.toLowerCase());let p=0;const y=[],m=e.footnoteCounts.get(d);for(;m!==void 0&&++p<=m;){y.length>0&&y.push({type:"text",value:" "});let x=typeof r=="string"?r:r(l,p);typeof x=="string"&&(x={type:"text",value:x}),y.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(l,p),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const g=u[u.length-1];if(g&&g.type==="element"&&g.tagName==="p"){const x=g.children[g.children.length-1];x&&x.type==="text"?x.value+=" ":g.children.push({type:"text",value:" "}),g.children.push(...y)}else u.push(...y);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(u,!0)};e.patch(c,v),s.push(v)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...kd(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const yh=(function(e){if(e==null)return mX;if(typeof e=="function")return vh(e);if(typeof e=="object")return Array.isArray(e)?fX(e):hX(e);if(typeof e=="string")return pX(e);throw new Error("Expected function, string, or object as test")});function fX(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=yh(e[r]);return vh(n);function n(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function hX(e){const t=e;return vh(r);function r(n){const i=n;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function pX(e){return vh(t);function t(r){return r&&r.type===e}}function vh(e){return t;function t(r,n,i){return!!(gX(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function mX(){return!0}function gX(e){return e!==null&&typeof e=="object"&&"type"in e}const rD=[],yX=!0,Jb=!1,vX="skip";function nD(e,t,r,n){let i;typeof t=="function"&&typeof r!="function"?(n=r,r=t):i=t;const a=yh(i),o=n?-1:1;s(e,void 0,[])();function s(l,c,u){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=rD,y,m,g;if((!t||a(l,c,u[u.length-1]||void 0))&&(p=bX(r(l,u)),p[0]===Jb))return p;if("children"in l&&l.children){const v=l;if(v.children&&p[0]!==vX)for(m=(n?v.children.length:-1)+o,g=u.concat(v);m>-1&&m<v.children.length;){const x=v.children[m];if(y=s(x,m,g)(),y[0]===Jb)return y;m=typeof y[1]=="number"?y[1]:m+o}}return p}}}function bX(e){return Array.isArray(e)?e:typeof e=="number"?[yX,e]:e==null?rD:[e]}function Jw(e,t,r,n){let i,a,o;typeof t=="function"&&typeof r!="function"?(a=void 0,o=t,i=r):(a=t,o=r,i=n),nD(e,a,s,i);function s(l,c){const u=c[c.length-1],d=u?u.children.indexOf(l):void 0;return o(l,d,u)}}const Zb={}.hasOwnProperty,xX={};function wX(e,t){const r=t||xX,n=new Map,i=new Map,a=new Map,o={...iX,...r.handlers},s={all:c,applyData:_X,definitionById:n,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:l,options:r,patch:SX,wrap:OX};return Jw(e,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const d=u.type==="definition"?n:i,h=String(u.identifier).toUpperCase();d.has(h)||d.set(h,u)}}),s;function l(u,d){const h=u.type,p=s.handlers[h];if(Zb.call(s.handlers,h)&&p)return p(s,u,d);if(s.options.passThrough&&s.options.passThrough.includes(h)){if("children"in u){const{children:m,...g}=u,v=kd(g);return v.children=s.all(u),v}return kd(u)}return(s.options.unknownHandler||EX)(s,u,d)}function c(u){const d=[];if("children"in u){const h=u.children;let p=-1;for(;++p<h.length;){const y=s.one(h[p],u);if(y){if(p&&h[p-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=vE(y.value)),!Array.isArray(y)&&y.type==="element")){const m=y.children[0];m&&m.type==="text"&&(m.value=vE(m.value))}Array.isArray(y)?d.push(...y):d.push(y)}}}return d}}function SX(e,t){e.position&&(t.position=uG(e))}function _X(e,t){let r=t;if(e&&e.data){const n=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const o="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:o}}r.type==="element"&&a&&Object.assign(r.properties,kd(a)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function EX(e,t){const r=t.data||{},n="value"in t&&!(Zb.call(r,"hProperties")||Zb.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function OX(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function vE(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function bE(e,t){const r=wX(e,t),n=r.one(e,void 0),i=dX(r),a=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function jX(e,t){return e&&"run"in e?async function(r,n){const i=bE(r,{file:n,...t});await e.run(i,n)}:function(r,n){return bE(r,{file:n,...e||t})}}function xE(e){if(e)throw e}var $p,wE;function AX(){if(wE)return $p;wE=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},a=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var u=e.call(c,"constructor"),d=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!u&&!d)return!1;var h;for(h in c);return typeof h>"u"||e.call(c,h)},o=function(c,u){r&&u.name==="__proto__"?r(c,u.name,{enumerable:!0,configurable:!0,value:u.newValue,writable:!0}):c[u.name]=u.newValue},s=function(c,u){if(u==="__proto__")if(e.call(c,u)){if(n)return n(c,u).value}else return;return c[u]};return $p=function l(){var c,u,d,h,p,y,m=arguments[0],g=1,v=arguments.length,x=!1;for(typeof m=="boolean"&&(x=m,m=arguments[1]||{},g=2),(m==null||typeof m!="object"&&typeof m!="function")&&(m={});g<v;++g)if(c=arguments[g],c!=null)for(u in c)d=s(m,u),h=s(c,u),m!==h&&(x&&h&&(a(h)||(p=i(h)))?(p?(p=!1,y=d&&i(d)?d:[]):y=d&&a(d)?d:{},o(m,{name:u,newValue:l(x,y,h)})):typeof h<"u"&&o(m,{name:u,newValue:h}));return m},$p}var kX=AX();const Lp=Ue(kX);function e0(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function PX(){const e=[],t={run:r,use:n};return t;function r(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(l,...c){const u=e[++a];let d=-1;if(l){o(l);return}for(;++d<i.length;)(c[d]===null||c[d]===void 0)&&(c[d]=i[d]);i=c,u?TX(u,s)(...c):o(null,...c)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function TX(e,t){let r;return n;function n(...o){const s=e.length>o.length;let l;s&&o.push(i);try{l=e.apply(this,o)}catch(c){const u=c;if(s&&r)throw u;return i(u)}s||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(o,...s){r||(r=!0,t(o,...s))}function a(o){i(null,o)}}const jn={basename:CX,dirname:NX,extname:RX,join:IX,sep:"/"};function CX(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Xc(e);let r=0,n=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){r=i+1;break}}else n<0&&(a=!0,n=i+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let o=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){r=i+1;break}}else o<0&&(a=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(n=i):(s=-1,n=o));return r===n?n=o:n<0&&(n=e.length),e.slice(r,n)}function NX(e){if(Xc(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function RX(e){Xc(e);let t=e.length,r=-1,n=0,i=-1,a=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){n=t+1;break}continue}r<0&&(o=!0,r=t+1),s===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||r<0||a===0||a===1&&i===r-1&&i===n+1?"":e.slice(i,r)}function IX(...e){let t=-1,r;for(;++t<e.length;)Xc(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":MX(r)}function MX(e){Xc(e);const t=e.codePointAt(0)===47;let r=DX(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function DX(e,t){let r="",n=0,i=-1,a=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(l=r.lastIndexOf("/"),l!==r.length-1){l<0?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=o,a=0;continue}}else if(r.length>0){r="",n=0,i=o,a=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(i+1,o):r=e.slice(i+1,o),n=o-i-1;i=o,a=0}else s===46&&a>-1?a++:a=-1}return r}function Xc(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const $X={cwd:LX};function LX(){return"/"}function t0(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function FX(e){if(typeof e=="string")e=new URL(e);else if(!t0(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return BX(e)}function BX(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Fp=["history","path","basename","stem","extname","dirname"];class iD{constructor(t){let r;t?t0(t)?r={path:t}:typeof t=="string"||qX(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":$X.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<Fp.length;){const a=Fp[n];a in r&&r[a]!==void 0&&r[a]!==null&&(this[a]=a==="history"?[...r[a]]:r[a])}let i;for(i in r)Fp.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?jn.basename(this.path):void 0}set basename(t){qp(t,"basename"),Bp(t,"basename"),this.path=jn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?jn.dirname(this.path):void 0}set dirname(t){SE(this.basename,"dirname"),this.path=jn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?jn.extname(this.path):void 0}set extname(t){if(Bp(t,"extname"),SE(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=jn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){t0(t)&&(t=FX(t)),qp(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?jn.basename(this.path,this.extname):void 0}set stem(t){qp(t,"stem"),Bp(t,"stem"),this.path=jn.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const i=this.message(t,r,n);throw i.fatal=!0,i}info(t,r,n){const i=this.message(t,r,n);return i.fatal=void 0,i}message(t,r,n){const i=new nr(t,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Bp(e,t){if(e&&e.includes(jn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+jn.sep+"`")}function qp(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function SE(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function qX(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const zX=(function(e){const n=this.constructor.prototype,i=n[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,n),a}),UX={}.hasOwnProperty;class Zw extends zX{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=PX()}copy(){const t=new Zw;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(Lp(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(Wp("data",this.frozen),this.namespace[t]=r,this):UX.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Wp("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(t,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=Tu(t),n=this.parser||this.Parser;return zp("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),zp("process",this.parser||this.Parser),Up("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(a,o){const s=Tu(t),l=n.parse(s);n.run(l,s,function(u,d,h){if(u||!d||!h)return c(u);const p=d,y=n.stringify(p,h);VX(y)?h.value=y:h.result=y,c(u,h)});function c(u,d){u||!d?o(u):a?a(d):r(void 0,d)}}}processSync(t){let r=!1,n;return this.freeze(),zp("processSync",this.parser||this.Parser),Up("processSync",this.compiler||this.Compiler),this.process(t,i),EE("processSync","process",r),n;function i(a,o){r=!0,xE(a),n=o}}run(t,r,n){_E(t),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?a(void 0,n):new Promise(a);function a(o,s){const l=Tu(r);i.run(t,l,c);function c(u,d,h){const p=d||t;u?s(u):o?o(p):n(void 0,p,h)}}}runSync(t,r){let n=!1,i;return this.run(t,r,a),EE("runSync","run",n),i;function a(o,s){xE(o),i=s,n=!0}}stringify(t,r){this.freeze();const n=Tu(r),i=this.compiler||this.Compiler;return Up("stringify",i),_E(t),i(t,n)}use(t,...r){const n=this.attachers,i=this.namespace;if(Wp("use",this.frozen),t!=null)if(typeof t=="function")l(t,r);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...d]=c;l(u,d)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(i.settings=Lp(!0,i.settings,c.settings))}function s(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const d=c[u];a(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let d=-1,h=-1;for(;++d<n.length;)if(n[d][0]===c){h=d;break}if(h===-1)n.push([c,...u]);else if(u.length>0){let[p,...y]=u;const m=n[h][1];e0(m)&&e0(p)&&(p=Lp(!0,m,p)),n[h]=[c,p,...y]}}}}const WX=new Zw().freeze();function zp(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Up(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Wp(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function _E(e){if(!e0(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function EE(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Tu(e){return HX(e)?e:new iD(e)}function HX(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function VX(e){return typeof e=="string"||KX(e)}function KX(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const GX="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",OE=[],jE={allowDangerousHtml:!0},YX=/^(https?|ircs?|mailto|xmpp)$/i,XX=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function QX(e){const t=JX(e),r=ZX(e);return eQ(t.runSync(t.parse(r),r),e)}function JX(e){const t=e.rehypePlugins||OE,r=e.remarkPlugins||OE,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...jE}:jE;return WX().use(NY).use(r).use(jX,n).use(t)}function ZX(e){const t=e.children||"",r=new iD;return typeof t=="string"&&(r.value=t),r}function eQ(e,t){const r=t.allowedElements,n=t.allowElement,i=t.components,a=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||tQ;for(const u of XX)Object.hasOwn(t,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+GX+u.id,void 0);return Jw(e,c),mG(e,{Fragment:f.Fragment,components:i,ignoreInvalidStyle:!0,jsx:f.jsx,jsxs:f.jsxs,passKeys:!0,passNode:!0});function c(u,d,h){if(u.type==="raw"&&h&&typeof d=="number")return o?h.children.splice(d,1):h.children[d]={type:"text",value:u.value},d;if(u.type==="element"){let p;for(p in Ip)if(Object.hasOwn(Ip,p)&&Object.hasOwn(u.properties,p)){const y=u.properties[p],m=Ip[p];(m===null||m.includes(u.tagName))&&(u.properties[p]=l(String(y||""),p,u))}}if(u.type==="element"){let p=r?!r.includes(u.tagName):a?a.includes(u.tagName):!1;if(!p&&n&&typeof d=="number"&&(p=!n(u,d,h)),p&&h&&typeof d=="number")return s&&u.children?h.children.splice(d,1,...u.children):h.children.splice(d,1),d}}}function tQ(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||r!==-1&&t>r||n!==-1&&t>n||YX.test(e.slice(0,t))?e:""}function AE(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let n=0,i=r.indexOf(t);for(;i!==-1;)n++,i=r.indexOf(t,i+t.length);return n}function rQ(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function nQ(e,t,r){const i=yh((r||{}).ignore||[]),a=iQ(t);let o=-1;for(;++o<a.length;)nD(e,"text",s);function s(c,u){let d=-1,h;for(;++d<u.length;){const p=u[d],y=h?h.children:void 0;if(i(p,y?y.indexOf(p):void 0,h))return;h=p}if(h)return l(c,u)}function l(c,u){const d=u[u.length-1],h=a[o][0],p=a[o][1];let y=0;const g=d.children.indexOf(c);let v=!1,x=[];h.lastIndex=0;let b=h.exec(c.value);for(;b;){const E=b.index,S={index:b.index,input:b.input,stack:[...u,c]};let _=p(...b,S);if(typeof _=="string"&&(_=_.length>0?{type:"text",value:_}:void 0),_===!1?h.lastIndex=E+1:(y!==E&&x.push({type:"text",value:c.value.slice(y,E)}),Array.isArray(_)?x.push(..._):_&&x.push(_),y=E+b[0].length,v=!0),!h.global)break;b=h.exec(c.value)}return v?(y<c.value.length&&x.push({type:"text",value:c.value.slice(y)}),d.children.splice(g,1,...x)):x=[c],g+x.length}}function iQ(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let n=-1;for(;++n<r.length;){const i=r[n];t.push([aQ(i[0]),oQ(i[1])])}return t}function aQ(e){return typeof e=="string"?new RegExp(rQ(e),"g"):e}function oQ(e){return typeof e=="function"?e:function(){return e}}const Hp="phrasing",Vp=["autolink","link","image","label"];function sQ(){return{transforms:[pQ],enter:{literalAutolink:cQ,literalAutolinkEmail:Kp,literalAutolinkHttp:Kp,literalAutolinkWww:Kp},exit:{literalAutolink:hQ,literalAutolinkEmail:fQ,literalAutolinkHttp:uQ,literalAutolinkWww:dQ}}}function lQ(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Hp,notInConstruct:Vp},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Hp,notInConstruct:Vp},{character:":",before:"[ps]",after:"\\/",inConstruct:Hp,notInConstruct:Vp}]}}function cQ(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Kp(e){this.config.enter.autolinkProtocol.call(this,e)}function uQ(e){this.config.exit.autolinkProtocol.call(this,e)}function dQ(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function fQ(e){this.config.exit.autolinkEmail.call(this,e)}function hQ(e){this.exit(e)}function pQ(e){nQ(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,mQ],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),gQ]],{ignore:["link","linkReference"]})}function mQ(e,t,r,n,i){let a="";if(!aD(i)||(/^w/i.test(t)&&(r=t+r,t="",a="http://"),!yQ(r)))return!1;const o=vQ(r+n);if(!o[0])return!1;const s={type:"link",title:null,url:a+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function gQ(e,t,r,n){return!aD(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function yQ(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function vQ(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],n=r.indexOf(")");const i=AE(e,"(");let a=AE(e,")");for(;n!==-1&&i>a;)e+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),a++;return[e,r]}function aD(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||Va(r)||ph(r))&&(!t||r!==47)}oD.peek=AQ;function bQ(){this.buffer()}function xQ(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function wQ(){this.buffer()}function SQ(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function _Q(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=gn(this.sliceSerialize(e)).toLowerCase(),r.label=t}function EQ(e){this.exit(e)}function OQ(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=gn(this.sliceSerialize(e)).toLowerCase(),r.label=t}function jQ(e){this.exit(e)}function AQ(){return"["}function oD(e,t,r,n){const i=r.createTracker(n);let a=i.move("[^");const o=r.enter("footnoteReference"),s=r.enter("reference");return a+=i.move(r.safe(r.associationId(e),{after:"]",before:a})),s(),o(),a+=i.move("]"),a}function kQ(){return{enter:{gfmFootnoteCallString:bQ,gfmFootnoteCall:xQ,gfmFootnoteDefinitionLabelString:wQ,gfmFootnoteDefinition:SQ},exit:{gfmFootnoteCallString:_Q,gfmFootnoteCall:EQ,gfmFootnoteDefinitionLabelString:OQ,gfmFootnoteDefinition:jQ}}}function PQ(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:oD},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,i,a,o){const s=a.createTracker(o);let l=s.move("[^");const c=a.enter("footnoteDefinition"),u=a.enter("label");return l+=s.move(a.safe(a.associationId(n),{before:l,after:"]"})),u(),l+=s.move("]:"),n.children&&n.children.length>0&&(s.shift(4),l+=s.move((t?`
`:" ")+a.indentLines(a.containerFlow(n,s.current()),t?sD:TQ))),c(),l}}function TQ(e,t,r){return t===0?e:sD(e,t,r)}function sD(e,t,r){return(r?"":"    ")+e}const CQ=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];lD.peek=DQ;function NQ(){return{canContainEols:["delete"],enter:{strikethrough:IQ},exit:{strikethrough:MQ}}}function RQ(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:CQ}],handlers:{delete:lD}}}function IQ(e){this.enter({type:"delete",children:[]},e)}function MQ(e){this.exit(e)}function lD(e,t,r,n){const i=r.createTracker(n),a=r.enter("strikethrough");let o=i.move("~~");return o+=r.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),a(),o}function DQ(){return"~"}function $Q(e){return e.length}function LQ(e,t){const r=t||{},n=(r.align||[]).concat(),i=r.stringLength||$Q,a=[],o=[],s=[],l=[];let c=0,u=-1;for(;++u<e.length;){const m=[],g=[];let v=-1;for(e[u].length>c&&(c=e[u].length);++v<e[u].length;){const x=FQ(e[u][v]);if(r.alignDelimiters!==!1){const b=i(x);g[v]=b,(l[v]===void 0||b>l[v])&&(l[v]=b)}m.push(x)}o[u]=m,s[u]=g}let d=-1;if(typeof n=="object"&&"length"in n)for(;++d<c;)a[d]=kE(n[d]);else{const m=kE(n);for(;++d<c;)a[d]=m}d=-1;const h=[],p=[];for(;++d<c;){const m=a[d];let g="",v="";m===99?(g=":",v=":"):m===108?g=":":m===114&&(v=":");let x=r.alignDelimiters===!1?1:Math.max(1,l[d]-g.length-v.length);const b=g+"-".repeat(x)+v;r.alignDelimiters!==!1&&(x=g.length+x+v.length,x>l[d]&&(l[d]=x),p[d]=x),h[d]=b}o.splice(1,0,h),s.splice(1,0,p),u=-1;const y=[];for(;++u<o.length;){const m=o[u],g=s[u];d=-1;const v=[];for(;++d<c;){const x=m[d]||"";let b="",E="";if(r.alignDelimiters!==!1){const S=l[d]-(g[d]||0),_=a[d];_===114?b=" ".repeat(S):_===99?S%2?(b=" ".repeat(S/2+.5),E=" ".repeat(S/2-.5)):(b=" ".repeat(S/2),E=b):E=" ".repeat(S)}r.delimiterStart!==!1&&!d&&v.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&x==="")&&(r.delimiterStart!==!1||d)&&v.push(" "),r.alignDelimiters!==!1&&v.push(b),v.push(x),r.alignDelimiters!==!1&&v.push(E),r.padding!==!1&&v.push(" "),(r.delimiterEnd!==!1||d!==c-1)&&v.push("|")}y.push(r.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return y.join(`
`)}function FQ(e){return e==null?"":String(e)}function kE(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function BQ(e,t,r,n){const i=r.enter("blockquote"),a=r.createTracker(n);a.move("> "),a.shift(2);const o=r.indentLines(r.containerFlow(e,a.current()),qQ);return i(),o}function qQ(e,t,r){return">"+(r?"":" ")+e}function zQ(e,t){return PE(e,t.inConstruct,!0)&&!PE(e,t.notInConstruct,!1)}function PE(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}function TE(e,t,r,n){let i=-1;for(;++i<r.unsafe.length;)if(r.unsafe[i].character===`
`&&zQ(r.stack,r.unsafe[i]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function UQ(e,t){const r=String(e);let n=r.indexOf(t),i=n,a=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===i?++a>o&&(o=a):a=1,i=n+t.length,n=r.indexOf(t,i);return o}function WQ(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function HQ(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function VQ(e,t,r,n){const i=HQ(r),a=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(WQ(e,r)){const d=r.enter("codeIndented"),h=r.indentLines(a,KQ);return d(),h}const s=r.createTracker(n),l=i.repeat(Math.max(UQ(a,i)+1,3)),c=r.enter("codeFenced");let u=s.move(l);if(e.lang){const d=r.enter(`codeFencedLang${o}`);u+=s.move(r.safe(e.lang,{before:u,after:" ",encode:["`"],...s.current()})),d()}if(e.lang&&e.meta){const d=r.enter(`codeFencedMeta${o}`);u+=s.move(" "),u+=s.move(r.safe(e.meta,{before:u,after:`
`,encode:["`"],...s.current()})),d()}return u+=s.move(`
`),a&&(u+=s.move(a+`
`)),u+=s.move(l),c(),u}function KQ(e,t,r){return(r?"":"    ")+e}function e1(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function GQ(e,t,r,n){const i=e1(r),a=i==='"'?"Quote":"Apostrophe",o=r.enter("definition");let s=r.enter("label");const l=r.createTracker(n);let c=l.move("[");return c+=l.move(r.safe(r.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=r.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(r.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=r.enter("destinationRaw"),c+=l.move(r.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=r.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(r.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),o(),c}function YQ(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function ec(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Pd(e,t,r){const n=Qo(e),i=Qo(t);return n===void 0?i===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}cD.peek=XQ;function cD(e,t,r,n){const i=YQ(r),a=r.enter("emphasis"),o=r.createTracker(n),s=o.move(i);let l=o.move(r.containerPhrasing(e,{after:i,before:s,...o.current()}));const c=l.charCodeAt(0),u=Pd(n.before.charCodeAt(n.before.length-1),c,i);u.inside&&(l=ec(c)+l.slice(1));const d=l.charCodeAt(l.length-1),h=Pd(n.after.charCodeAt(0),d,i);h.inside&&(l=l.slice(0,-1)+ec(d));const p=o.move(i);return a(),r.attentionEncodeSurroundingInfo={after:h.outside,before:u.outside},s+l+p}function XQ(e,t,r){return r.options.emphasis||"*"}function QQ(e,t){let r=!1;return Jw(e,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,Jb}),!!((!e.depth||e.depth<3)&&Hw(e)&&(t.options.setext||r))}function JQ(e,t,r,n){const i=Math.max(Math.min(6,e.depth||1),1),a=r.createTracker(n);if(QQ(e,r)){const u=r.enter("headingSetext"),d=r.enter("phrasing"),h=r.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return d(),u(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const o="#".repeat(i),s=r.enter("headingAtx"),l=r.enter("phrasing");a.move(o+" ");let c=r.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(c)&&(c=ec(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,r.options.closeAtx&&(c+=" "+o),l(),s(),c}uD.peek=ZQ;function uD(e){return e.value||""}function ZQ(){return"<"}dD.peek=eJ;function dD(e,t,r,n){const i=e1(r),a=i==='"'?"Quote":"Apostrophe",o=r.enter("image");let s=r.enter("label");const l=r.createTracker(n);let c=l.move("![");return c+=l.move(r.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=r.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(r.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=r.enter("destinationRaw"),c+=l.move(r.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=r.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(r.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),c+=l.move(")"),o(),c}function eJ(){return"!"}fD.peek=tJ;function fD(e,t,r,n){const i=e.referenceType,a=r.enter("imageReference");let o=r.enter("label");const s=r.createTracker(n);let l=s.move("![");const c=r.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const u=r.stack;r.stack=[],o=r.enter("reference");const d=r.safe(r.associationId(e),{before:l,after:"]",...s.current()});return o(),r.stack=u,a(),i==="full"||!c||c!==d?l+=s.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function tJ(){return"!"}hD.peek=rJ;function hD(e,t,r){let n=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(n);)i+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++a<r.unsafe.length;){const o=r.unsafe[a],s=r.compilePattern(o);let l;if(o.atBreak)for(;l=s.exec(n);){let c=l.index;n.charCodeAt(c)===10&&n.charCodeAt(c-1)===13&&c--,n=n.slice(0,c)+" "+n.slice(l.index+1)}}return i+n+i}function rJ(){return"`"}function pD(e,t){const r=Hw(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}mD.peek=nJ;function mD(e,t,r,n){const i=e1(r),a=i==='"'?"Quote":"Apostrophe",o=r.createTracker(n);let s,l;if(pD(e,r)){const u=r.stack;r.stack=[],s=r.enter("autolink");let d=o.move("<");return d+=o.move(r.containerPhrasing(e,{before:d,after:">",...o.current()})),d+=o.move(">"),s(),r.stack=u,d}s=r.enter("link"),l=r.enter("label");let c=o.move("[");return c+=o.move(r.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(r.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=r.enter("destinationRaw"),c+=o.move(r.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=r.enter(`title${a}`),c+=o.move(" "+i),c+=o.move(r.safe(e.title,{before:c,after:i,...o.current()})),c+=o.move(i),l()),c+=o.move(")"),s(),c}function nJ(e,t,r){return pD(e,r)?"<":"["}gD.peek=iJ;function gD(e,t,r,n){const i=e.referenceType,a=r.enter("linkReference");let o=r.enter("label");const s=r.createTracker(n);let l=s.move("[");const c=r.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const u=r.stack;r.stack=[],o=r.enter("reference");const d=r.safe(r.associationId(e),{before:l,after:"]",...s.current()});return o(),r.stack=u,a(),i==="full"||!c||c!==d?l+=s.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function iJ(){return"["}function t1(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function aJ(e){const t=t1(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}function oJ(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function yD(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function sJ(e,t,r,n){const i=r.enter("list"),a=r.bulletCurrent;let o=e.ordered?oJ(r):t1(r);const s=e.ordered?o==="."?")":".":aJ(r);let l=t&&r.bulletLastUsed?o===r.bulletLastUsed:!1;if(!e.ordered){const u=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&u&&(!u.children||!u.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(l=!0),yD(r)===o&&u){let d=-1;for(;++d<e.children.length;){const h=e.children[d];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=s),r.bulletCurrent=o;const c=r.containerFlow(e,n);return r.bulletLastUsed=o,r.bulletCurrent=a,i(),c}function lJ(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function cJ(e,t,r,n){const i=lJ(r);let a=r.bulletCurrent||t1(r);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let o=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=r.createTracker(n);s.move(a+" ".repeat(o-a.length)),s.shift(o);const l=r.enter("listItem"),c=r.indentLines(r.containerFlow(e,s.current()),u);return l(),c;function u(d,h,p){return h?(p?"":" ".repeat(o))+d:(p?a:a+" ".repeat(o-a.length))+d}}function uJ(e,t,r,n){const i=r.enter("paragraph"),a=r.enter("phrasing"),o=r.containerPhrasing(e,n);return a(),i(),o}const dJ=yh(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function fJ(e,t,r,n){return(e.children.some(function(o){return dJ(o)})?r.containerPhrasing:r.containerFlow).call(r,e,n)}function hJ(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}vD.peek=pJ;function vD(e,t,r,n){const i=hJ(r),a=r.enter("strong"),o=r.createTracker(n),s=o.move(i+i);let l=o.move(r.containerPhrasing(e,{after:i,before:s,...o.current()}));const c=l.charCodeAt(0),u=Pd(n.before.charCodeAt(n.before.length-1),c,i);u.inside&&(l=ec(c)+l.slice(1));const d=l.charCodeAt(l.length-1),h=Pd(n.after.charCodeAt(0),d,i);h.inside&&(l=l.slice(0,-1)+ec(d));const p=o.move(i+i);return a(),r.attentionEncodeSurroundingInfo={after:h.outside,before:u.outside},s+l+p}function pJ(e,t,r){return r.options.strong||"*"}function mJ(e,t,r,n){return r.safe(e.value,n)}function gJ(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function yJ(e,t,r){const n=(yD(r)+(r.options.ruleSpaces?" ":"")).repeat(gJ(r));return r.options.ruleSpaces?n.slice(0,-1):n}const bD={blockquote:BQ,break:TE,code:VQ,definition:GQ,emphasis:cD,hardBreak:TE,heading:JQ,html:uD,image:dD,imageReference:fD,inlineCode:hD,link:mD,linkReference:gD,list:sJ,listItem:cJ,paragraph:uJ,root:fJ,strong:vD,text:mJ,thematicBreak:yJ};function vJ(){return{enter:{table:bJ,tableData:CE,tableHeader:CE,tableRow:wJ},exit:{codeText:SJ,table:xJ,tableData:Gp,tableHeader:Gp,tableRow:Gp}}}function bJ(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function xJ(e){this.exit(e),this.data.inTable=void 0}function wJ(e){this.enter({type:"tableRow",children:[]},e)}function Gp(e){this.exit(e)}function CE(e){this.enter({type:"tableCell",children:[]},e)}function SJ(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,_J));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(e)}function _J(e,t){return t==="|"?t:e}function EJ(e){const t=e||{},r=t.tableCellPadding,n=t.tablePipeAlign,i=t.stringLength,a=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:o,tableCell:l,tableRow:s}};function o(p,y,m,g){return c(u(p,m,g),p.align)}function s(p,y,m,g){const v=d(p,m,g),x=c([v]);return x.slice(0,x.indexOf(`
`))}function l(p,y,m,g){const v=m.enter("tableCell"),x=m.enter("phrasing"),b=m.containerPhrasing(p,{...g,before:a,after:a});return x(),v(),b}function c(p,y){return LQ(p,{align:y,alignDelimiters:n,padding:r,stringLength:i})}function u(p,y,m){const g=p.children;let v=-1;const x=[],b=y.enter("table");for(;++v<g.length;)x[v]=d(g[v],y,m);return b(),x}function d(p,y,m){const g=p.children;let v=-1;const x=[],b=y.enter("tableRow");for(;++v<g.length;)x[v]=l(g[v],p,y,m);return b(),x}function h(p,y,m){let g=bD.inlineCode(p,y,m);return m.stack.includes("tableCell")&&(g=g.replace(/\|/g,"\\$&")),g}}function OJ(){return{exit:{taskListCheckValueChecked:NE,taskListCheckValueUnchecked:NE,paragraph:AJ}}}function jJ(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:kJ}}}function NE(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function AJ(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const i=t.children;let a=-1,o;for(;++a<i.length;){const s=i[a];if(s.type==="paragraph"){o=s;break}}o===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function kJ(e,t,r,n){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=r.createTracker(n);a&&s.move(o);let l=bD.listItem(e,t,r,{...n,...s.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(u){return u+o}}function PJ(){return[sQ(),kQ(),NQ(),vJ(),OJ()]}function TJ(e){return{extensions:[lQ(),PQ(e),RQ(),EJ(e),jJ()]}}const CJ={tokenize:$J,partial:!0},xD={tokenize:LJ,partial:!0},wD={tokenize:FJ,partial:!0},SD={tokenize:BJ,partial:!0},NJ={tokenize:qJ,partial:!0},_D={name:"wwwAutolink",tokenize:MJ,previous:OD},ED={name:"protocolAutolink",tokenize:DJ,previous:jD},vi={name:"emailAutolink",tokenize:IJ,previous:AD},Hn={};function RJ(){return{text:Hn}}let pa=48;for(;pa<123;)Hn[pa]=vi,pa++,pa===58?pa=65:pa===91&&(pa=97);Hn[43]=vi;Hn[45]=vi;Hn[46]=vi;Hn[95]=vi;Hn[72]=[vi,ED];Hn[104]=[vi,ED];Hn[87]=[vi,_D];Hn[119]=[vi,_D];function IJ(e,t,r){const n=this;let i,a;return o;function o(d){return!r0(d)||!AD.call(n,n.previous)||r1(n.events)?r(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(d))}function s(d){return r0(d)?(e.consume(d),s):d===64?(e.consume(d),l):r(d)}function l(d){return d===46?e.check(NJ,u,c)(d):d===45||d===95||rr(d)?(a=!0,e.consume(d),l):u(d)}function c(d){return e.consume(d),i=!0,l}function u(d){return a&&i&&sr(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):r(d)}}function MJ(e,t,r){const n=this;return i;function i(o){return o!==87&&o!==119||!OD.call(n,n.previous)||r1(n.events)?r(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(CJ,e.attempt(xD,e.attempt(wD,a),r),r)(o))}function a(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function DJ(e,t,r){const n=this;let i="",a=!1;return o;function o(d){return(d===72||d===104)&&jD.call(n,n.previous)&&!r1(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),e.consume(d),s):r(d)}function s(d){if(sr(d)&&i.length<5)return i+=String.fromCodePoint(d),e.consume(d),s;if(d===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(d),l}return r(d)}function l(d){return d===47?(e.consume(d),a?c:(a=!0,l)):r(d)}function c(d){return d===null||jd(d)||ot(d)||Va(d)||ph(d)?r(d):e.attempt(xD,e.attempt(wD,u),r)(d)}function u(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function $J(e,t,r){let n=0;return i;function i(o){return(o===87||o===119)&&n<3?(n++,e.consume(o),i):o===46&&n===3?(e.consume(o),a):r(o)}function a(o){return o===null?r(o):t(o)}}function LJ(e,t,r){let n,i,a;return o;function o(c){return c===46||c===95?e.check(SD,l,s)(c):c===null||ot(c)||Va(c)||c!==45&&ph(c)?l(c):(a=!0,e.consume(c),o)}function s(c){return c===95?n=!0:(i=n,n=void 0),e.consume(c),o}function l(c){return i||n||!a?r(c):t(c)}}function FJ(e,t){let r=0,n=0;return i;function i(o){return o===40?(r++,e.consume(o),i):o===41&&n<r?a(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(SD,t,a)(o):o===null||ot(o)||Va(o)?t(o):(e.consume(o),i)}function a(o){return o===41&&n++,e.consume(o),i}}function BJ(e,t,r){return n;function n(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),n):s===38?(e.consume(s),a):s===93?(e.consume(s),i):s===60||s===null||ot(s)||Va(s)?t(s):r(s)}function i(s){return s===null||s===40||s===91||ot(s)||Va(s)?t(s):n(s)}function a(s){return sr(s)?o(s):r(s)}function o(s){return s===59?(e.consume(s),n):sr(s)?(e.consume(s),o):r(s)}}function qJ(e,t,r){return n;function n(a){return e.consume(a),i}function i(a){return rr(a)?r(a):t(a)}}function OD(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||ot(e)}function jD(e){return!sr(e)}function AD(e){return!(e===47||r0(e))}function r0(e){return e===43||e===45||e===46||e===95||rr(e)}function r1(e){let t=e.length,r=!1;for(;t--;){const n=e[t][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const zJ={tokenize:XJ,partial:!0};function UJ(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:KJ,continuation:{tokenize:GJ},exit:YJ}},text:{91:{name:"gfmFootnoteCall",tokenize:VJ},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:WJ,resolveTo:HJ}}}}function WJ(e,t,r){const n=this;let i=n.events.length;const a=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let o;for(;i--;){const l=n.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!o||!o._balanced)return r(l);const c=gn(n.sliceSerialize({start:o.end,end:n.now()}));return c.codePointAt(0)!==94||!a.includes(c.slice(1))?r(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function HJ(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},s=[e[r+1],e[r+2],["enter",n,t],e[r+3],e[r+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",o,t],["exit",o,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",n,t]];return e.splice(r,e.length-r+1,...s),e}function VJ(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a=0,o;return s;function s(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?r(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(d){if(a>999||d===93&&!o||d===null||d===91||ot(d))return r(d);if(d===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(gn(n.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(d)}return ot(d)||(o=!0),a++,e.consume(d),d===92?u:c}function u(d){return d===91||d===92||d===93?(e.consume(d),a++,c):c(d)}}function KJ(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a,o=0,s;return l;function l(y){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(y){return y===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",u):r(y)}function u(y){if(o>999||y===93&&!s||y===null||y===91||ot(y))return r(y);if(y===93){e.exit("chunkString");const m=e.exit("gfmFootnoteDefinitionLabelString");return a=gn(n.sliceSerialize(m)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return ot(y)||(s=!0),o++,e.consume(y),y===92?d:u}function d(y){return y===91||y===92||y===93?(e.consume(y),o++,u):u(y)}function h(y){return y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),i.includes(a)||i.push(a),De(e,p,"gfmFootnoteDefinitionWhitespace")):r(y)}function p(y){return t(y)}}function GJ(e,t,r){return e.check(Yc,t,e.attempt(zJ,t,r))}function YJ(e){e.exit("gfmFootnoteDefinition")}function XJ(e,t,r){const n=this;return De(e,i,"gfmFootnoteDefinitionIndent",5);function i(a){const o=n.events[n.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(a):r(a)}}function QJ(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:a,resolveAll:i};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function i(o,s){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let c=l;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[l][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[l][1].end)},d={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[l][1].start)},h=[["enter",u,s],["enter",o[c][1],s],["exit",o[c][1],s],["enter",d,s]],p=s.parser.constructs.insideSpan.null;p&&Mr(h,h.length,0,mh(p,o.slice(c+1,l),s)),Mr(h,h.length,0,[["exit",d,s],["enter",o[l][1],s],["exit",o[l][1],s],["exit",u,s]]),Mr(o,c-1,l-c+3,h),l=c+h.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function a(o,s,l){const c=this.previous,u=this.events;let d=0;return h;function h(y){return c===126&&u[u.length-1][1].type!=="characterEscape"?l(y):(o.enter("strikethroughSequenceTemporary"),p(y))}function p(y){const m=Qo(c);if(y===126)return d>1?l(y):(o.consume(y),d++,p);if(d<2&&!r)return l(y);const g=o.exit("strikethroughSequenceTemporary"),v=Qo(y);return g._open=!v||v===2&&!!m,g._close=!m||m===2&&!!v,s(y)}}}class JJ{constructor(){this.map=[]}add(t,r,n){ZJ(this,t,r,n)}consume(t){if(this.map.sort(function(a,o){return a[0]-o[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];n.push(t.slice()),t.length=0;let i=n.pop();for(;i;){for(const a of i)t.push(a);i=n.pop()}this.map.length=0}}function ZJ(e,t,r,n){let i=0;if(!(r===0&&n.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=r,e.map[i][2].push(...n);return}i+=1}e.map.push([t,r,n])}}function eZ(e,t){let r=!1;const n=[];for(;t<e.length;){const i=e[t];if(r){if(i[0]==="enter")i[1].type==="tableContent"&&n.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=n.length-1;n[a]=n[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return n}function tZ(){return{flow:{null:{name:"table",tokenize:rZ,resolveAll:nZ}}}}function rZ(e,t,r){const n=this;let i=0,a=0,o;return s;function s(j){let A=n.events.length-1;for(;A>-1;){const M=n.events[A][1].type;if(M==="lineEnding"||M==="linePrefix")A--;else break}const N=A>-1?n.events[A][1].type:null,D=N==="tableHead"||N==="tableRow"?_:l;return D===_&&n.parser.lazy[n.now().line]?r(j):D(j)}function l(j){return e.enter("tableHead"),e.enter("tableRow"),c(j)}function c(j){return j===124||(o=!0,a+=1),u(j)}function u(j){return j===null?r(j):xe(j)?a>1?(a=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),p):r(j):Ie(j)?De(e,u,"whitespace")(j):(a+=1,o&&(o=!1,i+=1),j===124?(e.enter("tableCellDivider"),e.consume(j),e.exit("tableCellDivider"),o=!0,u):(e.enter("data"),d(j)))}function d(j){return j===null||j===124||ot(j)?(e.exit("data"),u(j)):(e.consume(j),j===92?h:d)}function h(j){return j===92||j===124?(e.consume(j),d):d(j)}function p(j){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(j):(e.enter("tableDelimiterRow"),o=!1,Ie(j)?De(e,y,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):y(j))}function y(j){return j===45||j===58?g(j):j===124?(o=!0,e.enter("tableCellDivider"),e.consume(j),e.exit("tableCellDivider"),m):S(j)}function m(j){return Ie(j)?De(e,g,"whitespace")(j):g(j)}function g(j){return j===58?(a+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(j),e.exit("tableDelimiterMarker"),v):j===45?(a+=1,v(j)):j===null||xe(j)?E(j):S(j)}function v(j){return j===45?(e.enter("tableDelimiterFiller"),x(j)):S(j)}function x(j){return j===45?(e.consume(j),x):j===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(j),e.exit("tableDelimiterMarker"),b):(e.exit("tableDelimiterFiller"),b(j))}function b(j){return Ie(j)?De(e,E,"whitespace")(j):E(j)}function E(j){return j===124?y(j):j===null||xe(j)?!o||i!==a?S(j):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(j)):S(j)}function S(j){return r(j)}function _(j){return e.enter("tableRow"),O(j)}function O(j){return j===124?(e.enter("tableCellDivider"),e.consume(j),e.exit("tableCellDivider"),O):j===null||xe(j)?(e.exit("tableRow"),t(j)):Ie(j)?De(e,O,"whitespace")(j):(e.enter("data"),k(j))}function k(j){return j===null||j===124||ot(j)?(e.exit("data"),O(j)):(e.consume(j),j===92?T:k)}function T(j){return j===92||j===124?(e.consume(j),k):k(j)}}function nZ(e,t){let r=-1,n=!0,i=0,a=[0,0,0,0],o=[0,0,0,0],s=!1,l=0,c,u,d;const h=new JJ;for(;++r<e.length;){const p=e[r],y=p[1];p[0]==="enter"?y.type==="tableHead"?(s=!1,l!==0&&(RE(h,t,l,c,u),u=void 0,l=0),c={type:"table",start:Object.assign({},y.start),end:Object.assign({},y.end)},h.add(r,0,[["enter",c,t]])):y.type==="tableRow"||y.type==="tableDelimiterRow"?(n=!0,d=void 0,a=[0,0,0,0],o=[0,r+1,0,0],s&&(s=!1,u={type:"tableBody",start:Object.assign({},y.start),end:Object.assign({},y.end)},h.add(r,0,[["enter",u,t]])),i=y.type==="tableDelimiterRow"?2:u?3:1):i&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")?(n=!1,o[2]===0&&(a[1]!==0&&(o[0]=o[1],d=Cu(h,t,a,i,void 0,d),a=[0,0,0,0]),o[2]=r)):y.type==="tableCellDivider"&&(n?n=!1:(a[1]!==0&&(o[0]=o[1],d=Cu(h,t,a,i,void 0,d)),a=o,o=[a[1],r,0,0])):y.type==="tableHead"?(s=!0,l=r):y.type==="tableRow"||y.type==="tableDelimiterRow"?(l=r,a[1]!==0?(o[0]=o[1],d=Cu(h,t,a,i,r,d)):o[1]!==0&&(d=Cu(h,t,o,i,r,d)),i=0):i&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")&&(o[3]=r)}for(l!==0&&RE(h,t,l,c,u),h.consume(t.events),r=-1;++r<t.events.length;){const p=t.events[r];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=eZ(t.events,r))}return e}function Cu(e,t,r,n,i,a){const o=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",s="tableContent";r[0]!==0&&(a.end=Object.assign({},Ao(t.events,r[0])),e.add(r[0],0,[["exit",a,t]]));const l=Ao(t.events,r[1]);if(a={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(r[1],0,[["enter",a,t]]),r[2]!==0){const c=Ao(t.events,r[2]),u=Ao(t.events,r[3]),d={type:s,start:Object.assign({},c),end:Object.assign({},u)};if(e.add(r[2],0,[["enter",d,t]]),n!==2){const h=t.events[r[2]],p=t.events[r[3]];if(h[1].end=Object.assign({},p[1].end),h[1].type="chunkText",h[1].contentType="text",r[3]>r[2]+1){const y=r[2]+1,m=r[3]-r[2]-1;e.add(y,m,[])}}e.add(r[3]+1,0,[["exit",d,t]])}return i!==void 0&&(a.end=Object.assign({},Ao(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function RE(e,t,r,n,i){const a=[],o=Ao(t.events,r);i&&(i.end=Object.assign({},o),a.push(["exit",i,t])),n.end=Object.assign({},o),a.push(["exit",n,t]),e.add(r+1,0,a)}function Ao(e,t){const r=e[t],n=r[0]==="enter"?"start":"end";return r[1][n]}const iZ={name:"tasklistCheck",tokenize:oZ};function aZ(){return{text:{91:iZ}}}function oZ(e,t,r){const n=this;return i;function i(l){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return ot(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):r(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):r(l)}function s(l){return xe(l)?t(l):Ie(l)?e.check({tokenize:sZ},t,r)(l):r(l)}}function sZ(e,t,r){return De(e,n,"whitespace");function n(i){return i===null?r(i):t(i)}}function lZ(e){return LM([RJ(),UJ(),QJ(e),tZ(),aZ()])}const cZ={};function uZ(e){const t=this,r=e||cZ,n=t.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),a=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),o=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(lZ(r)),a.push(PJ()),o.push(TJ(r))}function dZ(){const[e,t]=w.useState(!1),[r,n]=w.useState(""),[i,a]=w.useState("preview"),[o,s]=w.useState(!1),[l,c]=w.useState("idle");return w.useEffect(()=>{(async()=>{const{data:{session:d}}=await ye.auth.getSession();if(!d)return;const{data:h,error:p}=await ye.from("user_memos").select("content").eq("user_id",d.user.id).single();h?n(h.content||""):p||n(`# Note

Scrivi qui i tuoi appunti...`)})()},[]),w.useEffect(()=>{c("idle");const u=setTimeout(async()=>{const{data:{session:d}}=await ye.auth.getSession();if(!d)return;c("saving");const{error:h}=await ye.from("user_memos").upsert({user_id:d.user.id,content:r,updated_at:new Date().toISOString()},{onConflict:"user_id"});h?(console.error("Error saving memo:",h),c("error"),Ze.error("Errore salvataggio nota: "+(h.message||"Errore sconosciuto"))):c("saved")},1e3);return()=>clearTimeout(u)},[r]),f.jsxs(ch,{open:e,onOpenChange:t,children:[f.jsx(Nw,{asChild:!0,children:f.jsx(qe,{variant:"outline",size:"icon",className:"h-10 w-10 sm:h-9 sm:w-9",title:"Memo / Appunti",children:f.jsx(A4,{className:"h-4 w-4"})})}),f.jsxs(Hc,{className:Y("flex flex-col gap-0 p-0 sm:max-w-xl transition-all duration-300 [&>button:last-child]:hidden",o?"w-[95vw] h-[95vh] sm:max-w-[95vw]":"h-[80vh]"),children:[f.jsx(Kc,{className:"sr-only",children:"Editor di testo in markdown per appunti temporanei e veloci."}),f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border/40",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Vc,{className:"font-semibold text-lg",children:"Memo"}),f.jsx("span",{className:"text-xs text-muted-foreground bg-muted/50 px-2 py-0.5 rounded",children:".md support"}),f.jsxs("div",{className:"flex items-center gap-1.5 ml-2 text-xs transition-all duration-300",children:[l==="saving"&&f.jsxs(f.Fragment,{children:[f.jsx(Pa,{className:"w-3 h-3 animate-spin text-muted-foreground"}),f.jsx("span",{className:"text-muted-foreground",children:"Salvataggio..."})]}),l==="saved"&&f.jsxs(f.Fragment,{children:[f.jsx(zf,{className:"w-3 h-3 text-green-500"}),f.jsx("span",{className:"text-green-500 font-medium",children:"Salvato"})]}),l==="error"&&f.jsxs(f.Fragment,{children:[f.jsx(ON,{className:"w-3 h-3 text-destructive"}),f.jsx("span",{className:"text-destructive font-medium",children:"Errore Sync"})]})]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(qe,{variant:"ghost",size:"sm",onClick:()=>a(i==="preview"?"edit":"preview"),className:"gap-2 h-8",title:i==="preview"?"Modifica":"Visualizza",children:i==="preview"?f.jsxs(f.Fragment,{children:[f.jsx(M4,{className:"w-4 h-4"}),f.jsx("span",{className:"hidden sm:inline",children:"Modifica"})]}):f.jsxs(f.Fragment,{children:[f.jsx(AN,{className:"w-4 h-4"}),f.jsx("span",{className:"hidden sm:inline",children:"Anteprima"})]})}),f.jsx(qe,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>s(!o),title:o?"Riduci":"Espandi",children:o?f.jsx(I4,{className:"w-4 h-4"}):f.jsx(R4,{className:"w-4 h-4"})}),f.jsx(qe,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>t(!1),children:f.jsx(ks,{className:"w-4 h-4"})})]})]}),f.jsx("div",{className:"flex-1 overflow-hidden relative bg-card",children:i==="edit"?f.jsx(lM,{value:r,onChange:u=>n(u.target.value),className:"w-full h-full resize-none p-6 font-mono text-sm bg-transparent border-0 focus-visible:ring-0 leading-relaxed",placeholder:"# Inizia a scrivere..."}):f.jsx(SM,{className:"h-full w-full",children:f.jsx("div",{className:"p-6 prose prose-invert prose-sm max-w-none",children:f.jsx(QX,{remarkPlugins:[uZ],components:{h1:({node:u,...d})=>f.jsx("h1",{className:"text-3xl font-bold mt-2 mb-6",...d}),h2:({node:u,...d})=>f.jsx("h2",{className:"text-2xl font-bold mt-6 mb-4 border-b border-border/50 pb-2",...d}),code:({node:u,className:d,children:h,...p})=>String(h).includes(`
`)?f.jsx("code",{className:d,...p,children:h}):f.jsx("code",{className:"bg-primary/20 text-primary rounded px-1.5 py-0.5 font-mono text-sm",...p,children:h})},children:r})})})})]})]})}var Yp="rovingFocusGroup.onEntryFocus",fZ={bubbles:!1,cancelable:!0},Qc="RovingFocusGroup",[n0,kD,hZ]=$f(Qc),[pZ,bh]=br(Qc,[hZ]),[mZ,gZ]=pZ(Qc),PD=w.forwardRef((e,t)=>f.jsx(n0.Provider,{scope:e.__scopeRovingFocusGroup,children:f.jsx(n0.Slot,{scope:e.__scopeRovingFocusGroup,children:f.jsx(yZ,{...e,ref:t})})}));PD.displayName=Qc;var yZ=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=e,h=w.useRef(null),p=Ee(t,h),y=$s(a),[m,g]=Ln({prop:o,defaultProp:s??null,onChange:l,caller:Qc}),[v,x]=w.useState(!1),b=Et(c),E=kD(r),S=w.useRef(!1),[_,O]=w.useState(0);return w.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(Yp,b),()=>k.removeEventListener(Yp,b)},[b]),f.jsx(mZ,{scope:r,orientation:n,dir:y,loop:i,currentTabStopId:m,onItemFocus:w.useCallback(k=>g(k),[g]),onItemShiftTab:w.useCallback(()=>x(!0),[]),onFocusableItemAdd:w.useCallback(()=>O(k=>k+1),[]),onFocusableItemRemove:w.useCallback(()=>O(k=>k-1),[]),children:f.jsx(pe.div,{tabIndex:v||_===0?-1:0,"data-orientation":n,...d,ref:p,style:{outline:"none",...e.style},onMouseDown:de(e.onMouseDown,()=>{S.current=!0}),onFocus:de(e.onFocus,k=>{const T=!S.current;if(k.target===k.currentTarget&&T&&!v){const j=new CustomEvent(Yp,fZ);if(k.currentTarget.dispatchEvent(j),!j.defaultPrevented){const A=E().filter(L=>L.focusable),N=A.find(L=>L.active),D=A.find(L=>L.id===m),I=[N,D,...A].filter(Boolean).map(L=>L.ref.current);ND(I,u)}}S.current=!1}),onBlur:de(e.onBlur,()=>x(!1))})})}),TD="RovingFocusGroupItem",CD=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:o,...s}=e,l=ai(),c=a||l,u=gZ(TD,r),d=u.currentTabStopId===c,h=kD(r),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:m}=u;return w.useEffect(()=>{if(n)return p(),()=>y()},[n,p,y]),f.jsx(n0.ItemSlot,{scope:r,id:c,focusable:n,active:i,children:f.jsx(pe.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...s,ref:t,onMouseDown:de(e.onMouseDown,g=>{n?u.onItemFocus(c):g.preventDefault()}),onFocus:de(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:de(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const v=xZ(g,u.orientation,u.dir);if(v!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let b=h().filter(E=>E.focusable).map(E=>E.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const E=b.indexOf(g.currentTarget);b=u.loop?wZ(b,E+1):b.slice(E+1)}setTimeout(()=>ND(b))}}),children:typeof o=="function"?o({isCurrentTabStop:d,hasTabStop:m!=null}):o})})});CD.displayName=TD;var vZ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function bZ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function xZ(e,t,r){const n=bZ(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return vZ[n]}function ND(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function wZ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var RD=PD,ID=CD,xh="Tabs",[SZ]=br(xh,[bh]),MD=bh(),[_Z,n1]=SZ(xh),DD=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:s,activationMode:l="automatic",...c}=e,u=$s(s),[d,h]=Ln({prop:n,onChange:i,defaultProp:a??"",caller:xh});return f.jsx(_Z,{scope:r,baseId:ai(),value:d,onValueChange:h,orientation:o,dir:u,activationMode:l,children:f.jsx(pe.div,{dir:u,"data-orientation":o,...c,ref:t})})});DD.displayName=xh;var $D="TabsList",LD=w.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,a=n1($D,r),o=MD(r);return f.jsx(RD,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:f.jsx(pe.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});LD.displayName=$D;var FD="TabsTrigger",BD=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=e,o=n1(FD,r),s=MD(r),l=UD(o.baseId,n),c=WD(o.baseId,n),u=n===o.value;return f.jsx(ID,{asChild:!0,...s,focusable:!i,active:u,children:f.jsx(pe.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:t,onMouseDown:de(e.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?o.onValueChange(n):d.preventDefault()}),onKeyDown:de(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(n)}),onFocus:de(e.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!i&&d&&o.onValueChange(n)})})})});BD.displayName=FD;var qD="TabsContent",zD=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...o}=e,s=n1(qD,r),l=UD(s.baseId,n),c=WD(s.baseId,n),u=n===s.value,d=w.useRef(u);return w.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),f.jsx(mi,{present:i||u,children:({present:h})=>f.jsx(pe.div,{"data-state":u?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:h&&a})})});zD.displayName=qD;function UD(e,t){return`${e}-trigger-${t}`}function WD(e,t){return`${e}-content-${t}`}var EZ=DD,HD=LD,VD=BD,KD=zD;const qo=EZ,La=w.forwardRef(({className:e,...t},r)=>f.jsx(HD,{ref:r,className:Y("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));La.displayName=HD.displayName;const rt=w.forwardRef(({className:e,...t},r)=>f.jsx(VD,{ref:r,className:Y("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));rt.displayName=VD.displayName;const mr=w.forwardRef(({className:e,...t},r)=>f.jsx(KD,{ref:r,className:Y("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));mr.displayName=KD.displayName;function wh(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Sh="Switch",[OZ]=br(Sh),[jZ,AZ]=OZ(Sh),GD=w.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:o,disabled:s,value:l="on",onCheckedChange:c,form:u,...d}=e,[h,p]=w.useState(null),y=Ee(t,b=>p(b)),m=w.useRef(!1),g=h?u||!!h.closest("form"):!0,[v,x]=Ln({prop:i,defaultProp:a??!1,onChange:c,caller:Sh});return f.jsxs(jZ,{scope:r,checked:v,disabled:s,children:[f.jsx(pe.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":JD(v),"data-disabled":s?"":void 0,disabled:s,value:l,...d,ref:y,onClick:de(e.onClick,b=>{x(E=>!E),g&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})}),g&&f.jsx(QD,{control:h,bubbles:!m.current,name:n,value:l,checked:v,required:o,disabled:s,form:u,style:{transform:"translateX(-100%)"}})]})});GD.displayName=Sh;var YD="SwitchThumb",XD=w.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=AZ(YD,r);return f.jsx(pe.span,{"data-state":JD(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});XD.displayName=YD;var kZ="SwitchBubbleInput",QD=w.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...i},a)=>{const o=w.useRef(null),s=Ee(o,a),l=wh(r),c=Vf(t);return w.useEffect(()=>{const u=o.current;if(!u)return;const d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==r&&p){const y=new Event("click",{bubbles:n});p.call(u,r),u.dispatchEvent(y)}},[l,r,n]),f.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});QD.displayName=kZ;function JD(e){return e?"checked":"unchecked"}var ZD=GD,PZ=XD;const e$=w.forwardRef(({className:e,...t},r)=>f.jsx(ZD,{className:Y("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:f.jsx(PZ,{className:Y("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));e$.displayName=ZD.displayName;const Ce=w.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:Y("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ce.displayName="Card";const Fe=w.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:Y("flex flex-col space-y-1.5 p-6",e),...t}));Fe.displayName="CardHeader";const Be=w.forwardRef(({className:e,...t},r)=>f.jsx("h3",{ref:r,className:Y("text-2xl font-semibold leading-none tracking-tight",e),...t}));Be.displayName="CardTitle";const ki=w.forwardRef(({className:e,...t},r)=>f.jsx("p",{ref:r,className:Y("text-sm text-muted-foreground",e),...t}));ki.displayName="CardDescription";const Ne=w.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:Y("p-6 pt-0",e),...t}));Ne.displayName="CardContent";const TZ=w.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:Y("flex items-center p-6 pt-0",e),...t}));TZ.displayName="CardFooter";var t$=["PageUp","PageDown"],r$=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],n$={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Bs="Slider",[i0,CZ,NZ]=$f(Bs),[i$]=br(Bs,[NZ]),[RZ,_h]=i$(Bs),a$=w.forwardRef((e,t)=>{const{name:r,min:n=0,max:i=100,step:a=1,orientation:o="horizontal",disabled:s=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[n],value:u,onValueChange:d=()=>{},onValueCommit:h=()=>{},inverted:p=!1,form:y,...m}=e,g=w.useRef(new Set),v=w.useRef(0),b=o==="horizontal"?IZ:MZ,[E=[],S]=Ln({prop:u,defaultProp:c,onChange:A=>{[...g.current][v.current]?.focus(),d(A)}}),_=w.useRef(E);function O(A){const N=BZ(E,A);j(A,N)}function k(A){j(A,v.current)}function T(){const A=_.current[v.current];E[v.current]!==A&&h(E)}function j(A,N,{commit:D}={commit:!1}){const M=WZ(a),I=HZ(Math.round((A-n)/a)*a+n,M),L=Jl(I,[n,i]);S((B=[])=>{const F=LZ(B,L,N);if(UZ(F,l*a)){v.current=F.indexOf(L);const $=String(F)!==String(B);return $&&D&&h(F),$?F:B}else return B})}return f.jsx(RZ,{scope:e.__scopeSlider,name:r,disabled:s,min:n,max:i,valueIndexToChangeRef:v,thumbs:g.current,values:E,orientation:o,form:y,children:f.jsx(i0.Provider,{scope:e.__scopeSlider,children:f.jsx(i0.Slot,{scope:e.__scopeSlider,children:f.jsx(b,{"aria-disabled":s,"data-disabled":s?"":void 0,...m,ref:t,onPointerDown:de(m.onPointerDown,()=>{s||(_.current=E)}),min:n,max:i,inverted:p,onSlideStart:s?void 0:O,onSlideMove:s?void 0:k,onSlideEnd:s?void 0:T,onHomeKeyDown:()=>!s&&j(n,0,{commit:!0}),onEndKeyDown:()=>!s&&j(i,E.length-1,{commit:!0}),onStepKeyDown:({event:A,direction:N})=>{if(!s){const I=t$.includes(A.key)||A.shiftKey&&r$.includes(A.key)?10:1,L=v.current,B=E[L],F=a*I*N;j(B+F,L,{commit:!0})}}})})})})});a$.displayName=Bs;var[o$,s$]=i$(Bs,{startEdge:"left",endEdge:"right",size:"width",direction:1}),IZ=w.forwardRef((e,t)=>{const{min:r,max:n,dir:i,inverted:a,onSlideStart:o,onSlideMove:s,onSlideEnd:l,onStepKeyDown:c,...u}=e,[d,h]=w.useState(null),p=Ee(t,b=>h(b)),y=w.useRef(void 0),m=$s(i),g=m==="ltr",v=g&&!a||!g&&a;function x(b){const E=y.current||d.getBoundingClientRect(),S=[0,E.width],O=i1(S,v?[r,n]:[n,r]);return y.current=E,O(b-E.left)}return f.jsx(o$,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:f.jsx(l$,{dir:m,"data-orientation":"horizontal",...u,ref:p,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const E=x(b.clientX);o?.(E)},onSlideMove:b=>{const E=x(b.clientX);s?.(E)},onSlideEnd:()=>{y.current=void 0,l?.()},onStepKeyDown:b=>{const S=n$[v?"from-left":"from-right"].includes(b.key);c?.({event:b,direction:S?-1:1})}})})}),MZ=w.forwardRef((e,t)=>{const{min:r,max:n,inverted:i,onSlideStart:a,onSlideMove:o,onSlideEnd:s,onStepKeyDown:l,...c}=e,u=w.useRef(null),d=Ee(t,u),h=w.useRef(void 0),p=!i;function y(m){const g=h.current||u.current.getBoundingClientRect(),v=[0,g.height],b=i1(v,p?[n,r]:[r,n]);return h.current=g,b(m-g.top)}return f.jsx(o$,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:f.jsx(l$,{"data-orientation":"vertical",...c,ref:d,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:m=>{const g=y(m.clientY);a?.(g)},onSlideMove:m=>{const g=y(m.clientY);o?.(g)},onSlideEnd:()=>{h.current=void 0,s?.()},onStepKeyDown:m=>{const v=n$[p?"from-bottom":"from-top"].includes(m.key);l?.({event:m,direction:v?-1:1})}})})}),l$=w.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:s,onStepKeyDown:l,...c}=e,u=_h(Bs,r);return f.jsx(pe.span,{...c,ref:t,onKeyDown:de(e.onKeyDown,d=>{d.key==="Home"?(o(d),d.preventDefault()):d.key==="End"?(s(d),d.preventDefault()):t$.concat(r$).includes(d.key)&&(l(d),d.preventDefault())}),onPointerDown:de(e.onPointerDown,d=>{const h=d.target;h.setPointerCapture(d.pointerId),d.preventDefault(),u.thumbs.has(h)?h.focus():n(d)}),onPointerMove:de(e.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&i(d)}),onPointerUp:de(e.onPointerUp,d=>{const h=d.target;h.hasPointerCapture(d.pointerId)&&(h.releasePointerCapture(d.pointerId),a(d))})})}),c$="SliderTrack",u$=w.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,i=_h(c$,r);return f.jsx(pe.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:t})});u$.displayName=c$;var a0="SliderRange",d$=w.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,i=_h(a0,r),a=s$(a0,r),o=w.useRef(null),s=Ee(t,o),l=i.values.length,c=i.values.map(h=>p$(h,i.min,i.max)),u=l>1?Math.min(...c):0,d=100-Math.max(...c);return f.jsx(pe.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:s,style:{...e.style,[a.startEdge]:u+"%",[a.endEdge]:d+"%"}})});d$.displayName=a0;var o0="SliderThumb",f$=w.forwardRef((e,t)=>{const r=CZ(e.__scopeSlider),[n,i]=w.useState(null),a=Ee(t,s=>i(s)),o=w.useMemo(()=>n?r().findIndex(s=>s.ref.current===n):-1,[r,n]);return f.jsx(DZ,{...e,ref:a,index:o})}),DZ=w.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:i,...a}=e,o=_h(o0,r),s=s$(o0,r),[l,c]=w.useState(null),u=Ee(t,x=>c(x)),d=l?o.form||!!l.closest("form"):!0,h=Vf(l),p=o.values[n],y=p===void 0?0:p$(p,o.min,o.max),m=FZ(n,o.values.length),g=h?.[s.size],v=g?qZ(g,y,s.direction):0;return w.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),f.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${y}% + ${v}px)`},children:[f.jsx(i0.ItemSlot,{scope:e.__scopeSlider,children:f.jsx(pe.span,{role:"slider","aria-label":e["aria-label"]||m,"aria-valuemin":o.min,"aria-valuenow":p,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:u,style:p===void 0?{display:"none"}:e.style,onFocus:de(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),d&&f.jsx(h$,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:p},n)]})});f$.displayName=o0;var $Z="RadioBubbleInput",h$=w.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const i=w.useRef(null),a=Ee(i,n),o=wh(t);return w.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&u){const d=new Event("input",{bubbles:!0});u.call(s,t),s.dispatchEvent(d)}},[o,t]),f.jsx(pe.input,{style:{display:"none"},...r,ref:a,defaultValue:t})});h$.displayName=$Z;function LZ(e=[],t,r){const n=[...e];return n[r]=t,n.sort((i,a)=>i-a)}function p$(e,t,r){const a=100/(r-t)*(e-t);return Jl(a,[0,100])}function FZ(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function BZ(e,t){if(e.length===1)return 0;const r=e.map(i=>Math.abs(i-t)),n=Math.min(...r);return r.indexOf(n)}function qZ(e,t,r){const n=e/2,a=i1([0,50],[0,n]);return(n-a(t)*r)*r}function zZ(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function UZ(e,t){if(t>0){const r=zZ(e);return Math.min(...r)>=t}return!0}function i1(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function WZ(e){return(String(e).split(".")[1]||"").length}function HZ(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var m$=a$,VZ=u$,KZ=d$,GZ=f$;const s0=w.forwardRef(({className:e,...t},r)=>f.jsxs(m$,{ref:r,className:Y("relative flex w-full touch-none select-none items-center",e),...t,children:[f.jsx(VZ,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:f.jsx(KZ,{className:"absolute h-full bg-primary"})}),f.jsx(GZ,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));s0.displayName=m$.displayName;const YZ=()=>Bn({queryKey:["moods"],queryFn:async()=>{const{data:e,error:t}=await ye.from("daily_moods").select("*").order("date",{ascending:!1});if(t)throw console.error("Error fetching moods:",t),t;return e}}),g$=()=>{const e=Re(new Date,"yyyy-MM-dd");return Bn({queryKey:["moods",e],queryFn:async()=>{const{data:t,error:r}=await ye.from("daily_moods").select("*").eq("date",e).maybeSingle();if(r)throw console.error("Error fetching today's mood:",r),r;return t}})},XZ=()=>{const e=ro();return hn({mutationFn:async t=>{const{data:{user:r}}=await ye.auth.getUser();if(!r)throw new Error("No user found");const{data:n,error:i}=await ye.from("daily_moods").upsert({...t,user_id:r.id},{onConflict:"user_id,date"}).select().single();if(i)throw i;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["moods"]}),Ze.success("Mood & Energy logged successfully!")},onError:t=>{console.error("Error logging mood:",t),Ze.error("Failed to log mood.")}})},IE=()=>{const{data:e,isLoading:t}=g$(),r=XZ(),[n,i]=w.useState([5]),[a,o]=w.useState([5]);w.useEffect(()=>{e&&(i([e.mood_score]),o([e.energy_score]))},[e]);const s=()=>{r.mutate({date:Re(new Date,"yyyy-MM-dd"),mood_score:n[0],energy_score:a[0]})},l=u=>u>=8?"":u>=6?"":u>=4?"":u>=3?"":"",c=u=>"text-foreground";return t?f.jsx("div",{className:"h-40 animate-pulse bg-muted rounded-xl"}):f.jsxs(Ce,{className:"w-full border shadow-sm overflow-hidden relative",children:[f.jsx(Fe,{className:"pb-2",children:f.jsxs(Be,{className:"text-lg font-medium flex items-center justify-between",children:[f.jsx("div",{className:"flex items-center gap-2",children:"Daily Check-in"}),!e&&f.jsxs("span",{className:"flex h-2 w-2",children:[f.jsx("span",{className:"animate-ping absolute inline-flex h-2 w-2 rounded-full bg-primary opacity-75"}),f.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-primary"})]})]})}),f.jsxs(Ne,{className:"space-y-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[f.jsx(kN,{className:"w-4 h-4"}),"Mood"]}),f.jsxs("span",{className:Y("text-lg font-bold transition-colors",c(n[0])),children:[l(n[0])," ",n[0],"/10"]})]}),f.jsx(s0,{value:n,onValueChange:i,max:10,min:1,step:1,className:"cursor-pointer"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[f.jsx(Xx,{className:"w-4 h-4"}),"Energy"]}),f.jsxs("span",{className:Y("text-lg font-bold transition-colors",c(a[0])),children:[" ",a[0],"/10"]})]}),f.jsx(s0,{value:a,onValueChange:o,max:10,min:1,step:1,className:"cursor-pointer"})]}),f.jsx(qe,{onClick:s,disabled:r.isPending,className:"w-full mt-2 transition-all duration-300 transform hover:scale-[1.02]",children:r.isPending?"Saving...":f.jsxs(f.Fragment,{children:[f.jsx(L4,{className:"w-4 h-4 mr-2"}),e?"Update Daily Status":"Insert Daily Status"]})})]})]})},QZ=()=>{const[e,t]=w.useState("active"),[r,n]=w.useState(null);return w.useEffect(()=>{const i=async()=>{if(!navigator.onLine){t("offline");return}const o=performance.now();try{const{error:s}=await ye.from("goals").select("id",{count:"exact",head:!0});s?(console.error("Supabase health check failed:",s),t("error")):(t("active"),n(Math.round(performance.now()-o)))}catch(s){console.error("Supabase connection error:",s),t("error")}};i(),window.addEventListener("online",i),window.addEventListener("offline",()=>t("offline"));const a=setInterval(i,3e4);return()=>{window.removeEventListener("online",i),window.removeEventListener("offline",()=>t("offline")),clearInterval(a)}},[]),{status:e,latency:r}};function JZ(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const y$=P.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Jc=()=>{const e=P.useContext(y$);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};JZ(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const ZZ=24,eee=typeof window<"u"?w.useLayoutEffect:w.useEffect;function ME(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}function tee(){return a1(/^Mac/)}function ree(){return a1(/^iPhone/)}function DE(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function nee(){return a1(/^iPad/)||tee()&&navigator.maxTouchPoints>1}function v$(){return ree()||nee()}function a1(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const Xp=typeof document<"u"&&window.visualViewport;function $E(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function b$(e){for($E(e)&&(e=e.parentElement);e&&!$E(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const iee=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Nu=0,Qp;function aee(e={}){let{isDisabled:t}=e;eee(()=>{if(!t)return Nu++,Nu===1&&v$()&&(Qp=oee()),()=>{Nu--,Nu===0&&Qp?.()}},[t])}function oee(){let e,t=0,r=d=>{e=b$(d.target),!(e===document.documentElement&&e===document.body)&&(t=d.changedTouches[0].pageY)},n=d=>{if(!e||e===document.documentElement||e===document.body){d.preventDefault();return}let h=d.changedTouches[0].pageY,p=e.scrollTop,y=e.scrollHeight-e.clientHeight;y!==0&&((p<=0&&h>t||p>=y&&h<t)&&d.preventDefault(),t=h)},i=d=>{let h=d.target;l0(h)&&h!==document.activeElement&&(d.preventDefault(),h.style.transform="translateY(-2000px)",h.focus(),requestAnimationFrame(()=>{h.style.transform=""}))},a=d=>{let h=d.target;l0(h)&&(h.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{h.style.transform="",Xp&&(Xp.height<window.innerHeight?requestAnimationFrame(()=>{LE(h)}):Xp.addEventListener("resize",()=>LE(h),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},s=window.pageXOffset,l=window.pageYOffset,c=ME(see(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let u=ME(sl(document,"touchstart",r,{passive:!1,capture:!0}),sl(document,"touchmove",n,{passive:!1,capture:!0}),sl(document,"touchend",i,{passive:!1,capture:!0}),sl(document,"focus",a,!0),sl(window,"scroll",o));return()=>{c(),u(),window.scrollTo(s,l)}}function see(e,t,r){let n=e.style[t];return e.style[t]=r,()=>{e.style[t]=n}}function sl(e,t,r,n){return e.addEventListener(t,r,n),()=>{e.removeEventListener(t,r,n)}}function LE(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let r=b$(e);if(r!==document.documentElement&&r!==document.body&&r!==e){let n=r.getBoundingClientRect().top,i=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom;const o=r.getBoundingClientRect().bottom+ZZ;a>o&&(r.scrollTop+=i-n)}e=r.parentElement}}function l0(e){return e instanceof HTMLInputElement&&!iee.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function lee(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function cee(...e){return t=>e.forEach(r=>lee(r,t))}function x$(...e){return w.useCallback(cee(...e),e)}const w$=new WeakMap;function Lt(e,t,r=!1){if(!e||!(e instanceof HTMLElement))return;let n={};Object.entries(t).forEach(([i,a])=>{if(i.startsWith("--")){e.style.setProperty(i,a);return}n[i]=e.style[i],e.style[i]=a}),!r&&w$.set(e,n)}function uee(e,t){if(!e||!(e instanceof HTMLElement))return;let r=w$.get(e);r&&(e.style[t]=r[t])}const Ft=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Ru(e,t){if(!e)return null;const r=window.getComputedStyle(e),n=r.transform||r.webkitTransform||r.mozTransform;let i=n.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[Ft(t)?13:12]):(i=n.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[Ft(t)?5:4]):null)}function dee(e){return 8*(Math.log(e+1)-2)}function Jp(e,t){if(!e)return()=>{};const r=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=r}}function fee(...e){return(...t)=>{for(const r of e)typeof r=="function"&&r(...t)}}const gt={DURATION:.5,EASE:[.32,.72,0,1]},S$=.4,hee=.25,pee=100,_$=8,ma=16,c0=26,Zp="vaul-dragging";function E$(e){const t=P.useRef(e);return P.useEffect(()=>{t.current=e}),P.useMemo(()=>(...r)=>t.current==null?void 0:t.current.call(t,...r),[])}function mee({defaultProp:e,onChange:t}){const r=P.useState(e),[n]=r,i=P.useRef(n),a=E$(t);return P.useEffect(()=>{i.current!==n&&(a(n),i.current=n)},[n,i,a]),r}function O$({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,i]=mee({defaultProp:t,onChange:r}),a=e!==void 0,o=a?e:n,s=E$(r),l=P.useCallback(c=>{if(a){const d=typeof c=="function"?c(e):c;d!==e&&s(d)}else i(c)},[a,e,i,s]);return[o,l]}function gee({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:r,drawerRef:n,overlayRef:i,fadeFromIndex:a,onSnapPointChange:o,direction:s="bottom",container:l,snapToSequentialPoint:c}){const[u,d]=O$({prop:e,defaultProp:r?.[0],onChange:t}),[h,p]=P.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);P.useEffect(()=>{function O(){p({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[]);const y=P.useMemo(()=>u===r?.[r.length-1]||null,[r,u]),m=P.useMemo(()=>r?.findIndex(O=>O===u),[r,u]),g=r&&r.length>0&&(a||a===0)&&!Number.isNaN(a)&&r[a]===u||!r,v=P.useMemo(()=>{const O=l?{width:l.getBoundingClientRect().width,height:l.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var k;return(k=r?.map(T=>{const j=typeof T=="string";let A=0;if(j&&(A=parseInt(T,10)),Ft(s)){const D=j?A:h?T*O.height:0;return h?s==="bottom"?O.height-D:-O.height+D:D}const N=j?A:h?T*O.width:0;return h?s==="right"?O.width-N:-O.width+N:N}))!=null?k:[]},[r,h,l]),x=P.useMemo(()=>m!==null?v?.[m]:null,[v,m]),b=P.useCallback(O=>{var k;const T=(k=v?.findIndex(j=>j===O))!=null?k:null;o(T),Lt(n.current,{transition:`transform ${gt.DURATION}s cubic-bezier(${gt.EASE.join(",")})`,transform:Ft(s)?`translate3d(0, ${O}px, 0)`:`translate3d(${O}px, 0, 0)`}),v&&T!==v.length-1&&T!==a&&T<a?Lt(i.current,{transition:`opacity ${gt.DURATION}s cubic-bezier(${gt.EASE.join(",")})`,opacity:"0"}):Lt(i.current,{transition:`opacity ${gt.DURATION}s cubic-bezier(${gt.EASE.join(",")})`,opacity:"1"}),d(r?.[Math.max(T,0)])},[n.current,r,v,a,i,d]);P.useEffect(()=>{if(u||e){var O;const k=(O=r?.findIndex(T=>T===e||T===u))!=null?O:-1;v&&k!==-1&&typeof v[k]=="number"&&b(v[k])}},[u,e,r,v,b]);function E({draggedDistance:O,closeDrawer:k,velocity:T,dismissible:j}){if(a===void 0)return;const A=s==="bottom"||s==="right"?(x??0)-O:(x??0)+O,N=m===a-1,D=m===0,M=O>0;if(N&&Lt(i.current,{transition:`opacity ${gt.DURATION}s cubic-bezier(${gt.EASE.join(",")})`}),!c&&T>2&&!M){j?k():b(v[0]);return}if(!c&&T>2&&M&&v&&r){b(v[r.length-1]);return}const I=v?.reduce((B,F)=>typeof B!="number"||typeof F!="number"?B:Math.abs(F-A)<Math.abs(B-A)?F:B),L=Ft(s)?window.innerHeight:window.innerWidth;if(T>S$&&Math.abs(O)<L*.4){const B=M?1:-1;if(B>0&&y){b(v[r.length-1]);return}if(D&&B<0&&j&&k(),m===null)return;b(v[m+B]);return}b(I)}function S({draggedDistance:O}){if(x===null)return;const k=s==="bottom"||s==="right"?x-O:x+O;(s==="bottom"||s==="right")&&k<v[v.length-1]||(s==="top"||s==="left")&&k>v[v.length-1]||Lt(n.current,{transform:Ft(s)?`translate3d(0, ${k}px, 0)`:`translate3d(${k}px, 0, 0)`})}function _(O,k){if(!r||typeof m!="number"||!v||a===void 0)return null;const T=m===a-1;if(m>=a&&k)return 0;if(T&&!k)return 1;if(!g&&!T)return null;const A=T?m+1:m-1,N=T?v[A]-v[A-1]:v[A+1]-v[A],D=O/Math.abs(N);return T?1-D:D}return{isLastSnapPoint:y,activeSnapPoint:u,shouldFade:g,getPercentageDragged:_,setActiveSnapPoint:d,activeSnapPointIndex:m,onRelease:E,onDrag:S,snapPointsOffset:v}}const yee=()=>()=>{};function vee(){const{direction:e,isOpen:t,shouldScaleBackground:r,setBackgroundColorOnScale:n,noBodyStyles:i}=Jc(),a=P.useRef(null),o=w.useMemo(()=>document.body.style.backgroundColor,[]);function s(){return(window.innerWidth-c0)/window.innerWidth}P.useEffect(()=>{if(t&&r){a.current&&clearTimeout(a.current);const l=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!l)return;fee(n&&!i?Jp(document.body,{background:"black"}):yee,Jp(l,{transformOrigin:Ft(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${gt.DURATION}s`,transitionTimingFunction:`cubic-bezier(${gt.EASE.join(",")})`}));const c=Jp(l,{borderRadius:`${_$}px`,overflow:"hidden",...Ft(e)?{transform:`scale(${s()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${s()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{c(),a.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},gt.DURATION*1e3)}}},[t,r,o])}let ll=null;function bee({isOpen:e,modal:t,nested:r,hasBeenOpened:n,preventScrollRestoration:i,noBodyStyles:a}){const[o,s]=P.useState(()=>typeof window<"u"?window.location.href:""),l=P.useRef(0),c=P.useCallback(()=>{if(DE()&&ll===null&&e&&!a){ll={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:d,innerHeight:h}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-l.current}px`,left:`${-d}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const p=h-window.innerHeight;p&&l.current>=h&&(document.body.style.top=`${-(l.current+p)}px`)}),300)}},[e]),u=P.useCallback(()=>{if(DE()&&ll!==null&&!a){const d=-parseInt(document.body.style.top,10),h=-parseInt(document.body.style.left,10);Object.assign(document.body.style,ll),window.requestAnimationFrame(()=>{if(i&&o!==window.location.href){s(window.location.href);return}window.scrollTo(h,d)}),ll=null}},[o]);return P.useEffect(()=>{function d(){l.current=window.scrollY}return d(),window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)}},[]),P.useEffect(()=>{r||!n||(e?(!window.matchMedia("(display-mode: standalone)").matches&&c(),t||window.setTimeout(()=>{u()},500)):u())},[e,n,o,t,r,c,u]),{restorePositionSetting:u}}function xee({open:e,onOpenChange:t,children:r,onDrag:n,onRelease:i,snapPoints:a,shouldScaleBackground:o=!1,setBackgroundColorOnScale:s=!0,closeThreshold:l=hee,scrollLockTimeout:c=pee,dismissible:u=!0,handleOnly:d=!1,fadeFromIndex:h=a&&a.length-1,activeSnapPoint:p,setActiveSnapPoint:y,fixed:m,modal:g=!0,onClose:v,nested:x,noBodyStyles:b,direction:E="bottom",defaultOpen:S=!1,disablePreventScroll:_=!0,snapToSequentialPoint:O=!1,preventScrollRestoration:k=!1,repositionInputs:T=!0,onAnimationEnd:j,container:A,autoFocus:N=!1}){var D,M;const[I=!1,L]=O$({defaultProp:S,prop:e,onChange:he=>{t?.(he),!he&&!x&&H(),setTimeout(()=>{j?.(he)},gt.DURATION*1e3),he&&!g&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),he||(document.body.style.pointerEvents="auto")}}),[B,F]=P.useState(!1),[$,C]=P.useState(!1),[W,z]=P.useState(!1),R=P.useRef(null),X=P.useRef(null),oe=P.useRef(null),se=P.useRef(null),K=P.useRef(null),Q=P.useRef(!1),V=P.useRef(null),J=P.useRef(0),Z=P.useRef(!1),U=P.useRef(0),ne=P.useRef(null),q=P.useRef(((D=ne.current)==null?void 0:D.getBoundingClientRect().height)||0),ae=P.useRef(((M=ne.current)==null?void 0:M.getBoundingClientRect().width)||0),ie=P.useRef(0),je=P.useCallback(he=>{a&&he===xt.length-1&&(X.current=new Date)},[]),{activeSnapPoint:Ve,activeSnapPointIndex:tt,setActiveSnapPoint:Rt,onRelease:Qe,snapPointsOffset:xt,onDrag:It,shouldFade:Lr,getPercentageDragged:_i}=gee({snapPoints:a,activeSnapPointProp:p,setActiveSnapPointProp:y,drawerRef:ne,fadeFromIndex:h,overlayRef:R,onSnapPointChange:je,direction:E,container:A,snapToSequentialPoint:O});aee({isDisabled:!I||$||!g||W||!B||!T||!_});const{restorePositionSetting:H}=bee({isOpen:I,modal:g,nested:x,hasBeenOpened:B,preventScrollRestoration:k,noBodyStyles:b});function te(){return(window.innerWidth-c0)/window.innerWidth}function Oe(he){var We,Je;!u&&!a||ne.current&&!ne.current.contains(he.target)||(q.current=((We=ne.current)==null?void 0:We.getBoundingClientRect().height)||0,ae.current=((Je=ne.current)==null?void 0:Je.getBoundingClientRect().width)||0,C(!0),oe.current=new Date,v$()&&window.addEventListener("touchend",()=>Q.current=!1,{once:!0}),he.target.setPointerCapture(he.pointerId),J.current=Ft(E)?he.pageY:he.pageX)}function Pe(he,We){var Je,st;let $e=he;const wt=(Je=window.getSelection())==null?void 0:Je.toString(),Kt=ne.current?Ru(ne.current,E):null,ge=new Date;if($e.hasAttribute("data-vaul-no-drag")||$e.closest("[data-vaul-no-drag]"))return!1;if(E==="right"||E==="left")return!0;if(X.current&&ge.getTime()-X.current.getTime()<500)return!1;if(Kt!==null&&(E==="bottom"?Kt>0:Kt<0))return!0;if(wt&&wt.length>0)return!1;if(ge.getTime()-((st=K.current)==null?void 0:st.getTime())<c&&Kt===0||We)return K.current=ge,!1;for(;$e;){if($e.scrollHeight>$e.clientHeight){if($e.scrollTop!==0)return K.current=new Date,!1;if($e.getAttribute("role")==="dialog")return!0}$e=$e.parentNode}return!0}function Me(he){if(ne.current&&$){const We=E==="bottom"||E==="right"?1:-1,Je=(J.current-(Ft(E)?he.pageY:he.pageX))*We,st=Je>0,$e=a&&!u&&!st;if($e&&tt===0)return;const wt=Math.abs(Je),Kt=document.querySelector("[data-vaul-drawer-wrapper]"),ge=E==="bottom"||E==="top"?q.current:ae.current;let Te=wt/ge;const Le=_i(wt,st);if(Le!==null&&(Te=Le),$e&&Te>=1||!Q.current&&!Pe(he.target,st))return;if(ne.current.classList.add(Zp),Q.current=!0,Lt(ne.current,{transition:"none"}),Lt(R.current,{transition:"none"}),a&&It({draggedDistance:Je}),st&&!a){const vt=dee(Je),_r=Math.min(vt*-1,0)*We;Lt(ne.current,{transform:Ft(E)?`translate3d(0, ${_r}px, 0)`:`translate3d(${_r}px, 0, 0)`});return}const Ot=1-Te;if((Lr||h&&tt===h-1)&&(n?.(he,Te),Lt(R.current,{opacity:`${Ot}`,transition:"none"},!0)),Kt&&R.current&&o){const vt=Math.min(te()+Te*(1-te()),1),_r=8-Te*8,En=Math.max(0,14-Te*14);Lt(Kt,{borderRadius:`${_r}px`,transform:Ft(E)?`scale(${vt}) translate3d(0, ${En}px, 0)`:`scale(${vt}) translate3d(${En}px, 0, 0)`,transition:"none"},!0)}if(!a){const vt=wt*We;Lt(ne.current,{transform:Ft(E)?`translate3d(0, ${vt}px, 0)`:`translate3d(${vt}px, 0, 0)`})}}}P.useEffect(()=>{var he;function We(){if(!ne.current||!T)return;const Je=document.activeElement;if(l0(Je)||Z.current){var st;const $e=((st=window.visualViewport)==null?void 0:st.height)||0,wt=window.innerHeight;let Kt=wt-$e;const ge=ne.current.getBoundingClientRect().height||0,Te=ge>wt*.8;ie.current||(ie.current=ge);const Le=ne.current.getBoundingClientRect().top;if(Math.abs(U.current-Kt)>60&&(Z.current=!Z.current),a&&a.length>0&&xt&&tt){const Ot=xt[tt]||0;Kt+=Ot}if(U.current=Kt,ge>$e||Z.current){const Ot=ne.current.getBoundingClientRect().height;let vt=Ot;Ot>$e&&(vt=$e-(Te?Le:c0)),m?ne.current.style.height=`${Ot-Math.max(Kt,0)}px`:ne.current.style.height=`${Math.max(vt,$e-Le)}px`}else ne.current.style.height=`${ie.current}px`;a&&a.length>0&&!Z.current?ne.current.style.bottom="0px":ne.current.style.bottom=`${Math.max(Kt,0)}px`}}return(he=window.visualViewport)==null||he.addEventListener("resize",We),()=>{var Je;return(Je=window.visualViewport)==null?void 0:Je.removeEventListener("resize",We)}},[tt,a,xt]);function Mt(he){ir(),v?.(),he||L(!1),setTimeout(()=>{a&&Rt(a[0])},gt.DURATION*1e3)}function Sr(){if(!ne.current)return;const he=document.querySelector("[data-vaul-drawer-wrapper]"),We=Ru(ne.current,E);Lt(ne.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${gt.DURATION}s cubic-bezier(${gt.EASE.join(",")})`}),Lt(R.current,{transition:`opacity ${gt.DURATION}s cubic-bezier(${gt.EASE.join(",")})`,opacity:"1"}),o&&We&&We>0&&I&&Lt(he,{borderRadius:`${_$}px`,overflow:"hidden",...Ft(E)?{transform:`scale(${te()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${te()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${gt.DURATION}s`,transitionTimingFunction:`cubic-bezier(${gt.EASE.join(",")})`},!0)}function ir(){!$||!ne.current||(ne.current.classList.remove(Zp),Q.current=!1,C(!1),se.current=new Date)}function fr(he){if(!$||!ne.current)return;ne.current.classList.remove(Zp),Q.current=!1,C(!1),se.current=new Date;const We=Ru(ne.current,E);if(!Pe(he.target,!1)||!We||Number.isNaN(We)||oe.current===null)return;const Je=se.current.getTime()-oe.current.getTime(),st=J.current-(Ft(E)?he.pageY:he.pageX),$e=Math.abs(st)/Je;if($e>.05&&(z(!0),setTimeout(()=>{z(!1)},200)),a){Qe({draggedDistance:st*(E==="bottom"||E==="right"?1:-1),closeDrawer:Mt,velocity:$e,dismissible:u}),i?.(he,!0);return}if(E==="bottom"||E==="right"?st>0:st<0){Sr(),i?.(he,!0);return}if($e>S$){Mt(),i?.(he,!1);return}var wt;const Kt=Math.min((wt=ne.current.getBoundingClientRect().height)!=null?wt:0,window.innerHeight);var ge;const Te=Math.min((ge=ne.current.getBoundingClientRect().width)!=null?ge:0,window.innerWidth),Le=E==="left"||E==="right";if(Math.abs(We)>=(Le?Te:Kt)*l){Mt(),i?.(he,!1);return}i?.(he,!0),Sr()}P.useEffect(()=>(I&&(Lt(document.documentElement,{scrollBehavior:"auto"}),X.current=new Date),()=>{uee(document.documentElement,"scrollBehavior")}),[I]);function Sn(he){const We=he?(window.innerWidth-ma)/window.innerWidth:1,Je=he?-ma:0;V.current&&window.clearTimeout(V.current),Lt(ne.current,{transition:`transform ${gt.DURATION}s cubic-bezier(${gt.EASE.join(",")})`,transform:`scale(${We}) translate3d(0, ${Je}px, 0)`}),!he&&ne.current&&(V.current=setTimeout(()=>{const st=Ru(ne.current,E);Lt(ne.current,{transition:"none",transform:Ft(E)?`translate3d(0, ${st}px, 0)`:`translate3d(${st}px, 0, 0)`})},500))}function yt(he,We){if(We<0)return;const Je=(window.innerWidth-ma)/window.innerWidth,st=Je+We*(1-Je),$e=-ma+We*ma;Lt(ne.current,{transform:Ft(E)?`scale(${st}) translate3d(0, ${$e}px, 0)`:`scale(${st}) translate3d(${$e}px, 0, 0)`,transition:"none"})}function _n(he,We){const Je=Ft(E)?window.innerHeight:window.innerWidth,st=We?(Je-ma)/Je:1,$e=We?-ma:0;We&&Lt(ne.current,{transition:`transform ${gt.DURATION}s cubic-bezier(${gt.EASE.join(",")})`,transform:Ft(E)?`scale(${st}) translate3d(0, ${$e}px, 0)`:`scale(${st}) translate3d(${$e}px, 0, 0)`})}return P.createElement(ah,{defaultOpen:S,onOpenChange:he=>{!u&&!he||(he?F(!0):Mt(!0),L(he))},open:I},P.createElement(y$.Provider,{value:{activeSnapPoint:Ve,snapPoints:a,setActiveSnapPoint:Rt,drawerRef:ne,overlayRef:R,onOpenChange:t,onPress:Oe,onRelease:fr,onDrag:Me,dismissible:u,handleOnly:d,isOpen:I,isDragging:$,shouldFade:Lr,closeDrawer:Mt,onNestedDrag:yt,onNestedOpenChange:Sn,onNestedRelease:_n,keyboardIsOpen:Z,modal:g,snapPointsOffset:xt,direction:E,shouldScaleBackground:o,setBackgroundColorOnScale:s,noBodyStyles:b,container:A,autoFocus:N}},r))}const j$=P.forwardRef(function({...e},t){const{overlayRef:r,snapPoints:n,onRelease:i,shouldFade:a,isOpen:o,modal:s}=Jc(),l=x$(t,r),c=n&&n.length>0;return s?P.createElement(Rs,{onMouseUp:i,ref:l,"data-vaul-overlay":"","data-vaul-snap-points":o&&c?"true":"false","data-vaul-snap-points-overlay":o&&a?"true":"false",...e}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});j$.displayName="Drawer.Overlay";const A$=P.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:r,...n},i){const{drawerRef:a,onPress:o,onRelease:s,onDrag:l,keyboardIsOpen:c,snapPointsOffset:u,modal:d,isOpen:h,direction:p,snapPoints:y,container:m,handleOnly:g,autoFocus:v}=Jc(),[x,b]=P.useState(!1),E=x$(i,a),S=P.useRef(null),_=P.useRef(null),O=P.useRef(!1),k=y&&y.length>0;vee();const T=(A,N,D=0)=>{if(O.current)return!0;const M=Math.abs(A.y),I=Math.abs(A.x),L=I>M,B=["bottom","right"].includes(N)?1:-1;if(N==="left"||N==="right"){if(!(A.x*B<0)&&I>=0&&I<=D)return L}else if(!(A.y*B<0)&&M>=0&&M<=D)return!L;return O.current=!0,!0};P.useEffect(()=>{k&&window.requestAnimationFrame(()=>{b(!0)})},[]);function j(A){S.current=null,O.current=!1,s(A)}return P.createElement(Is,{"data-vaul-drawer-direction":p,"data-vaul-drawer":"","data-vaul-delayed-snap-points":x?"true":"false","data-vaul-snap-points":h&&k?"true":"false","data-vaul-custom-container":m?"true":"false",...n,ref:E,style:u&&u.length>0?{"--snap-point-height":`${u[0]}px`,...t}:t,onPointerDown:A=>{g||(n.onPointerDown==null||n.onPointerDown.call(n,A),S.current={x:A.pageX,y:A.pageY},o(A))},onOpenAutoFocus:A=>{r?.(A),v||A.preventDefault()},onPointerDownOutside:A=>{if(e?.(A),!d||A.defaultPrevented){A.preventDefault();return}c.current&&(c.current=!1)},onFocusOutside:A=>{if(!d){A.preventDefault();return}},onPointerMove:A=>{if(_.current=A,g||(n.onPointerMove==null||n.onPointerMove.call(n,A),!S.current))return;const N=A.pageY-S.current.y,D=A.pageX-S.current.x,M=A.pointerType==="touch"?10:2;T({x:D,y:N},p,M)?l(A):(Math.abs(D)>M||Math.abs(N)>M)&&(S.current=null)},onPointerUp:A=>{n.onPointerUp==null||n.onPointerUp.call(n,A),S.current=null,O.current=!1,s(A)},onPointerOut:A=>{n.onPointerOut==null||n.onPointerOut.call(n,A),j(_.current)},onContextMenu:A=>{n.onContextMenu==null||n.onContextMenu.call(n,A),j(_.current)}})});A$.displayName="Drawer.Content";const wee=250,See=120,_ee=P.forwardRef(function({preventCycle:e=!1,children:t,...r},n){const{closeDrawer:i,isDragging:a,snapPoints:o,activeSnapPoint:s,setActiveSnapPoint:l,dismissible:c,handleOnly:u,isOpen:d,onPress:h,onDrag:p}=Jc(),y=P.useRef(null),m=P.useRef(!1);function g(){if(m.current){b();return}window.setTimeout(()=>{v()},See)}function v(){if(a||e||m.current){b();return}if(b(),(!o||o.length===0)&&c){i();return}if(s===o[o.length-1]&&c){i();return}const S=o.findIndex(O=>O===s);if(S===-1)return;const _=o[S+1];l(_)}function x(){y.current=window.setTimeout(()=>{m.current=!0},wee)}function b(){window.clearTimeout(y.current),m.current=!1}return P.createElement("div",{onClick:g,onPointerCancel:b,onPointerDown:E=>{u&&h(E),x()},onPointerMove:E=>{u&&p(E)},ref:n,"data-vaul-drawer-visible":d?"true":"false","data-vaul-handle":"","aria-hidden":"true",...r},P.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});_ee.displayName="Drawer.Handle";function Eee(e){const t=Jc(),{container:r=t.container,...n}=e;return P.createElement(sh,{container:r,...n})}const Vn={Root:xee,Content:A$,Overlay:j$,Trigger:oh,Portal:Eee,Title:Ms,Description:Ds},k$=({shouldScaleBackground:e=!0,...t})=>f.jsx(Vn.Root,{shouldScaleBackground:e,...t});k$.displayName="Drawer";const Oee=Vn.Trigger,jee=Vn.Portal,P$=w.forwardRef(({className:e,...t},r)=>f.jsx(Vn.Overlay,{ref:r,className:Y("fixed inset-0 z-50 bg-black/80",e),...t}));P$.displayName=Vn.Overlay.displayName;const T$=w.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(jee,{children:[f.jsx(P$,{}),f.jsxs(Vn.Content,{ref:n,className:Y("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...r,children:[f.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));T$.displayName="DrawerContent";const C$=({className:e,...t})=>f.jsx("div",{className:Y("grid gap-1.5 p-4 text-center sm:text-left",e),...t});C$.displayName="DrawerHeader";const N$=w.forwardRef(({className:e,...t},r)=>f.jsx(Vn.Title,{ref:r,className:Y("text-lg font-semibold leading-none tracking-tight",e),...t}));N$.displayName=Vn.Title.displayName;const R$=w.forwardRef(({className:e,...t},r)=>f.jsx(Vn.Description,{ref:r,className:Y("text-sm text-muted-foreground",e),...t}));R$.displayName=Vn.Description.displayName;const Aee=()=>{const{status:e,latency:t}=QZ(),{data:r}=g$(),{goals:n,logs:i,allGoals:a,rawLogs:o,createGoal:s,updateGoal:l,deleteGoal:c,toggleGoal:u,isDeleting:d,isUpdating:h,resetAllData:p,isResetting:y}=Z2(),{isPrivacyMode:m,setIsPrivacyMode:g}=Ew(),v=()=>{if(!o||!a){Ze.error("Nessun dato da esportare");return}try{const E=new Map(a.map(T=>[T.id,T.title])),S=["Date,Habit Name,Status,Value,Notes"];o.forEach(T=>{const j=E.get(T.goal_id)||"Archived Habit",A=D=>`"${D.replace(/"/g,'""')}"`,N=[T.date,A(j),T.status,T.value||"",T.notes?A(T.notes):""].join(",");S.push(N)});const _=new Blob([S.join(`
`)],{type:"text/csv;charset=utf-8;"}),O=window.URL.createObjectURL(_),k=document.createElement("a");k.href=O,k.download=`habit-tracker-export-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(k),k.click(),window.URL.revokeObjectURL(O),document.body.removeChild(k),Ze.success("Export completato!")}catch(E){console.error("Export failed:",E),Ze.error("Errore durante l'export")}},[x,b]=w.useState("month");return f.jsxs("div",{className:"flex-1 h-full overflow-hidden flex flex-col pt-4 lg:pt-8 pb-0 sm:pb-8 px-4 sm:px-8 animate-fade-in relative z-10 w-full max-w-[2400px] mx-auto",children:[f.jsx("div",{className:"fixed top-[-20%] left-[-10%] w-[50%] h-[50%] bg-primary/5 blur-[120px] rounded-full pointer-events-none -z-10"}),f.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-12 gap-2 lg:gap-8 w-full h-full lg:h-full",children:[f.jsxs("div",{className:"lg:col-span-3 space-y-2 lg:space-y-8",children:[f.jsxs("div",{className:"glass-panel p-4 lg:p-6 rounded-2xl space-y-4 transition-all",children:[f.jsxs("div",{className:"flex flex-row lg:flex-col items-center lg:items-start justify-between gap-4",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl lg:text-3xl font-display font-bold text-foreground",children:"Protocollo"}),f.jsx("p",{className:"text-muted-foreground text-xs lg:text-sm",children:"Esecuzione giornaliera."})]}),f.jsxs("div",{className:"flex items-center space-x-2 lg:pt-2",children:[f.jsx(e$,{id:"privacy-mode",checked:m,onCheckedChange:g}),f.jsxs(Nn,{htmlFor:"privacy-mode",className:"text-xs text-muted-foreground flex items-center gap-2 cursor-pointer sr-only lg:not-sr-only lg:flex",children:[m?f.jsx(j4,{className:"w-3 h-3"}):f.jsx(AN,{className:"w-3 h-3"}),"Privacy"]})]})]}),f.jsxs("div",{className:"pt-0 lg:pt-4 border-t-0 lg:border-t border-white/5 flex gap-2 justify-end lg:justify-start",children:[f.jsx("div",{className:"lg:hidden mr-auto relative",children:f.jsxs(k$,{shouldScaleBackground:!1,children:[f.jsx(Oee,{asChild:!0,children:f.jsxs(qe,{variant:"outline",size:"icon",className:Y("h-10 w-10 sm:h-9 sm:w-9 border-primary/20 bg-primary/5 transition-all",r?"text-muted-foreground":"text-primary border-primary/40 shadow-[0_0_10px_-3px_rgba(255,255,255,0.1)]"),children:[f.jsx(kN,{className:Y("h-4 w-4",!r&&"animate-pulse")}),!r&&f.jsx("span",{className:"absolute top-2 right-2.5 h-1.5 w-1.5 rounded-full bg-red-500 shadow-[0_0_8px_2px_rgba(239,68,68,0.5)] animate-pulse"})]})}),f.jsx(T$,{children:f.jsxs("div",{className:"mx-auto w-full max-w-sm",children:[f.jsxs(C$,{children:[f.jsx(N$,{children:"Daily Check-in"}),f.jsx(R$,{children:"Traccia il tuo umore ed energia."})]}),f.jsx("div",{className:"p-4 pb-8",children:f.jsx(IE,{})})]})})]})}),f.jsx(dZ,{}),f.jsx(jK,{habits:n,onAddHabit:s,onUpdateHabit:l,onRemoveHabit:c,isDeleting:d,isUpdating:h,isPrivacyMode:m}),f.jsxs($a,{children:[f.jsx(Yo,{asChild:!0,children:f.jsx(qe,{variant:"outline",size:"icon",className:"h-10 w-10 sm:h-9 sm:w-9",title:"Esporta dati CSV",children:f.jsx(jN,{className:"h-4 w-4"})})}),f.jsxs(Wi,{children:[f.jsxs(Hi,{children:[f.jsx(Ki,{children:"Esportare i dati?"}),f.jsxs(Gi,{children:["Verr scaricato un file CSV contenente tutto lo storico delle tue abitudini. ",f.jsx("br",{}),"Vuoi procedere con il download?"]})]}),f.jsxs(Vi,{children:[f.jsx(Ha,{children:"Annulla"}),f.jsx(Yi,{onClick:v,children:"Esporta CSV"})]})]})]}),f.jsxs($a,{children:[f.jsx(Yo,{asChild:!0,children:f.jsx(qe,{variant:"ghost",size:"icon",className:"h-10 w-10 sm:h-9 sm:w-9 bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white border-red-500/20",title:"Hard Reset (Elimina tutto)",children:f.jsx(Yx,{className:"h-4 w-4"})})}),f.jsxs(Wi,{children:[f.jsxs(Hi,{children:[f.jsx(Ki,{className:"text-destructive",children:"Hard Reset: Attenzione!"}),f.jsxs(Gi,{children:["Questa azione eliminer ",f.jsx("strong",{children:"definitivamente"})," tutte le tue abitudini e tutto lo storico dei progressi.",f.jsx("br",{}),f.jsx("br",{}),"I dati non potranno essere recuperati. Sei sicuro di voler procedere?"]})]}),f.jsxs(Vi,{children:[f.jsx(Ha,{children:"Annulla"}),f.jsx(Yi,{onClick:()=>p(),className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",disabled:y,children:y?"Eliminazione...":"Conferma Reset Totale"})]})]})]})]})]}),f.jsxs("div",{className:"glass-card p-6 rounded-2xl hidden lg:block transition-colors duration-300",children:[f.jsxs("h3",{className:"text-sm font-medium text-muted-foreground uppercase tracking-widest mb-2 flex items-center justify-between",children:["System Status",e==="active"&&f.jsx(V4,{className:"w-4 h-4 text-green-500"}),e==="offline"&&f.jsx(H4,{className:"w-4 h-4 text-yellow-500"}),e==="error"&&f.jsx(TN,{className:"w-4 h-4 text-red-500"})]}),f.jsxs("div",{className:"flex items-baseline gap-2",children:[f.jsx("span",{className:Y("text-2xl font-bold font-mono-nums transition-colors",e==="active"?"text-primary":e==="offline"?"text-yellow-500":"text-red-500"),children:e==="active"?"Online":e==="offline"?"Offline":"Error"}),f.jsx("span",{className:Y("w-2 h-2 rounded-full animate-pulse",e==="active"?"bg-green-500":e==="offline"?"bg-yellow-500":"bg-red-500")})]}),f.jsxs("p",{className:"text-xs text-muted-foreground mt-4 flex justify-between items-center",children:[f.jsx("span",{children:"Mattioli.OS v4.1"}),t&&f.jsxs("span",{className:"font-mono opacity-50",children:[t,"ms"]})]})]}),f.jsx("div",{className:"hidden lg:block",children:f.jsx(IE,{})})]}),f.jsx("div",{className:"lg:col-span-9 flex flex-col flex-1 h-full min-h-0 overflow-hidden lg:overflow-visible",children:f.jsxs(qo,{defaultValue:"month",value:x,onValueChange:b,className:"w-full h-full flex flex-col",children:[f.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mb-4 lg:mb-4 shrink-0",children:f.jsxs(La,{className:"grid w-full grid-cols-3 bg-card/40 border border-white/10 backdrop-blur-md rounded-xl p-1 shadow-sm h-10 sm:h-auto",children:[f.jsxs(rt,{value:"month",className:"rounded-lg data-[state=active]:bg-primary/20 data-[state=active]:text-primary font-medium text-xs sm:text-sm h-full sm:py-2 flex items-center justify-center gap-1.5 sm:gap-2",children:[f.jsx(ad,{className:"w-4 h-4"}),f.jsx("span",{className:"xs:inline",children:"Mese"})]}),f.jsxs(rt,{value:"week",className:"rounded-lg data-[state=active]:bg-primary/20 data-[state=active]:text-primary font-medium text-xs sm:text-sm h-full sm:py-2 flex items-center justify-center gap-1.5 sm:gap-2",children:[f.jsx(P4,{className:"w-4 h-4"}),f.jsx("span",{className:"xs:inline",children:"Settimana"})]}),f.jsxs(rt,{value:"year",className:"rounded-lg data-[state=active]:bg-primary/20 data-[state=active]:text-primary font-medium text-xs sm:text-sm h-full sm:py-2 flex items-center justify-center gap-1.5 sm:gap-2",children:[f.jsx(T4,{className:"w-4 h-4"}),f.jsx("span",{className:"xs:inline",children:"Anno"})]})]})}),f.jsxs("div",{className:"flex-1 flex flex-col min-h-0 glass-panel rounded-xl sm:rounded-2xl p-0 sm:p-2 overflow-hidden mb-2",children:[f.jsx(mr,{value:"month",className:"mt-0 animate-scale-in h-full",children:f.jsx(L9,{habits:n,records:i,onToggleHabit:u,isPrivacyMode:m})}),f.jsx(mr,{value:"week",className:"mt-0 animate-scale-in h-full",children:f.jsx(F9,{habits:n,records:i,onToggleHabit:u,isPrivacyMode:m})}),f.jsx(mr,{value:"year",className:"mt-0 animate-scale-in h-full",children:f.jsx(q9,{habits:n,records:i,onToggleHabit:u,isPrivacyMode:m})})]})]})})]})]})};function kee(e,t,r="weekly"){return w.useMemo(()=>{const n=kn(new Date),i=Object.keys(t).sort(),a=e.map($=>{const C=kn(new Date($.start_date)),W=$.id;let z=0,R=0,X=0,oe=0;const se=Math.max(0,Xl(n,C)+1),K=new Date(n);let Q=!0;const V=Re(K,"yyyy-MM-dd"),J=t[V]?.[W];J==="done"?z++:J==="missed"&&(Q=!1);let Z=1;for(;;){const je=Tt(n,Z);if(On(je,C))break;const Ve=Re(je,"yyyy-MM-dd"),tt=t[Ve]?.[W];if(tt==="done"?Q&&z++:tt==="missed"&&(Q=!1),!Q||Z>365*5)break;Z++}if(se>0){for(let je=0;je<se;je++){const Ve=Tt(n,je),tt=Re(Ve,"yyyy-MM-dd"),Rt=t[tt]?.[W];Rt==="done"?(oe++,X++):Rt==="missed"&&(R=Math.max(R,X),X=0)}R=Math.max(R,X)}let U=0,ne=0;const q=Tt(n,29),ae=Ti(C,q)?C:q;Ti(ae,n)||pn({start:ae,end:n}).forEach(je=>{U++;const Ve=Re(je,"yyyy-MM-dd");t[Ve]?.[W]==="done"&&ne++});const ie=U>0?Math.round(ne/U*100):0;return{id:$.id,title:$.title,color:$.color,currentStreak:z,longestStreak:R,totalDays:oe,completionRate:ie}}),o=[],s=Tt(n,365);pn({start:s,end:n}).forEach($=>{const C=Re($,"yyyy-MM-dd");let W=0,z=0;e.forEach(X=>{const oe=new Date(X.start_date);On(kn($),kn(oe))||(W++,t[C]?.[X.id]==="done"&&z++)});let R=0;if(W>0&&z>0){const X=z/W;X<=.25?R=1:X<=.5?R=2:X<=.75?R=3:R=4}o.push({date:C,count:z,intensity:R})});const l=[];let c,u=n,d="day";switch(r){case"weekly":c=Tt(n,6),d="day";break;case"monthly":c=Tt(n,29),d="day";break;case"annual":c=O_(n,11),d="month";break;case"all":const $=e.reduce((C,W)=>On(new Date(W.start_date),C)?new Date(W.start_date):C,n);c=$,Xl(n,$)>90?(d="month",c=Ca(c)):d="day";break;default:c=Tt(n,6)}if(d==="day")pn({start:c,end:u}).forEach($=>{const C=Re($,"yyyy-MM-dd");let W=Re($,"EEE",{locale:Cr});(r==="monthly"||r==="all")&&(W=Re($,"dd/MM",{locale:Cr}));const z={date:W};let R=0,X=0;e.forEach(se=>{const K=new Date(se.start_date);if(On(kn($),kn(K))){z[se.id]=0;return}X++;const V=t[C]?.[se.id]==="done";V&&R++,z[se.id]=V?100:0});const oe=X>0?Math.round(R/X*100):0;z.overall=oe,l.push(z)});else{let $=Ca(c);for(;!Ti($,u);){const C=G2($),W=On(C,u)?C:u,z={date:Re($,"MMM yy",{locale:Cr})};let R=0,X=0;e.forEach(se=>{const K=new Date(se.start_date),Q=On($,K)?K:$;if(Ti(Q,W)){z[se.id]=0;return}let V=0,J=0;pn({start:Q,end:W}).forEach(U=>{const ne=Re(U,"yyyy-MM-dd");J++,t[ne]?.[se.id]==="done"&&V++});const Z=J>0?Math.round(V/J*100):0;z[se.id]=Z,R+=J,X+=V});const oe=R>0?Math.round(X/R*100):0;z.overall=oe,l.push(z),$=Ca(Tt($,-32))}}const h=[0,0,0,0,0,0,0].map(($,C)=>({dayIndex:C,dayName:Re(new Date(2024,0,7+C),"EEEE",{locale:Cr}),totalActive:0,totalDone:0,rate:0})),p=e.reduce(($,C)=>On(new Date(C.start_date),$)?new Date(C.start_date):$,n),y=Ti(p,Tt(n,365))?p:Tt(n,365);Ti(y,n)||pn({start:y,end:n}).forEach($=>{const C=$.getDay(),W=Re($,"yyyy-MM-dd");e.forEach(z=>{const R=new Date(z.start_date);On($,R)||(h[C].totalActive++,t[W]?.[z.id]==="done"&&h[C].totalDone++)})}),h.forEach($=>{$.rate=$.totalActive>0?Math.round($.totalDone/$.totalActive*100):0});const m=i.length,g=a.length>0?Math.round(a.reduce(($,C)=>$+C.completionRate,0)/a.length):0,v=Pee(e,t,n,a),x=Jr(n,{locale:Cr,weekStartsOn:1}),b=n,E=z6(x),S=Tt(x,1),_=Ca(n),O=n,k=O_(_,1),T=Tt(_,1),j=_w(n),A=n,N=U6(j),D=Tt(j,1),M=em(e,t,x,b,E,S,"week"),I=em(e,t,_,O,k,T,"month"),L=em(e,t,j,A,N,D,"year"),B=e.map($=>({habitId:$.id,week:M[$.id],month:I[$.id],year:L[$.id]}));return{habitStats:a,heatmapData:o,trendData:l,weekdayStats:h.sort(($,C)=>$.dayIndex===0?1:C.dayIndex===0?-1:$.dayIndex-C.dayIndex),totalActiveDays:m,globalSuccessRate:g,bestStreak:Math.max(...a.map($=>$.longestStreak),0),worstDay:h.reduce(($,C)=>C.rate<$.rate&&C.totalActive>0?C:$,h[0]).dayName,comparisons:B,criticalHabits:v.sort(($,C)=>$.completionRate-C.completionRate)}},[e,t,r])}function em(e,t,r,n,i,a,o="month"){const s={},l=e.map(u=>u.id),c=(u,d,h,p)=>{const y=On(d,p)?p:d;if(Ti(y,h))return 0;let m=0,g=0;return pn({start:y,end:h}).forEach(v=>{m++;const x=Re(v,"yyyy-MM-dd");t[x]?.[u]==="done"&&g++}),m>0?Math.round(g/m*100):0};return l.forEach(u=>{const d=e.find(v=>v.id===u);if(!d)return;const h=new Date(d.start_date),p=c(u,r,n,h),y=c(u,i,a,h),m=p-y;let g="neutral";m>0&&(g="up"),m<0&&(g="down"),s[u]={previous:y,current:p,change:m,trend:g}}),s}function Pee(e,t,r,n){const i=[],a=Tt(r,90);return e.forEach(o=>{const s=[0,0,0,0,0,0,0].map(()=>({total:0,done:0})),l=On(a,new Date(o.start_date))?new Date(o.start_date):a,c=Math.max(0,Xl(r,new Date(o.start_date)))+1;let u=4;c<8?u=1:c<15?u=2:c<29&&(u=3),Ti(l,r)||pn({start:l,end:r}).forEach(m=>{const g=m.getDay(),v=Re(m,"yyyy-MM-dd");s[g].total++,t[v]?.[o.id]==="done"&&s[g].done++});let d="",h=101;s.forEach((m,g)=>{if(m.total<u)return;const v=Math.round(m.done/m.total*100);if(v<h){h=v;const x=new Date(2024,0,7+g);d=Re(x,"EEEE",{locale:Cr})}});const p=n.find(m=>m.id===o.id),y=p?p.completionRate:0;h===101&&(d="N/A",h=y),i.push({habitId:o.id,title:o.title,color:o.color,completionRate:y,worstDay:d,worstDayRate:h})}),i}function FE(e,t){if(e.length!==t.length||e.length===0)return 0;const r=e.length,n=e.reduce((u,d)=>u+d,0),i=t.reduce((u,d)=>u+d,0),a=e.reduce((u,d,h)=>u+d*t[h],0),o=e.reduce((u,d)=>u+d*d,0),s=t.reduce((u,d)=>u+d*d,0),l=r*a-n*i,c=Math.sqrt((r*o-n*n)*(r*s-i*i));return c===0?0:l/c}function BE(e){return e<=4?"low":e<=7?"medium":"high"}const Tee=(e,t)=>{const{data:r}=Bn({queryKey:["moods"],queryFn:async()=>{const{data:a,error:o}=await ye.from("daily_moods").select("*").order("date",{ascending:!1});if(o)throw o;return a}}),n=w.useMemo(()=>{if(!r||r.length===0||e.length===0)return[];const a=new Map;return r.forEach(o=>{a.set(o.date,{mood:o.mood_score,energy:o.energy_score})}),e.map(o=>{const s=[];Object.entries(t).forEach(([I,L])=>{const B=L[o.id],F=a.get(I);B&&F&&s.push({date:I,completed:B==="done",mood:F.mood,energy:F.energy})});const l=s.filter(I=>I.completed),c=s.filter(I=>!I.completed),u=l.length>0?l.reduce((I,L)=>I+L.mood,0)/l.length:0,d=c.length>0?c.reduce((I,L)=>I+L.mood,0)/c.length:0,h=l.length>0?l.reduce((I,L)=>I+L.energy,0)/l.length:0,p=c.length>0?c.reduce((I,L)=>I+L.energy,0)/c.length:0,y={low:0,medium:0,high:0},m={low:0,medium:0,high:0},g={low:0,medium:0,high:0},v={low:0,medium:0,high:0};s.forEach(I=>{const L=BE(I.mood),B=BE(I.energy);m[L]++,v[B]++,I.completed&&(y[L]++,g[B]++)});const x={low:m.low>0?y.low/m.low*100:0,medium:m.medium>0?y.medium/m.medium*100:0,high:m.high>0?y.high/m.high*100:0},b={low:v.low>0?g.low/v.low*100:0,medium:v.medium>0?g.medium/v.medium*100:0,high:v.high>0?g.high/v.high*100:0},E=s.map(I=>I.completed?1:0),S=s.map(I=>I.mood),_=s.map(I=>I.energy),O=FE(S,E),k=FE(_,E),j=x.high-x.low>30&&O>.3,N=b.high-b.low>30&&k>.3,D=x.low>=60&&b.low>=60;return{habitId:o.id,habitTitle:o.title,habitColor:o.color,avgMoodWhenCompleted:u,avgMoodWhenMissed:d,avgEnergyWhenCompleted:h,avgEnergyWhenMissed:p,completionRateByMood:x,completionRateByEnergy:b,moodCorrelation:O,energyCorrelation:k,isMoodSensitive:j,isEnergySensitive:N,isResilient:D,totalDaysWithMoodData:s.length,daysCompleted:l.length,daysMissed:c.length}})},[e,t,r]),i=w.useMemo(()=>{const a=n.filter(o=>o.totalDaysWithMoodData>=5);return{moodSensitiveHabits:a.filter(o=>o.isMoodSensitive).sort((o,s)=>s.moodCorrelation-o.moodCorrelation).slice(0,3),energySensitiveHabits:a.filter(o=>o.isEnergySensitive).sort((o,s)=>s.energyCorrelation-o.energyCorrelation).slice(0,3),resilientHabits:a.filter(o=>o.isResilient).sort((o,s)=>s.completionRateByMood.low+s.completionRateByEnergy.low-(o.completionRateByMood.low+o.completionRateByEnergy.low)).slice(0,3),bestAtHighMood:a.sort((o,s)=>s.completionRateByMood.high-o.completionRateByMood.high).slice(0,3),bestAtLowMood:a.sort((o,s)=>s.completionRateByMood.low-o.completionRateByMood.low).slice(0,3),bestAtHighEnergy:a.sort((o,s)=>s.completionRateByEnergy.high-o.completionRateByEnergy.high).slice(0,3),bestAtLowEnergy:a.sort((o,s)=>s.completionRateByEnergy.low-o.completionRateByEnergy.low).slice(0,3)}},[n]);return{correlations:n,insights:i,isLoading:!r}};function Cee({globalStats:e,bestHabit:t}){return f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[f.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[f.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:f.jsx($i,{className:"w-24 h-24"})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:[f.jsx($i,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm font-medium",children:"Completamento"})]}),f.jsxs("div",{className:"flex items-baseline gap-2",children:[f.jsxs("span",{className:"text-4xl font-display font-bold text-foreground",children:[e.globalSuccessRate,"%"]}),f.jsx("span",{className:"text-sm text-muted-foreground",children:"globale"})]})]})]}),f.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[f.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:f.jsx(bS,{className:"w-24 h-24 text-orange-500"})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:[f.jsx(bS,{className:"w-4 h-4 text-orange-500"}),f.jsx("span",{className:"text-sm font-medium",children:"Miglior Serie"})]}),f.jsxs("div",{className:"flex items-baseline gap-2",children:[f.jsx("span",{className:"text-4xl font-display font-bold text-foreground",children:e.bestStreak}),f.jsx("span",{className:"text-sm text-muted-foreground",children:"giorni"})]})]})]}),f.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[f.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:f.jsx(Ro,{className:"w-24 h-24 text-yellow-500"})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:[f.jsx(Ro,{className:"w-4 h-4 text-yellow-500"}),f.jsx("span",{className:"text-sm font-medium",children:"Top Performer"})]}),t?f.jsxs("div",{children:[f.jsx("span",{className:"text-2xl font-display font-bold text-foreground block truncate",children:t.title}),f.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.completionRate,"% completamento"]})]}):f.jsx("span",{className:"text-muted-foreground text-sm",children:"Nessun dato"})]})]}),f.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[f.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:f.jsx("div",{className:"text-4xl",children:""})}),f.jsxs("div",{children:[f.jsx("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:f.jsx("span",{className:"text-sm font-medium",children:"Giorno Peggiore"})}),e.worstDay?f.jsxs("div",{children:[f.jsx("span",{className:"text-2xl font-display font-bold text-foreground block truncate",children:e.worstDay}),f.jsx("span",{className:"text-sm text-muted-foreground",children:"Focus richiesto"})]}):f.jsx("span",{className:"text-muted-foreground text-sm",children:"Nessun dato"})]})]})]})}function Nee({data:e}){const t=new Date,r=105,n=e.filter(a=>wH(t,new Date(a.date))<r),i=[];for(let a=r-1;a>=0;a--){const o=Tt(t,a),s=Re(o,"yyyy-MM-dd"),l=n.find(c=>c.date===s);i.push(l||{date:s,count:0,intensity:0})}return f.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-xl",children:[f.jsx("h3",{className:"text-lg font-display font-semibold mb-4",children:"Costanza"}),f.jsx("div",{className:"flex flex-wrap gap-1 justify-center sm:justify-start",children:i.map(a=>f.jsx("div",{className:Y("w-3 h-3 sm:w-4 sm:h-4 rounded-sm transition-all hover:scale-125 hover:z-10 relative cursor-pointer",a.intensity===0&&"bg-muted/10",a.intensity===1&&"bg-primary/30",a.intensity===2&&"bg-primary/50",a.intensity===3&&"bg-primary/70",a.intensity===4&&"bg-primary"),title:`${a.date}: ${a.count} habits`},a.date))}),f.jsxs("div",{className:"flex items-center justify-end gap-2 mt-4 text-xs text-muted-foreground",children:[f.jsx("span",{children:"Meno"}),f.jsxs("div",{className:"flex gap-1",children:[f.jsx("div",{className:"w-3 h-3 rounded-sm bg-muted/10"}),f.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/30"}),f.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/50"}),f.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/70"}),f.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary"})]}),f.jsx("span",{children:"Pi"})]})]})}var tm,qE;function wr(){if(qE)return tm;qE=1;var e=Array.isArray;return tm=e,tm}var rm,zE;function I$(){if(zE)return rm;zE=1;var e=typeof au=="object"&&au&&au.Object===Object&&au;return rm=e,rm}var nm,UE;function Kn(){if(UE)return nm;UE=1;var e=I$(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return nm=r,nm}var im,WE;function Zc(){if(WE)return im;WE=1;var e=Kn(),t=e.Symbol;return im=t,im}var am,HE;function Ree(){if(HE)return am;HE=1;var e=Zc(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function a(o){var s=r.call(o,i),l=o[i];try{o[i]=void 0;var c=!0}catch{}var u=n.call(o);return c&&(s?o[i]=l:delete o[i]),u}return am=a,am}var om,VE;function Iee(){if(VE)return om;VE=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return om=r,om}var sm,KE;function bi(){if(KE)return sm;KE=1;var e=Zc(),t=Ree(),r=Iee(),n="[object Null]",i="[object Undefined]",a=e?e.toStringTag:void 0;function o(s){return s==null?s===void 0?i:n:a&&a in Object(s)?t(s):r(s)}return sm=o,sm}var lm,GE;function xi(){if(GE)return lm;GE=1;function e(t){return t!=null&&typeof t=="object"}return lm=e,lm}var cm,YE;function qs(){if(YE)return cm;YE=1;var e=bi(),t=xi(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return cm=n,cm}var um,XE;function o1(){if(XE)return um;XE=1;var e=wr(),t=qs(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(e(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||t(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return um=i,um}var dm,QE;function aa(){if(QE)return dm;QE=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return dm=e,dm}var fm,JE;function s1(){if(JE)return fm;JE=1;var e=bi(),t=aa(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!t(s))return!1;var l=e(s);return l==n||l==i||l==r||l==a}return fm=o,fm}var hm,ZE;function Mee(){if(ZE)return hm;ZE=1;var e=Kn(),t=e["__core-js_shared__"];return hm=t,hm}var pm,eO;function Dee(){if(eO)return pm;eO=1;var e=Mee(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return pm=r,pm}var mm,tO;function M$(){if(tO)return mm;tO=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return mm=r,mm}var gm,rO;function $ee(){if(rO)return gm;rO=1;var e=s1(),t=Dee(),r=aa(),n=M$(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,c=s.hasOwnProperty,u=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(h){if(!r(h)||t(h))return!1;var p=e(h)?u:a;return p.test(n(h))}return gm=d,gm}var ym,nO;function Lee(){if(nO)return ym;nO=1;function e(t,r){return t?.[r]}return ym=e,ym}var vm,iO;function io(){if(iO)return vm;iO=1;var e=$ee(),t=Lee();function r(n,i){var a=t(n,i);return e(a)?a:void 0}return vm=r,vm}var bm,aO;function Eh(){if(aO)return bm;aO=1;var e=io(),t=e(Object,"create");return bm=t,bm}var xm,oO;function Fee(){if(oO)return xm;oO=1;var e=Eh();function t(){this.__data__=e?e(null):{},this.size=0}return xm=t,xm}var wm,sO;function Bee(){if(sO)return wm;sO=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return wm=e,wm}var Sm,lO;function qee(){if(lO)return Sm;lO=1;var e=Eh(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(e){var s=o[a];return s===t?void 0:s}return n.call(o,a)?o[a]:void 0}return Sm=i,Sm}var _m,cO;function zee(){if(cO)return _m;cO=1;var e=Eh(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var a=this.__data__;return e?a[i]!==void 0:r.call(a,i)}return _m=n,_m}var Em,uO;function Uee(){if(uO)return Em;uO=1;var e=Eh(),t="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=e&&i===void 0?t:i,this}return Em=r,Em}var Om,dO;function Wee(){if(dO)return Om;dO=1;var e=Fee(),t=Bee(),r=qee(),n=zee(),i=Uee();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Om=a,Om}var jm,fO;function Hee(){if(fO)return jm;fO=1;function e(){this.__data__=[],this.size=0}return jm=e,jm}var Am,hO;function l1(){if(hO)return Am;hO=1;function e(t,r){return t===r||t!==t&&r!==r}return Am=e,Am}var km,pO;function Oh(){if(pO)return km;pO=1;var e=l1();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return km=t,km}var Pm,mO;function Vee(){if(mO)return Pm;mO=1;var e=Oh(),t=Array.prototype,r=t.splice;function n(i){var a=this.__data__,o=e(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():r.call(a,o,1),--this.size,!0}return Pm=n,Pm}var Tm,gO;function Kee(){if(gO)return Tm;gO=1;var e=Oh();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return Tm=t,Tm}var Cm,yO;function Gee(){if(yO)return Cm;yO=1;var e=Oh();function t(r){return e(this.__data__,r)>-1}return Cm=t,Cm}var Nm,vO;function Yee(){if(vO)return Nm;vO=1;var e=Oh();function t(r,n){var i=this.__data__,a=e(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return Nm=t,Nm}var Rm,bO;function jh(){if(bO)return Rm;bO=1;var e=Hee(),t=Vee(),r=Kee(),n=Gee(),i=Yee();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Rm=a,Rm}var Im,xO;function c1(){if(xO)return Im;xO=1;var e=io(),t=Kn(),r=e(t,"Map");return Im=r,Im}var Mm,wO;function Xee(){if(wO)return Mm;wO=1;var e=Wee(),t=jh(),r=c1();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Mm=n,Mm}var Dm,SO;function Qee(){if(SO)return Dm;SO=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Dm=e,Dm}var $m,_O;function Ah(){if(_O)return $m;_O=1;var e=Qee();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return $m=t,$m}var Lm,EO;function Jee(){if(EO)return Lm;EO=1;var e=Ah();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return Lm=t,Lm}var Fm,OO;function Zee(){if(OO)return Fm;OO=1;var e=Ah();function t(r){return e(this,r).get(r)}return Fm=t,Fm}var Bm,jO;function ete(){if(jO)return Bm;jO=1;var e=Ah();function t(r){return e(this,r).has(r)}return Bm=t,Bm}var qm,AO;function tte(){if(AO)return qm;AO=1;var e=Ah();function t(r,n){var i=e(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return qm=t,qm}var zm,kO;function u1(){if(kO)return zm;kO=1;var e=Xee(),t=Jee(),r=Zee(),n=ete(),i=tte();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,zm=a,zm}var Um,PO;function D$(){if(PO)return Um;PO=1;var e=u1(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],l=a.cache;if(l.has(s))return l.get(s);var c=n.apply(this,o);return a.cache=l.set(s,c)||l,c};return a.cache=new(r.Cache||e),a}return r.Cache=e,Um=r,Um}var Wm,TO;function rte(){if(TO)return Wm;TO=1;var e=D$(),t=500;function r(n){var i=e(n,function(o){return a.size===t&&a.clear(),o}),a=i.cache;return i}return Wm=r,Wm}var Hm,CO;function nte(){if(CO)return Hm;CO=1;var e=rte(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(t,function(o,s,l,c){a.push(l?c.replace(r,"$1"):s||o)}),a});return Hm=n,Hm}var Vm,NO;function d1(){if(NO)return Vm;NO=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,a=Array(i);++n<i;)a[n]=r(t[n],n,t);return a}return Vm=e,Vm}var Km,RO;function ite(){if(RO)return Km;RO=1;var e=Zc(),t=d1(),r=wr(),n=qs(),i=e?e.prototype:void 0,a=i?i.toString:void 0;function o(s){if(typeof s=="string")return s;if(r(s))return t(s,o)+"";if(n(s))return a?a.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return Km=o,Km}var Gm,IO;function $$(){if(IO)return Gm;IO=1;var e=ite();function t(r){return r==null?"":e(r)}return Gm=t,Gm}var Ym,MO;function L$(){if(MO)return Ym;MO=1;var e=wr(),t=o1(),r=nte(),n=$$();function i(a,o){return e(a)?a:t(a,o)?[a]:r(n(a))}return Ym=i,Ym}var Xm,DO;function kh(){if(DO)return Xm;DO=1;var e=qs();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Xm=t,Xm}var Qm,$O;function f1(){if($O)return Qm;$O=1;var e=L$(),t=kh();function r(n,i){i=e(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[t(i[a++])];return a&&a==o?n:void 0}return Qm=r,Qm}var Jm,LO;function F$(){if(LO)return Jm;LO=1;var e=f1();function t(r,n,i){var a=r==null?void 0:e(r,n);return a===void 0?i:a}return Jm=t,Jm}var ate=F$();const Dr=Ue(ate);var Zm,FO;function ote(){if(FO)return Zm;FO=1;function e(t){return t==null}return Zm=e,Zm}var ste=ote();const be=Ue(ste);var eg,BO;function lte(){if(BO)return eg;BO=1;var e=bi(),t=wr(),r=xi(),n="[object String]";function i(a){return typeof a=="string"||!t(a)&&r(a)&&e(a)==n}return eg=i,eg}var cte=lte();const Ka=Ue(cte);var ute=s1();const ve=Ue(ute);var dte=aa();const zs=Ue(dte);var tg={exports:{}},Ke={};var qO;function fte(){if(qO)return Ke;qO=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function m(g){if(typeof g=="object"&&g!==null){var v=g.$$typeof;switch(v){case e:switch(g=g.type,g){case r:case i:case n:case c:case u:return g;default:switch(g=g&&g.$$typeof,g){case s:case o:case l:case h:case d:case a:return g;default:return v}}case t:return v}}}return Ke.ContextConsumer=o,Ke.ContextProvider=a,Ke.Element=e,Ke.ForwardRef=l,Ke.Fragment=r,Ke.Lazy=h,Ke.Memo=d,Ke.Portal=t,Ke.Profiler=i,Ke.StrictMode=n,Ke.Suspense=c,Ke.SuspenseList=u,Ke.isAsyncMode=function(){return!1},Ke.isConcurrentMode=function(){return!1},Ke.isContextConsumer=function(g){return m(g)===o},Ke.isContextProvider=function(g){return m(g)===a},Ke.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===e},Ke.isForwardRef=function(g){return m(g)===l},Ke.isFragment=function(g){return m(g)===r},Ke.isLazy=function(g){return m(g)===h},Ke.isMemo=function(g){return m(g)===d},Ke.isPortal=function(g){return m(g)===t},Ke.isProfiler=function(g){return m(g)===i},Ke.isStrictMode=function(g){return m(g)===n},Ke.isSuspense=function(g){return m(g)===c},Ke.isSuspenseList=function(g){return m(g)===u},Ke.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===r||g===i||g===n||g===c||g===u||g===p||typeof g=="object"&&g!==null&&(g.$$typeof===h||g.$$typeof===d||g.$$typeof===a||g.$$typeof===o||g.$$typeof===l||g.$$typeof===y||g.getModuleId!==void 0)},Ke.typeOf=m,Ke}var zO;function hte(){return zO||(zO=1,tg.exports=fte()),tg.exports}var pte=hte(),rg,UO;function B$(){if(UO)return rg;UO=1;var e=bi(),t=xi(),r="[object Number]";function n(i){return typeof i=="number"||t(i)&&e(i)==r}return rg=n,rg}var ng,WO;function mte(){if(WO)return ng;WO=1;var e=B$();function t(r){return e(r)&&r!=+r}return ng=t,ng}var gte=mte();const Us=Ue(gte);var yte=B$();const vte=Ue(yte);var lr=function(t){return t===0?0:t>0?1:-1},Na=function(t){return Ka(t)&&t.indexOf("%")===t.length-1},ee=function(t){return vte(t)&&!Us(t)},bte=function(t){return be(t)},zt=function(t){return ee(t)||Ka(t)},xte=0,oa=function(t){var r=++xte;return"".concat(t||"").concat(r)},cr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ee(t)&&!Ka(t))return n;var a;if(Na(t)){var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return Us(a)&&(a=n),i&&a>r&&(a=r),a},Di=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},wte=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},nt=function(t,r){return ee(t)&&ee(r)?function(n){return t+n*(r-t)}:function(){return r}};function Td(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Dr(n,t))===r})}var Ste=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,i=0,a=0,o=0,s=1/0,l=-1/0,c=0,u=0,d=0;d<r;d++)c=t[d].cx||0,u=t[d].cy||0,n+=c,i+=u,a+=c*u,o+=c*c,s=Math.min(s,c),l=Math.max(l,c);var h=r*o!==n*n?(r*a-n*i)/(r*o-n*n):0;return{xmin:s,xmax:l,a:h,b:(i-h*n)/r}},_te=function(t,r){return ee(t)&&ee(r)?t-r:Ka(t)&&Ka(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function zo(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function u0(e){"@babel/helpers - typeof";return u0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u0(e)}var Ete=["viewBox","children"],Ote=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],HO=["points","pathLength"],ig={svg:Ete,polygon:HO,polyline:HO},h1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Cd=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),!zs(n))return null;var i={};return Object.keys(n).forEach(function(a){h1.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},jte=function(t,r,n){return function(i){return t(r,n,i),null}},ta=function(t,r,n){if(!zs(t)||u0(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];h1.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=jte(o,r,n))}),i},Ate=["children"],kte=["children"];function VO(e,t){if(e==null)return{};var r=Pte(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function d0(e){"@babel/helpers - typeof";return d0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d0(e)}var KO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},oi=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},GO=null,ag=null,p1=function e(t){if(t===GO&&Array.isArray(ag))return ag;var r=[];return w.Children.forEach(t,function(n){be(n)||(pte.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),ag=r,GO=t,r};function dr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return oi(i)}):n=[oi(t)],p1(e).forEach(function(i){var a=Dr(i,"type.displayName")||Dr(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Ar(e,t){var r=dr(e,t);return r&&r[0]}var YO=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!ee(n)||n<=0||!ee(i)||i<=0)},Tte=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Cte=function(t){return t&&t.type&&Ka(t.type)&&Tte.indexOf(t.type)>=0},q$=function(t){return t&&d0(t)==="object"&&"clipDot"in t},Nte=function(t,r,n,i){var a,o=(a=ig?.[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!ve(t)&&(i&&o.includes(r)||Ote.includes(r))||n&&h1.includes(r)},le=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(w.isValidElement(t)&&(i=t.props),!zs(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;Nte((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},f0=function e(t,r){if(t===r)return!0;var n=w.Children.count(t);if(n!==w.Children.count(r))return!1;if(n===0)return!0;if(n===1)return XO(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=t[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!XO(a,o))return!1}return!0},XO=function(t,r){if(be(t)&&be(r))return!0;if(!be(t)&&!be(r)){var n=t.props||{},i=n.children,a=VO(n,Ate),o=r.props||{},s=o.children,l=VO(o,kte);return i&&s?zo(a,l)&&f0(i,s):!i&&!s?zo(a,l):!1}return!1},QO=function(t,r){var n=[],i={};return p1(t).forEach(function(a,o){if(Cte(a))n.push(a);else if(a){var s=oi(a.type),l=r[s]||{},c=l.handler,u=l.once;if(c&&(!u||!i[s])){var d=c(a,s,o);n.push(d),i[s]=!0}}}),n},Rte=function(t){var r=t&&t.type;return r&&KO[r]?KO[r]:null},Ite=function(t,r){return p1(r).indexOf(t)},Mte=["children","width","height","viewBox","className","style","title","desc"];function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h0.apply(this,arguments)}function Dte(e,t){if(e==null)return{};var r=$te(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $te(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function p0(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,a=e.className,o=e.style,s=e.title,l=e.desc,c=Dte(e,Mte),u=i||{width:r,height:n,x:0,y:0},d=_e("recharts-surface",a);return P.createElement("svg",h0({},le(c,!0,"svg"),{className:d,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),P.createElement("title",null,s),P.createElement("desc",null,l),t)}var Lte=["children","className"];function m0(){return m0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m0.apply(this,arguments)}function Fte(e,t){if(e==null)return{};var r=Bte(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ae=P.forwardRef(function(e,t){var r=e.children,n=e.className,i=Fte(e,Lte),a=_e("recharts-layer",n);return P.createElement("g",m0({className:a},le(i,!0),{ref:t}),r)}),yn=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},og,JO;function qte(){if(JO)return og;JO=1;function e(t,r,n){var i=-1,a=t.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(a);++i<a;)o[i]=t[i+r];return o}return og=e,og}var sg,ZO;function zte(){if(ZO)return sg;ZO=1;var e=qte();function t(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:e(r,n,i)}return sg=t,sg}var lg,ej;function z$(){if(ej)return lg;ej=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,a="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+e+i+a+"]");function l(c){return s.test(c)}return lg=l,lg}var cg,tj;function Ute(){if(tj)return cg;tj=1;function e(t){return t.split("")}return cg=e,cg}var ug,rj;function Wte(){if(rj)return ug;rj=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,a="\\ufe0e\\ufe0f",o="["+e+"]",s="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+s+"|"+l+")",u="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",y=c+"?",m="["+a+"]?",g="(?:"+p+"(?:"+[u,d,h].join("|")+")"+m+y+")*",v=m+y+g,x="(?:"+[u+s+"?",s,d,h,o].join("|")+")",b=RegExp(l+"(?="+l+")|"+x+v,"g");function E(S){return S.match(b)||[]}return ug=E,ug}var dg,nj;function Hte(){if(nj)return dg;nj=1;var e=Ute(),t=z$(),r=Wte();function n(i){return t(i)?r(i):e(i)}return dg=n,dg}var fg,ij;function Vte(){if(ij)return fg;ij=1;var e=zte(),t=z$(),r=Hte(),n=$$();function i(a){return function(o){o=n(o);var s=t(o)?r(o):void 0,l=s?s[0]:o.charAt(0),c=s?e(s,1).join(""):o.slice(1);return l[a]()+c}}return fg=i,fg}var hg,aj;function Kte(){if(aj)return hg;aj=1;var e=Vte(),t=e("toUpperCase");return hg=t,hg}var Gte=Kte();const Ph=Ue(Gte);function dt(e){return function(){return e}}const U$=Math.cos,Nd=Math.sin,wn=Math.sqrt,Rd=Math.PI,Th=2*Rd,g0=Math.PI,y0=2*g0,_a=1e-6,Yte=y0-_a;function W$(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Xte(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return W$;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Qte{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?W$:Xte(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-t,c=i-r,u=o-t,d=s-r,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>_a)if(!(Math.abs(d*l-c*u)>_a)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,y=i-s,m=l*l+c*c,g=p*p+y*y,v=Math.sqrt(m),x=Math.sqrt(h),b=a*Math.tan((g0-Math.acos((m+h-g)/(2*v*x)))/2),E=b/x,S=b/v;Math.abs(E-1)>_a&&this._append`L${t+E*u},${r+E*d}`,this._append`A${a},${a},0,0,${+(d*p>u*y)},${this._x1=t+S*l},${this._y1=r+S*c}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),c=t+s,u=r+l,d=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>_a||Math.abs(this._y1-u)>_a)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%y0+y0),h>Yte?this._append`A${n},${n},0,1,${d},${t-s},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=u}`:h>_a&&this._append`A${n},${n},0,${+(h>=g0)},${d},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function m1(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Qte(t)}function g1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function H$(e){this._context=e}H$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ch(e){return new H$(e)}function V$(e){return e[0]}function K$(e){return e[1]}function G$(e,t){var r=dt(!0),n=null,i=Ch,a=null,o=m1(s);e=typeof e=="function"?e:e===void 0?V$:dt(e),t=typeof t=="function"?t:t===void 0?K$:dt(t);function s(l){var c,u=(l=g1(l)).length,d,h=!1,p;for(n==null&&(a=i(p=o())),c=0;c<=u;++c)!(c<u&&r(d=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(d,c,l),+t(d,c,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:dt(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:dt(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:dt(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function Iu(e,t,r){var n=null,i=dt(!0),a=null,o=Ch,s=null,l=m1(c);e=typeof e=="function"?e:e===void 0?V$:dt(+e),t=typeof t=="function"?t:dt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?K$:dt(+r);function c(d){var h,p,y,m=(d=g1(d)).length,g,v=!1,x,b=new Array(m),E=new Array(m);for(a==null&&(s=o(x=l())),h=0;h<=m;++h){if(!(h<m&&i(g=d[h],h,d))===v)if(v=!v)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=h-1;y>=p;--y)s.point(b[y],E[y]);s.lineEnd(),s.areaEnd()}v&&(b[h]=+e(g,h,d),E[h]=+t(g,h,d),s.point(n?+n(g,h,d):b[h],r?+r(g,h,d):E[h]))}if(x)return s=null,x+""||null}function u(){return G$().defined(i).curve(o).context(a)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:dt(+d),n=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:dt(+d),c):e},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:dt(+d),c):n},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:dt(+d),r=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:dt(+d),c):t},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:dt(+d),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:dt(!!d),c):i},c.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),c):o},c.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),c):a},c}class Y${constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Jte(e){return new Y$(e,!0)}function Zte(e){return new Y$(e,!1)}const y1={draw(e,t){const r=wn(t/Rd);e.moveTo(r,0),e.arc(0,0,r,0,Th)}},ere={draw(e,t){const r=wn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},X$=wn(1/3),tre=X$*2,rre={draw(e,t){const r=wn(t/tre),n=r*X$;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},nre={draw(e,t){const r=wn(t),n=-r/2;e.rect(n,n,r,r)}},ire=.8908130915292852,Q$=Nd(Rd/10)/Nd(7*Rd/10),are=Nd(Th/10)*Q$,ore=-U$(Th/10)*Q$,sre={draw(e,t){const r=wn(t*ire),n=are*r,i=ore*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=Th*a/5,s=U$(o),l=Nd(o);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*i,l*n+s*i)}e.closePath()}},pg=wn(3),lre={draw(e,t){const r=-wn(t/(pg*3));e.moveTo(0,r*2),e.lineTo(-pg*r,-r),e.lineTo(pg*r,-r),e.closePath()}},Fr=-.5,Br=wn(3)/2,v0=1/wn(12),cre=(v0/2+1)*3,ure={draw(e,t){const r=wn(t/cre),n=r/2,i=r*v0,a=n,o=r*v0+r,s=-a,l=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(Fr*n-Br*i,Br*n+Fr*i),e.lineTo(Fr*a-Br*o,Br*a+Fr*o),e.lineTo(Fr*s-Br*l,Br*s+Fr*l),e.lineTo(Fr*n+Br*i,Fr*i-Br*n),e.lineTo(Fr*a+Br*o,Fr*o-Br*a),e.lineTo(Fr*s+Br*l,Fr*l-Br*s),e.closePath()}};function dre(e,t){let r=null,n=m1(i);e=typeof e=="function"?e:dt(e||y1),t=typeof t=="function"?t:dt(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:dt(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:dt(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Id(){}function Md(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function J$(e){this._context=e}J$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Md(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Md(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fre(e){return new J$(e)}function Z$(e){this._context=e}Z$.prototype={areaStart:Id,areaEnd:Id,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Md(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hre(e){return new Z$(e)}function eL(e){this._context=e}eL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Md(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pre(e){return new eL(e)}function tL(e){this._context=e}tL.prototype={areaStart:Id,areaEnd:Id,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function mre(e){return new tL(e)}function oj(e){return e<0?-1:1}function sj(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(oj(a)+oj(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function lj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function mg(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function Dd(e){this._context=e}Dd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:mg(this,this._t0,lj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,mg(this,lj(this,r=sj(this,e,t)),r);break;default:mg(this,this._t0,r=sj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function rL(e){this._context=new nL(e)}(rL.prototype=Object.create(Dd.prototype)).point=function(e,t){Dd.prototype.point.call(this,t,e)};function nL(e){this._context=e}nL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function gre(e){return new Dd(e)}function yre(e){return new rL(e)}function iL(e){this._context=e}iL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=cj(e),i=cj(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function cj(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function vre(e){return new iL(e)}function Nh(e,t){this._context=e,this._t=t}Nh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function bre(e){return new Nh(e,.5)}function xre(e){return new Nh(e,0)}function wre(e){return new Nh(e,1)}function Jo(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,s=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function b0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Sre(e,t){return e[t]}function _re(e){const t=[];return t.key=e,t}function Ere(){var e=dt([]),t=b0,r=Jo,n=Sre;function i(a){var o=Array.from(e.apply(this,arguments),_re),s,l=o.length,c=-1,u;for(const d of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+n(d,o[s].key,c,a)]).data=d;for(s=0,u=g1(t(o));s<l;++s)o[u[s]].index=s;return r(o,u),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:dt(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:dt(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?b0:typeof a=="function"?a:dt(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??Jo,i):r},i}function Ore(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}Jo(e,t)}}function jre(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Jo(e,t)}}function Are(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,c=0;s<o;++s){for(var u=e[t[s]],d=u[n][1]||0,h=u[n-1][1]||0,p=(d-h)/2,y=0;y<s;++y){var m=e[t[y]],g=m[n][1]||0,v=m[n-1][1]||0;p+=g-v}l+=d,c+=p*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,Jo(e,t)}}function tc(e){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}var kre=["type","size","sizeType"];function x0(){return x0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x0.apply(this,arguments)}function uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uj(Object(r),!0).forEach(function(n){Pre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pre(e,t,r){return t=Tre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tre(e){var t=Cre(e,"string");return tc(t)=="symbol"?t:t+""}function Cre(e,t){if(tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nre(e,t){if(e==null)return{};var r=Rre(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var aL={symbolCircle:y1,symbolCross:ere,symbolDiamond:rre,symbolSquare:nre,symbolStar:sre,symbolTriangle:lre,symbolWye:ure},Ire=Math.PI/180,Mre=function(t){var r="symbol".concat(Ph(t));return aL[r]||y1},Dre=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*Ire;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},$re=function(t,r){aL["symbol".concat(Ph(t))]=r},Rh=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,a=i===void 0?64:i,o=t.sizeType,s=o===void 0?"area":o,l=Nre(t,kre),c=dj(dj({},l),{},{type:n,size:a,sizeType:s}),u=function(){var g=Mre(n),v=dre().type(g).size(Dre(a,s,n));return v()},d=c.className,h=c.cx,p=c.cy,y=le(c,!0);return h===+h&&p===+p&&a===+a?P.createElement("path",x0({},y,{className:_e("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};Rh.registerSymbol=$re;function Zo(e){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zo(e)}function w0(){return w0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w0.apply(this,arguments)}function fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lre(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fj(Object(r),!0).forEach(function(n){rc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sL(n.key),n)}}function qre(e,t,r){return t&&Bre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zre(e,t,r){return t=$d(t),Ure(e,oL()?Reflect.construct(t,r||[],$d(e).constructor):t.apply(e,r))}function Ure(e,t){if(t&&(Zo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wre(e)}function Wre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oL=function(){return!!e})()}function $d(e){return $d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$d(e)}function Hre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S0(e,t)}function S0(e,t){return S0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},S0(e,t)}function rc(e,t,r){return t=sL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sL(e){var t=Vre(e,"string");return Zo(t)=="symbol"?t:t+""}function Vre(e,t){if(Zo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qr=32,v1=(function(e){function t(){return Fre(this,t),zre(this,t,arguments)}return Hre(t,e),qre(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=qr/2,o=qr/6,s=qr/3,l=n.inactive?i:n.color;if(n.type==="plainline")return P.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:qr,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return P.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(qr,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return P.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(qr/8,"h").concat(qr,"v").concat(qr*3/4,"h").concat(-qr,"z"),className:"recharts-legend-icon"});if(P.isValidElement(n.legendIcon)){var c=Lre({},n);return delete c.legendIcon,P.cloneElement(n.legendIcon,c)}return P.createElement(Rh,{fill:l,cx:a,cy:a,size:qr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:qr,height:qr},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,y){var m=p.formatter||l,g=_e(rc(rc({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=ve(p.value)?null:p.value;yn(!ve(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=p.inactive?c:p.color;return P.createElement("li",w0({className:g,style:d,key:"legend-item-".concat(y)},ta(n.props,p,y)),P.createElement(p0,{width:o,height:o,viewBox:u,style:h},n.renderIcon(p)),P.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},m?m(v,p,y):v))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return P.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])})(w.PureComponent);rc(v1,"displayName","Legend");rc(v1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var gg,hj;function Kre(){if(hj)return gg;hj=1;var e=jh();function t(){this.__data__=new e,this.size=0}return gg=t,gg}var yg,pj;function Gre(){if(pj)return yg;pj=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return yg=e,yg}var vg,mj;function Yre(){if(mj)return vg;mj=1;function e(t){return this.__data__.get(t)}return vg=e,vg}var bg,gj;function Xre(){if(gj)return bg;gj=1;function e(t){return this.__data__.has(t)}return bg=e,bg}var xg,yj;function Qre(){if(yj)return xg;yj=1;var e=jh(),t=c1(),r=u1(),n=200;function i(a,o){var s=this.__data__;if(s instanceof e){var l=s.__data__;if(!t||l.length<n-1)return l.push([a,o]),this.size=++s.size,this;s=this.__data__=new r(l)}return s.set(a,o),this.size=s.size,this}return xg=i,xg}var wg,vj;function lL(){if(vj)return wg;vj=1;var e=jh(),t=Kre(),r=Gre(),n=Yre(),i=Xre(),a=Qre();function o(s){var l=this.__data__=new e(s);this.size=l.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,wg=o,wg}var Sg,bj;function Jre(){if(bj)return Sg;bj=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return Sg=t,Sg}var _g,xj;function Zre(){if(xj)return _g;xj=1;function e(t){return this.__data__.has(t)}return _g=e,_g}var Eg,wj;function cL(){if(wj)return Eg;wj=1;var e=u1(),t=Jre(),r=Zre();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new e;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,Eg=n,Eg}var Og,Sj;function uL(){if(Sj)return Og;Sj=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(t[n],n,t))return!0;return!1}return Og=e,Og}var jg,_j;function dL(){if(_j)return jg;_j=1;function e(t,r){return t.has(r)}return jg=e,jg}var Ag,Ej;function fL(){if(Ej)return Ag;Ej=1;var e=cL(),t=uL(),r=dL(),n=1,i=2;function a(o,s,l,c,u,d){var h=l&n,p=o.length,y=s.length;if(p!=y&&!(h&&y>p))return!1;var m=d.get(o),g=d.get(s);if(m&&g)return m==s&&g==o;var v=-1,x=!0,b=l&i?new e:void 0;for(d.set(o,s),d.set(s,o);++v<p;){var E=o[v],S=s[v];if(c)var _=h?c(S,E,v,s,o,d):c(E,S,v,o,s,d);if(_!==void 0){if(_)continue;x=!1;break}if(b){if(!t(s,function(O,k){if(!r(b,k)&&(E===O||u(E,O,l,c,d)))return b.push(k)})){x=!1;break}}else if(!(E===S||u(E,S,l,c,d))){x=!1;break}}return d.delete(o),d.delete(s),x}return Ag=a,Ag}var kg,Oj;function ene(){if(Oj)return kg;Oj=1;var e=Kn(),t=e.Uint8Array;return kg=t,kg}var Pg,jj;function tne(){if(jj)return Pg;jj=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i,a){n[++r]=[a,i]}),n}return Pg=e,Pg}var Tg,Aj;function b1(){if(Aj)return Tg;Aj=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i){n[++r]=i}),n}return Tg=e,Tg}var Cg,kj;function rne(){if(kj)return Cg;kj=1;var e=Zc(),t=ene(),r=l1(),n=fL(),i=tne(),a=b1(),o=1,s=2,l="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Map]",h="[object Number]",p="[object RegExp]",y="[object Set]",m="[object String]",g="[object Symbol]",v="[object ArrayBuffer]",x="[object DataView]",b=e?e.prototype:void 0,E=b?b.valueOf:void 0;function S(_,O,k,T,j,A,N){switch(k){case x:if(_.byteLength!=O.byteLength||_.byteOffset!=O.byteOffset)return!1;_=_.buffer,O=O.buffer;case v:return!(_.byteLength!=O.byteLength||!A(new t(_),new t(O)));case l:case c:case h:return r(+_,+O);case u:return _.name==O.name&&_.message==O.message;case p:case m:return _==O+"";case d:var D=i;case y:var M=T&o;if(D||(D=a),_.size!=O.size&&!M)return!1;var I=N.get(_);if(I)return I==O;T|=s,N.set(_,O);var L=n(D(_),D(O),T,j,A,N);return N.delete(_),L;case g:if(E)return E.call(_)==E.call(O)}return!1}return Cg=S,Cg}var Ng,Pj;function hL(){if(Pj)return Ng;Pj=1;function e(t,r){for(var n=-1,i=r.length,a=t.length;++n<i;)t[a+n]=r[n];return t}return Ng=e,Ng}var Rg,Tj;function nne(){if(Tj)return Rg;Tj=1;var e=hL(),t=wr();function r(n,i,a){var o=i(n);return t(n)?o:e(o,a(n))}return Rg=r,Rg}var Ig,Cj;function ine(){if(Cj)return Ig;Cj=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,a=0,o=[];++n<i;){var s=t[n];r(s,n,t)&&(o[a++]=s)}return o}return Ig=e,Ig}var Mg,Nj;function ane(){if(Nj)return Mg;Nj=1;function e(){return[]}return Mg=e,Mg}var Dg,Rj;function one(){if(Rj)return Dg;Rj=1;var e=ine(),t=ane(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(s){return n.call(o,s)}))}:t;return Dg=a,Dg}var $g,Ij;function sne(){if(Ij)return $g;Ij=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return $g=e,$g}var Lg,Mj;function lne(){if(Mj)return Lg;Mj=1;var e=bi(),t=xi(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return Lg=n,Lg}var Fg,Dj;function x1(){if(Dj)return Fg;Dj=1;var e=lne(),t=xi(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=e((function(){return arguments})())?e:function(o){return t(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return Fg=a,Fg}var wl={exports:{}},Bg,$j;function cne(){if($j)return Bg;$j=1;function e(){return!1}return Bg=e,Bg}wl.exports;var Lj;function pL(){return Lj||(Lj=1,(function(e,t){var r=Kn(),n=cne(),i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;e.exports=c})(wl,wl.exports)),wl.exports}var qg,Fj;function w1(){if(Fj)return qg;Fj=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??e,!!i&&(a=="number"||a!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return qg=r,qg}var zg,Bj;function S1(){if(Bj)return zg;Bj=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return zg=t,zg}var Ug,qj;function une(){if(qj)return Ug;qj=1;var e=bi(),t=S1(),r=xi(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",s="[object Error]",l="[object Function]",c="[object Map]",u="[object Number]",d="[object Object]",h="[object RegExp]",p="[object Set]",y="[object String]",m="[object WeakMap]",g="[object ArrayBuffer]",v="[object DataView]",x="[object Float32Array]",b="[object Float64Array]",E="[object Int8Array]",S="[object Int16Array]",_="[object Int32Array]",O="[object Uint8Array]",k="[object Uint8ClampedArray]",T="[object Uint16Array]",j="[object Uint32Array]",A={};A[x]=A[b]=A[E]=A[S]=A[_]=A[O]=A[k]=A[T]=A[j]=!0,A[n]=A[i]=A[g]=A[a]=A[v]=A[o]=A[s]=A[l]=A[c]=A[u]=A[d]=A[h]=A[p]=A[y]=A[m]=!1;function N(D){return r(D)&&t(D.length)&&!!A[e(D)]}return Ug=N,Ug}var Wg,zj;function mL(){if(zj)return Wg;zj=1;function e(t){return function(r){return t(r)}}return Wg=e,Wg}var Sl={exports:{}};Sl.exports;var Uj;function dne(){return Uj||(Uj=1,(function(e,t){var r=I$(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,o=a&&r.process,s=(function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}})();e.exports=s})(Sl,Sl.exports)),Sl.exports}var Hg,Wj;function gL(){if(Wj)return Hg;Wj=1;var e=une(),t=mL(),r=dne(),n=r&&r.isTypedArray,i=n?t(n):e;return Hg=i,Hg}var Vg,Hj;function fne(){if(Hj)return Vg;Hj=1;var e=sne(),t=x1(),r=wr(),n=pL(),i=w1(),a=gL(),o=Object.prototype,s=o.hasOwnProperty;function l(c,u){var d=r(c),h=!d&&t(c),p=!d&&!h&&n(c),y=!d&&!h&&!p&&a(c),m=d||h||p||y,g=m?e(c.length,String):[],v=g.length;for(var x in c)(u||s.call(c,x))&&!(m&&(x=="length"||p&&(x=="offset"||x=="parent")||y&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||i(x,v)))&&g.push(x);return g}return Vg=l,Vg}var Kg,Vj;function hne(){if(Vj)return Kg;Vj=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return Kg=t,Kg}var Gg,Kj;function yL(){if(Kj)return Gg;Kj=1;function e(t,r){return function(n){return t(r(n))}}return Gg=e,Gg}var Yg,Gj;function pne(){if(Gj)return Yg;Gj=1;var e=yL(),t=e(Object.keys,Object);return Yg=t,Yg}var Xg,Yj;function mne(){if(Yj)return Xg;Yj=1;var e=hne(),t=pne(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!e(a))return t(a);var o=[];for(var s in Object(a))n.call(a,s)&&s!="constructor"&&o.push(s);return o}return Xg=i,Xg}var Qg,Xj;function eu(){if(Xj)return Qg;Xj=1;var e=s1(),t=S1();function r(n){return n!=null&&t(n.length)&&!e(n)}return Qg=r,Qg}var Jg,Qj;function Ih(){if(Qj)return Jg;Qj=1;var e=fne(),t=mne(),r=eu();function n(i){return r(i)?e(i):t(i)}return Jg=n,Jg}var Zg,Jj;function gne(){if(Jj)return Zg;Jj=1;var e=nne(),t=one(),r=Ih();function n(i){return e(i,r,t)}return Zg=n,Zg}var ey,Zj;function yne(){if(Zj)return ey;Zj=1;var e=gne(),t=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,o,s,l,c,u){var d=s&t,h=e(a),p=h.length,y=e(o),m=y.length;if(p!=m&&!d)return!1;for(var g=p;g--;){var v=h[g];if(!(d?v in o:n.call(o,v)))return!1}var x=u.get(a),b=u.get(o);if(x&&b)return x==o&&b==a;var E=!0;u.set(a,o),u.set(o,a);for(var S=d;++g<p;){v=h[g];var _=a[v],O=o[v];if(l)var k=d?l(O,_,v,o,a,u):l(_,O,v,a,o,u);if(!(k===void 0?_===O||c(_,O,s,l,u):k)){E=!1;break}S||(S=v=="constructor")}if(E&&!S){var T=a.constructor,j=o.constructor;T!=j&&"constructor"in a&&"constructor"in o&&!(typeof T=="function"&&T instanceof T&&typeof j=="function"&&j instanceof j)&&(E=!1)}return u.delete(a),u.delete(o),E}return ey=i,ey}var ty,eA;function vne(){if(eA)return ty;eA=1;var e=io(),t=Kn(),r=e(t,"DataView");return ty=r,ty}var ry,tA;function bne(){if(tA)return ry;tA=1;var e=io(),t=Kn(),r=e(t,"Promise");return ry=r,ry}var ny,rA;function vL(){if(rA)return ny;rA=1;var e=io(),t=Kn(),r=e(t,"Set");return ny=r,ny}var iy,nA;function xne(){if(nA)return iy;nA=1;var e=io(),t=Kn(),r=e(t,"WeakMap");return iy=r,iy}var ay,iA;function wne(){if(iA)return ay;iA=1;var e=vne(),t=c1(),r=bne(),n=vL(),i=xne(),a=bi(),o=M$(),s="[object Map]",l="[object Object]",c="[object Promise]",u="[object Set]",d="[object WeakMap]",h="[object DataView]",p=o(e),y=o(t),m=o(r),g=o(n),v=o(i),x=a;return(e&&x(new e(new ArrayBuffer(1)))!=h||t&&x(new t)!=s||r&&x(r.resolve())!=c||n&&x(new n)!=u||i&&x(new i)!=d)&&(x=function(b){var E=a(b),S=E==l?b.constructor:void 0,_=S?o(S):"";if(_)switch(_){case p:return h;case y:return s;case m:return c;case g:return u;case v:return d}return E}),ay=x,ay}var oy,aA;function Sne(){if(aA)return oy;aA=1;var e=lL(),t=fL(),r=rne(),n=yne(),i=wne(),a=wr(),o=pL(),s=gL(),l=1,c="[object Arguments]",u="[object Array]",d="[object Object]",h=Object.prototype,p=h.hasOwnProperty;function y(m,g,v,x,b,E){var S=a(m),_=a(g),O=S?u:i(m),k=_?u:i(g);O=O==c?d:O,k=k==c?d:k;var T=O==d,j=k==d,A=O==k;if(A&&o(m)){if(!o(g))return!1;S=!0,T=!1}if(A&&!T)return E||(E=new e),S||s(m)?t(m,g,v,x,b,E):r(m,g,O,v,x,b,E);if(!(v&l)){var N=T&&p.call(m,"__wrapped__"),D=j&&p.call(g,"__wrapped__");if(N||D){var M=N?m.value():m,I=D?g.value():g;return E||(E=new e),b(M,I,v,x,E)}}return A?(E||(E=new e),n(m,g,v,x,b,E)):!1}return oy=y,oy}var sy,oA;function _1(){if(oA)return sy;oA=1;var e=Sne(),t=xi();function r(n,i,a,o,s){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:e(n,i,a,o,r,s)}return sy=r,sy}var ly,sA;function _ne(){if(sA)return ly;sA=1;var e=lL(),t=_1(),r=1,n=2;function i(a,o,s,l){var c=s.length,u=c,d=!l;if(a==null)return!u;for(a=Object(a);c--;){var h=s[c];if(d&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++c<u;){h=s[c];var p=h[0],y=a[p],m=h[1];if(d&&h[2]){if(y===void 0&&!(p in a))return!1}else{var g=new e;if(l)var v=l(y,m,p,a,o,g);if(!(v===void 0?t(m,y,r|n,l,g):v))return!1}}return!0}return ly=i,ly}var cy,lA;function bL(){if(lA)return cy;lA=1;var e=aa();function t(r){return r===r&&!e(r)}return cy=t,cy}var uy,cA;function Ene(){if(cA)return uy;cA=1;var e=bL(),t=Ih();function r(n){for(var i=t(n),a=i.length;a--;){var o=i[a],s=n[o];i[a]=[o,s,e(s)]}return i}return uy=r,uy}var dy,uA;function xL(){if(uA)return dy;uA=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return dy=e,dy}var fy,dA;function One(){if(dA)return fy;dA=1;var e=_ne(),t=Ene(),r=xL();function n(i){var a=t(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(o){return o===i||e(o,i,a)}}return fy=n,fy}var hy,fA;function jne(){if(fA)return hy;fA=1;function e(t,r){return t!=null&&r in Object(t)}return hy=e,hy}var py,hA;function Ane(){if(hA)return py;hA=1;var e=L$(),t=x1(),r=wr(),n=w1(),i=S1(),a=kh();function o(s,l,c){l=e(l,s);for(var u=-1,d=l.length,h=!1;++u<d;){var p=a(l[u]);if(!(h=s!=null&&c(s,p)))break;s=s[p]}return h||++u!=d?h:(d=s==null?0:s.length,!!d&&i(d)&&n(p,d)&&(r(s)||t(s)))}return py=o,py}var my,pA;function kne(){if(pA)return my;pA=1;var e=jne(),t=Ane();function r(n,i){return n!=null&&t(n,i,e)}return my=r,my}var gy,mA;function Pne(){if(mA)return gy;mA=1;var e=_1(),t=F$(),r=kne(),n=o1(),i=bL(),a=xL(),o=kh(),s=1,l=2;function c(u,d){return n(u)&&i(d)?a(o(u),d):function(h){var p=t(h,u);return p===void 0&&p===d?r(h,u):e(d,p,s|l)}}return gy=c,gy}var yy,gA;function Ws(){if(gA)return yy;gA=1;function e(t){return t}return yy=e,yy}var vy,yA;function Tne(){if(yA)return vy;yA=1;function e(t){return function(r){return r?.[t]}}return vy=e,vy}var by,vA;function Cne(){if(vA)return by;vA=1;var e=f1();function t(r){return function(n){return e(n,r)}}return by=t,by}var xy,bA;function Nne(){if(bA)return xy;bA=1;var e=Tne(),t=Cne(),r=o1(),n=kh();function i(a){return r(a)?e(n(a)):t(a)}return xy=i,xy}var wy,xA;function Gn(){if(xA)return wy;xA=1;var e=One(),t=Pne(),r=Ws(),n=wr(),i=Nne();function a(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):i(o)}return wy=a,wy}var Sy,wA;function wL(){if(wA)return Sy;wA=1;function e(t,r,n,i){for(var a=t.length,o=n+(i?1:-1);i?o--:++o<a;)if(r(t[o],o,t))return o;return-1}return Sy=e,Sy}var _y,SA;function Rne(){if(SA)return _y;SA=1;function e(t){return t!==t}return _y=e,_y}var Ey,_A;function Ine(){if(_A)return Ey;_A=1;function e(t,r,n){for(var i=n-1,a=t.length;++i<a;)if(t[i]===r)return i;return-1}return Ey=e,Ey}var Oy,EA;function Mne(){if(EA)return Oy;EA=1;var e=wL(),t=Rne(),r=Ine();function n(i,a,o){return a===a?r(i,a,o):e(i,t,o)}return Oy=n,Oy}var jy,OA;function Dne(){if(OA)return jy;OA=1;var e=Mne();function t(r,n){var i=r==null?0:r.length;return!!i&&e(r,n,0)>-1}return jy=t,jy}var Ay,jA;function $ne(){if(jA)return Ay;jA=1;function e(t,r,n){for(var i=-1,a=t==null?0:t.length;++i<a;)if(n(r,t[i]))return!0;return!1}return Ay=e,Ay}var ky,AA;function Lne(){if(AA)return ky;AA=1;function e(){}return ky=e,ky}var Py,kA;function Fne(){if(kA)return Py;kA=1;var e=vL(),t=Lne(),r=b1(),n=1/0,i=e&&1/r(new e([,-0]))[1]==n?function(a){return new e(a)}:t;return Py=i,Py}var Ty,PA;function Bne(){if(PA)return Ty;PA=1;var e=cL(),t=Dne(),r=$ne(),n=dL(),i=Fne(),a=b1(),o=200;function s(l,c,u){var d=-1,h=t,p=l.length,y=!0,m=[],g=m;if(u)y=!1,h=r;else if(p>=o){var v=c?null:i(l);if(v)return a(v);y=!1,h=n,g=new e}else g=c?[]:m;e:for(;++d<p;){var x=l[d],b=c?c(x):x;if(x=u||x!==0?x:0,y&&b===b){for(var E=g.length;E--;)if(g[E]===b)continue e;c&&g.push(b),m.push(x)}else h(g,b,u)||(g!==m&&g.push(b),m.push(x))}return m}return Ty=s,Ty}var Cy,TA;function qne(){if(TA)return Cy;TA=1;var e=Gn(),t=Bne();function r(n,i){return n&&n.length?t(n,e(i,2)):[]}return Cy=r,Cy}var zne=qne();const CA=Ue(zne);function SL(e,t,r){return t===!0?CA(e,r):ve(t)?CA(e,t):e}function es(e){"@babel/helpers - typeof";return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},es(e)}var Une=["ref"];function NA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NA(Object(r),!0).forEach(function(n){Mh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EL(n.key),n)}}function Hne(e,t,r){return t&&RA(e.prototype,t),r&&RA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vne(e,t,r){return t=Ld(t),Kne(e,_L()?Reflect.construct(t,r||[],Ld(e).constructor):t.apply(e,r))}function Kne(e,t){if(t&&(es(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gne(e)}function Gne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _L(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_L=function(){return!!e})()}function Ld(e){return Ld=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ld(e)}function Yne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_0(e,t)}function _0(e,t){return _0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_0(e,t)}function Mh(e,t,r){return t=EL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EL(e){var t=Xne(e,"string");return es(t)=="symbol"?t:t+""}function Xne(e,t){if(es(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Qne(e,t){if(e==null)return{};var r=Jne(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Zne(e){return e.value}function eie(e,t){if(P.isValidElement(e))return P.cloneElement(e,t);if(typeof e=="function")return P.createElement(e,t);t.ref;var r=Qne(t,Une);return P.createElement(v1,r)}var IA=1,Rr=(function(e){function t(){var r;Wne(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Vne(this,t,[].concat(i)),Mh(r,"lastBoundingBox",{width:-1,height:-1}),r}return Yne(t,e),Hne(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>IA||Math.abs(i.height-this.lastBoundingBox.height)>IA)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Jn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();h={top:((u||0)-y.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Jn(Jn({},d),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,d=Jn(Jn({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return P.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},eie(a,Jn(Jn({},this.props),{},{payload:SL(u,c,Zne)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Jn(Jn({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&ee(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])})(w.PureComponent);Mh(Rr,"displayName","Legend");Mh(Rr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Ny,MA;function tie(){if(MA)return Ny;MA=1;var e=Zc(),t=x1(),r=wr(),n=e?e.isConcatSpreadable:void 0;function i(a){return r(a)||t(a)||!!(n&&a&&a[n])}return Ny=i,Ny}var Ry,DA;function OL(){if(DA)return Ry;DA=1;var e=hL(),t=tie();function r(n,i,a,o,s){var l=-1,c=n.length;for(a||(a=t),s||(s=[]);++l<c;){var u=n[l];i>0&&a(u)?i>1?r(u,i-1,a,o,s):e(s,u):o||(s[s.length]=u)}return s}return Ry=r,Ry}var Iy,$A;function rie(){if($A)return Iy;$A=1;function e(t){return function(r,n,i){for(var a=-1,o=Object(r),s=i(r),l=s.length;l--;){var c=s[t?l:++a];if(n(o[c],c,o)===!1)break}return r}}return Iy=e,Iy}var My,LA;function nie(){if(LA)return My;LA=1;var e=rie(),t=e();return My=t,My}var Dy,FA;function jL(){if(FA)return Dy;FA=1;var e=nie(),t=Ih();function r(n,i){return n&&e(n,i,t)}return Dy=r,Dy}var $y,BA;function iie(){if(BA)return $y;BA=1;var e=eu();function t(r,n){return function(i,a){if(i==null)return i;if(!e(i))return r(i,a);for(var o=i.length,s=n?o:-1,l=Object(i);(n?s--:++s<o)&&a(l[s],s,l)!==!1;);return i}}return $y=t,$y}var Ly,qA;function E1(){if(qA)return Ly;qA=1;var e=jL(),t=iie(),r=t(e);return Ly=r,Ly}var Fy,zA;function AL(){if(zA)return Fy;zA=1;var e=E1(),t=eu();function r(n,i){var a=-1,o=t(n)?Array(n.length):[];return e(n,function(s,l,c){o[++a]=i(s,l,c)}),o}return Fy=r,Fy}var By,UA;function aie(){if(UA)return By;UA=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return By=e,By}var qy,WA;function oie(){if(WA)return qy;WA=1;var e=qs();function t(r,n){if(r!==n){var i=r!==void 0,a=r===null,o=r===r,s=e(r),l=n!==void 0,c=n===null,u=n===n,d=e(n);if(!c&&!d&&!s&&r>n||s&&l&&u&&!c&&!d||a&&l&&u||!i&&u||!o)return 1;if(!a&&!s&&!d&&r<n||d&&i&&o&&!a&&!s||c&&i&&o||!l&&o||!u)return-1}return 0}return qy=t,qy}var zy,HA;function sie(){if(HA)return zy;HA=1;var e=oie();function t(r,n,i){for(var a=-1,o=r.criteria,s=n.criteria,l=o.length,c=i.length;++a<l;){var u=e(o[a],s[a]);if(u){if(a>=c)return u;var d=i[a];return u*(d=="desc"?-1:1)}}return r.index-n.index}return zy=t,zy}var Uy,VA;function lie(){if(VA)return Uy;VA=1;var e=d1(),t=f1(),r=Gn(),n=AL(),i=aie(),a=mL(),o=sie(),s=Ws(),l=wr();function c(u,d,h){d.length?d=e(d,function(m){return l(m)?function(g){return t(g,m.length===1?m[0]:m)}:m}):d=[s];var p=-1;d=e(d,a(r));var y=n(u,function(m,g,v){var x=e(d,function(b){return b(m)});return{criteria:x,index:++p,value:m}});return i(y,function(m,g){return o(m,g,h)})}return Uy=c,Uy}var Wy,KA;function cie(){if(KA)return Wy;KA=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return Wy=e,Wy}var Hy,GA;function uie(){if(GA)return Hy;GA=1;var e=cie(),t=Math.max;function r(n,i,a){return i=t(i===void 0?n.length-1:i,0),function(){for(var o=arguments,s=-1,l=t(o.length-i,0),c=Array(l);++s<l;)c[s]=o[i+s];s=-1;for(var u=Array(i+1);++s<i;)u[s]=o[s];return u[i]=a(c),e(n,this,u)}}return Hy=r,Hy}var Vy,YA;function die(){if(YA)return Vy;YA=1;function e(t){return function(){return t}}return Vy=e,Vy}var Ky,XA;function kL(){if(XA)return Ky;XA=1;var e=io(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Ky=t,Ky}var Gy,QA;function fie(){if(QA)return Gy;QA=1;var e=die(),t=kL(),r=Ws(),n=t?function(i,a){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(a),writable:!0})}:r;return Gy=n,Gy}var Yy,JA;function hie(){if(JA)return Yy;JA=1;var e=800,t=16,r=Date.now;function n(i){var a=0,o=0;return function(){var s=r(),l=t-(s-o);if(o=s,l>0){if(++a>=e)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return Yy=n,Yy}var Xy,ZA;function pie(){if(ZA)return Xy;ZA=1;var e=fie(),t=hie(),r=t(e);return Xy=r,Xy}var Qy,ek;function mie(){if(ek)return Qy;ek=1;var e=Ws(),t=uie(),r=pie();function n(i,a){return r(t(i,a,e),i+"")}return Qy=n,Qy}var Jy,tk;function Dh(){if(tk)return Jy;tk=1;var e=l1(),t=eu(),r=w1(),n=aa();function i(a,o,s){if(!n(s))return!1;var l=typeof o;return(l=="number"?t(s)&&r(o,s.length):l=="string"&&o in s)?e(s[o],a):!1}return Jy=i,Jy}var Zy,rk;function gie(){if(rk)return Zy;rk=1;var e=OL(),t=lie(),r=mie(),n=Dh(),i=r(function(a,o){if(a==null)return[];var s=o.length;return s>1&&n(a,o[0],o[1])?o=[]:s>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(a,e(o,1),[])});return Zy=i,Zy}var yie=gie();const O1=Ue(yie);function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function E0(){return E0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E0.apply(this,arguments)}function vie(e,t){return Sie(e)||wie(e,t)||xie(e,t)||bie()}function bie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xie(e,t){if(e){if(typeof e=="string")return nk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nk(e,t)}}function nk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Sie(e){if(Array.isArray(e))return e}function ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ev(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ik(Object(r),!0).forEach(function(n){_ie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ik(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ie(e,t,r){return t=Eie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eie(e){var t=Oie(e,"string");return nc(t)=="symbol"?t:t+""}function Oie(e,t){if(nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jie(e){return Array.isArray(e)&&zt(e[0])&&zt(e[1])?e.join(" ~ "):e}var Aie=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,s=o===void 0?{}:o,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,d=t.formatter,h=t.itemSorter,p=t.wrapperClassName,y=t.labelClassName,m=t.label,g=t.labelFormatter,v=t.accessibilityLayer,x=v===void 0?!1:v,b=function(){if(u&&u.length){var N={padding:0,margin:0},D=(h?O1(u,h):u).map(function(M,I){if(M.type==="none")return null;var L=ev({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},s),B=M.formatter||d||jie,F=M.value,$=M.name,C=F,W=$;if(B&&C!=null&&W!=null){var z=B(F,$,M,I,u);if(Array.isArray(z)){var R=vie(z,2);C=R[0],W=R[1]}else C=z}return P.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:L},zt(W)?P.createElement("span",{className:"recharts-tooltip-item-name"},W):null,zt(W)?P.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,P.createElement("span",{className:"recharts-tooltip-item-value"},C),P.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return P.createElement("ul",{className:"recharts-tooltip-item-list",style:N},D)}return null},E=ev({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=ev({margin:0},c),_=!be(m),O=_?m:"",k=_e("recharts-default-tooltip",p),T=_e("recharts-tooltip-label",y);_&&g&&u!==void 0&&u!==null&&(O=g(m,u));var j=x?{role:"status","aria-live":"assertive"}:{};return P.createElement("div",E0({className:k,style:E},j),P.createElement("p",{className:T,style:S},P.isValidElement(O)?O:"".concat(O)),b())};function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}function Mu(e,t,r){return t=kie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kie(e){var t=Pie(e,"string");return ic(t)=="symbol"?t:t+""}function Pie(e,t){if(ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cl="recharts-tooltip-wrapper",Tie={visibility:"hidden"};function Cie(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return _e(cl,Mu(Mu(Mu(Mu({},"".concat(cl,"-right"),ee(r)&&t&&ee(t.x)&&r>=t.x),"".concat(cl,"-left"),ee(r)&&t&&ee(t.x)&&r<t.x),"".concat(cl,"-bottom"),ee(n)&&t&&ee(t.y)&&n>=t.y),"".concat(cl,"-top"),ee(n)&&t&&ee(t.y)&&n<t.y))}function ak(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(a&&ee(a[n]))return a[n];var u=r[n]-s-i,d=r[n]+i;if(t[n])return o[n]?u:d;if(o[n]){var h=u,p=l[n];return h<p?Math.max(d,l[n]):Math.max(u,l[n])}var y=d+s,m=l[n]+c;return y>m?Math.max(u,l[n]):Math.max(d,l[n])}function Nie(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Rie(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,u,d;return o.height>0&&o.width>0&&r?(u=ak({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=ak({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=Nie({translateX:u,translateY:d,useTranslate3d:s})):c=Tie,{cssProperties:c,cssClasses:Cie({translateX:u,translateY:d,coordinate:r})}}function ts(e){"@babel/helpers - typeof";return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ts(e)}function ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ok(Object(r),!0).forEach(function(n){j0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ok(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TL(n.key),n)}}function Die(e,t,r){return t&&Mie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $ie(e,t,r){return t=Fd(t),Lie(e,PL()?Reflect.construct(t,r||[],Fd(e).constructor):t.apply(e,r))}function Lie(e,t){if(t&&(ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fie(e)}function Fie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PL=function(){return!!e})()}function Fd(e){return Fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fd(e)}function Bie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O0(e,t)}function O0(e,t){return O0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},O0(e,t)}function j0(e,t,r){return t=TL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TL(e){var t=qie(e,"string");return ts(t)=="symbol"?t:t+""}function qie(e,t){if(ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lk=1,zie=(function(e){function t(){var r;Iie(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=$ie(this,t,[].concat(i)),j0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),j0(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return Bie(t,e),Die(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>lk||Math.abs(n.height-this.state.lastBoundingBox.height)>lk)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,p=i.offset,y=i.position,m=i.reverseDirection,g=i.useTranslate3d,v=i.viewBox,x=i.wrapperStyle,b=Rie({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:p,position:y,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:v}),E=b.cssClasses,S=b.cssProperties,_=sk(sk({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},x);return P.createElement("div",{tabIndex:-1,className:E,style:_,ref:function(k){n.wrapperNode=k}},c)}}])})(w.PureComponent),Uie=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Yn={isSsr:Uie()};function rs(e){"@babel/helpers - typeof";return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rs(e)}function ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ck(Object(r),!0).forEach(function(n){j1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NL(n.key),n)}}function Vie(e,t,r){return t&&Hie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kie(e,t,r){return t=Bd(t),Gie(e,CL()?Reflect.construct(t,r||[],Bd(e).constructor):t.apply(e,r))}function Gie(e,t){if(t&&(rs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yie(e)}function Yie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CL=function(){return!!e})()}function Bd(e){return Bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bd(e)}function Xie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A0(e,t)}function A0(e,t){return A0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},A0(e,t)}function j1(e,t,r){return t=NL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NL(e){var t=Qie(e,"string");return rs(t)=="symbol"?t:t+""}function Qie(e,t){if(rs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Jie(e){return e.dataKey}function Zie(e,t){return P.isValidElement(e)?P.cloneElement(e,t):typeof e=="function"?P.createElement(e,t):P.createElement(Aie,t)}var ft=(function(e){function t(){return Wie(this,t),Kie(this,t,arguments)}return Xie(t,e),Vie(t,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,d=i.filterNull,h=i.isAnimationActive,p=i.offset,y=i.payload,m=i.payloadUniqBy,g=i.position,v=i.reverseDirection,x=i.useTranslate3d,b=i.viewBox,E=i.wrapperStyle,S=y??[];d&&S.length&&(S=SL(y.filter(function(O){return O.value!=null&&(O.hide!==!0||n.props.includeHidden)}),m,Jie));var _=S.length>0;return P.createElement(zie,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:u,hasPayload:_,offset:p,position:g,reverseDirection:v,useTranslate3d:x,viewBox:b,wrapperStyle:E},Zie(c,uk(uk({},this.props),{},{payload:S})))}}])})(w.PureComponent);j1(ft,"displayName","Tooltip");j1(ft,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Yn.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var tv,dk;function eae(){if(dk)return tv;dk=1;var e=Kn(),t=function(){return e.Date.now()};return tv=t,tv}var rv,fk;function tae(){if(fk)return rv;fk=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return rv=t,rv}var nv,hk;function rae(){if(hk)return nv;hk=1;var e=tae(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return nv=r,nv}var iv,pk;function RL(){if(pk)return iv;pk=1;var e=rae(),t=aa(),r=qs(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(c){if(typeof c=="number")return c;if(r(c))return n;if(t(c)){var u=typeof c.valueOf=="function"?c.valueOf():c;c=t(u)?u+"":u}if(typeof c!="string")return c===0?c:+c;c=e(c);var d=a.test(c);return d||o.test(c)?s(c.slice(2),d?2:8):i.test(c)?n:+c}return iv=l,iv}var av,mk;function nae(){if(mk)return av;mk=1;var e=aa(),t=eae(),r=RL(),n="Expected a function",i=Math.max,a=Math.min;function o(s,l,c){var u,d,h,p,y,m,g=0,v=!1,x=!1,b=!0;if(typeof s!="function")throw new TypeError(n);l=r(l)||0,e(c)&&(v=!!c.leading,x="maxWait"in c,h=x?i(r(c.maxWait)||0,l):h,b="trailing"in c?!!c.trailing:b);function E(D){var M=u,I=d;return u=d=void 0,g=D,p=s.apply(I,M),p}function S(D){return g=D,y=setTimeout(k,l),v?E(D):p}function _(D){var M=D-m,I=D-g,L=l-M;return x?a(L,h-I):L}function O(D){var M=D-m,I=D-g;return m===void 0||M>=l||M<0||x&&I>=h}function k(){var D=t();if(O(D))return T(D);y=setTimeout(k,_(D))}function T(D){return y=void 0,b&&u?E(D):(u=d=void 0,p)}function j(){y!==void 0&&clearTimeout(y),g=0,u=m=d=y=void 0}function A(){return y===void 0?p:T(t())}function N(){var D=t(),M=O(D);if(u=arguments,d=this,m=D,M){if(y===void 0)return S(m);if(x)return clearTimeout(y),y=setTimeout(k,l),E(m)}return y===void 0&&(y=setTimeout(k,l)),p}return N.cancel=j,N.flush=A,N}return av=o,av}var ov,gk;function iae(){if(gk)return ov;gk=1;var e=nae(),t=aa(),r="Expected a function";function n(i,a,o){var s=!0,l=!0;if(typeof i!="function")throw new TypeError(r);return t(o)&&(s="leading"in o?!!o.leading:s,l="trailing"in o?!!o.trailing:l),e(i,a,{leading:s,maxWait:a,trailing:l})}return ov=n,ov}var aae=iae();const IL=Ue(aae);function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function yk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Du(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yk(Object(r),!0).forEach(function(n){oae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oae(e,t,r){return t=sae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sae(e){var t=lae(e,"string");return ac(t)=="symbol"?t:t+""}function lae(e,t){if(ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cae(e,t){return hae(e)||fae(e,t)||dae(e,t)||uae()}function uae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dae(e,t){if(e){if(typeof e=="string")return vk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vk(e,t)}}function vk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function hae(e){if(Array.isArray(e))return e}var Qt=w.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=e.width,o=a===void 0?"100%":a,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,u=c===void 0?0:c,d=e.minHeight,h=e.maxHeight,p=e.children,y=e.debounce,m=y===void 0?0:y,g=e.id,v=e.className,x=e.onResize,b=e.style,E=b===void 0?{}:b,S=w.useRef(null),_=w.useRef();_.current=x,w.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var O=w.useState({containerWidth:i.width,containerHeight:i.height}),k=cae(O,2),T=k[0],j=k[1],A=w.useCallback(function(D,M){j(function(I){var L=Math.round(D),B=Math.round(M);return I.containerWidth===L&&I.containerHeight===B?I:{containerWidth:L,containerHeight:B}})},[]);w.useEffect(function(){var D=function($){var C,W=$[0].contentRect,z=W.width,R=W.height;A(z,R),(C=_.current)===null||C===void 0||C.call(_,z,R)};m>0&&(D=IL(D,m,{trailing:!0,leading:!1}));var M=new ResizeObserver(D),I=S.current.getBoundingClientRect(),L=I.width,B=I.height;return A(L,B),M.observe(S.current),function(){M.disconnect()}},[A,m]);var N=w.useMemo(function(){var D=T.containerWidth,M=T.containerHeight;if(D<0||M<0)return null;yn(Na(o)||Na(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),yn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var I=Na(o)?D:o,L=Na(l)?M:l;r&&r>0&&(I?L=I/r:L&&(I=L*r),h&&L>h&&(L=h)),yn(I>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,L,o,l,u,d,r);var B=!Array.isArray(p)&&oi(p.type).endsWith("Chart");return P.Children.map(p,function(F){return P.isValidElement(F)?w.cloneElement(F,Du({width:I,height:L},B?{style:Du({height:"100%",width:"100%",maxHeight:L,maxWidth:I},F.props.style)}:{})):F})},[r,p,l,h,d,u,T,o]);return P.createElement("div",{id:g?"".concat(g):void 0,className:_e("recharts-responsive-container",v),style:Du(Du({},E),{},{width:o,height:l,minWidth:u,minHeight:d,maxHeight:h}),ref:S},N)}),Hs=function(t){return null};Hs.displayName="Cell";function oc(e){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(e)}function bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function k0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bk(Object(r),!0).forEach(function(n){pae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pae(e,t,r){return t=mae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mae(e){var t=gae(e,"string");return oc(t)=="symbol"?t:t+""}function gae(e,t){if(oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wo={widthCache:{},cacheCount:0},yae=2e3,vae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},xk="recharts_measurement_span";function bae(e){var t=k0({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Rl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Yn.isSsr)return{width:0,height:0};var n=bae(r),i=JSON.stringify({text:t,copyStyle:n});if(wo.widthCache[i])return wo.widthCache[i];try{var a=document.getElementById(xk);a||(a=document.createElement("span"),a.setAttribute("id",xk),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=k0(k0({},vae),n);Object.assign(a.style,o),a.textContent="".concat(t);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return wo.widthCache[i]=l,++wo.cacheCount>yae&&(wo.cacheCount=0,wo.widthCache={}),l}catch{return{width:0,height:0}}},xae=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function sc(e){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(e)}function qd(e,t){return Eae(e)||_ae(e,t)||Sae(e,t)||wae()}function wae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sae(e,t){if(e){if(typeof e=="string")return wk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wk(e,t)}}function wk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _ae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Eae(e){if(Array.isArray(e))return e}function Oae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Aae(n.key),n)}}function jae(e,t,r){return t&&Sk(e.prototype,t),r&&Sk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Aae(e){var t=kae(e,"string");return sc(t)=="symbol"?t:t+""}function kae(e,t){if(sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _k=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ek=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Pae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Tae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ML={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Cae=Object.keys(ML),ko="NaN";function Nae(e,t){return e*ML[t]}var $u=(function(){function e(t,r){Oae(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Pae.test(r)&&(this.num=NaN,this.unit=""),Cae.includes(r)&&(this.num=Nae(t,r),this.unit="px")}return jae(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Tae.exec(r))!==null&&n!==void 0?n:[],a=qd(i,3),o=a[1],s=a[2];return new e(parseFloat(o),s??"")}}])})();function DL(e){if(e.includes(ko))return ko;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=_k.exec(t))!==null&&r!==void 0?r:[],i=qd(n,4),a=i[1],o=i[2],s=i[3],l=$u.parse(a??""),c=$u.parse(s??""),u=o==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return ko;t=t.replace(_k,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=Ek.exec(t))!==null&&d!==void 0?d:[],p=qd(h,4),y=p[1],m=p[2],g=p[3],v=$u.parse(y??""),x=$u.parse(g??""),b=m==="+"?v.add(x):v.subtract(x);if(b.isNaN())return ko;t=t.replace(Ek,b.toString())}return t}var Ok=/\(([^()]*)\)/;function Rae(e){for(var t=e;t.includes("(");){var r=Ok.exec(t),n=qd(r,2),i=n[1];t=t.replace(Ok,DL(i))}return t}function Iae(e){var t=e.replace(/\s+/g,"");return t=Rae(t),t=DL(t),t}function Mae(e){try{return Iae(e)}catch{return ko}}function sv(e){var t=Mae(e.slice(5,-1));return t===ko?"":t}var Dae=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],$ae=["dx","dy","angle","className","breakAll"];function P0(){return P0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P0.apply(this,arguments)}function jk(e,t){if(e==null)return{};var r=Lae(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ak(e,t){return zae(e)||qae(e,t)||Bae(e,t)||Fae()}function Fae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bae(e,t){if(e){if(typeof e=="string")return kk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kk(e,t)}}function kk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function zae(e){if(Array.isArray(e))return e}var $L=/[ \f\n\r\t\v\u2028\u2029]+/,LL=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var a=[];be(r)||(n?a=r.toString().split(""):a=r.toString().split($L));var o=a.map(function(l){return{word:l,width:Rl(l,i).width}}),s=n?0:Rl("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},Uae=function(t,r,n,i,a){var o=t.maxLines,s=t.children,l=t.style,c=t.breakAll,u=ee(o),d=s,h=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce(function(L,B){var F=B.word,$=B.width,C=L[L.length-1];if(C&&(i==null||a||C.width+$+n<Number(i)))C.words.push(F),C.width+=$+n;else{var W={words:[F],width:$};L.push(W)}return L},[])},p=h(r),y=function(I){return I.reduce(function(L,B){return L.width>B.width?L:B})};if(!u)return p;for(var m="",g=function(I){var L=d.slice(0,I),B=LL({breakAll:c,style:l,children:L+m}).wordsWithComputedWidth,F=h(B),$=F.length>o||y(F).width>Number(i);return[$,F]},v=0,x=d.length-1,b=0,E;v<=x&&b<=d.length-1;){var S=Math.floor((v+x)/2),_=S-1,O=g(_),k=Ak(O,2),T=k[0],j=k[1],A=g(S),N=Ak(A,1),D=N[0];if(!T&&!D&&(v=S+1),T&&D&&(x=S-1),!T&&D){E=j;break}b++}return E||p},Pk=function(t){var r=be(t)?[]:t.toString().split($L);return[{words:r}]},Wae=function(t){var r=t.width,n=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,s=t.maxLines;if((r||n)&&!Yn.isSsr){var l,c,u=LL({breakAll:o,children:i,style:a});if(u){var d=u.wordsWithComputedWidth,h=u.spaceWidth;l=d,c=h}else return Pk(i);return Uae({breakAll:o,children:i,maxLines:s,style:a},l,c,r,n)}return Pk(i)},Tk="#808080",Ga=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,o=t.lineHeight,s=o===void 0?"1em":o,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,d=u===void 0?!1:u,h=t.textAnchor,p=h===void 0?"start":h,y=t.verticalAnchor,m=y===void 0?"end":y,g=t.fill,v=g===void 0?Tk:g,x=jk(t,Dae),b=w.useMemo(function(){return Wae({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:d,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,d,x.style,x.width]),E=x.dx,S=x.dy,_=x.angle,O=x.className,k=x.breakAll,T=jk(x,$ae);if(!zt(n)||!zt(a))return null;var j=n+(ee(E)?E:0),A=a+(ee(S)?S:0),N;switch(m){case"start":N=sv("calc(".concat(c,")"));break;case"middle":N=sv("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:N=sv("calc(".concat(b.length-1," * -").concat(s,")"));break}var D=[];if(d){var M=b[0].width,I=x.width;D.push("scale(".concat((ee(I)?I/M:1)/M,")"))}return _&&D.push("rotate(".concat(_,", ").concat(j,", ").concat(A,")")),D.length&&(T.transform=D.join(" ")),P.createElement("text",P0({},le(T,!0),{x:j,y:A,className:_e("recharts-text",O),textAnchor:p,fill:v.includes("url")?Tk:v}),b.map(function(L,B){var F=L.words.join(k?"":" ");return P.createElement("tspan",{x:j,dy:B===0?N:s,key:"".concat(F,"-").concat(B)},F)}))};function Xi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Hae(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function A1(e){let t,r,n;e.length!==2?(t=Xi,r=(s,l)=>Xi(e(s),l),n=(s,l)=>e(s)-l):(t=e===Xi||e===Hae?e:Vae,r=e,n=e);function i(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;r(s[d],l)<0?c=d+1:u=d}while(c<u)}return c}function a(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;r(s[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function o(s,l,c=0,u=s.length){const d=i(s,l,c,u-1);return d>c&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function Vae(){return 0}function FL(e){return e===null?NaN:+e}function*Kae(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Gae=A1(Xi),tu=Gae.right;A1(FL).center;class Ck extends Map{constructor(t,r=Qae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(Nk(this,t))}has(t){return super.has(Nk(this,t))}set(t,r){return super.set(Yae(this,t),r)}delete(t){return super.delete(Xae(this,t))}}function Nk({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Yae({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Xae({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Qae(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Jae(e=Xi){if(e===Xi)return BL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function BL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Zae=Math.sqrt(50),eoe=Math.sqrt(10),toe=Math.sqrt(2);function zd(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=Zae?10:a>=eoe?5:a>=toe?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?zd(e,t,r*2):[s,l,c]}function T0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?zd(t,e,r):zd(e,t,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function C0(e,t,r){return t=+t,e=+e,r=+r,zd(e,t,r)[2]}function N0(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?C0(t,e,r):C0(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Rk(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Ik(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function qL(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?BL:Jae(i);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*d/l+h)),y=Math.min(n,Math.floor(t+(l-c)*d/l+h));qL(e,t,p,y,i)}const a=e[t];let o=r,s=n;for(ul(e,r,t),i(e[n],a)>0&&ul(e,r,n);o<s;){for(ul(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[r],a)===0?ul(e,r,s):(++s,ul(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function ul(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function roe(e,t,r){if(e=Float64Array.from(Kae(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Ik(e);if(t>=1)return Rk(e);var n,i=(n-1)*t,a=Math.floor(i),o=Rk(qL(e,a).subarray(0,a+1)),s=Ik(e.subarray(a+1));return o+(s-o)*(i-a)}}function noe(e,t,r=FL){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),s=+r(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function ioe(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function rn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function wi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const R0=Symbol("implicit");function k1(){var e=new Ck,t=[],r=[],n=R0;function i(a){let o=e.get(a);if(o===void 0){if(n!==R0)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Ck;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return k1(t,r).unknown(n)},rn.apply(i,arguments),i}function lc(){var e=k1().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,s=!1,l=0,c=0,u=.5;delete e.unknown;function d(){var h=t().length,p=i<n,y=p?i:n,m=p?n:i;a=(m-y)/Math.max(1,h-l+c*2),s&&(a=Math.floor(a)),y+=(m-y-a*(h-l))*u,o=a*(1-l),s&&(y=Math.round(y),o=Math.round(o));var g=ioe(h).map(function(v){return y+a*v});return r(p?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,d()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(s=!!h,d()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},e.copy=function(){return lc(t(),[n,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},rn.apply(d(),arguments)}function zL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return zL(t())},e}function Il(){return zL(lc.apply(null,arguments).paddingInner(1))}function P1(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function UL(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ru(){}var cc=.7,Ud=1/cc,Uo="\\s*([+-]?\\d+)\\s*",uc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Dn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",aoe=/^#([0-9a-f]{3,8})$/,ooe=new RegExp(`^rgb\\(${Uo},${Uo},${Uo}\\)$`),soe=new RegExp(`^rgb\\(${Dn},${Dn},${Dn}\\)$`),loe=new RegExp(`^rgba\\(${Uo},${Uo},${Uo},${uc}\\)$`),coe=new RegExp(`^rgba\\(${Dn},${Dn},${Dn},${uc}\\)$`),uoe=new RegExp(`^hsl\\(${uc},${Dn},${Dn}\\)$`),doe=new RegExp(`^hsla\\(${uc},${Dn},${Dn},${uc}\\)$`),Mk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};P1(ru,dc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Dk,formatHex:Dk,formatHex8:foe,formatHsl:hoe,formatRgb:$k,toString:$k});function Dk(){return this.rgb().formatHex()}function foe(){return this.rgb().formatHex8()}function hoe(){return WL(this).formatHsl()}function $k(){return this.rgb().formatRgb()}function dc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=aoe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Lk(t):r===3?new vr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Lu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Lu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ooe.exec(e))?new vr(t[1],t[2],t[3],1):(t=soe.exec(e))?new vr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=loe.exec(e))?Lu(t[1],t[2],t[3],t[4]):(t=coe.exec(e))?Lu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=uoe.exec(e))?qk(t[1],t[2]/100,t[3]/100,1):(t=doe.exec(e))?qk(t[1],t[2]/100,t[3]/100,t[4]):Mk.hasOwnProperty(e)?Lk(Mk[e]):e==="transparent"?new vr(NaN,NaN,NaN,0):null}function Lk(e){return new vr(e>>16&255,e>>8&255,e&255,1)}function Lu(e,t,r,n){return n<=0&&(e=t=r=NaN),new vr(e,t,r,n)}function poe(e){return e instanceof ru||(e=dc(e)),e?(e=e.rgb(),new vr(e.r,e.g,e.b,e.opacity)):new vr}function I0(e,t,r,n){return arguments.length===1?poe(e):new vr(e,t,r,n??1)}function vr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}P1(vr,I0,UL(ru,{brighter(e){return e=e==null?Ud:Math.pow(Ud,e),new vr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?cc:Math.pow(cc,e),new vr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new vr(Fa(this.r),Fa(this.g),Fa(this.b),Wd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fk,formatHex:Fk,formatHex8:moe,formatRgb:Bk,toString:Bk}));function Fk(){return`#${Ra(this.r)}${Ra(this.g)}${Ra(this.b)}`}function moe(){return`#${Ra(this.r)}${Ra(this.g)}${Ra(this.b)}${Ra((isNaN(this.opacity)?1:this.opacity)*255)}`}function Bk(){const e=Wd(this.opacity);return`${e===1?"rgb(":"rgba("}${Fa(this.r)}, ${Fa(this.g)}, ${Fa(this.b)}${e===1?")":`, ${e})`}`}function Wd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ra(e){return e=Fa(e),(e<16?"0":"")+e.toString(16)}function qk(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new mn(e,t,r,n)}function WL(e){if(e instanceof mn)return new mn(e.h,e.s,e.l,e.opacity);if(e instanceof ru||(e=dc(e)),!e)return new mn;if(e instanceof mn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new mn(o,s,l,e.opacity)}function goe(e,t,r,n){return arguments.length===1?WL(e):new mn(e,t,r,n??1)}function mn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}P1(mn,goe,UL(ru,{brighter(e){return e=e==null?Ud:Math.pow(Ud,e),new mn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?cc:Math.pow(cc,e),new mn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new vr(lv(e>=240?e-240:e+120,i,n),lv(e,i,n),lv(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new mn(zk(this.h),Fu(this.s),Fu(this.l),Wd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Wd(this.opacity);return`${e===1?"hsl(":"hsla("}${zk(this.h)}, ${Fu(this.s)*100}%, ${Fu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function zk(e){return e=(e||0)%360,e<0?e+360:e}function Fu(e){return Math.max(0,Math.min(1,e||0))}function lv(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const T1=e=>()=>e;function yoe(e,t){return function(r){return e+r*t}}function voe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function boe(e){return(e=+e)==1?HL:function(t,r){return r-t?voe(t,r,e):T1(isNaN(t)?r:t)}}function HL(e,t){var r=t-e;return r?yoe(e,r):T1(isNaN(e)?t:e)}const Uk=(function e(t){var r=boe(t);function n(i,a){var o=r((i=I0(i)).r,(a=I0(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),c=HL(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=e,n})(1);function xoe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function woe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Soe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Vs(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function _oe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Hd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Eoe(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Vs(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var M0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cv=new RegExp(M0.source,"g");function Ooe(e){return function(){return e}}function joe(e){return function(t){return e(t)+""}}function Aoe(e,t){var r=M0.lastIndex=cv.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=M0.exec(e))&&(i=cv.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Hd(n,i)})),r=cv.lastIndex;return r<t.length&&(a=t.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?joe(l[0].x):Ooe(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}function Vs(e,t){var r=typeof t,n;return t==null||r==="boolean"?T1(t):(r==="number"?Hd:r==="string"?(n=dc(t))?(t=n,Uk):Aoe:t instanceof dc?Uk:t instanceof Date?_oe:woe(t)?xoe:Array.isArray(t)?Soe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Eoe:Hd)(e,t)}function C1(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function koe(e,t){t===void 0&&(t=e,e=Vs);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function Poe(e){return function(){return e}}function Vd(e){return+e}var Wk=[0,1];function ur(e){return e}function D0(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Poe(isNaN(t)?NaN:.5)}function Toe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Coe(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=D0(i,n),a=r(o,a)):(n=D0(n,i),a=r(a,o)),function(s){return a(n(s))}}function Noe(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=D0(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(s){var l=tu(e,s,1,n)-1;return a[l](i[l](s))}}function nu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function $h(){var e=Wk,t=Wk,r=Vs,n,i,a,o=ur,s,l,c;function u(){var h=Math.min(e.length,t.length);return o!==ur&&(o=Toe(e[0],e[h-1])),s=h>2?Noe:Coe,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?a:(l||(l=s(e.map(n),t,r)))(n(o(h)))}return d.invert=function(h){return o(i((c||(c=s(t,e.map(n),Hd)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Vd),u()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=C1,u()},d.clamp=function(h){return arguments.length?(o=h?!0:ur,u()):o!==ur},d.interpolate=function(h){return arguments.length?(r=h,u()):r},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,p){return n=h,i=p,u()}}function N1(){return $h()(ur,ur)}function Roe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Kd(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ns(e){return e=Kd(Math.abs(e)),e?e[1]:NaN}function Ioe(e,t){return function(r,n){for(var i=r.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function Moe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Doe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fc(e){if(!(t=Doe.exec(e)))throw new Error("invalid format: "+e);var t;return new R1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}fc.prototype=R1.prototype;function R1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}R1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $oe(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var VL;function Loe(e,t){var r=Kd(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(VL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Kd(e,Math.max(0,t+a-1))[0]}function Hk(e,t){var r=Kd(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Vk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Roe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Hk(e*100,t),r:Hk,s:Loe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Kk(e){return e}var Gk=Array.prototype.map,Yk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Foe(e){var t=e.grouping===void 0||e.thousands===void 0?Kk:Ioe(Gk.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Kk:Moe(Gk.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=fc(d);var h=d.fill,p=d.align,y=d.sign,m=d.symbol,g=d.zero,v=d.width,x=d.comma,b=d.precision,E=d.trim,S=d.type;S==="n"?(x=!0,S="g"):Vk[S]||(b===void 0&&(b=12),E=!0,S="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var _=m==="$"?r:m==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",O=m==="$"?n:/[%p]/.test(S)?o:"",k=Vk[S],T=/[defgprs%]/.test(S);b=b===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function j(A){var N=_,D=O,M,I,L;if(S==="c")D=k(A)+D,A="";else{A=+A;var B=A<0||1/A<0;if(A=isNaN(A)?l:k(Math.abs(A),b),E&&(A=$oe(A)),B&&+A==0&&y!=="+"&&(B=!1),N=(B?y==="("?y:s:y==="-"||y==="("?"":y)+N,D=(S==="s"?Yk[8+VL/3]:"")+D+(B&&y==="("?")":""),T){for(M=-1,I=A.length;++M<I;)if(L=A.charCodeAt(M),48>L||L>57){D=(L===46?i+A.slice(M+1):A.slice(M))+D,A=A.slice(0,M);break}}}x&&!g&&(A=t(A,1/0));var F=N.length+A.length+D.length,$=F<v?new Array(v-F+1).join(h):"";switch(x&&g&&(A=t($+A,$.length?v-D.length:1/0),$=""),p){case"<":A=N+A+D+$;break;case"=":A=N+$+A+D;break;case"^":A=$.slice(0,F=$.length>>1)+N+A+D+$.slice(F);break;default:A=$+N+A+D;break}return a(A)}return j.toString=function(){return d+""},j}function u(d,h){var p=c((d=fc(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(ns(h)/3)))*3,m=Math.pow(10,-y),g=Yk[8+y/3];return function(v){return p(m*v)+g}}return{format:c,formatPrefix:u}}var Bu,I1,KL;Boe({thousands:",",grouping:[3],currency:["$",""]});function Boe(e){return Bu=Foe(e),I1=Bu.format,KL=Bu.formatPrefix,Bu}function qoe(e){return Math.max(0,-ns(Math.abs(e)))}function zoe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ns(t)/3)))*3-ns(Math.abs(e)))}function Uoe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ns(t)-ns(e))+1}function GL(e,t,r,n){var i=N0(e,t,r),a;switch(n=fc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=zoe(i,o))&&(n.precision=a),KL(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Uoe(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=qoe(i))&&(n.precision=a-(n.type==="%")*2);break}}return I1(n)}function sa(e){var t=e.domain;return e.ticks=function(r){var n=t();return T0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return GL(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],s=n[a],l,c,u=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);u-- >0;){if(c=C0(o,s,r),c===l)return n[i]=o,n[a]=s,t(n);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function Gd(){var e=N1();return e.copy=function(){return nu(e,Gd())},rn.apply(e,arguments),sa(e)}function YL(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Vd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return YL(e).unknown(t)},e=arguments.length?Array.from(e,Vd):[0,1],sa(r)}function XL(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function Xk(e){return Math.log(e)}function Qk(e){return Math.exp(e)}function Woe(e){return-Math.log(-e)}function Hoe(e){return-Math.exp(-e)}function Voe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Koe(e){return e===10?Voe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Goe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Jk(e){return(t,r)=>-e(-t,r)}function M1(e){const t=e(Xk,Qk),r=t.domain;let n=10,i,a;function o(){return i=Goe(n),a=Koe(n),r()[0]<0?(i=Jk(i),a=Jk(a),e(Woe,Hoe)):e(Xk,Qk),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const l=r();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=i(c),p=i(u),y,m;const g=s==null?10:+s;let v=[];if(!(n%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(y=1;y<n;++y)if(m=h<0?y/a(-h):y*a(h),!(m<c)){if(m>u)break;v.push(m)}}else for(;h<=p;++h)for(y=n-1;y>=1;--y)if(m=h>0?y/a(-h):y*a(h),!(m<c)){if(m>u)break;v.push(m)}v.length*2<g&&(v=T0(c,u,g))}else v=T0(h,p,Math.min(p-h,g)).map(a);return d?v.reverse():v},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=fc(l)).precision==null&&(l.trim=!0),l=I1(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*n<n-.5&&(d*=n),d<=c?l(u):""}},t.nice=()=>r(XL(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function QL(){const e=M1($h()).domain([1,10]);return e.copy=()=>nu(e,QL()).base(e.base()),rn.apply(e,arguments),e}function Zk(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function eP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function D1(e){var t=1,r=e(Zk(t),eP(t));return r.constant=function(n){return arguments.length?e(Zk(t=+n),eP(t)):t},sa(r)}function JL(){var e=D1($h());return e.copy=function(){return nu(e,JL()).constant(e.constant())},rn.apply(e,arguments)}function tP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Yoe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Xoe(e){return e<0?-e*e:e*e}function $1(e){var t=e(ur,ur),r=1;function n(){return r===1?e(ur,ur):r===.5?e(Yoe,Xoe):e(tP(r),tP(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},sa(t)}function L1(){var e=$1($h());return e.copy=function(){return nu(e,L1()).exponent(e.exponent())},rn.apply(e,arguments),e}function Qoe(){return L1.apply(null,arguments).exponent(.5)}function rP(e){return Math.sign(e)*e*e}function Joe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function ZL(){var e=N1(),t=[0,1],r=!1,n;function i(a){var o=Joe(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(rP(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Vd)).map(rP)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return ZL(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},rn.apply(i,arguments),sa(i)}function e5(){var e=[],t=[],r=[],n;function i(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=noe(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:t[tu(r,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Xi),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return e5().domain(e).range(t).unknown(n)},rn.apply(a,arguments)}function t5(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[tu(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return t5().domain([e,t]).range(i).unknown(a)},rn.apply(sa(o),arguments)}function r5(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[tu(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return r5().domain(e).range(t).unknown(r)},rn.apply(i,arguments)}const uv=new Date,dv=new Date;function Ut(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),t(a,s),e(a);while(c<a&&a<o);return l},i.filter=a=>Ut(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(uv.setTime(+a),dv.setTime(+o),e(uv),e(dv),Math.floor(r(uv,dv))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Yd=Ut(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Yd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ut(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Yd);Yd.range;const ri=1e3,Yr=ri*60,ni=Yr*60,ui=ni*24,F1=ui*7,nP=ui*30,fv=ui*365,Ia=Ut(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ri)},(e,t)=>(t-e)/ri,e=>e.getUTCSeconds());Ia.range;const B1=Ut(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ri)},(e,t)=>{e.setTime(+e+t*Yr)},(e,t)=>(t-e)/Yr,e=>e.getMinutes());B1.range;const q1=Ut(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Yr)},(e,t)=>(t-e)/Yr,e=>e.getUTCMinutes());q1.range;const z1=Ut(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ri-e.getMinutes()*Yr)},(e,t)=>{e.setTime(+e+t*ni)},(e,t)=>(t-e)/ni,e=>e.getHours());z1.range;const U1=Ut(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ni)},(e,t)=>(t-e)/ni,e=>e.getUTCHours());U1.range;const iu=Ut(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Yr)/ui,e=>e.getDate()-1);iu.range;const Lh=Ut(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ui,e=>e.getUTCDate()-1);Lh.range;const n5=Ut(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ui,e=>Math.floor(e/ui));n5.range;function ao(e){return Ut(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Yr)/F1)}const Fh=ao(0),Xd=ao(1),Zoe=ao(2),ese=ao(3),is=ao(4),tse=ao(5),rse=ao(6);Fh.range;Xd.range;Zoe.range;ese.range;is.range;tse.range;rse.range;function oo(e){return Ut(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/F1)}const Bh=oo(0),Qd=oo(1),nse=oo(2),ise=oo(3),as=oo(4),ase=oo(5),ose=oo(6);Bh.range;Qd.range;nse.range;ise.range;as.range;ase.range;ose.range;const W1=Ut(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());W1.range;const H1=Ut(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());H1.range;const di=Ut(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());di.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ut(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});di.range;const fi=Ut(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());fi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ut(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});fi.range;function i5(e,t,r,n,i,a){const o=[[Ia,1,ri],[Ia,5,5*ri],[Ia,15,15*ri],[Ia,30,30*ri],[a,1,Yr],[a,5,5*Yr],[a,15,15*Yr],[a,30,30*Yr],[i,1,ni],[i,3,3*ni],[i,6,6*ni],[i,12,12*ni],[n,1,ui],[n,2,2*ui],[r,1,F1],[t,1,nP],[t,3,3*nP],[e,1,fv]];function s(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),y=p?p.range(c,+u+1):[];return h?y.reverse():y}function l(c,u,d){const h=Math.abs(u-c)/d,p=A1(([,,g])=>g).right(o,h);if(p===o.length)return e.every(N0(c/fv,u/fv,d));if(p===0)return Yd.every(Math.max(N0(c,u,d),1));const[y,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return y.every(m)}return[s,l]}const[sse,lse]=i5(fi,H1,Bh,n5,U1,q1),[cse,use]=i5(di,W1,Fh,iu,z1,B1);function hv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function pv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function dl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function dse(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=fl(i),u=hl(i),d=fl(a),h=hl(a),p=fl(o),y=hl(o),m=fl(s),g=hl(s),v=fl(l),x=hl(l),b={a:B,A:F,b:$,B:C,c:null,d:cP,e:cP,f:Ise,g:Wse,G:Vse,H:Cse,I:Nse,j:Rse,L:a5,m:Mse,M:Dse,p:W,q:z,Q:fP,s:hP,S:$se,u:Lse,U:Fse,V:Bse,w:qse,W:zse,x:null,X:null,y:Use,Y:Hse,Z:Kse,"%":dP},E={a:R,A:X,b:oe,B:se,c:null,d:uP,e:uP,f:Qse,g:sle,G:cle,H:Gse,I:Yse,j:Xse,L:s5,m:Jse,M:Zse,p:K,q:Q,Q:fP,s:hP,S:ele,u:tle,U:rle,V:nle,w:ile,W:ale,x:null,X:null,y:ole,Y:lle,Z:ule,"%":dP},S={a:j,A,b:N,B:D,c:M,d:sP,e:sP,f:Ase,g:oP,G:aP,H:lP,I:lP,j:_se,L:jse,m:Sse,M:Ese,p:T,q:wse,Q:Pse,s:Tse,S:Ose,u:gse,U:yse,V:vse,w:mse,W:bse,x:I,X:L,y:oP,Y:aP,Z:xse,"%":kse};b.x=_(r,b),b.X=_(n,b),b.c=_(t,b),E.x=_(r,E),E.X=_(n,E),E.c=_(t,E);function _(V,J){return function(Z){var U=[],ne=-1,q=0,ae=V.length,ie,je,Ve;for(Z instanceof Date||(Z=new Date(+Z));++ne<ae;)V.charCodeAt(ne)===37&&(U.push(V.slice(q,ne)),(je=iP[ie=V.charAt(++ne)])!=null?ie=V.charAt(++ne):je=ie==="e"?" ":"0",(Ve=J[ie])&&(ie=Ve(Z,je)),U.push(ie),q=ne+1);return U.push(V.slice(q,ne)),U.join("")}}function O(V,J){return function(Z){var U=dl(1900,void 0,1),ne=k(U,V,Z+="",0),q,ae;if(ne!=Z.length)return null;if("Q"in U)return new Date(U.Q);if("s"in U)return new Date(U.s*1e3+("L"in U?U.L:0));if(J&&!("Z"in U)&&(U.Z=0),"p"in U&&(U.H=U.H%12+U.p*12),U.m===void 0&&(U.m="q"in U?U.q:0),"V"in U){if(U.V<1||U.V>53)return null;"w"in U||(U.w=1),"Z"in U?(q=pv(dl(U.y,0,1)),ae=q.getUTCDay(),q=ae>4||ae===0?Qd.ceil(q):Qd(q),q=Lh.offset(q,(U.V-1)*7),U.y=q.getUTCFullYear(),U.m=q.getUTCMonth(),U.d=q.getUTCDate()+(U.w+6)%7):(q=hv(dl(U.y,0,1)),ae=q.getDay(),q=ae>4||ae===0?Xd.ceil(q):Xd(q),q=iu.offset(q,(U.V-1)*7),U.y=q.getFullYear(),U.m=q.getMonth(),U.d=q.getDate()+(U.w+6)%7)}else("W"in U||"U"in U)&&("w"in U||(U.w="u"in U?U.u%7:"W"in U?1:0),ae="Z"in U?pv(dl(U.y,0,1)).getUTCDay():hv(dl(U.y,0,1)).getDay(),U.m=0,U.d="W"in U?(U.w+6)%7+U.W*7-(ae+5)%7:U.w+U.U*7-(ae+6)%7);return"Z"in U?(U.H+=U.Z/100|0,U.M+=U.Z%100,pv(U)):hv(U)}}function k(V,J,Z,U){for(var ne=0,q=J.length,ae=Z.length,ie,je;ne<q;){if(U>=ae)return-1;if(ie=J.charCodeAt(ne++),ie===37){if(ie=J.charAt(ne++),je=S[ie in iP?J.charAt(ne++):ie],!je||(U=je(V,Z,U))<0)return-1}else if(ie!=Z.charCodeAt(U++))return-1}return U}function T(V,J,Z){var U=c.exec(J.slice(Z));return U?(V.p=u.get(U[0].toLowerCase()),Z+U[0].length):-1}function j(V,J,Z){var U=p.exec(J.slice(Z));return U?(V.w=y.get(U[0].toLowerCase()),Z+U[0].length):-1}function A(V,J,Z){var U=d.exec(J.slice(Z));return U?(V.w=h.get(U[0].toLowerCase()),Z+U[0].length):-1}function N(V,J,Z){var U=v.exec(J.slice(Z));return U?(V.m=x.get(U[0].toLowerCase()),Z+U[0].length):-1}function D(V,J,Z){var U=m.exec(J.slice(Z));return U?(V.m=g.get(U[0].toLowerCase()),Z+U[0].length):-1}function M(V,J,Z){return k(V,t,J,Z)}function I(V,J,Z){return k(V,r,J,Z)}function L(V,J,Z){return k(V,n,J,Z)}function B(V){return o[V.getDay()]}function F(V){return a[V.getDay()]}function $(V){return l[V.getMonth()]}function C(V){return s[V.getMonth()]}function W(V){return i[+(V.getHours()>=12)]}function z(V){return 1+~~(V.getMonth()/3)}function R(V){return o[V.getUTCDay()]}function X(V){return a[V.getUTCDay()]}function oe(V){return l[V.getUTCMonth()]}function se(V){return s[V.getUTCMonth()]}function K(V){return i[+(V.getUTCHours()>=12)]}function Q(V){return 1+~~(V.getUTCMonth()/3)}return{format:function(V){var J=_(V+="",b);return J.toString=function(){return V},J},parse:function(V){var J=O(V+="",!1);return J.toString=function(){return V},J},utcFormat:function(V){var J=_(V+="",E);return J.toString=function(){return V},J},utcParse:function(V){var J=O(V+="",!0);return J.toString=function(){return V},J}}}var iP={"-":"",_:" ",0:"0"},Vt=/^\s*\d+/,fse=/^%/,hse=/[\\^$*+?|[\]().{}]/g;function ze(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function pse(e){return e.replace(hse,"\\$&")}function fl(e){return new RegExp("^(?:"+e.map(pse).join("|")+")","i")}function hl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function mse(e,t,r){var n=Vt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function gse(e,t,r){var n=Vt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function yse(e,t,r){var n=Vt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function vse(e,t,r){var n=Vt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function bse(e,t,r){var n=Vt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function aP(e,t,r){var n=Vt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function oP(e,t,r){var n=Vt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function xse(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function wse(e,t,r){var n=Vt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Sse(e,t,r){var n=Vt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function sP(e,t,r){var n=Vt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function _se(e,t,r){var n=Vt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function lP(e,t,r){var n=Vt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Ese(e,t,r){var n=Vt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Ose(e,t,r){var n=Vt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function jse(e,t,r){var n=Vt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Ase(e,t,r){var n=Vt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function kse(e,t,r){var n=fse.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Pse(e,t,r){var n=Vt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Tse(e,t,r){var n=Vt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function cP(e,t){return ze(e.getDate(),t,2)}function Cse(e,t){return ze(e.getHours(),t,2)}function Nse(e,t){return ze(e.getHours()%12||12,t,2)}function Rse(e,t){return ze(1+iu.count(di(e),e),t,3)}function a5(e,t){return ze(e.getMilliseconds(),t,3)}function Ise(e,t){return a5(e,t)+"000"}function Mse(e,t){return ze(e.getMonth()+1,t,2)}function Dse(e,t){return ze(e.getMinutes(),t,2)}function $se(e,t){return ze(e.getSeconds(),t,2)}function Lse(e){var t=e.getDay();return t===0?7:t}function Fse(e,t){return ze(Fh.count(di(e)-1,e),t,2)}function o5(e){var t=e.getDay();return t>=4||t===0?is(e):is.ceil(e)}function Bse(e,t){return e=o5(e),ze(is.count(di(e),e)+(di(e).getDay()===4),t,2)}function qse(e){return e.getDay()}function zse(e,t){return ze(Xd.count(di(e)-1,e),t,2)}function Use(e,t){return ze(e.getFullYear()%100,t,2)}function Wse(e,t){return e=o5(e),ze(e.getFullYear()%100,t,2)}function Hse(e,t){return ze(e.getFullYear()%1e4,t,4)}function Vse(e,t){var r=e.getDay();return e=r>=4||r===0?is(e):is.ceil(e),ze(e.getFullYear()%1e4,t,4)}function Kse(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ze(t/60|0,"0",2)+ze(t%60,"0",2)}function uP(e,t){return ze(e.getUTCDate(),t,2)}function Gse(e,t){return ze(e.getUTCHours(),t,2)}function Yse(e,t){return ze(e.getUTCHours()%12||12,t,2)}function Xse(e,t){return ze(1+Lh.count(fi(e),e),t,3)}function s5(e,t){return ze(e.getUTCMilliseconds(),t,3)}function Qse(e,t){return s5(e,t)+"000"}function Jse(e,t){return ze(e.getUTCMonth()+1,t,2)}function Zse(e,t){return ze(e.getUTCMinutes(),t,2)}function ele(e,t){return ze(e.getUTCSeconds(),t,2)}function tle(e){var t=e.getUTCDay();return t===0?7:t}function rle(e,t){return ze(Bh.count(fi(e)-1,e),t,2)}function l5(e){var t=e.getUTCDay();return t>=4||t===0?as(e):as.ceil(e)}function nle(e,t){return e=l5(e),ze(as.count(fi(e),e)+(fi(e).getUTCDay()===4),t,2)}function ile(e){return e.getUTCDay()}function ale(e,t){return ze(Qd.count(fi(e)-1,e),t,2)}function ole(e,t){return ze(e.getUTCFullYear()%100,t,2)}function sle(e,t){return e=l5(e),ze(e.getUTCFullYear()%100,t,2)}function lle(e,t){return ze(e.getUTCFullYear()%1e4,t,4)}function cle(e,t){var r=e.getUTCDay();return e=r>=4||r===0?as(e):as.ceil(e),ze(e.getUTCFullYear()%1e4,t,4)}function ule(){return"+0000"}function dP(){return"%"}function fP(e){return+e}function hP(e){return Math.floor(+e/1e3)}var So,c5,u5;dle({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function dle(e){return So=dse(e),c5=So.format,So.parse,u5=So.utcFormat,So.utcParse,So}function fle(e){return new Date(e)}function hle(e){return e instanceof Date?+e:+new Date(+e)}function V1(e,t,r,n,i,a,o,s,l,c){var u=N1(),d=u.invert,h=u.domain,p=c(".%L"),y=c(":%S"),m=c("%I:%M"),g=c("%I %p"),v=c("%a %d"),x=c("%b %d"),b=c("%B"),E=c("%Y");function S(_){return(l(_)<_?p:s(_)<_?y:o(_)<_?m:a(_)<_?g:n(_)<_?i(_)<_?v:x:r(_)<_?b:E)(_)}return u.invert=function(_){return new Date(d(_))},u.domain=function(_){return arguments.length?h(Array.from(_,hle)):h().map(fle)},u.ticks=function(_){var O=h();return e(O[0],O[O.length-1],_??10)},u.tickFormat=function(_,O){return O==null?S:c(O)},u.nice=function(_){var O=h();return(!_||typeof _.range!="function")&&(_=t(O[0],O[O.length-1],_??10)),_?h(XL(O,_)):u},u.copy=function(){return nu(u,V1(e,t,r,n,i,a,o,s,l,c))},u}function ple(){return rn.apply(V1(cse,use,di,W1,Fh,iu,z1,B1,Ia,c5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mle(){return rn.apply(V1(sse,lse,fi,H1,Bh,Lh,U1,q1,Ia,u5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function qh(){var e=0,t=1,r,n,i,a,o=ur,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-r)*i,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(o=d,c):o};function u(d){return function(h){var p,y;return arguments.length?([p,y]=h,o=d(p,y),c):[o(0),o(1)]}}return c.range=u(Vs),c.rangeRound=u(C1),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return a=d,r=d(e),n=d(t),i=r===n?0:1/(n-r),c}}function la(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function d5(){var e=sa(qh()(ur));return e.copy=function(){return la(e,d5())},wi.apply(e,arguments)}function f5(){var e=M1(qh()).domain([1,10]);return e.copy=function(){return la(e,f5()).base(e.base())},wi.apply(e,arguments)}function h5(){var e=D1(qh());return e.copy=function(){return la(e,h5()).constant(e.constant())},wi.apply(e,arguments)}function K1(){var e=$1(qh());return e.copy=function(){return la(e,K1()).exponent(e.exponent())},wi.apply(e,arguments)}function gle(){return K1.apply(null,arguments).exponent(.5)}function p5(){var e=[],t=ur;function r(n){if(n!=null&&!isNaN(n=+n))return t((tu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Xi),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>roe(e,a/n))},r.copy=function(){return p5(t).domain(e)},wi.apply(r,arguments)}function zh(){var e=0,t=.5,r=1,n=1,i,a,o,s,l,c=ur,u,d=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+u(m))-a)*(n*m<n*a?s:l),c(d?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,i=u(e=+e),a=u(t=+t),o=u(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(d=!!m,p):d},p.interpolator=function(m){return arguments.length?(c=m,p):c};function y(m){return function(g){var v,x,b;return arguments.length?([v,x,b]=g,c=koe(m,[v,x,b]),p):[c(0),c(.5),c(1)]}}return p.range=y(Vs),p.rangeRound=y(C1),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return u=m,i=m(e),a=m(t),o=m(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p}}function m5(){var e=sa(zh()(ur));return e.copy=function(){return la(e,m5())},wi.apply(e,arguments)}function g5(){var e=M1(zh()).domain([.1,1,10]);return e.copy=function(){return la(e,g5()).base(e.base())},wi.apply(e,arguments)}function y5(){var e=D1(zh());return e.copy=function(){return la(e,y5()).constant(e.constant())},wi.apply(e,arguments)}function G1(){var e=$1(zh());return e.copy=function(){return la(e,G1()).exponent(e.exponent())},wi.apply(e,arguments)}function yle(){return G1.apply(null,arguments).exponent(.5)}const pP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:lc,scaleDiverging:m5,scaleDivergingLog:g5,scaleDivergingPow:G1,scaleDivergingSqrt:yle,scaleDivergingSymlog:y5,scaleIdentity:YL,scaleImplicit:R0,scaleLinear:Gd,scaleLog:QL,scaleOrdinal:k1,scalePoint:Il,scalePow:L1,scaleQuantile:e5,scaleQuantize:t5,scaleRadial:ZL,scaleSequential:d5,scaleSequentialLog:f5,scaleSequentialPow:K1,scaleSequentialQuantile:p5,scaleSequentialSqrt:gle,scaleSequentialSymlog:h5,scaleSqrt:Qoe,scaleSymlog:JL,scaleThreshold:r5,scaleTime:ple,scaleUtc:mle,tickFormat:GL},Symbol.toStringTag,{value:"Module"}));var mv,mP;function Uh(){if(mP)return mv;mP=1;var e=qs();function t(r,n,i){for(var a=-1,o=r.length;++a<o;){var s=r[a],l=n(s);if(l!=null&&(c===void 0?l===l&&!e(l):i(l,c)))var c=l,u=s}return u}return mv=t,mv}var gv,gP;function v5(){if(gP)return gv;gP=1;function e(t,r){return t>r}return gv=e,gv}var yv,yP;function vle(){if(yP)return yv;yP=1;var e=Uh(),t=v5(),r=Ws();function n(i){return i&&i.length?e(i,r,t):void 0}return yv=n,yv}var ble=vle();const Li=Ue(ble);var vv,vP;function b5(){if(vP)return vv;vP=1;function e(t,r){return t<r}return vv=e,vv}var bv,bP;function xle(){if(bP)return bv;bP=1;var e=Uh(),t=b5(),r=Ws();function n(i){return i&&i.length?e(i,r,t):void 0}return bv=n,bv}var wle=xle();const Wh=Ue(wle);var xv,xP;function Sle(){if(xP)return xv;xP=1;var e=d1(),t=Gn(),r=AL(),n=wr();function i(a,o){var s=n(a)?e:r;return s(a,t(o,3))}return xv=i,xv}var wv,wP;function _le(){if(wP)return wv;wP=1;var e=OL(),t=Sle();function r(n,i){return e(t(n,i),1)}return wv=r,wv}var Ele=_le();const Ole=Ue(Ele);var Sv,SP;function jle(){if(SP)return Sv;SP=1;var e=_1();function t(r,n){return e(r,n)}return Sv=t,Sv}var Ale=jle();const hi=Ue(Ale);var Ks=1e9,kle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},X1,mt=!0,Zr="[DecimalError] ",Ba=Zr+"Invalid argument: ",Y1=Zr+"Exponent out of range: ",Gs=Math.floor,Ea=Math.pow,Ple=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Nr,Wt=1e7,ht=7,x5=9007199254740991,Jd=Gs(x5/ht),ue={};ue.absoluteValue=ue.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ue.comparedTo=ue.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ue.decimalPlaces=ue.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ht;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ue.dividedBy=ue.div=function(e){return si(this,new this.constructor(e))};ue.dividedToIntegerBy=ue.idiv=function(e){var t=this,r=t.constructor;return at(si(t,new r(e),0,1),r.precision)};ue.equals=ue.eq=function(e){return!this.cmp(e)};ue.exponent=function(){return Ct(this)};ue.greaterThan=ue.gt=function(e){return this.cmp(e)>0};ue.greaterThanOrEqualTo=ue.gte=function(e){return this.cmp(e)>=0};ue.isInteger=ue.isint=function(){return this.e>this.d.length-2};ue.isNegative=ue.isneg=function(){return this.s<0};ue.isPositive=ue.ispos=function(){return this.s>0};ue.isZero=function(){return this.s===0};ue.lessThan=ue.lt=function(e){return this.cmp(e)<0};ue.lessThanOrEqualTo=ue.lte=function(e){return this.cmp(e)<1};ue.logarithm=ue.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Nr))throw Error(Zr+"NaN");if(r.s<1)throw Error(Zr+(r.s?"NaN":"-Infinity"));return r.eq(Nr)?new n(0):(mt=!1,t=si(hc(r,a),hc(e,a),a),mt=!0,at(t,i))};ue.minus=ue.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_5(t,e):w5(t,(e.s=-e.s,e))};ue.modulo=ue.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Zr+"NaN");return r.s?(mt=!1,t=si(r,e,0,1).times(e),mt=!0,r.minus(t)):at(new n(r),i)};ue.naturalExponential=ue.exp=function(){return S5(this)};ue.naturalLogarithm=ue.ln=function(){return hc(this)};ue.negated=ue.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ue.plus=ue.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?w5(t,e):_5(t,(e.s=-e.s,e))};ue.precision=ue.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ba+e);if(t=Ct(i)+1,n=i.d.length-1,r=n*ht+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ue.squareRoot=ue.sqrt=function(){var e,t,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Zr+"NaN")}for(e=Ct(s),mt=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=Rn(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Gs((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(si(s,a,o+2)).times(.5),Rn(a.d).slice(0,o)===(t=Rn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(at(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(t!="9999")break;o+=4}return mt=!0,at(n,r)};ue.times=ue.mul=function(e){var t,r,n,i,a,o,s,l,c,u=this,d=u.constructor,h=u.d,p=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,o=l,l=c,c=o),a=[],o=l+c,n=o;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)s=a[i]+p[n]*h[i-n-1]+t,a[i--]=s%Wt|0,t=s/Wt|0;a[i]=(a[i]+t)%Wt|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,mt?at(e,d.precision):e};ue.toDecimalPlaces=ue.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(zn(e,0,Ks),t===void 0?t=n.rounding:zn(t,0,8),at(r,e+Ct(r)+1,t))};ue.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ya(n,!0):(zn(e,0,Ks),t===void 0?t=i.rounding:zn(t,0,8),n=at(new i(n),e+1,t),r=Ya(n,!0,e+1)),r};ue.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?Ya(i):(zn(e,0,Ks),t===void 0?t=a.rounding:zn(t,0,8),n=at(new a(i),e+Ct(i)+1,t),r=Ya(n.abs(),!1,e+Ct(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ue.toInteger=ue.toint=function(){var e=this,t=e.constructor;return at(new t(e),Ct(e)+1,t.rounding)};ue.toNumber=function(){return+this};ue.toPower=ue.pow=function(e){var t,r,n,i,a,o,s=this,l=s.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(Nr);if(s=new l(s),!s.s){if(e.s<1)throw Error(Zr+"Infinity");return s}if(s.eq(Nr))return s;if(n=l.precision,e.eq(Nr))return at(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=s.s,o){if((r=u<0?-u:u)<=x5){for(i=new l(Nr),t=Math.ceil(n/ht+4),mt=!1;r%2&&(i=i.times(s),EP(i.d,t)),r=Gs(r/2),r!==0;)s=s.times(s),EP(s.d,t);return mt=!0,e.s<0?new l(Nr).div(i):at(i,n)}}else if(a<0)throw Error(Zr+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,mt=!1,i=e.times(hc(s,n+c)),mt=!0,i=S5(i),i.s=a,i};ue.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Ct(i),n=Ya(i,r<=a.toExpNeg||r>=a.toExpPos)):(zn(e,1,Ks),t===void 0?t=a.rounding:zn(t,0,8),i=at(new a(i),e,t),r=Ct(i),n=Ya(i,e<=r||r<=a.toExpNeg,e)),n};ue.toSignificantDigits=ue.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(zn(e,1,Ks),t===void 0?t=n.rounding:zn(t,0,8)),at(new n(r),e,t)};ue.toString=ue.valueOf=ue.val=ue.toJSON=ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ct(e),r=e.constructor;return Ya(e,t<=r.toExpNeg||t>=r.toExpPos)};function w5(e,t){var r,n,i,a,o,s,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),mt?at(t,d):t;if(l=e.d,c=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=c.length):(n=c,i=o,s=l.length),o=Math.ceil(d/ht),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/Wt|0,l[a]%=Wt;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,mt?at(t,d):t}function zn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ba+e)}function Rn(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=ht-n.length,r&&(a+=Ci(r)),a+=n;o=e[t],n=o+"",r=ht-n.length,r&&(a+=Ci(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var si=(function(){function e(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%Wt|0,o=a/Wt|0;return o&&n.unshift(o),n}function t(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*Wt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,c,u,d,h,p,y,m,g,v,x,b,E,S,_,O,k,T=n.constructor,j=n.s==i.s?1:-1,A=n.d,N=i.d;if(!n.s)return new T(n);if(!i.s)throw Error(Zr+"Division by zero");for(l=n.e-i.e,O=N.length,S=A.length,p=new T(j),y=p.d=[],c=0;N[c]==(A[c]||0);)++c;if(N[c]>(A[c]||0)&&--l,a==null?x=a=T.precision:o?x=a+(Ct(n)-Ct(i))+1:x=a,x<0)return new T(0);if(x=x/ht+2|0,c=0,O==1)for(u=0,N=N[0],x++;(c<S||u)&&x--;c++)b=u*Wt+(A[c]||0),y[c]=b/N|0,u=b%N|0;else{for(u=Wt/(N[0]+1)|0,u>1&&(N=e(N,u),A=e(A,u),O=N.length,S=A.length),E=O,m=A.slice(0,O),g=m.length;g<O;)m[g++]=0;k=N.slice(),k.unshift(0),_=N[0],N[1]>=Wt/2&&++_;do u=0,s=t(N,m,O,g),s<0?(v=m[0],O!=g&&(v=v*Wt+(m[1]||0)),u=v/_|0,u>1?(u>=Wt&&(u=Wt-1),d=e(N,u),h=d.length,g=m.length,s=t(d,m,h,g),s==1&&(u--,r(d,O<h?k:N,h))):(u==0&&(s=u=1),d=N.slice()),h=d.length,h<g&&d.unshift(0),r(m,d,g),s==-1&&(g=m.length,s=t(N,m,O,g),s<1&&(u++,r(m,O<g?k:N,g))),g=m.length):s===0&&(u++,m=[0]),y[c++]=u,s&&m[0]?m[g++]=A[E]||0:(m=[A[E]],g=1);while((E++<S||m[0]!==void 0)&&x--)}return y[0]||y.shift(),p.e=l,at(p,o?a+Ct(p)+1:a)}})();function S5(e,t){var r,n,i,a,o,s,l=0,c=0,u=e.constructor,d=u.precision;if(Ct(e)>16)throw Error(Y1+Ct(e));if(!e.s)return new u(Nr);for(mt=!1,s=d,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(n=Math.log(Ea(2,c))/Math.LN10*2+5|0,s+=n,r=i=a=new u(Nr),u.precision=s;;){if(i=at(i.times(e),s),r=r.times(++l),o=a.plus(si(i,r,s)),Rn(o.d).slice(0,s)===Rn(a.d).slice(0,s)){for(;c--;)a=at(a.times(a),s);return u.precision=d,t==null?(mt=!0,at(a,d)):a}a=o}}function Ct(e){for(var t=e.e*ht,r=e.d[0];r>=10;r/=10)t++;return t}function _v(e,t,r){if(t>e.LN10.sd())throw mt=!0,r&&(e.precision=r),Error(Zr+"LN10 precision limit exceeded");return at(new e(e.LN10),t)}function Ci(e){for(var t="";e--;)t+="0";return t}function hc(e,t){var r,n,i,a,o,s,l,c,u,d=1,h=10,p=e,y=p.d,m=p.constructor,g=m.precision;if(p.s<1)throw Error(Zr+(p.s?"NaN":"-Infinity"));if(p.eq(Nr))return new m(0);if(t==null?(mt=!1,c=g):c=t,p.eq(10))return t==null&&(mt=!0),_v(m,c);if(c+=h,m.precision=c,r=Rn(y),n=r.charAt(0),a=Ct(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Rn(p.d),n=r.charAt(0),d++;a=Ct(p),n>1?(p=new m("0."+r),a++):p=new m(n+"."+r.slice(1))}else return l=_v(m,c+2,g).times(a+""),p=hc(new m(n+"."+r.slice(1)),c-h).plus(l),m.precision=g,t==null?(mt=!0,at(p,g)):p;for(s=o=p=si(p.minus(Nr),p.plus(Nr),c),u=at(p.times(p),c),i=3;;){if(o=at(o.times(u),c),l=s.plus(si(o,new m(i),c)),Rn(l.d).slice(0,c)===Rn(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(_v(m,c+2,g).times(a+""))),s=si(s,new m(d),c),m.precision=g,t==null?(mt=!0,at(s,g)):s;s=l,i+=2}}function _P(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Gs(r/ht),e.d=[],n=(r+1)%ht,r<0&&(n+=ht),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=ht;n<i;)e.d.push(+t.slice(n,n+=ht));t=t.slice(n),n=ht-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),mt&&(e.e>Jd||e.e<-Jd))throw Error(Y1+r)}else e.s=0,e.e=0,e.d=[0];return e}function at(e,t,r){var n,i,a,o,s,l,c,u,d=e.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=ht,i=t,c=d[u=0];else{if(u=Math.ceil((n+1)/ht),a=d.length,u>=a)return e;for(c=a=d[u],o=1;a>=10;a/=10)o++;n%=ht,i=n-ht+o}if(r!==void 0&&(a=Ea(10,o-i-1),s=c/a%10|0,l=t<0||d[u+1]!==void 0||c%a,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?c/Ea(10,o-i):0:d[u-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(a=Ct(e),d.length=1,t=t-a-1,d[0]=Ea(10,(ht-t%ht)%ht),e.e=Gs(-t/ht)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=u,a=1,u--):(d.length=u+1,a=Ea(10,ht-n),d[u]=i>0?(c/Ea(10,o-i)%Ea(10,i)|0)*a:0),l)for(;;)if(u==0){(d[0]+=a)==Wt&&(d[0]=1,++e.e);break}else{if(d[u]+=a,d[u]!=Wt)break;d[u--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(mt&&(e.e>Jd||e.e<-Jd))throw Error(Y1+Ct(e));return e}function _5(e,t){var r,n,i,a,o,s,l,c,u,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),mt?at(t,p):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),o=c-n,o){for(u=o<0,u?(r=l,o=-o,s=d.length):(r=d,n=c,s=l.length),i=Math.max(Math.ceil(p/ht),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=d.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}o=0}for(u&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=Wt-1;--l[a],l[i]+=Wt}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,mt?at(t,p):t):new h(0)}function Ya(e,t,r){var n,i=Ct(e),a=Rn(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ci(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ci(-i-1)+a,r&&(n=r-o)>0&&(a+=Ci(n))):i>=o?(a+=Ci(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Ci(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Ci(n))),e.s<0?"-"+a:a}function EP(e,t){if(e.length>t)return e.length=t,!0}function E5(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ba+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return _P(o,a.toString())}else if(typeof a!="string")throw Error(Ba+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Ple.test(a))_P(o,a);else throw Error(Ba+a)}if(i.prototype=ue,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=E5,i.config=i.set=Tle,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function Tle(e){if(!e||typeof e!="object")throw Error(Zr+"Object expected");var t,r,n,i=["precision",1,Ks,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Gs(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Ba+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ba+r+": "+n);return this}var X1=E5(kle);Nr=new X1(1);const et=X1;function Cle(e){return Mle(e)||Ile(e)||Rle(e)||Nle()}function Nle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rle(e,t){if(e){if(typeof e=="string")return $0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $0(e,t)}}function Ile(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Mle(e){if(Array.isArray(e))return $0(e)}function $0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Dle=function(t){return t},O5={},j5=function(t){return t===O5},OP=function(t){return function r(){return arguments.length===0||arguments.length===1&&j5(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},$le=function e(t,r){return t===1?r:OP(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==O5}).length;return o>=t?r.apply(void 0,i):e(t-o,OP(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=i.map(function(d){return j5(d)?l.shift():d});return r.apply(void 0,Cle(u).concat(l))}))})},Hh=function(t){return $le(t.length,t)},L0=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},Lle=Hh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Fle=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Dle;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},F0=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},A5=function(t){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,l){return s===r[l]})||(r=a,n=t.apply(void 0,a)),n}};function Ble(e){var t;return e===0?t=1:t=Math.floor(new et(e).abs().log(10).toNumber())+1,t}function qle(e,t,r){for(var n=new et(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var zle=Hh(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),Ule=Hh(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Wle=Hh(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Vh={rangeStep:qle,getDigitCount:Ble,interpolateNumber:zle,uninterpolateNumber:Ule,uninterpolateTruncation:Wle};function B0(e){return Kle(e)||Vle(e)||k5(e)||Hle()}function Hle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vle(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Kle(e){if(Array.isArray(e))return q0(e)}function pc(e,t){return Xle(e)||Yle(e,t)||k5(e,t)||Gle()}function Gle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k5(e,t){if(e){if(typeof e=="string")return q0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q0(e,t)}}function q0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yle(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function Xle(e){if(Array.isArray(e))return e}function P5(e){var t=pc(e,2),r=t[0],n=t[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function T5(e,t,r){if(e.lte(0))return new et(0);var n=Vh.getDigitCount(e.toNumber()),i=new et(10).pow(n),a=e.div(i),o=n!==1?.05:.1,s=new et(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return t?l:new et(Math.ceil(l))}function Qle(e,t,r){var n=1,i=new et(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new et(10).pow(Vh.getDigitCount(e)-1),i=new et(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new et(Math.floor(e)))}else e===0?i=new et(Math.floor((t-1)/2)):r||(i=new et(Math.floor(e)));var o=Math.floor((t-1)/2),s=Fle(Lle(function(l){return i.add(new et(l-o).mul(n)).toNumber()}),L0);return s(0,t)}function C5(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new et(0),tickMin:new et(0),tickMax:new et(0)};var a=T5(new et(t).sub(e).div(r-1),n,i),o;e<=0&&t>=0?o=new et(0):(o=new et(e).add(t).div(2),o=o.sub(new et(o).mod(a)));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new et(t).sub(o).div(a).toNumber()),c=s+l+1;return c>r?C5(e,t,r,n,i+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:a,tickMin:o.sub(new et(s).mul(a)),tickMax:o.add(new et(l).mul(a))})}function Jle(e){var t=pc(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=P5([r,n]),l=pc(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(B0(L0(0,i-1).map(function(){return 1/0}))):[].concat(B0(L0(0,i-1).map(function(){return-1/0})),[u]);return r>n?F0(d):d}if(c===u)return Qle(c,i,a);var h=C5(c,u,o,a),p=h.step,y=h.tickMin,m=h.tickMax,g=Vh.rangeStep(y,m.add(new et(.1).mul(p)),p);return r>n?F0(g):g}function Zle(e,t){var r=pc(e,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=P5([n,i]),s=pc(o,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var u=Math.max(t,2),d=T5(new et(c).sub(l).div(u-1),a,0),h=[].concat(B0(Vh.rangeStep(new et(l),new et(c).sub(new et(.99).mul(d)),d)),[c]);return n>i?F0(h):h}var ece=A5(Jle),tce=A5(Zle),rce="Invariant failed";function Xa(e,t){throw new Error(rce)}var nce=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function os(e){"@babel/helpers - typeof";return os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},os(e)}function Zd(){return Zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zd.apply(this,arguments)}function ice(e,t){return lce(e)||sce(e,t)||oce(e,t)||ace()}function ace(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oce(e,t){if(e){if(typeof e=="string")return jP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jP(e,t)}}function jP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function lce(e){if(Array.isArray(e))return e}function cce(e,t){if(e==null)return{};var r=uce(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I5(n.key),n)}}function hce(e,t,r){return t&&fce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pce(e,t,r){return t=ef(t),mce(e,N5()?Reflect.construct(t,r||[],ef(e).constructor):t.apply(e,r))}function mce(e,t){if(t&&(os(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gce(e)}function gce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N5=function(){return!!e})()}function ef(e){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ef(e)}function yce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z0(e,t)}function z0(e,t){return z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},z0(e,t)}function R5(e,t,r){return t=I5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I5(e){var t=vce(e,"string");return os(t)=="symbol"?t:t+""}function vce(e,t){if(os(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ys=(function(e){function t(){return dce(this,t),pce(this,t,arguments)}return yce(t,e),hce(t,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,d=n.yAxis,h=cce(n,nce),p=le(h,!1);this.props.direction==="x"&&u.type!=="number"&&Xa();var y=l.map(function(m){var g=c(m,s),v=g.x,x=g.y,b=g.value,E=g.errorVal;if(!E)return null;var S=[],_,O;if(Array.isArray(E)){var k=ice(E,2);_=k[0],O=k[1]}else _=O=E;if(a==="vertical"){var T=u.scale,j=x+i,A=j+o,N=j-o,D=T(b-_),M=T(b+O);S.push({x1:M,y1:A,x2:M,y2:N}),S.push({x1:D,y1:j,x2:M,y2:j}),S.push({x1:D,y1:A,x2:D,y2:N})}else if(a==="horizontal"){var I=d.scale,L=v+i,B=L-o,F=L+o,$=I(b-_),C=I(b+O);S.push({x1:B,y1:C,x2:F,y2:C}),S.push({x1:L,y1:$,x2:L,y2:C}),S.push({x1:B,y1:$,x2:F,y2:$})}return P.createElement(Ae,Zd({className:"recharts-errorBar",key:"bar-".concat(S.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},p),S.map(function(W){return P.createElement("line",Zd({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return P.createElement(Ae,{className:"recharts-errorBars"},y)}}])})(P.Component);R5(Ys,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});R5(Ys,"displayName","ErrorBar");function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}function AP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(r),!0).forEach(function(n){bce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bce(e,t,r){return t=xce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xce(e){var t=wce(e,"string");return mc(t)=="symbol"?t:t+""}function wce(e,t){if(mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M5=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=Ar(r,Rr);if(!o)return null;var s=Rr.defaultProps,l=s!==void 0?ga(ga({},s),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:a==="children"?c=(n||[]).reduce(function(u,d){var h=d.item,p=d.props,y=p.sectors||p.data||[];return u.concat(y.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(n||[]).map(function(u){var d=u.item,h=d.type.defaultProps,p=h!==void 0?ga(ga({},h),d.props):{},y=p.dataKey,m=p.name,g=p.legendType,v=p.hide;return{inactive:v,dataKey:y,type:l.iconType||g||"square",color:Q1(d),value:m||y,payload:p}}),ga(ga(ga({},l),Rr.getWithHeight(o,i)),{},{payload:c,item:o})};function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function kP(e){return Oce(e)||Ece(e)||_ce(e)||Sce()}function Sce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ce(e,t){if(e){if(typeof e=="string")return U0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U0(e,t)}}function Ece(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Oce(e){if(Array.isArray(e))return U0(e)}function U0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PP(Object(r),!0).forEach(function(n){Wo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wo(e,t,r){return t=jce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jce(e){var t=Ace(e,"string");return gc(t)=="symbol"?t:t+""}function Ace(e,t){if(gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function it(e,t,r){return be(e)||be(t)?r:zt(t)?Dr(e,t,r):ve(t)?t(e):r}function Ml(e,t,r,n){var i=Ole(e,function(s){return it(s,t)});if(r==="number"){var a=i.filter(function(s){return ee(s)||parseFloat(s)});return a.length?[Wh(a),Li(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!be(s)}):i;return o.map(function(s){return zt(s)||s instanceof Date?s:""})}var kce=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n?.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<s;c++){var u=c>0?i[c-1].coordinate:i[s-1].coordinate,d=i[c].coordinate,h=c>=s-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(lr(d-u)!==lr(h-d)){var y=[];if(lr(h-d)===lr(l[1]-l[0])){p=h;var m=d+l[1]-l[0];y[0]=Math.min(m,(m+u)/2),y[1]=Math.max(m,(m+u)/2)}else{p=u;var g=h+l[1]-l[0];y[0]=Math.min(d,(g+d)/2),y[1]=Math.max(d,(g+d)/2)}var v=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>v[0]&&t<=v[1]||t>=y[0]&&t<=y[1]){o=i[c].index;break}}else{var x=Math.min(u,h),b=Math.max(u,h);if(t>(x+d)/2&&t<=(b+d)/2){o=i[c].index;break}}}else for(var E=0;E<s;E++)if(E===0&&t<=(n[E].coordinate+n[E+1].coordinate)/2||E>0&&E<s-1&&t>(n[E].coordinate+n[E-1].coordinate)/2&&t<=(n[E].coordinate+n[E+1].coordinate)/2||E===s-1&&t>(n[E].coordinate+n[E-1].coordinate)/2){o=n[E].index;break}return o},Q1=function(t){var r,n=t,i=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?bt(bt({},t.type.defaultProps),t.props):t.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},Pce=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,c=s.length;l<c;l++)for(var u=a[s[l]].stackGroups,d=Object.keys(u),h=0,p=d.length;h<p;h++){var y=u[d[h]],m=y.items,g=y.cateAxisId,v=m.filter(function(O){return oi(O.type).indexOf("Bar")>=0});if(v&&v.length){var x=v[0].type.defaultProps,b=x!==void 0?bt(bt({},x),v[0].props):v[0].props,E=b.barSize,S=b[g];o[S]||(o[S]=[]);var _=be(E)?r:E;o[S].push({item:v[0],stackList:v.slice(1),barSize:be(_)?void 0:cr(_,n,0)})}}return o},Tce=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,s=t.maxBarSize,l=o.length;if(l<1)return null;var c=cr(r,i,0,!0),u,d=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/l,y=o.reduce(function(E,S){return E+S.barSize||0},0);y+=(l-1)*c,y>=i&&(y-=(l-1)*c,c=0),y>=i&&p>0&&(h=!0,p*=.9,y=l*p);var m=(i-y)/2>>0,g={offset:m-c,size:0};u=o.reduce(function(E,S){var _={item:S.item,position:{offset:g.offset+g.size+c,size:h?p:S.barSize}},O=[].concat(kP(E),[_]);return g=O[O.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(k){O.push({item:k,position:g})}),O},d)}else{var v=cr(n,i,0,!0);i-2*v-(l-1)*c<=0&&(c=0);var x=(i-2*v-(l-1)*c)/l;x>1&&(x>>=0);var b=s===+s?Math.min(x,s):x;u=o.reduce(function(E,S,_){var O=[].concat(kP(E),[{item:S.item,position:{offset:v+(x+c)*_+(x-b)/2,size:b}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(k){O.push({item:k,position:O[O.length-1].position})}),O},d)}return u},Cce=function(t,r,n,i){var a=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),c=M5({children:a,legendWidth:l});if(c){var u=i||{},d=u.width,h=u.height,p=c.align,y=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&y==="middle")&&p!=="center"&&ee(t[p]))return bt(bt({},t),{},Wo({},p,t[p]+(d||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&y!=="middle"&&ee(t[y]))return bt(bt({},t),{},Wo({},y,t[y]+(h||0)))}return t},Nce=function(t,r,n){return be(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},D5=function(t,r,n,i,a){var o=r.props.children,s=dr(o,Ys).filter(function(c){return Nce(i,a,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var d=it(u,n);if(be(d))return c;var h=Array.isArray(d)?[Wh(d),Li(d)]:[d,d],p=l.reduce(function(y,m){var g=it(u,m,0),v=h[0]-Math.abs(Array.isArray(g)?g[0]:g),x=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(v,y[0]),Math.max(x,y[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},Rce=function(t,r,n,i,a){var o=r.map(function(s){return D5(t,s,n,a,i)}).filter(function(s){return!be(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},$5=function(t,r,n,i,a){var o=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&D5(t,l,c,i)||Ml(t,c,n,a)});if(n==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},L5=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},F5=function(t,r,n,i){if(i)return t.map(function(l){return l.coordinate});var a,o,s=t.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(o=!0),l.coordinate});return a||s.push(r),o||s.push(n),s},ii=function(t,r,n){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,s=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&s?.length>=2?lr(s[0]-s[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(d){var h=a?a.indexOf(d):d;return{coordinate:i(h)+c,value:d,offset:c}});return u.filter(function(d){return!Us(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:i(d)+c,value:d,index:h,offset:c}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,h){return{coordinate:i(d)+c,value:a?a[d]:d,index:h,offset:c}})},Ev=new WeakMap,qu=function(t,r){if(typeof r!="function")return t;Ev.has(t)||Ev.set(t,new WeakMap);var n=Ev.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},B5=function(t,r,n){var i=t.scale,a=t.type,o=t.layout,s=t.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:lc(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Gd(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Il(),realScaleType:"point"}:a==="category"?{scale:lc(),realScaleType:"band"}:{scale:Gd(),realScaleType:"linear"};if(Ka(i)){var l="scale".concat(Ph(i));return{scale:(pP[l]||Il)(),realScaleType:pP[l]?l:"point"}}return ve(i)?{scale:i}:{scale:Il(),realScaleType:"point"}},TP=1e-4,q5=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),a=Math.min(i[0],i[1])-TP,o=Math.max(i[0],i[1])+TP,s=t(r[0]),l=t(r[n-1]);(s<a||s>o||l<a||l>o)&&t.domain([r[0],r[n-1]])}},Ice=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},Mce=function(t,r){if(!r||r.length!==2||!ee(r[0])||!ee(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!ee(t[0])||t[0]<n)&&(a[0]=n),(!ee(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},Dce=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var l=Us(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=a,t[s][n][1]=a+l,a=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1])}},$ce=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=Us(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=a,t[o][n][1]=a+s,a=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Lce={sign:Dce,expand:Ore,none:Jo,silhouette:jre,wiggle:Are,positive:$ce},Fce=function(t,r,n){var i=r.map(function(s){return s.props.dataKey}),a=Lce[n],o=Ere().keys(i).value(function(s,l){return+it(s,l,0)}).order(b0).offset(a);return o(t)},Bce=function(t,r,n,i,a,o){if(!t)return null;var s=o?r.reverse():r,l={},c=s.reduce(function(d,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?bt(bt({},h.type.defaultProps),h.props):h.props,m=y.stackId,g=y.hide;if(g)return d;var v=y[n],x=d[v]||{hasStack:!1,stackGroups:{}};if(zt(m)){var b=x.stackGroups[m]||{numericAxisId:n,cateAxisId:i,items:[]};b.items.push(h),x.hasStack=!0,x.stackGroups[m]=b}else x.stackGroups[oa("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return bt(bt({},d),{},Wo({},v,x))},l),u={};return Object.keys(c).reduce(function(d,h){var p=c[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,g){var v=p.stackGroups[g];return bt(bt({},m),{},Wo({},g,{numericAxisId:n,cateAxisId:i,items:v.items,stackedData:Fce(t,v.items,a)}))},y)}return bt(bt({},d),{},Wo({},h,p))},u)},z5=function(t,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=ece(c,a,s);return t.domain([Wh(u),Li(u)]),{niceTicks:u}}if(a&&i==="number"){var d=t.domain(),h=tce(d,a,s);return{niceTicks:h}}return null};function ss(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!be(i[t.dataKey])){var s=Td(r,"value",i[t.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=it(i,be(o)?t.dataKey:o);return be(l)?null:t.scale(l)}var CP=function(t){var r=t.axis,n=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=it(o,r.dataKey,r.domain[s]);return be(l)?null:r.scale(l)-a/2+i},qce=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},zce=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?bt(bt({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(zt(a)){var o=r[a];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},Uce=function(t){return t.reduce(function(r,n){return[Wh(n.concat([r[0]]).filter(ee)),Li(n.concat([r[1]]).filter(ee))]},[1/0,-1/0])},U5=function(t,r,n){return Object.keys(t).reduce(function(i,a){var o=t[a],s=o.stackedData,l=s.reduce(function(c,u){var d=Uce(u.slice(r,n+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},NP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,RP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,W0=function(t,r,n){if(ve(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(ee(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(NP.test(t[0])){var a=+NP.exec(t[0])[1];i[0]=r[0]-a}else ve(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(ee(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(RP.test(t[1])){var o=+RP.exec(t[1])[1];i[1]=r[1]+o}else ve(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},tf=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var a=O1(r,function(d){return d.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var c=a[s],u=a[s-1];o=Math.min((c.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},IP=function(t,r,n){return!t||!t.length||hi(t,Dr(n,"type.defaultProps.domain"))?r:t},W5=function(t,r){var n=t.type.defaultProps?bt(bt({},t.type.defaultProps),t.props):t.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return bt(bt({},le(t,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:Q1(t),value:it(r,i),type:l,payload:r,chartType:c,hide:u})};function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function MP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(r),!0).forEach(function(n){H5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H5(e,t,r){return t=Wce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wce(e){var t=Hce(e,"string");return yc(t)=="symbol"?t:t+""}function Hce(e,t){if(yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vce(e,t){return Xce(e)||Yce(e,t)||Gce(e,t)||Kce()}function Kce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gce(e,t){if(e){if(typeof e=="string")return DP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DP(e,t)}}function DP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Xce(e){if(Array.isArray(e))return e}var rf=Math.PI/180,Qce=function(t){return t*180/Math.PI},He=function(t,r,n,i){return{x:t+Math.cos(-rf*i)*n,y:r+Math.sin(-rf*i)*n}},V5=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},K5=function(t,r,n,i,a){var o=t.width,s=t.height,l=t.startAngle,c=t.endAngle,u=cr(t.cx,o,o/2),d=cr(t.cy,s,s/2),h=V5(o,s,n),p=cr(t.innerRadius,h,0),y=cr(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(g,v){var x=r[v],b=x.domain,E=x.reversed,S;if(be(x.range))i==="angleAxis"?S=[l,c]:i==="radiusAxis"&&(S=[p,y]),E&&(S=[S[1],S[0]]);else{S=x.range;var _=S,O=Vce(_,2);l=O[0],c=O[1]}var k=B5(x,a),T=k.realScaleType,j=k.scale;j.domain(b).range(S),q5(j);var A=z5(j,Zn(Zn({},x),{},{realScaleType:T})),N=Zn(Zn(Zn({},x),A),{},{range:S,radius:y,realScaleType:T,scale:j,cx:u,cy:d,innerRadius:p,outerRadius:y,startAngle:l,endAngle:c});return Zn(Zn({},g),{},H5({},v,N))},{})},Jce=function(t,r){var n=t.x,i=t.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},Zce=function(t,r){var n=t.x,i=t.y,a=r.cx,o=r.cy,s=Jce({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(n-a)/s,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:s,angle:Qce(c),angleInRadian:c}},eue=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},tue=function(t,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return t+s*360},$P=function(t,r){var n=t.x,i=t.y,a=Zce({x:n,y:i},r),o=a.radius,s=a.angle,l=r.innerRadius,c=r.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var u=eue(r),d=u.startAngle,h=u.endAngle,p=s,y;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;y=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=d}return y?Zn(Zn({},r),{},{radius:o,angle:tue(p,r)}):null},G5=function(t){return!w.isValidElement(t)&&!ve(t)&&typeof t!="boolean"?t.className:""};function vc(e){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}var rue=["offset"];function nue(e){return sue(e)||oue(e)||aue(e)||iue()}function iue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aue(e,t){if(e){if(typeof e=="string")return H0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H0(e,t)}}function oue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sue(e){if(Array.isArray(e))return H0(e)}function H0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lue(e,t){if(e==null)return{};var r=cue(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function LP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(r),!0).forEach(function(n){uue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uue(e,t,r){return t=due(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function due(e){var t=fue(e,"string");return vc(t)=="symbol"?t:t+""}function fue(e,t){if(vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bc.apply(this,arguments)}var hue=function(t){var r=t.value,n=t.formatter,i=be(t.children)?r:t.children;return ve(n)?n(i):i},pue=function(t,r){var n=lr(r-t),i=Math.min(Math.abs(r-t),360);return n*i},mue=function(t,r,n){var i=t.position,a=t.viewBox,o=t.offset,s=t.className,l=a,c=l.cx,u=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,y=l.endAngle,m=l.clockWise,g=(d+h)/2,v=pue(p,y),x=v>=0?1:-1,b,E;i==="insideStart"?(b=p+x*o,E=m):i==="insideEnd"?(b=y-x*o,E=!m):i==="end"&&(b=y+x*o,E=m),E=v<=0?E:!E;var S=He(c,u,g,b),_=He(c,u,g,b+(E?1:-1)*359),O="M".concat(S.x,",").concat(S.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(E?0:1,`,
    `).concat(_.x,",").concat(_.y),k=be(t.id)?oa("recharts-radial-line-"):t.id;return P.createElement("text",bc({},n,{dominantBaseline:"central",className:_e("recharts-radial-bar-label",s)}),P.createElement("defs",null,P.createElement("path",{id:k,d:O})),P.createElement("textPath",{xlinkHref:"#".concat(k)},r))},gue=function(t){var r=t.viewBox,n=t.offset,i=t.position,a=r,o=a.cx,s=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,d=a.endAngle,h=(u+d)/2;if(i==="outside"){var p=He(o,s,c+n,h),y=p.x,m=p.y;return{x:y,y:m,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var g=(l+c)/2,v=He(o,s,g,h),x=v.x,b=v.y;return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},yue=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,a=t.position,o=r,s=o.x,l=o.y,c=o.width,u=o.height,d=u>=0?1:-1,h=d*i,p=d>0?"end":"start",y=d>0?"start":"end",m=c>=0?1:-1,g=m*i,v=m>0?"end":"start",x=m>0?"start":"end";if(a==="top"){var b={x:s+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:p};return $t($t({},b),n?{height:Math.max(l-n.y,0),width:c}:{})}if(a==="bottom"){var E={x:s+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:y};return $t($t({},E),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(a==="left"){var S={x:s-g,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return $t($t({},S),n?{width:Math.max(S.x-n.x,0),height:u}:{})}if(a==="right"){var _={x:s+c+g,y:l+u/2,textAnchor:x,verticalAnchor:"middle"};return $t($t({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:u}:{})}var O=n?{width:c,height:u}:{};return a==="insideLeft"?$t({x:s+g,y:l+u/2,textAnchor:x,verticalAnchor:"middle"},O):a==="insideRight"?$t({x:s+c-g,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},O):a==="insideTop"?$t({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:y},O):a==="insideBottom"?$t({x:s+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},O):a==="insideTopLeft"?$t({x:s+g,y:l+h,textAnchor:x,verticalAnchor:y},O):a==="insideTopRight"?$t({x:s+c-g,y:l+h,textAnchor:v,verticalAnchor:y},O):a==="insideBottomLeft"?$t({x:s+g,y:l+u-h,textAnchor:x,verticalAnchor:p},O):a==="insideBottomRight"?$t({x:s+c-g,y:l+u-h,textAnchor:v,verticalAnchor:p},O):zs(a)&&(ee(a.x)||Na(a.x))&&(ee(a.y)||Na(a.y))?$t({x:s+cr(a.x,c),y:l+cr(a.y,u),textAnchor:"end",verticalAnchor:"end"},O):$t({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},O)},vue=function(t){return"cx"in t&&ee(t.cx)};function Ht(e){var t=e.offset,r=t===void 0?5:t,n=lue(e,rue),i=$t({offset:r},n),a=i.viewBox,o=i.position,s=i.value,l=i.children,c=i.content,u=i.className,d=u===void 0?"":u,h=i.textBreakAll;if(!a||be(s)&&be(l)&&!w.isValidElement(c)&&!ve(c))return null;if(w.isValidElement(c))return w.cloneElement(c,i);var p;if(ve(c)){if(p=w.createElement(c,i),w.isValidElement(p))return p}else p=hue(i);var y=vue(a),m=le(i,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return mue(i,p,m);var g=y?gue(i):yue(i);return P.createElement(Ga,bc({className:_e("recharts-label",d)},m,g,{breakAll:h}),p)}Ht.displayName="Label";var Y5=function(t){var r=t.cx,n=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,d=t.x,h=t.y,p=t.top,y=t.left,m=t.width,g=t.height,v=t.clockWise,x=t.labelViewBox;if(x)return x;if(ee(m)&&ee(g)){if(ee(d)&&ee(h))return{x:d,y:h,width:m,height:g};if(ee(p)&&ee(y))return{x:p,y,width:m,height:g}}return ee(d)&&ee(h)?{x:d,y:h,width:0,height:0}:ee(r)&&ee(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:v}:t.viewBox?t.viewBox:{}},bue=function(t,r){return t?t===!0?P.createElement(Ht,{key:"label-implicit",viewBox:r}):zt(t)?P.createElement(Ht,{key:"label-implicit",viewBox:r,value:t}):w.isValidElement(t)?t.type===Ht?w.cloneElement(t,{key:"label-implicit",viewBox:r}):P.createElement(Ht,{key:"label-implicit",content:t,viewBox:r}):ve(t)?P.createElement(Ht,{key:"label-implicit",content:t,viewBox:r}):zs(t)?P.createElement(Ht,bc({viewBox:r},t,{key:"label-implicit"})):null:null},xue=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,a=Y5(t),o=dr(i,Ht).map(function(l,c){return w.cloneElement(l,{viewBox:r||a,key:"label-".concat(c)})});if(!n)return o;var s=bue(t.label,r||a);return[s].concat(nue(o))};Ht.parseViewBox=Y5;Ht.renderCallByParent=xue;var Ov,FP;function wue(){if(FP)return Ov;FP=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return Ov=e,Ov}var Sue=wue();const X5=Ue(Sue);function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}var _ue=["valueAccessor"],Eue=["data","dataKey","clockWise","id","textBreakAll"];function Oue(e){return Pue(e)||kue(e)||Aue(e)||jue()}function jue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aue(e,t){if(e){if(typeof e=="string")return V0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V0(e,t)}}function kue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pue(e){if(Array.isArray(e))return V0(e)}function V0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nf.apply(this,arguments)}function BP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BP(Object(r),!0).forEach(function(n){Tue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tue(e,t,r){return t=Cue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cue(e){var t=Nue(e,"string");return xc(t)=="symbol"?t:t+""}function Nue(e,t){if(xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zP(e,t){if(e==null)return{};var r=Rue(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Iue=function(t){return Array.isArray(t.value)?X5(t.value):t.value};function Xr(e){var t=e.valueAccessor,r=t===void 0?Iue:t,n=zP(e,_ue),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,c=zP(n,Eue);return!i||!i.length?null:P.createElement(Ae,{className:"recharts-label-list"},i.map(function(u,d){var h=be(a)?r(u,d):it(u&&u.payload,a),p=be(s)?{}:{id:"".concat(s,"-").concat(d)};return P.createElement(Ht,nf({},le(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Ht.parseViewBox(be(o)?u:qP(qP({},u),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}Xr.displayName="LabelList";function Mue(e,t){return e?e===!0?P.createElement(Xr,{key:"labelList-implicit",data:t}):P.isValidElement(e)||ve(e)?P.createElement(Xr,{key:"labelList-implicit",data:t,content:e}):zs(e)?P.createElement(Xr,nf({data:t},e,{key:"labelList-implicit"})):null:null}function Due(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=dr(n,Xr).map(function(o,s){return w.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!r)return i;var a=Mue(e.label,t);return[a].concat(Oue(i))}Xr.renderCallByParent=Due;function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function K0(){return K0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K0.apply(this,arguments)}function UP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function WP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UP(Object(r),!0).forEach(function(n){$ue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ue(e,t,r){return t=Lue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lue(e){var t=Fue(e,"string");return wc(t)=="symbol"?t:t+""}function Fue(e,t){if(wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bue=function(t,r){var n=lr(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},zu=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.angle,o=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(s?1:-1)+i,d=Math.asin(l/u)/rf,h=c?a:a+o*d,p=He(r,n,u,h),y=He(r,n,i,h),m=c?a-o*d:a,g=He(r,n,u*Math.cos(d*rf),m);return{center:p,circleTangency:y,lineTangency:g,theta:d}},Q5=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,s=t.endAngle,l=Bue(o,s),c=o+l,u=He(r,n,a,o),d=He(r,n,a,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var p=He(r,n,i,o),y=He(r,n,i,c);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},que=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,d=lr(u-c),h=zu({cx:r,cy:n,radius:a,angle:c,sign:d,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,y=h.lineTangency,m=h.theta,g=zu({cx:r,cy:n,radius:a,angle:u,sign:-d,cornerRadius:o,cornerIsExternal:l}),v=g.circleTangency,x=g.lineTangency,b=g.theta,E=l?Math.abs(c-u):Math.abs(c-u)-m-b;if(E<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Q5({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var S="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(E>180),",").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var _=zu({cx:r,cy:n,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),O=_.circleTangency,k=_.lineTangency,T=_.theta,j=zu({cx:r,cy:n,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),A=j.circleTangency,N=j.lineTangency,D=j.theta,M=l?Math.abs(c-u):Math.abs(c-u)-T-D;if(M<0&&o===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(M>180),",").concat(+(d>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},zue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},J5=function(t){var r=WP(WP({},zue),t),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,d=r.endAngle,h=r.className;if(o<a||u===d)return null;var p=_e("recharts-sector",h),y=o-a,m=cr(s,y,0,!0),g;return m>0&&Math.abs(u-d)<360?g=que({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(m,y/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):g=Q5({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:d}),P.createElement("path",K0({},le(r,!0),{className:p,d:g,role:"img"}))};function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function G0(){return G0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G0.apply(this,arguments)}function HP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function VP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(r),!0).forEach(function(n){Uue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uue(e,t,r){return t=Wue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wue(e){var t=Hue(e,"string");return Sc(t)=="symbol"?t:t+""}function Hue(e,t){if(Sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KP={curveBasisClosed:hre,curveBasisOpen:pre,curveBasis:fre,curveBumpX:Jte,curveBumpY:Zte,curveLinearClosed:mre,curveLinear:Ch,curveMonotoneX:gre,curveMonotoneY:yre,curveNatural:vre,curveStep:bre,curveStepAfter:wre,curveStepBefore:xre},Uu=function(t){return t.x===+t.x&&t.y===+t.y},pl=function(t){return t.x},ml=function(t){return t.y},Vue=function(t,r){if(ve(t))return t;var n="curve".concat(Ph(t));return(n==="curveMonotone"||n==="curveBump")&&r?KP["".concat(n).concat(r==="vertical"?"Y":"X")]:KP[n]||Ch},Kue=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,a=i===void 0?[]:i,o=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=Vue(n,s),d=c?a.filter(function(m){return Uu(m)}):a,h;if(Array.isArray(o)){var p=c?o.filter(function(m){return Uu(m)}):o,y=d.map(function(m,g){return VP(VP({},m),{},{base:p[g]})});return s==="vertical"?h=Iu().y(ml).x1(pl).x0(function(m){return m.base.x}):h=Iu().x(pl).y1(ml).y0(function(m){return m.base.y}),h.defined(Uu).curve(u),h(y)}return s==="vertical"&&ee(o)?h=Iu().y(ml).x1(pl).x0(o):ee(o)?h=Iu().x(pl).y1(ml).y0(o):h=G$().x(pl).y(ml),h.defined(Uu).curve(u),h(d)},Qi=function(t){var r=t.className,n=t.points,i=t.path,a=t.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Kue(t):i;return w.createElement("path",G0({},le(t,!1),Cd(t),{className:_e("recharts-curve",r),d:o,ref:a}))},jv={exports:{}},Av,GP;function Gue(){if(GP)return Av;GP=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Av=e,Av}var kv,YP;function Yue(){if(YP)return kv;YP=1;var e=Gue();function t(){}function r(){}return r.resetWarningCache=t,kv=function(){function n(o,s,l,c,u,d){if(d!==e){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return a.PropTypes=a,a},kv}var XP;function Xue(){return XP||(XP=1,jv.exports=Yue()()),jv.exports}var Que=Xue();const Ge=Ue(Que);var Jue=Object.getOwnPropertyNames,Zue=Object.getOwnPropertySymbols,ede=Object.prototype.hasOwnProperty;function QP(e,t){return function(n,i,a){return e(n,i,a)&&t(n,i,a)}}function Wu(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var l=e(r,n,i);return a.delete(r),a.delete(n),l}}function JP(e){return Jue(e).concat(Zue(e))}var tde=Object.hasOwn||(function(e,t){return ede.call(e,t)});function so(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var rde="__v",nde="__o",ide="_owner",ZP=Object.getOwnPropertyDescriptor,eT=Object.keys;function ade(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function ode(e,t){return so(e.getTime(),t.getTime())}function sde(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function lde(e,t){return e===t}function tT(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var c=t.entries(),u=!1,d=0;(s=c.next())&&!s.done;){if(i[d]){d++;continue}var h=o.value,p=s.value;if(r.equals(h[0],p[0],l,d,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){u=i[d]=!0;break}d++}if(!u)return!1;l++}return!0}var cde=so;function ude(e,t,r){var n=eT(e),i=n.length;if(eT(t).length!==i)return!1;for(;i-- >0;)if(!Z5(e,t,r,n[i]))return!1;return!0}function gl(e,t,r){var n=JP(e),i=n.length;if(JP(t).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],!Z5(e,t,r,a)||(o=ZP(e,a),s=ZP(t,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function dde(e,t){return so(e.valueOf(),t.valueOf())}function fde(e,t){return e.source===t.source&&e.flags===t.flags}function rT(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.values(),o,s;(o=a.next())&&!o.done;){for(var l=t.values(),c=!1,u=0;(s=l.next())&&!s.done;){if(!i[u]&&r.equals(o.value,s.value,o.value,s.value,e,t,r)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function hde(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function pde(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Z5(e,t,r,n){return(n===ide||n===nde||n===rde)&&(e.$$typeof||t.$$typeof)?!0:tde(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var mde="[object Arguments]",gde="[object Boolean]",yde="[object Date]",vde="[object Error]",bde="[object Map]",xde="[object Number]",wde="[object Object]",Sde="[object RegExp]",_de="[object Set]",Ede="[object String]",Ode="[object URL]",jde=Array.isArray,nT=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,iT=Object.assign,Ade=Object.prototype.toString.call.bind(Object.prototype.toString);function kde(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(y,m,g){if(y===m)return!0;if(y==null||m==null)return!1;var v=typeof y;if(v!==typeof m)return!1;if(v!=="object")return v==="number"?o(y,m,g):v==="function"?i(y,m,g):!1;var x=y.constructor;if(x!==m.constructor)return!1;if(x===Object)return s(y,m,g);if(jde(y))return t(y,m,g);if(nT!=null&&nT(y))return d(y,m,g);if(x===Date)return r(y,m,g);if(x===RegExp)return c(y,m,g);if(x===Map)return a(y,m,g);if(x===Set)return u(y,m,g);var b=Ade(y);return b===yde?r(y,m,g):b===Sde?c(y,m,g):b===bde?a(y,m,g):b===_de?u(y,m,g):b===wde?typeof y.then!="function"&&typeof m.then!="function"&&s(y,m,g):b===Ode?h(y,m,g):b===vde?n(y,m,g):b===mde?s(y,m,g):b===gde||b===xde||b===Ede?l(y,m,g):!1}}function Pde(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?gl:ade,areDatesEqual:ode,areErrorsEqual:sde,areFunctionsEqual:lde,areMapsEqual:n?QP(tT,gl):tT,areNumbersEqual:cde,areObjectsEqual:n?gl:ude,arePrimitiveWrappersEqual:dde,areRegExpsEqual:fde,areSetsEqual:n?QP(rT,gl):rT,areTypedArraysEqual:n?gl:hde,areUrlsEqual:pde};if(r&&(i=iT({},i,r(i))),t){var a=Wu(i.areArraysEqual),o=Wu(i.areMapsEqual),s=Wu(i.areObjectsEqual),l=Wu(i.areSetsEqual);i=iT({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function Tde(e){return function(t,r,n,i,a,o,s){return e(t,r,s)}}function Cde(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,a=e.strict;if(n)return function(l,c){var u=n(),d=u.cache,h=d===void 0?t?new WeakMap:void 0:d,p=u.meta;return r(l,c,{cache:h,equals:i,meta:p,strict:a})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return r(l,c,o)}}var Nde=ca();ca({strict:!0});ca({circular:!0});ca({circular:!0,strict:!0});ca({createInternalComparator:function(){return so}});ca({strict:!0,createInternalComparator:function(){return so}});ca({circular:!0,createInternalComparator:function(){return so}});ca({circular:!0,createInternalComparator:function(){return so},strict:!0});function ca(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,a=e.strict,o=a===void 0?!1:a,s=Pde(e),l=kde(s),c=n?n(l):Tde(l);return Cde({circular:r,comparator:l,createState:i,equals:c,strict:o})}function Rde(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function aT(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>t?(e(a),r=-1):Rde(i)};requestAnimationFrame(n)}function Y0(e){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y0(e)}function Ide(e){return Lde(e)||$de(e)||Dde(e)||Mde()}function Mde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dde(e,t){if(e){if(typeof e=="string")return oT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oT(e,t)}}function oT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $de(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lde(e){if(Array.isArray(e))return e}function Fde(){var e={},t=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=Ide(o),l=s[0],c=s.slice(1);if(typeof l=="number"){aT(i.bind(null,c),l);return}i(l),aT(i.bind(null,c));return}Y0(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function sT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sT(Object(r),!0).forEach(function(n){eF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eF(e,t,r){return t=Bde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bde(e){var t=qde(e,"string");return _c(t)==="symbol"?t:String(t)}function qde(e,t){if(_c(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_c(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zde=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Ude=function(t){return t},Wde=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Dl=function(t,r){return Object.keys(r).reduce(function(n,i){return lT(lT({},n),{},eF({},i,t(i,r[i])))},{})},cT=function(t,r,n){return t.map(function(i){return"".concat(Wde(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Hde(e,t){return Gde(e)||Kde(e,t)||tF(e,t)||Vde()}function Vde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Gde(e){if(Array.isArray(e))return e}function Yde(e){return Jde(e)||Qde(e)||tF(e)||Xde()}function Xde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tF(e,t){if(e){if(typeof e=="string")return X0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X0(e,t)}}function Qde(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jde(e){if(Array.isArray(e))return X0(e)}function X0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var af=1e-4,rF=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},nF=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},uT=function(t,r){return function(n){var i=rF(t,r);return nF(i,n)}},Zde=function(t,r){return function(n){var i=rF(t,r),a=[].concat(Yde(i.map(function(o,s){return o*s}).slice(1)),[0]);return nF(a,n)}},dT=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),u=Hde(c,4);i=u[0],a=u[1],o=u[2],s=u[3]}}}var d=uT(i,o),h=uT(a,s),p=Zde(i,o),y=function(v){return v>1?1:v<0?0:v},m=function(v){for(var x=v>1?1:v,b=x,E=0;E<8;++E){var S=d(b)-x,_=p(b);if(Math.abs(S-x)<af||_<af)return h(b);b=y(b-S/_)}return h(b)};return m.isStepper=!1,m},efe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,a=i===void 0?8:i,o=t.dt,s=o===void 0?17:o,l=function(u,d,h){var p=-(u-d)*n,y=h*a,m=h+(p-y)*s/1e3,g=h*s/1e3+u;return Math.abs(g-d)<af&&Math.abs(m)<af?[d,0]:[g,m]};return l.isStepper=!0,l.dt=s,l},tfe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return dT(i);case"spring":return efe();default:if(i.split("(")[0]==="cubic-bezier")return dT(i)}return typeof i=="function"?i:null};function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}function fT(e){return ife(e)||nfe(e)||iF(e)||rfe()}function rfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ife(e){if(Array.isArray(e))return J0(e)}function hT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hT(Object(r),!0).forEach(function(n){Q0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q0(e,t,r){return t=afe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function afe(e){var t=ofe(e,"string");return Ec(t)==="symbol"?t:String(t)}function ofe(e,t){if(Ec(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ec(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sfe(e,t){return ufe(e)||cfe(e,t)||iF(e,t)||lfe()}function lfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iF(e,t){if(e){if(typeof e=="string")return J0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J0(e,t)}}function J0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cfe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function ufe(e){if(Array.isArray(e))return e}var of=function(t,r,n){return t+(r-t)*n},Z0=function(t){var r=t.from,n=t.to;return r!==n},dfe=function e(t,r,n){var i=Dl(function(a,o){if(Z0(o)){var s=t(o.from,o.to,o.velocity),l=sfe(s,2),c=l[0],u=l[1];return Xt(Xt({},o),{},{from:c,velocity:u})}return o},r);return n<1?Dl(function(a,o){return Z0(o)?Xt(Xt({},o),{},{velocity:of(o.velocity,i[a].velocity,n),from:of(o.from,i[a].from,n)}):o},r):e(t,i,n-1)};const ffe=(function(e,t,r,n,i){var a=zde(e,t),o=a.reduce(function(g,v){return Xt(Xt({},g),{},Q0({},v,[e[v],t[v]]))},{}),s=a.reduce(function(g,v){return Xt(Xt({},g),{},Q0({},v,{from:e[v],velocity:0,to:t[v]}))},{}),l=-1,c,u,d=function(){return null},h=function(){return Dl(function(v,x){return x.from},s)},p=function(){return!Object.values(s).filter(Z0).length},y=function(v){c||(c=v);var x=v-c,b=x/r.dt;s=dfe(r,s,b),i(Xt(Xt(Xt({},e),t),h())),c=v,p()||(l=requestAnimationFrame(d))},m=function(v){u||(u=v);var x=(v-u)/n,b=Dl(function(S,_){return of.apply(void 0,fT(_).concat([r(x)]))},o);if(i(Xt(Xt(Xt({},e),t),b)),x<1)l=requestAnimationFrame(d);else{var E=Dl(function(S,_){return of.apply(void 0,fT(_).concat([r(1)]))},o);i(Xt(Xt(Xt({},e),t),E))}};return d=r.isStepper?y:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}});function ls(e){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ls(e)}var hfe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function pfe(e,t){if(e==null)return{};var r=mfe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mfe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Pv(e){return bfe(e)||vfe(e)||yfe(e)||gfe()}function gfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yfe(e,t){if(e){if(typeof e=="string")return ex(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ex(e,t)}}function vfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bfe(e){if(Array.isArray(e))return ex(e)}function ex(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pT(Object(r),!0).forEach(function(n){_l(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _l(e,t,r){return t=aF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wfe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aF(n.key),n)}}function Sfe(e,t,r){return t&&wfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aF(e){var t=_fe(e,"string");return ls(t)==="symbol"?t:String(t)}function _fe(e,t){if(ls(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ls(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Efe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tx(e,t)}function tx(e,t){return tx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tx(e,t)}function Ofe(e){var t=jfe();return function(){var n=sf(e),i;if(t){var a=sf(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return rx(this,i)}}function rx(e,t){if(t&&(ls(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nx(e)}function nx(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jfe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sf(e){return sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sf(e)}var $r=(function(e){Efe(r,e);var t=Ofe(r);function r(n,i){var a;xfe(this,r),a=t.call(this,n,i);var o=a.props,s=o.isActive,l=o.attributeName,c=o.from,u=o.to,d=o.steps,h=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(nx(a)),a.changeStyle=a.changeStyle.bind(nx(a)),!s||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:u}),rx(a);if(d&&d.length)a.state={style:d[0].style};else if(c){if(typeof h=="function")return a.state={style:c},rx(a);a.state={style:l?_l({},l,c):c}}else a.state={style:{}};return a}return Sfe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,d=a.from,h=this.state.style;if(s){if(!o){var p={style:l?_l({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(Nde(i.to,u)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=y||c?d:i.to;if(this.state&&h){var g={style:l?_l({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(g)}this.runAnimation(on(on({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,c=i.easing,u=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,p=ffe(o,s,tfe(c),l,this.changeStyle),y=function(){a.stopJSAnimation=p()};this.manager.start([h,u,y,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,c=o[0],u=c.style,d=c.duration,h=d===void 0?0:d,p=function(m,g,v){if(v===0)return m;var x=g.duration,b=g.easing,E=b===void 0?"ease":b,S=g.style,_=g.properties,O=g.onAnimationEnd,k=v>0?o[v-1]:g,T=_||Object.keys(S);if(typeof E=="function"||E==="spring")return[].concat(Pv(m),[a.runJSAnimation.bind(a,{from:k.style,to:S,duration:x,easing:E}),x]);var j=cT(T,x,E),A=on(on(on({},k.style),S),{},{transition:j});return[].concat(Pv(m),[A,x,O]).filter(Ude)};return this.manager.start([l].concat(Pv(o.reduce(p,[u,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Fde());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,p=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var m=s?_l({},s,l):l,g=cT(Object.keys(m),o,c);y.start([u,a,on(on({},m),{},{transition:g}),o,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=pfe(i,hfe),c=w.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!s||c===0||o<=0)return a;var d=function(p){var y=p.props,m=y.style,g=m===void 0?{}:m,v=y.className,x=w.cloneElement(p,on(on({},l),{},{style:on(on({},g),u),className:v}));return x};return c===1?d(w.Children.only(a)):P.createElement("div",null,w.Children.map(a,function(h){return d(h)}))}}]),r})(w.PureComponent);$r.displayName="Animate";$r.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};$r.propTypes={from:Ge.oneOfType([Ge.object,Ge.string]),to:Ge.oneOfType([Ge.object,Ge.string]),attributeName:Ge.string,duration:Ge.number,begin:Ge.number,easing:Ge.oneOfType([Ge.string,Ge.func]),steps:Ge.arrayOf(Ge.shape({duration:Ge.number.isRequired,style:Ge.object.isRequired,easing:Ge.oneOfType([Ge.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ge.func]),properties:Ge.arrayOf("string"),onAnimationEnd:Ge.func})),children:Ge.oneOfType([Ge.node,Ge.func]),isActive:Ge.bool,canBegin:Ge.bool,onAnimationEnd:Ge.func,shouldReAnimate:Ge.bool,onAnimationStart:Ge.func,onAnimationReStart:Ge.func};function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}function lf(){return lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lf.apply(this,arguments)}function Afe(e,t){return Cfe(e)||Tfe(e,t)||Pfe(e,t)||kfe()}function kfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pfe(e,t){if(e){if(typeof e=="string")return mT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mT(e,t)}}function mT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tfe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Cfe(e){if(Array.isArray(e))return e}function gT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gT(Object(r),!0).forEach(function(n){Nfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nfe(e,t,r){return t=Rfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rfe(e){var t=Ife(e,"string");return Oc(t)=="symbol"?t:t+""}function Ife(e,t){if(Oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vT=function(t,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,u;if(o>0&&a instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=a[h]>o?o:a[h];u="M".concat(t,",").concat(r+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(r)),u+="L ".concat(t+n-l*d[1],",").concat(r),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+s*d[1])),u+="L ".concat(t+n,",").concat(r+i-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+n-l*d[2],",").concat(r+i)),u+="L ".concat(t+l*d[3],",").concat(r+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+i-s*d[3])),u+="Z"}else if(o>0&&a===+a&&a>0){var y=Math.min(o,a);u="M ".concat(t,",").concat(r+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+l*y,",").concat(r,`
            L `).concat(t+n-l*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+n,",").concat(r+s*y,`
            L `).concat(t+n,",").concat(r+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+n-l*y,",").concat(r+i,`
            L `).concat(t+l*y,",").concat(r+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t,",").concat(r+i-s*y," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},Mfe=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,a=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(a,a+s),u=Math.max(a,a+s),d=Math.min(o,o+l),h=Math.max(o,o+l);return n>=c&&n<=u&&i>=d&&i<=h}return!1},Dfe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},J1=function(t){var r=yT(yT({},Dfe),t),n=w.useRef(),i=w.useState(-1),a=Afe(i,2),o=a[0],s=a[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&s(E)}catch{}},[]);var l=r.x,c=r.y,u=r.width,d=r.height,h=r.radius,p=r.className,y=r.animationEasing,m=r.animationDuration,g=r.animationBegin,v=r.isAnimationActive,x=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var b=_e("recharts-rectangle",p);return x?P.createElement($r,{canBegin:o>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:m,animationEasing:y,isActive:x},function(E){var S=E.width,_=E.height,O=E.x,k=E.y;return P.createElement($r,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,isActive:v,easing:y},P.createElement("path",lf({},le(r,!0),{className:b,d:vT(O,k,S,_,h),ref:n})))}):P.createElement("path",lf({},le(r,!0),{className:b,d:vT(l,c,u,d,h)}))},$fe=["points","className","baseLinePoints","connectNulls"];function Po(){return Po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Po.apply(this,arguments)}function Lfe(e,t){if(e==null)return{};var r=Ffe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ffe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bT(e){return Ufe(e)||zfe(e)||qfe(e)||Bfe()}function Bfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qfe(e,t){if(e){if(typeof e=="string")return ix(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ix(e,t)}}function zfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ufe(e){if(Array.isArray(e))return ix(e)}function ix(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xT=function(t){return t&&t.x===+t.x&&t.y===+t.y},Wfe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){xT(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),xT(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},$l=function(t,r){var n=Wfe(t);r&&(n=[n.reduce(function(a,o){return[].concat(bT(a),bT(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Hfe=function(t,r,n){var i=$l(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat($l(r.reverse(),n).slice(1))},oF=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,a=t.connectNulls,o=Lfe(t,$fe);if(!r||!r.length)return null;var s=_e("recharts-polygon",n);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",c=Hfe(r,i,a);return P.createElement("g",{className:s},P.createElement("path",Po({},le(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:c})),l?P.createElement("path",Po({},le(o,!0),{fill:"none",d:$l(r,a)})):null,l?P.createElement("path",Po({},le(o,!0),{fill:"none",d:$l(i,a)})):null)}var u=$l(r,a);return P.createElement("path",Po({},le(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:s,d:u}))};function ax(){return ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ax.apply(this,arguments)}var Xs=function(t){var r=t.cx,n=t.cy,i=t.r,a=t.className,o=_e("recharts-dot",a);return r===+r&&n===+n&&i===+i?w.createElement("circle",ax({},le(t,!1),Cd(t),{className:o,cx:r,cy:n,r:i})):null};function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}var Vfe=["x","y","top","left","width","height","className"];function ox(){return ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ox.apply(this,arguments)}function wT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kfe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wT(Object(r),!0).forEach(function(n){Gfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gfe(e,t,r){return t=Yfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yfe(e){var t=Xfe(e,"string");return jc(t)=="symbol"?t:t+""}function Xfe(e,t){if(jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qfe(e,t){if(e==null)return{};var r=Jfe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Zfe=function(t,r,n,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},ehe=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,o=t.top,s=o===void 0?0:o,l=t.left,c=l===void 0?0:l,u=t.width,d=u===void 0?0:u,h=t.height,p=h===void 0?0:h,y=t.className,m=Qfe(t,Vfe),g=Kfe({x:n,y:a,top:s,left:c,width:d,height:p},m);return!ee(n)||!ee(a)||!ee(d)||!ee(p)||!ee(s)||!ee(c)?null:P.createElement("path",ox({},le(g,!0),{className:_e("recharts-cross",y),d:Zfe(n,a,d,p,s,c)}))},the=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function rhe(e,t){if(e==null)return{};var r=nhe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nhe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pi(){return pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pi.apply(this,arguments)}function ST(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ST(Object(r),!0).forEach(function(n){ihe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ST(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ihe(e,t,r){return t=ahe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ahe(e){var t=ohe(e,"string");return Ac(t)=="symbol"?t:t+""}function ohe(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var she=function(t,r,n,i){var a="";return i.forEach(function(o,s){var l=He(r,n,t,o);s?a+="L ".concat(l.x,",").concat(l.y):a+="M ".concat(l.x,",").concat(l.y)}),a+="Z",a},lhe=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.polarAngles,s=t.radialLines;if(!o||!o.length||!s)return null;var l=kc({stroke:"#ccc"},le(t,!1));return P.createElement("g",{className:"recharts-polar-grid-angle"},o.map(function(c){var u=He(r,n,i,c),d=He(r,n,a,c);return P.createElement("line",pi({},l,{key:"line-".concat(c),x1:u.x,y1:u.y,x2:d.x,y2:d.y}))}))},che=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.index,o=kc(kc({stroke:"#ccc"},le(t,!1)),{},{fill:"none"});return P.createElement("circle",pi({},o,{className:_e("recharts-polar-grid-concentric-circle",t.className),key:"circle-".concat(a),cx:r,cy:n,r:i}))},uhe=function(t){var r=t.radius,n=t.index,i=kc(kc({stroke:"#ccc"},le(t,!1)),{},{fill:"none"});return P.createElement("path",pi({},i,{className:_e("recharts-polar-grid-concentric-polygon",t.className),key:"path-".concat(n),d:she(r,t.cx,t.cy,t.polarAngles)}))},dhe=function(t){var r=t.polarRadius,n=t.gridType;return!r||!r.length?null:P.createElement("g",{className:"recharts-polar-grid-concentric"},r.map(function(i,a){var o=a;return n==="circle"?P.createElement(che,pi({key:o},t,{radius:i,index:a})):P.createElement(uhe,pi({key:o},t,{radius:i,index:a}))}))},cf=function(t){var r=t.cx,n=r===void 0?0:r,i=t.cy,a=i===void 0?0:i,o=t.innerRadius,s=o===void 0?0:o,l=t.outerRadius,c=l===void 0?0:l,u=t.gridType,d=u===void 0?"polygon":u,h=t.radialLines,p=h===void 0?!0:h,y=rhe(t,the);return c<=0?null:P.createElement("g",{className:"recharts-polar-grid"},P.createElement(lhe,pi({cx:n,cy:a,innerRadius:s,outerRadius:c,gridType:d,radialLines:p},y)),P.createElement(dhe,pi({cx:n,cy:a,innerRadius:s,outerRadius:c,gridType:d,radialLines:p},y)))};cf.displayName="PolarGrid";var Tv,_T;function fhe(){if(_T)return Tv;_T=1;var e=Uh(),t=v5(),r=Gn();function n(i,a){return i&&i.length?e(i,r(a,2),t):void 0}return Tv=n,Tv}var hhe=fhe();const phe=Ue(hhe);var Cv,ET;function mhe(){if(ET)return Cv;ET=1;var e=Uh(),t=Gn(),r=b5();function n(i,a){return i&&i.length?e(i,t(a,2),r):void 0}return Cv=n,Cv}var ghe=mhe();const yhe=Ue(ghe);var vhe=["cx","cy","angle","ticks","axisLine"],bhe=["ticks","tick","angle","tickFormatter","stroke"];function cs(e){"@babel/helpers - typeof";return cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cs(e)}function Ll(){return Ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ll.apply(this,arguments)}function OT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ya(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(r),!0).forEach(function(n){Kh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jT(e,t){if(e==null)return{};var r=xhe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xhe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function whe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lF(n.key),n)}}function She(e,t,r){return t&&AT(e.prototype,t),r&&AT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _he(e,t,r){return t=uf(t),Ehe(e,sF()?Reflect.construct(t,r||[],uf(e).constructor):t.apply(e,r))}function Ehe(e,t){if(t&&(cs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ohe(e)}function Ohe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sF=function(){return!!e})()}function uf(e){return uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uf(e)}function jhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sx(e,t)}function sx(e,t){return sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sx(e,t)}function Kh(e,t,r){return t=lF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lF(e){var t=Ahe(e,"string");return cs(t)=="symbol"?t:t+""}function Ahe(e,t){if(cs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qa=(function(e){function t(){return whe(this,t),_he(this,t,arguments)}return jhe(t,e),She(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return He(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=phe(s,function(u){return u.coordinate||0}),c=yhe(s,function(u){return u.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=n.axisLine,c=jT(n,vhe),u=s.reduce(function(y,m){return[Math.min(y[0],m.coordinate),Math.max(y[1],m.coordinate)]},[1/0,-1/0]),d=He(i,a,u[0],o),h=He(i,a,u[1],o),p=ya(ya(ya({},le(c,!1)),{},{fill:"none"},le(l,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return P.createElement("line",Ll({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,c=i.stroke,u=jT(i,bhe),d=this.getTickTextAnchor(),h=le(u,!1),p=le(o,!1),y=a.map(function(m,g){var v=n.getTickValueCoord(m),x=ya(ya(ya(ya({textAnchor:d,transform:"rotate(".concat(90-s,", ").concat(v.x,", ").concat(v.y,")")},h),{},{stroke:"none",fill:c},p),{},{index:g},v),{},{payload:m});return P.createElement(Ae,Ll({className:_e("recharts-polar-radius-axis-tick",G5(o)),key:"tick-".concat(m.coordinate)},ta(n.props,m,g)),t.renderTickItem(o,x,l?l(m.value,g):m.value))});return P.createElement(Ae,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:P.createElement(Ae,{className:_e("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Ht.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return P.isValidElement(n)?o=P.cloneElement(n,i):ve(n)?o=n(i):o=P.createElement(Ga,Ll({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])})(w.PureComponent);Kh(Qa,"displayName","PolarRadiusAxis");Kh(Qa,"axisType","radiusAxis");Kh(Qa,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function us(e){"@babel/helpers - typeof";return us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},us(e)}function ka(){return ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ka.apply(this,arguments)}function kT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function va(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kT(Object(r),!0).forEach(function(n){Gh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function khe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uF(n.key),n)}}function Phe(e,t,r){return t&&PT(e.prototype,t),r&&PT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function The(e,t,r){return t=df(t),Che(e,cF()?Reflect.construct(t,r||[],df(e).constructor):t.apply(e,r))}function Che(e,t){if(t&&(us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nhe(e)}function Nhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cF=function(){return!!e})()}function df(e){return df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},df(e)}function Rhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lx(e,t)}function lx(e,t){return lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lx(e,t)}function Gh(e,t,r){return t=uF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uF(e){var t=Ihe(e,"string");return us(t)=="symbol"?t:t+""}function Ihe(e,t){if(us(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mhe=Math.PI/180,TT=1e-5,ra=(function(e){function t(){return khe(this,t),The(this,t,arguments)}return Rhe(t,e),Phe(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,c=i.tickSize,u=c||8,d=He(a,o,s,n.coordinate),h=He(a,o,s+(l==="inner"?-1:1)*u,n.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*Mhe),o;return a>TT?o=i==="outer"?"start":"end":a<-TT?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,s=n.axisLine,l=n.axisLineType,c=va(va({},le(this.props,!1)),{},{fill:"none"},le(s,!1));if(l==="circle")return P.createElement(Xs,ka({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:a,r:o}));var u=this.props.ticks,d=u.map(function(h){return He(i,a,o,h.coordinate)});return P.createElement(oF,ka({className:"recharts-polar-angle-axis-line"},c,{points:d}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,c=i.stroke,u=le(this.props,!1),d=le(o,!1),h=va(va({},u),{},{fill:"none"},le(s,!1)),p=a.map(function(y,m){var g=n.getTickLineCoord(y),v=n.getTickTextAnchor(y),x=va(va(va({textAnchor:v},u),{},{stroke:"none",fill:c},d),{},{index:m,payload:y,x:g.x2,y:g.y2});return P.createElement(Ae,ka({className:_e("recharts-polar-angle-axis-tick",G5(o)),key:"tick-".concat(y.coordinate)},ta(n.props,y,m)),s&&P.createElement("line",ka({className:"recharts-polar-angle-axis-tick-line"},h,g)),o&&t.renderTickItem(o,x,l?l(y.value,m):y.value))});return P.createElement(Ae,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:P.createElement(Ae,{className:_e("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return P.isValidElement(n)?o=P.cloneElement(n,i):ve(n)?o=n(i):o=P.createElement(Ga,ka({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])})(w.PureComponent);Gh(ra,"displayName","PolarAngleAxis");Gh(ra,"axisType","angleAxis");Gh(ra,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Nv,CT;function Dhe(){if(CT)return Nv;CT=1;var e=yL(),t=e(Object.getPrototypeOf,Object);return Nv=t,Nv}var Rv,NT;function $he(){if(NT)return Rv;NT=1;var e=bi(),t=Dhe(),r=xi(),n="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,s=a.hasOwnProperty,l=o.call(Object);function c(u){if(!r(u)||e(u)!=n)return!1;var d=t(u);if(d===null)return!0;var h=s.call(d,"constructor")&&d.constructor;return typeof h=="function"&&h instanceof h&&o.call(h)==l}return Rv=c,Rv}var Lhe=$he();const Fhe=Ue(Lhe);var Iv,RT;function Bhe(){if(RT)return Iv;RT=1;var e=bi(),t=xi(),r="[object Boolean]";function n(i){return i===!0||i===!1||t(i)&&e(i)==r}return Iv=n,Iv}var qhe=Bhe();const zhe=Ue(qhe);function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function ff(){return ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ff.apply(this,arguments)}function Uhe(e,t){return Khe(e)||Vhe(e,t)||Hhe(e,t)||Whe()}function Whe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hhe(e,t){if(e){if(typeof e=="string")return IT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IT(e,t)}}function IT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vhe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Khe(e){if(Array.isArray(e))return e}function MT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(r),!0).forEach(function(n){Ghe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ghe(e,t,r){return t=Yhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yhe(e){var t=Xhe(e,"string");return Pc(t)=="symbol"?t:t+""}function Xhe(e,t){if(Pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $T=function(t,r,n,i,a){var o=n-i,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-o/2,",").concat(r+a),s+="L ".concat(t+n-o/2-i,",").concat(r+a),s+="L ".concat(t,",").concat(r," Z"),s},Qhe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Jhe=function(t){var r=DT(DT({},Qhe),t),n=w.useRef(),i=w.useState(-1),a=Uhe(i,2),o=a[0],s=a[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&s(b)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,y=r.animationEasing,m=r.animationDuration,g=r.animationBegin,v=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||h!==+h||u===0&&d===0||h===0)return null;var x=_e("recharts-trapezoid",p);return v?P.createElement($r,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:h,x:l,y:c},duration:m,animationEasing:y,isActive:v},function(b){var E=b.upperWidth,S=b.lowerWidth,_=b.height,O=b.x,k=b.y;return P.createElement($r,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,easing:y},P.createElement("path",ff({},le(r,!0),{className:x,d:$T(O,k,E,S,_),ref:n})))}):P.createElement("g",null,P.createElement("path",ff({},le(r,!0),{className:x,d:$T(l,c,u,d,h)})))},Zhe=["option","shapeType","propTransformer","activeClassName","isActive"];function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function epe(e,t){if(e==null)return{};var r=tpe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function LT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LT(Object(r),!0).forEach(function(n){rpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rpe(e,t,r){return t=npe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function npe(e){var t=ipe(e,"string");return Tc(t)=="symbol"?t:t+""}function ipe(e,t){if(Tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ape(e,t){return hf(hf({},t),e)}function ope(e,t){return e==="symbols"}function FT(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return P.createElement(J1,r);case"trapezoid":return P.createElement(Jhe,r);case"sector":return P.createElement(J5,r);case"symbols":if(ope(t))return P.createElement(Rh,r);break;default:return null}}function spe(e){return w.isValidElement(e)?e.props:e}function pf(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?ape:n,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,s=e.isActive,l=epe(e,Zhe),c;if(w.isValidElement(t))c=w.cloneElement(t,hf(hf({},l),spe(t)));else if(ve(t))c=t(l);else if(Fhe(t)&&!zhe(t)){var u=i(t,l);c=P.createElement(FT,{shapeType:r,elementProps:u})}else{var d=l;c=P.createElement(FT,{shapeType:r,elementProps:d})}return s?P.createElement(Ae,{className:o},c):c}function Yh(e,t){return t!=null&&"trapezoids"in e.props}function Xh(e,t){return t!=null&&"sectors"in e.props}function Cc(e,t){return t!=null&&"points"in e.props}function lpe(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&a}function cpe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function upe(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function dpe(e,t){var r;return Yh(e,t)?r=lpe:Xh(e,t)?r=cpe:Cc(e,t)&&(r=upe),r}function fpe(e,t){var r;return Yh(e,t)?r="trapezoids":Xh(e,t)?r="sectors":Cc(e,t)&&(r="points"),r}function hpe(e,t){if(Yh(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Xh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Cc(e,t)?t.payload:{}}function ppe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=fpe(r,t),a=hpe(r,t),o=n.filter(function(l,c){var u=hi(a,l),d=r.props[i].filter(function(y){var m=dpe(r,t);return m(y,t)}),h=r.props[i].indexOf(d[d.length-1]),p=c===h;return u&&p}),s=n.indexOf(o[o.length-1]);return s}var id;function ds(e){"@babel/helpers - typeof";return ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ds(e)}function To(){return To=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},To.apply(this,arguments)}function BT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BT(Object(r),!0).forEach(function(n){Gr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fF(n.key),n)}}function gpe(e,t,r){return t&&qT(e.prototype,t),r&&qT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ype(e,t,r){return t=mf(t),vpe(e,dF()?Reflect.construct(t,r||[],mf(e).constructor):t.apply(e,r))}function vpe(e,t){if(t&&(ds(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bpe(e)}function bpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dF=function(){return!!e})()}function mf(e){return mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mf(e)}function xpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cx(e,t)}function cx(e,t){return cx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cx(e,t)}function Gr(e,t,r){return t=fF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fF(e){var t=wpe(e,"string");return ds(t)=="symbol"?t:t+""}function wpe(e,t){if(ds(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Si=(function(e){function t(r){var n;return mpe(this,t),n=ype(this,t,[r]),Gr(n,"pieRef",null),Gr(n,"sectorRefs",[]),Gr(n,"id",oa("recharts-pie-")),Gr(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ve(i)&&i()}),Gr(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ve(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return xpe(t,e),gpe(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,c=a.valueKey,u=le(this.props,!1),d=le(o,!1),h=le(s,!1),p=o&&o.offsetRadius||20,y=n.map(function(m,g){var v=(m.startAngle+m.endAngle)/2,x=He(m.cx,m.cy,m.outerRadius+p,v),b=ut(ut(ut(ut({},u),m),{},{stroke:"none"},d),{},{index:g,textAnchor:t.getTextAnchor(x.x,m.cx)},x),E=ut(ut(ut(ut({},u),m),{},{fill:"none",stroke:m.fill},h),{},{index:g,points:[He(m.cx,m.cy,m.outerRadius,v),x]}),S=l;return be(l)&&be(c)?S="value":be(l)&&(S=c),P.createElement(Ae,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(g)},s&&t.renderLabelLineItem(s,E,"line"),t.renderLabelItem(o,b,it(m,S)))});return P.createElement(Ae,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return n.map(function(c,u){if(c?.startAngle===0&&c?.endAngle===0&&n.length!==1)return null;var d=i.isActiveIndex(u),h=l&&i.hasActiveIndex()?l:null,p=d?o:h,y=ut(ut({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return P.createElement(Ae,To({ref:function(g){g&&!i.sectorRefs.includes(g)&&i.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},ta(i.props,c,u),{key:"sector-".concat(c?.startAngle,"-").concat(c?.endAngle,"-").concat(c.midAngle,"-").concat(u)}),P.createElement(pf,To({option:p,isActive:d,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,d=this.state,h=d.prevSectors,p=d.prevIsAnimationActive;return P.createElement($r,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var m=y.t,g=[],v=a&&a[0],x=v.startAngle;return a.forEach(function(b,E){var S=h&&h[E],_=E>0?Dr(b,"paddingAngle",0):0;if(S){var O=nt(S.endAngle-S.startAngle,b.endAngle-b.startAngle),k=ut(ut({},b),{},{startAngle:x+_,endAngle:x+O(m)+_});g.push(k),x=k.endAngle}else{var T=b.endAngle,j=b.startAngle,A=nt(0,T-j),N=A(m),D=ut(ut({},b),{},{startAngle:x+_,endAngle:x+N+_});g.push(D),x=D.endAngle}}),P.createElement(Ae,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!hi(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,c=i.cx,u=i.cy,d=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,y=this.state.isAnimationFinished;if(a||!o||!o.length||!ee(c)||!ee(u)||!ee(d)||!ee(h))return null;var m=_e("recharts-pie",s);return P.createElement(Ae,{tabIndex:this.props.rootTabIndex,className:m,ref:function(v){n.pieRef=v}},this.renderSectors(),l&&this.renderLabels(o),Ht.renderCallByParent(this.props,null,!1),(!p||y)&&Xr.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(P.isValidElement(n))return P.cloneElement(n,i);if(ve(n))return n(i);var o=_e("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return P.createElement(Qi,To({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(P.isValidElement(n))return P.cloneElement(n,i);var o=a;if(ve(n)&&(o=n(i),P.isValidElement(o)))return o;var s=_e("recharts-pie-label-text",typeof n!="boolean"&&!ve(n)?n.className:"");return P.createElement(Ga,To({},i,{alignmentBaseline:"middle",className:s}),o)}}])})(w.PureComponent);id=Si;Gr(Si,"displayName","Pie");Gr(Si,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Yn.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Gr(Si,"parseDeltaAngle",function(e,t){var r=lr(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Gr(Si,"getRealPieData",function(e){var t=e.data,r=e.children,n=le(e,!1),i=dr(r,Hs);return t&&t.length?t.map(function(a,o){return ut(ut(ut({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return ut(ut({},n),a.props)}):[]});Gr(Si,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,a=t.height,o=V5(i,a),s=n+cr(e.cx,i,i/2),l=r+cr(e.cy,a,a/2),c=cr(e.innerRadius,o,0),u=cr(e.outerRadius,o,o*.8),d=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:u,maxRadius:d}});Gr(Si,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?ut(ut({},t.type.defaultProps),t.props):t.props,i=id.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,s=n.endAngle,l=n.paddingAngle,c=n.dataKey,u=n.nameKey,d=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),y=id.parseCoordinateOfPie(n,r),m=id.parseDeltaAngle(o,s),g=Math.abs(m),v=c;be(c)&&be(d)?(yn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):be(c)&&(yn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=d);var x=i.filter(function(k){return it(k,v,0)!==0}).length,b=(g>=360?x:x-1)*l,E=g-x*p-b,S=i.reduce(function(k,T){var j=it(T,v,0);return k+(ee(j)?j:0)},0),_;if(S>0){var O;_=i.map(function(k,T){var j=it(k,v,0),A=it(k,u,T),N=(ee(j)?j:0)/S,D;T?D=O.endAngle+lr(m)*l*(j!==0?1:0):D=o;var M=D+lr(m)*((j!==0?p:0)+N*E),I=(D+M)/2,L=(y.innerRadius+y.outerRadius)/2,B=[{name:A,value:j,payload:k,dataKey:v,type:h}],F=He(y.cx,y.cy,L,I);return O=ut(ut(ut({percent:N,cornerRadius:a,name:A,tooltipPayload:B,midAngle:I,middleRadius:L,tooltipPosition:F},k),y),{},{value:it(k,v),startAngle:D,endAngle:M,payload:k,paddingAngle:lr(m)*l}),O})}return ut(ut({},y),{},{sectors:_,data:i})});var Mv,zT;function Spe(){if(zT)return Mv;zT=1;function e(t){return t&&t.length?t[0]:void 0}return Mv=e,Mv}var Dv,UT;function _pe(){return UT||(UT=1,Dv=Spe()),Dv}var Epe=_pe();const Ope=Ue(Epe);var jpe=["key"];function fs(e){"@babel/helpers - typeof";return fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fs(e)}function Ape(e,t){if(e==null)return{};var r=kpe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gf(){return gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gf.apply(this,arguments)}function WT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(r),!0).forEach(function(n){ei(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ppe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pF(n.key),n)}}function Tpe(e,t,r){return t&&HT(e.prototype,t),r&&HT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cpe(e,t,r){return t=yf(t),Npe(e,hF()?Reflect.construct(t,r||[],yf(e).constructor):t.apply(e,r))}function Npe(e,t){if(t&&(fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rpe(e)}function Rpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hF=function(){return!!e})()}function yf(e){return yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yf(e)}function Ipe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ux(e,t)}function ux(e,t){return ux=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ux(e,t)}function ei(e,t,r){return t=pF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pF(e){var t=Mpe(e,"string");return fs(t)=="symbol"?t:t+""}function Mpe(e,t){if(fs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ja=(function(e){function t(){var r;Ppe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Cpe(this,t,[].concat(i)),ei(r,"state",{isAnimationFinished:!1}),ei(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ve(o)&&o()}),ei(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ve(o)&&o()}),ei(r,"handleMouseEnter",function(o){var s=r.props.onMouseEnter;s&&s(r.props,o)}),ei(r,"handleMouseLeave",function(o){var s=r.props.onMouseLeave;s&&s(r.props,o)}),r}return Ipe(t,e),Tpe(t,[{key:"renderDots",value:function(n){var i=this.props,a=i.dot,o=i.dataKey,s=le(this.props,!1),l=le(a,!0),c=n.map(function(u,d){var h=ar(ar(ar({key:"dot-".concat(d),r:3},s),l),{},{dataKey:o,cx:u.x,cy:u.y,index:d,payload:u});return t.renderDotItem(a,h)});return P.createElement(Ae,{className:"recharts-radar-dots"},c)}},{key:"renderPolygonStatically",value:function(n){var i=this.props,a=i.shape,o=i.dot,s=i.isRange,l=i.baseLinePoints,c=i.connectNulls,u;return P.isValidElement(a)?u=P.cloneElement(a,ar(ar({},this.props),{},{points:n})):ve(a)?u=a(ar(ar({},this.props),{},{points:n})):u=P.createElement(oF,gf({},le(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:n,baseLinePoints:s?l:null,connectNulls:c})),P.createElement(Ae,{className:"recharts-radar-polygon"},u,o?this.renderDots(n):null)}},{key:"renderPolygonWithAnimation",value:function(){var n=this,i=this.props,a=i.points,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,d=this.state.prevPoints;return P.createElement($r,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"radar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,y=d&&d.length/a.length,m=a.map(function(g,v){var x=d&&d[Math.floor(v*y)];if(x){var b=nt(x.x,g.x),E=nt(x.y,g.y);return ar(ar({},g),{},{x:b(p),y:E(p)})}var S=nt(g.cx,g.x),_=nt(g.cy,g.y);return ar(ar({},g),{},{x:S(p),y:_(p)})});return n.renderPolygonStatically(m)})}},{key:"renderPolygon",value:function(){var n=this.props,i=n.points,a=n.isAnimationActive,o=n.isRange,s=this.state.prevPoints;return a&&i&&i.length&&!o&&(!s||!hi(s,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.className,o=n.points,s=n.isAnimationActive;if(i||!o||!o.length)return null;var l=this.state.isAnimationFinished,c=_e("recharts-radar",a);return P.createElement(Ae,{className:c},this.renderPolygon(),(!s||l)&&Xr.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"renderDotItem",value:function(n,i){var a;if(P.isValidElement(n))a=P.cloneElement(n,i);else if(ve(n))a=n(i);else{var o=i.key,s=Ape(i,jpe);a=P.createElement(Xs,gf({},s,{key:o,className:_e("recharts-radar-dot",typeof n!="boolean"?n.className:"")}))}return a}}])})(w.PureComponent);ei(Ja,"displayName","Radar");ei(Ja,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Yn.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ei(Ja,"getComposedData",function(e){var t=e.radiusAxis,r=e.angleAxis,n=e.displayedData,i=e.dataKey,a=e.bandSize,o=r.cx,s=r.cy,l=!1,c=[],u=r.type!=="number"?a??0:0;n.forEach(function(h,p){var y=it(h,r.dataKey,p),m=it(h,i),g=r.scale(y)+u,v=Array.isArray(m)?X5(m):m,x=be(v)?void 0:t.scale(v);Array.isArray(m)&&m.length>=2&&(l=!0),c.push(ar(ar({},He(o,s,x,g)),{},{name:y,value:m,cx:o,cy:s,radius:x,angle:g,payload:h}))});var d=[];return l&&c.forEach(function(h){if(Array.isArray(h.value)){var p=Ope(h.value),y=be(p)?void 0:t.scale(p);d.push(ar(ar({},h),{},{radius:y},He(o,s,y,h.angle)))}else d.push(h)}),{points:c,isRange:l,baseLinePoints:d}});var $v,VT;function Dpe(){if(VT)return $v;VT=1;var e=Math.ceil,t=Math.max;function r(n,i,a,o){for(var s=-1,l=t(e((i-n)/(a||1)),0),c=Array(l);l--;)c[o?l:++s]=n,n+=a;return c}return $v=r,$v}var Lv,KT;function mF(){if(KT)return Lv;KT=1;var e=RL(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var a=i<0?-1:1;return a*r}return i===i?i:0}return Lv=n,Lv}var Fv,GT;function $pe(){if(GT)return Fv;GT=1;var e=Dpe(),t=Dh(),r=mF();function n(i){return function(a,o,s){return s&&typeof s!="number"&&t(a,o,s)&&(o=s=void 0),a=r(a),o===void 0?(o=a,a=0):o=r(o),s=s===void 0?a<o?1:-1:r(s),e(a,o,s,i)}}return Fv=n,Fv}var Bv,YT;function Lpe(){if(YT)return Bv;YT=1;var e=$pe(),t=e();return Bv=t,Bv}var Fpe=Lpe();const vf=Ue(Fpe);function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function XT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function QT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XT(Object(r),!0).forEach(function(n){gF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gF(e,t,r){return t=Bpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bpe(e){var t=qpe(e,"string");return Nc(t)=="symbol"?t:t+""}function qpe(e,t){if(Nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zpe=["Webkit","Moz","O","ms"],Upe=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=zpe.reduce(function(a,o){return QT(QT({},a),{},gF({},o+n,r))},{});return i[t]=r,i};function hs(e){"@babel/helpers - typeof";return hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hs(e)}function bf(){return bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bf.apply(this,arguments)}function JT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(r),!0).forEach(function(n){jr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vF(n.key),n)}}function Hpe(e,t,r){return t&&ZT(e.prototype,t),r&&ZT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vpe(e,t,r){return t=xf(t),Kpe(e,yF()?Reflect.construct(t,r||[],xf(e).constructor):t.apply(e,r))}function Kpe(e,t){if(t&&(hs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gpe(e)}function Gpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yF=function(){return!!e})()}function xf(e){return xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xf(e)}function Ype(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dx(e,t)}function dx(e,t){return dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dx(e,t)}function jr(e,t,r){return t=vF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vF(e){var t=Xpe(e,"string");return hs(t)=="symbol"?t:t+""}function Xpe(e,t){if(hs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qpe=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,a=t.x,o=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Il().domain(vf(0,l)).range([a,a+o-s]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:u}},eC=function(t){return t.changedTouches&&!!t.changedTouches.length},ps=(function(e){function t(r){var n;return Wpe(this,t),n=Vpe(this,t,[r]),jr(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),jr(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),jr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o?.({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),jr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),jr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),jr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),jr(n,"handleSlideDragStart",function(i){var a=eC(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Ype(t,e),Hpe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,d=Math.min(i,a),h=Math.max(i,a),p=t.getIndexInRange(o,d),y=t.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:y===u?u:y-y%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=it(a[n],s,n);return ve(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,y=l.onChange,m=n.pageX-a;m>0?m=Math.min(m,c+u-d-s,c+u-d-o):m<0&&(m=Math.max(m,c-o,c-s));var g=this.getIndex({startX:o+m,endX:s+m});(g.startIndex!==h||g.endIndex!==p)&&y&&y(g),this.setState({startX:o+m,endX:s+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=eC(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[o],u=this.props,d=u.x,h=u.width,p=u.travellerWidth,y=u.onChange,m=u.gap,g=u.data,v={startX:this.state.startX,endX:this.state.endX},x=n.pageX-a;x>0?x=Math.min(x,d+h-p-c):x<0&&(x=Math.max(x,d-c)),v[o]=c+x;var b=this.getIndex(v),E=b.startIndex,S=b.endIndex,_=function(){var k=g.length-1;return o==="startX"&&(s>l?E%m===0:S%m===0)||s<l&&S===k||o==="endX"&&(s>l?S%m===0:E%m===0)||s>l&&S===k};this.setState(jr(jr({},o,c+x),"brushMoveStartX",n.pageX),function(){y&&_()&&y(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,c=o.endX,u=this.state[i],d=s.indexOf(u);if(d!==-1){var h=d+n;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(jr({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.fill,c=n.stroke;return P.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.data,c=n.children,u=n.padding,d=w.Children.only(c);return d?P.cloneElement(d,{x:i,y:a,width:o,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,y=l.data,m=l.startIndex,g=l.endIndex,v=Math.max(n,this.props.x),x=qv(qv({},le(this.props,!1)),{},{x:v,y:c,width:u,height:d}),b=p||"Min value: ".concat((a=y[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=y[g])===null||o===void 0?void 0:o.name);return P.createElement(Ae,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(n,i)+c,d=Math.max(Math.abs(i-n)-c,0);return P.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:o,width:d,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,d=u.startX,h=u.endX,p=5,y={pointerEvents:"none",fill:c};return P.createElement(Ae,{className:"recharts-brush-texts"},P.createElement(Ga,bf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:o+s/2},y),this.getTextOfTick(i)),P.createElement(Ga,bf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:o+s/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,l=n.y,c=n.width,u=n.height,d=n.alwaysShowText,h=this.state,p=h.startX,y=h.endX,m=h.isTextActive,g=h.isSlideMoving,v=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!ee(s)||!ee(l)||!ee(c)||!ee(u)||c<=0||u<=0)return null;var b=_e("recharts-brush",a),E=P.Children.count(o)===1,S=Upe("userSelect","none");return P.createElement(Ae,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(m||g||v||x||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,l=n.stroke,c=Math.floor(a+s/2)-1;return P.createElement(P.Fragment,null,P.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),P.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),P.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return P.isValidElement(n)?a=P.cloneElement(n,i):ve(n)?a=n(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,d=n.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return qv({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o},a&&a.length?Qpe({data:a,width:o,x:s,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>i?s=l:o=l}return i>=n[s]?s:o}}])})(w.PureComponent);jr(ps,"displayName","Brush");jr(ps,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var zv,tC;function Jpe(){if(tC)return zv;tC=1;var e=E1();function t(r,n){var i;return e(r,function(a,o,s){return i=n(a,o,s),!i}),!!i}return zv=t,zv}var Uv,rC;function Zpe(){if(rC)return Uv;rC=1;var e=uL(),t=Gn(),r=Jpe(),n=wr(),i=Dh();function a(o,s,l){var c=n(o)?e:r;return l&&i(o,s,l)&&(s=void 0),c(o,t(s,3))}return Uv=a,Uv}var eme=Zpe();const tme=Ue(eme);var $n=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},Wv,nC;function rme(){if(nC)return Wv;nC=1;var e=kL();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return Wv=t,Wv}var Hv,iC;function nme(){if(iC)return Hv;iC=1;var e=rme(),t=jL(),r=Gn();function n(i,a){var o={};return a=r(a,3),t(i,function(s,l,c){e(o,l,a(s,l,c))}),o}return Hv=n,Hv}var ime=nme();const ame=Ue(ime);var Vv,aC;function ome(){if(aC)return Vv;aC=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(!r(t[n],n,t))return!1;return!0}return Vv=e,Vv}var Kv,oC;function sme(){if(oC)return Kv;oC=1;var e=E1();function t(r,n){var i=!0;return e(r,function(a,o,s){return i=!!n(a,o,s),i}),i}return Kv=t,Kv}var Gv,sC;function lme(){if(sC)return Gv;sC=1;var e=ome(),t=sme(),r=Gn(),n=wr(),i=Dh();function a(o,s,l){var c=n(o)?e:t;return l&&i(o,s,l)&&(s=void 0),c(o,r(s,3))}return Gv=a,Gv}var cme=lme();const bF=Ue(cme);var ume=["x","y"];function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function fx(){return fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fx.apply(this,arguments)}function lC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lC(Object(r),!0).forEach(function(n){dme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dme(e,t,r){return t=fme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fme(e){var t=hme(e,"string");return Rc(t)=="symbol"?t:t+""}function hme(e,t){if(Rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pme(e,t){if(e==null)return{};var r=mme(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gme(e,t){var r=e.x,n=e.y,i=pme(e,ume),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),h=parseInt(d,10);return yl(yl(yl(yl(yl({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function cC(e){return P.createElement(pf,fx({shapeType:"rectangle",propTransformer:gme,activeClassName:"recharts-active-bar"},e))}var yme=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var a=ee(n)||bte(n);return a?t(n,i):(a||Xa(),r)}},vme=["value","background"],xF;function ms(e){"@babel/helpers - typeof";return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ms(e)}function bme(e,t){if(e==null)return{};var r=xme(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wf(){return wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wf.apply(this,arguments)}function uC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uC(Object(r),!0).forEach(function(n){Fi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SF(n.key),n)}}function Sme(e,t,r){return t&&dC(e.prototype,t),r&&dC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _me(e,t,r){return t=Sf(t),Eme(e,wF()?Reflect.construct(t,r||[],Sf(e).constructor):t.apply(e,r))}function Eme(e,t){if(t&&(ms(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ome(e)}function Ome(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wF=function(){return!!e})()}function Sf(e){return Sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sf(e)}function jme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hx(e,t)}function hx(e,t){return hx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hx(e,t)}function Fi(e,t,r){return t=SF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SF(e){var t=Ame(e,"string");return ms(t)=="symbol"?t:t+""}function Ame(e,t){if(ms(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var St=(function(e){function t(){var r;wme(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=_me(this,t,[].concat(i)),Fi(r,"state",{isAnimationFinished:!1}),Fi(r,"id",oa("recharts-bar-")),Fi(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Fi(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return jme(t,e),Sme(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,c=a.activeBar,u=le(this.props,!1);return n&&n.map(function(d,h){var p=h===l,y=p?c:o,m=kt(kt(kt({},u),d),{},{isActive:p,option:y,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return P.createElement(Ae,wf({className:"recharts-bar-rectangle"},ta(i.props,d,h),{key:"rectangle-".concat(d?.x,"-").concat(d?.y,"-").concat(d?.value,"-").concat(h)}),P.createElement(cC,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state.prevData;return P.createElement($r,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,m=a.map(function(g,v){var x=h&&h[v];if(x){var b=nt(x.x,g.x),E=nt(x.y,g.y),S=nt(x.width,g.width),_=nt(x.height,g.height);return kt(kt({},g),{},{x:b(y),y:E(y),width:S(y),height:_(y)})}if(o==="horizontal"){var O=nt(0,g.height),k=O(y);return kt(kt({},g),{},{y:g.y+g.height-k,height:k})}var T=nt(0,g.width),j=T(y);return kt(kt({},g),{},{width:j})});return P.createElement(Ae,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!hi(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=le(this.props.background,!1);return a.map(function(c,u){c.value;var d=c.background,h=bme(c,vme);if(!d)return null;var p=kt(kt(kt(kt(kt({},h),{},{fill:"#eee"},d),l),ta(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return P.createElement(cC,wf({key:"background-bar-".concat(u),option:n.props.background,isActive:u===s},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,d=dr(u,Ys);if(!d)return null;var h=c==="vertical"?o[0].height/2:o[0].width/2,p=function(g,v){var x=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:x,errorVal:it(g,v)}},y={clipPath:n?"url(#clipPath-".concat(i,")"):null};return P.createElement(Ae,y,d.map(function(m){return P.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,l=n.yAxis,c=n.left,u=n.top,d=n.width,h=n.height,p=n.isAnimationActive,y=n.background,m=n.id;if(i||!a||!a.length)return null;var g=this.state.isAnimationFinished,v=_e("recharts-bar",o),x=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,E=x||b,S=be(m)?this.id:m;return P.createElement(Ae,{className:v},x||b?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(S)},P.createElement("rect",{x:x?c:c-d/2,y:b?u:u-h/2,width:x?d:d*2,height:b?h:h*2}))):null,P.createElement(Ae,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(S,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,S),(!p||g)&&Xr.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(w.PureComponent);xF=St;Fi(St,"displayName","Bar");Fi(St,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Yn.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Fi(St,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,p=Ice(n,r);if(!p)return null;var y=t.layout,m=r.type.defaultProps,g=m!==void 0?kt(kt({},m),r.props):r.props,v=g.dataKey,x=g.children,b=g.minPointSize,E=y==="horizontal"?o:a,S=c?E.scale.domain():null,_=qce({numericAxis:E}),O=dr(x,Hs),k=d.map(function(T,j){var A,N,D,M,I,L;c?A=Mce(c[u+j],S):(A=it(T,v),Array.isArray(A)||(A=[_,A]));var B=yme(b,xF.defaultProps.minPointSize)(A[1],j);if(y==="horizontal"){var F,$=[o.scale(A[0]),o.scale(A[1])],C=$[0],W=$[1];N=CP({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:T,index:j}),D=(F=W??C)!==null&&F!==void 0?F:void 0,M=p.size;var z=C-W;if(I=Number.isNaN(z)?0:z,L={x:N,y:o.y,width:M,height:o.height},Math.abs(B)>0&&Math.abs(I)<Math.abs(B)){var R=lr(I||B)*(Math.abs(B)-Math.abs(I));D-=R,I+=R}}else{var X=[a.scale(A[0]),a.scale(A[1])],oe=X[0],se=X[1];if(N=oe,D=CP({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:T,index:j}),M=se-oe,I=p.size,L={x:a.x,y:D,width:a.width,height:I},Math.abs(B)>0&&Math.abs(M)<Math.abs(B)){var K=lr(M||B)*(Math.abs(B)-Math.abs(M));M+=K}}return kt(kt(kt({},T),{},{x:N,y:D,width:M,height:I,value:c?A:A[1],payload:T,background:L},O&&O[j]&&O[j].props),{},{tooltipPayload:[W5(r,T)],tooltipPosition:{x:N+M/2,y:D+I/2}})});return kt({data:k,layout:y},h)});function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function kme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_F(n.key),n)}}function Pme(e,t,r){return t&&fC(e.prototype,t),r&&fC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hC(Object(r),!0).forEach(function(n){Qh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qh(e,t,r){return t=_F(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _F(e){var t=Tme(e,"string");return Ic(t)=="symbol"?t:t+""}function Tme(e,t){if(Ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jh=function(t,r,n,i,a){var o=t.width,s=t.height,l=t.layout,c=t.children,u=Object.keys(r),d={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!Ar(c,St);return u.reduce(function(p,y){var m=r[y],g=m.orientation,v=m.domain,x=m.padding,b=x===void 0?{}:x,E=m.mirror,S=m.reversed,_="".concat(g).concat(E?"Mirror":""),O,k,T,j,A;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var N=v[1]-v[0],D=1/0,M=m.categoricalDomain.sort(_te);if(M.forEach(function(X,oe){oe>0&&(D=Math.min((X||0)-(M[oe-1]||0),D))}),Number.isFinite(D)){var I=D/N,L=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(O=I*L/2),m.padding==="no-gap"){var B=cr(t.barCategoryGap,I*L),F=I*L/2;O=F-B-(F-B)/L*B}}}i==="xAxis"?k=[n.left+(b.left||0)+(O||0),n.left+n.width-(b.right||0)-(O||0)]:i==="yAxis"?k=l==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(O||0),n.top+n.height-(b.bottom||0)-(O||0)]:k=m.range,S&&(k=[k[1],k[0]]);var $=B5(m,a,h),C=$.scale,W=$.realScaleType;C.domain(v).range(k),q5(C);var z=z5(C,dn(dn({},m),{},{realScaleType:W}));i==="xAxis"?(A=g==="top"&&!E||g==="bottom"&&E,T=n.left,j=d[_]-A*m.height):i==="yAxis"&&(A=g==="left"&&!E||g==="right"&&E,T=d[_]-A*m.width,j=n.top);var R=dn(dn(dn({},m),z),{},{realScaleType:W,x:T,y:j,scale:C,width:i==="xAxis"?n.width:m.width,height:i==="yAxis"?n.height:m.height});return R.bandSize=tf(R,z),!m.hide&&i==="xAxis"?d[_]+=(A?-1:1)*R.height:m.hide||(d[_]+=(A?-1:1)*R.width),dn(dn({},p),{},Qh({},y,R))},{})},EF=function(t,r){var n=t.x,i=t.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},Cme=function(t){var r=t.x1,n=t.y1,i=t.x2,a=t.y2;return EF({x:r,y:n},{x:i,y:a})},OF=(function(){function e(t){kme(this,e),this.scale=t}return Pme(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])})();Qh(OF,"EPS",1e-4);var Z1=function(t){var r=Object.keys(t).reduce(function(n,i){return dn(dn({},n),{},Qh({},i,OF.create(t[i])))},{});return dn(dn({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return ame(i,function(l,c){return r[c].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return bF(i,function(a,o){return r[o].isInRange(a)})}})};function Nme(e){return(e%180+180)%180}var Rme=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Nme(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},Yv,pC;function Ime(){if(pC)return Yv;pC=1;var e=Gn(),t=eu(),r=Ih();function n(i){return function(a,o,s){var l=Object(a);if(!t(a)){var c=e(o,3);a=r(a),o=function(d){return c(l[d],d,l)}}var u=i(a,o,s);return u>-1?l[c?a[u]:u]:void 0}}return Yv=n,Yv}var Xv,mC;function Mme(){if(mC)return Xv;mC=1;var e=mF();function t(r){var n=e(r),i=n%1;return n===n?i?n-i:n:0}return Xv=t,Xv}var Qv,gC;function Dme(){if(gC)return Qv;gC=1;var e=wL(),t=Gn(),r=Mme(),n=Math.max;function i(a,o,s){var l=a==null?0:a.length;if(!l)return-1;var c=s==null?0:r(s);return c<0&&(c=n(l+c,0)),e(a,t(o,3),c)}return Qv=i,Qv}var Jv,yC;function $me(){if(yC)return Jv;yC=1;var e=Ime(),t=Dme(),r=e(t);return Jv=r,Jv}var Lme=$me();const Fme=Ue(Lme);var Bme=D$();const qme=Ue(Bme);var zme=qme(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),eS=w.createContext(void 0),tS=w.createContext(void 0),jF=w.createContext(void 0),AF=w.createContext({}),kF=w.createContext(void 0),PF=w.createContext(0),TF=w.createContext(0),vC=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=t.clipPathId,s=t.children,l=t.width,c=t.height,u=zme(a);return P.createElement(eS.Provider,{value:n},P.createElement(tS.Provider,{value:i},P.createElement(AF.Provider,{value:a},P.createElement(jF.Provider,{value:u},P.createElement(kF.Provider,{value:o},P.createElement(PF.Provider,{value:c},P.createElement(TF.Provider,{value:l},s)))))))},Ume=function(){return w.useContext(kF)},CF=function(t){var r=w.useContext(eS);r==null&&Xa();var n=r[t];return n==null&&Xa(),n},Wme=function(){var t=w.useContext(eS);return Di(t)},Hme=function(){var t=w.useContext(tS),r=Fme(t,function(n){return bF(n.domain,Number.isFinite)});return r||Di(t)},NF=function(t){var r=w.useContext(tS);r==null&&Xa();var n=r[t];return n==null&&Xa(),n},Vme=function(){var t=w.useContext(jF);return t},Kme=function(){return w.useContext(AF)},rS=function(){return w.useContext(TF)},nS=function(){return w.useContext(PF)};function gs(e){"@babel/helpers - typeof";return gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gs(e)}function Gme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IF(n.key),n)}}function Xme(e,t,r){return t&&Yme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qme(e,t,r){return t=_f(t),Jme(e,RF()?Reflect.construct(t,r||[],_f(e).constructor):t.apply(e,r))}function Jme(e,t){if(t&&(gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zme(e)}function Zme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RF=function(){return!!e})()}function _f(e){return _f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_f(e)}function ege(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&px(e,t)}function px(e,t){return px=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},px(e,t)}function bC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(r),!0).forEach(function(n){iS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iS(e,t,r){return t=IF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IF(e){var t=tge(e,"string");return gs(t)=="symbol"?t:t+""}function tge(e,t){if(gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function rge(e,t){return oge(e)||age(e,t)||ige(e,t)||nge()}function nge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ige(e,t){if(e){if(typeof e=="string")return wC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wC(e,t)}}function wC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function age(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function oge(e){if(Array.isArray(e))return e}function mx(){return mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mx.apply(this,arguments)}var sge=function(t,r){var n;return P.isValidElement(t)?n=P.cloneElement(t,r):ve(t)?n=t(r):n=P.createElement("line",mx({},r,{className:"recharts-reference-line-line"})),n},lge=function(t,r,n,i,a,o,s,l,c){var u=a.x,d=a.y,h=a.width,p=a.height;if(n){var y=c.y,m=t.y.apply(y,{position:o});if($n(c,"discard")&&!t.y.isInRange(m))return null;var g=[{x:u+h,y:m},{x:u,y:m}];return l==="left"?g.reverse():g}if(r){var v=c.x,x=t.x.apply(v,{position:o});if($n(c,"discard")&&!t.x.isInRange(x))return null;var b=[{x,y:d+p},{x,y:d}];return s==="top"?b.reverse():b}if(i){var E=c.segment,S=E.map(function(_){return t.apply(_,{position:o})});return $n(c,"discard")&&tme(S,function(_){return!t.isInRange(_)})?null:S}return null};function cge(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,s=e.className,l=e.alwaysShow,c=Ume(),u=CF(i),d=NF(a),h=Vme();if(!c||!h)return null;yn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Z1({x:u.scale,y:d.scale}),y=zt(t),m=zt(r),g=n&&n.length===2,v=lge(p,y,m,g,h,e.position,u.orientation,d.orientation,e);if(!v)return null;var x=rge(v,2),b=x[0],E=b.x,S=b.y,_=x[1],O=_.x,k=_.y,T=$n(e,"hidden")?"url(#".concat(c,")"):void 0,j=xC(xC({clipPath:T},le(e,!0)),{},{x1:E,y1:S,x2:O,y2:k});return P.createElement(Ae,{className:_e("recharts-reference-line",s)},sge(o,j),Ht.renderCallByParent(e,Cme({x1:E,y1:S,x2:O,y2:k})))}var aS=(function(e){function t(){return Gme(this,t),Qme(this,t,arguments)}return ege(t,e),Xme(t,[{key:"render",value:function(){return P.createElement(cge,this.props)}}])})(P.Component);iS(aS,"displayName","ReferenceLine");iS(aS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gx.apply(this,arguments)}function ys(e){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ys(e)}function SC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _C(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SC(Object(r),!0).forEach(function(n){Zh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DF(n.key),n)}}function fge(e,t,r){return t&&dge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hge(e,t,r){return t=Ef(t),pge(e,MF()?Reflect.construct(t,r||[],Ef(e).constructor):t.apply(e,r))}function pge(e,t){if(t&&(ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mge(e)}function mge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MF=function(){return!!e})()}function Ef(e){return Ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ef(e)}function gge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yx(e,t)}function yx(e,t){return yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yx(e,t)}function Zh(e,t,r){return t=DF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DF(e){var t=yge(e,"string");return ys(t)=="symbol"?t:t+""}function yge(e,t){if(ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vge=function(t){var r=t.x,n=t.y,i=t.xAxis,a=t.yAxis,o=Z1({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return $n(t,"discard")&&!o.isInRange(s)?null:s},ep=(function(e){function t(){return uge(this,t),hge(this,t,arguments)}return gge(t,e),fge(t,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,c=zt(i),u=zt(a);if(yn(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=vge(this.props);if(!d)return null;var h=d.x,p=d.y,y=this.props,m=y.shape,g=y.className,v=$n(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=_C(_C({clipPath:v},le(this.props,!0)),{},{cx:h,cy:p});return P.createElement(Ae,{className:_e("recharts-reference-dot",g)},t.renderDot(m,x),Ht.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])})(P.Component);Zh(ep,"displayName","ReferenceDot");Zh(ep,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Zh(ep,"renderDot",function(e,t){var r;return P.isValidElement(e)?r=P.cloneElement(e,t):ve(e)?r=e(t):r=P.createElement(Xs,gx({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function vx(){return vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vx.apply(this,arguments)}function vs(e){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vs(e)}function EC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function OC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EC(Object(r),!0).forEach(function(n){tp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LF(n.key),n)}}function wge(e,t,r){return t&&xge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sge(e,t,r){return t=Of(t),_ge(e,$F()?Reflect.construct(t,r||[],Of(e).constructor):t.apply(e,r))}function _ge(e,t){if(t&&(vs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ege(e)}function Ege(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $F(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($F=function(){return!!e})()}function Of(e){return Of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Of(e)}function Oge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bx(e,t)}function bx(e,t){return bx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bx(e,t)}function tp(e,t,r){return t=LF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LF(e){var t=jge(e,"string");return vs(t)=="symbol"?t:t+""}function jge(e,t){if(vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Age=function(t,r,n,i,a){var o=a.x1,s=a.x2,l=a.y1,c=a.y2,u=a.xAxis,d=a.yAxis;if(!u||!d)return null;var h=Z1({x:u.scale,y:d.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return $n(a,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:EF(p,y)},rp=(function(e){function t(){return bge(this,t),Sge(this,t,arguments)}return Oge(t,e),wge(t,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;yn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=zt(i),h=zt(a),p=zt(o),y=zt(s),m=this.props.shape;if(!d&&!h&&!p&&!y&&!m)return null;var g=Age(d,h,p,y,this.props);if(!g&&!m)return null;var v=$n(this.props,"hidden")?"url(#".concat(u,")"):void 0;return P.createElement(Ae,{className:_e("recharts-reference-area",l)},t.renderRect(m,OC(OC({clipPath:v},le(this.props,!0)),g)),Ht.renderCallByParent(this.props,g))}}])})(P.Component);tp(rp,"displayName","ReferenceArea");tp(rp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});tp(rp,"renderRect",function(e,t){var r;return P.isValidElement(e)?r=P.cloneElement(e,t):ve(e)?r=e(t):r=P.createElement(J1,vx({},t,{className:"recharts-reference-area-rect"})),r});function FF(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function kge(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Rme(n,r)}function Pge(e,t,r){var n=r==="width",i=e.x,a=e.y,o=e.width,s=e.height;return t===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function jf(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function Tge(e,t){return FF(e,t+1)}function Cge(e,t,r,n,i){for(var a=(n||[]).slice(),o=t.start,s=t.end,l=0,c=1,u=o,d=function(){var y=n?.[l];if(y===void 0)return{v:FF(n,c)};var m=l,g,v=function(){return g===void 0&&(g=r(y,m)),g},x=y.coordinate,b=l===0||jf(e,x,v,u,s);b||(l=0,u=o,c+=1),b&&(u=x+e*(v()/2+i),l+=c)},h;c<=a.length;)if(h=d(),h)return h.v;return[]}function Mc(e){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mc(e)}function jC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(r),!0).forEach(function(n){Nge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nge(e,t,r){return t=Rge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rge(e){var t=Ige(e,"string");return Mc(t)=="symbol"?t:t+""}function Ige(e,t){if(Mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mge(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=t.start,l=t.end,c=function(h){var p=a[h],y,m=function(){return y===void 0&&(y=r(p,h)),y};if(h===o-1){var g=e*(p.coordinate+e*m()/2-l);a[h]=p=er(er({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate})}else a[h]=p=er(er({},p),{},{tickCoord:p.coordinate});var v=jf(e,p.tickCoord,m,s,l);v&&(l=p.tickCoord-e*(m()/2+i),a[h]=er(er({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}function Dge(e,t,r,n,i,a){var o=(n||[]).slice(),s=o.length,l=t.start,c=t.end;if(a){var u=n[s-1],d=r(u,s-1),h=e*(u.coordinate+e*d/2-c);o[s-1]=u=er(er({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=jf(e,u.tickCoord,function(){return d},l,c);p&&(c=u.tickCoord-e*(d/2+i),o[s-1]=er(er({},u),{},{isShow:!0}))}for(var y=a?s-1:s,m=function(x){var b=o[x],E,S=function(){return E===void 0&&(E=r(b,x)),E};if(x===0){var _=e*(b.coordinate-e*S()/2-l);o[x]=b=er(er({},b),{},{tickCoord:_<0?b.coordinate-_*e:b.coordinate})}else o[x]=b=er(er({},b),{},{tickCoord:b.coordinate});var O=jf(e,b.tickCoord,S,l,c);O&&(l=b.tickCoord+e*(S()/2+i),o[x]=er(er({},b),{},{isShow:!0}))},g=0;g<y;g++)m(g);return o}function oS(e,t,r){var n=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!i||!i.length||!n)return[];if(ee(l)||Yn.isSsr)return Tge(i,typeof l=="number"&&ee(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",y=u&&p==="width"?Rl(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(b,E){var S=ve(c)?c(b.value,E):b.value;return p==="width"?kge(Rl(S,{fontSize:t,letterSpacing:r}),y,d):Rl(S,{fontSize:t,letterSpacing:r})[p]},g=i.length>=2?lr(i[1].coordinate-i[0].coordinate):1,v=Pge(a,g,p);return l==="equidistantPreserveStart"?Cge(g,v,m,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=Dge(g,v,m,i,o,l==="preserveStartEnd"):h=Mge(g,v,m,i,o),h.filter(function(x){return x.isShow}))}var $ge=["viewBox"],Lge=["viewBox"],Fge=["ticks"];function bs(e){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(e)}function Co(){return Co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Co.apply(this,arguments)}function AC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AC(Object(r),!0).forEach(function(n){sS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zv(e,t){if(e==null)return{};var r=Bge(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qF(n.key),n)}}function zge(e,t,r){return t&&kC(e.prototype,t),r&&kC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uge(e,t,r){return t=Af(t),Wge(e,BF()?Reflect.construct(t,r||[],Af(e).constructor):t.apply(e,r))}function Wge(e,t){if(t&&(bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hge(e)}function Hge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BF=function(){return!!e})()}function Af(e){return Af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Af(e)}function Vge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xx(e,t)}function xx(e,t){return xx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xx(e,t)}function sS(e,t,r){return t=qF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qF(e){var t=Kge(e,"string");return bs(t)=="symbol"?t:t+""}function Kge(e,t){if(bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qs=(function(e){function t(r){var n;return qge(this,t),n=Uge(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Vge(t,e),zge(t,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=Zv(n,$ge),s=this.props,l=s.viewBox,c=Zv(s,Lge);return!zo(a,l)||!zo(o,c)||!zo(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,c=i.orientation,u=i.tickSize,d=i.mirror,h=i.tickMargin,p,y,m,g,v,x,b=d?-1:1,E=n.tickSize||u,S=ee(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=y=n.coordinate,g=o+ +!d*l,m=g-b*E,x=m-b*h,v=S;break;case"left":m=g=n.coordinate,y=a+ +!d*s,p=y-b*E,v=p-b*h,x=S;break;case"right":m=g=n.coordinate,y=a+ +d*s,p=y+b*E,v=p+b*h,x=S;break;default:p=y=n.coordinate,g=o+ +d*l,m=g+b*E,x=m+b*h,v=S;break}return{line:{x1:p,y1:m,x2:y,y2:g},tick:{x:v,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,d=Dt(Dt(Dt({},le(this.props,!1)),le(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=Dt(Dt({},d),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=Dt(Dt({},d),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return P.createElement("line",Co({},d,{className:_e("recharts-cartesian-axis-line",Dr(u,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,d=s.tickFormatter,h=s.unit,p=oS(Dt(Dt({},this.props),{},{ticks:n}),i,a),y=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),g=le(this.props,!1),v=le(u,!1),x=Dt(Dt({},g),{},{fill:"none"},le(l,!1)),b=p.map(function(E,S){var _=o.getTickLineCoord(E),O=_.line,k=_.tick,T=Dt(Dt(Dt(Dt({textAnchor:y,verticalAnchor:m},g),{},{stroke:"none",fill:c},v),k),{},{index:S,payload:E,visibleTicksCount:p.length,tickFormatter:d});return P.createElement(Ae,Co({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},ta(o.props,E,S)),l&&P.createElement("line",Co({},x,O,{className:_e("recharts-cartesian-axis-tick-line",Dr(l,"className"))})),u&&t.renderTickItem(u,T,"".concat(ve(d)?d(E.value,S):E.value).concat(h||"")))});return P.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var d=this.props,h=d.ticks,p=Zv(d,Fge),y=h;return ve(l)&&(y=h&&h.length>0?l(this.props):l(p)),o<=0||s<=0||!y||!y.length?null:P.createElement(Ae,{className:_e("recharts-cartesian-axis",c),ref:function(g){n.layerReference=g}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Ht.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,s=_e(i.className,"recharts-cartesian-axis-tick-value");return P.isValidElement(n)?o=P.cloneElement(n,Dt(Dt({},i),{},{className:s})):ve(n)?o=n(Dt(Dt({},i),{},{className:s})):o=P.createElement(Ga,Co({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])})(w.Component);sS(Qs,"displayName","CartesianAxis");sS(Qs,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Gge=["x1","y1","x2","y2","key"],Yge=["offset"];function Za(e){"@babel/helpers - typeof";return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Za(e)}function PC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PC(Object(r),!0).forEach(function(n){Xge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xge(e,t,r){return t=Qge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qge(e){var t=Jge(e,"string");return Za(t)=="symbol"?t:t+""}function Jge(e,t){if(Za(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Za(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ma(){return Ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ma.apply(this,arguments)}function TC(e,t){if(e==null)return{};var r=Zge(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var eye=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,a=t.y,o=t.width,s=t.height,l=t.ry;return P.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function zF(e,t){var r;if(P.isValidElement(e))r=P.cloneElement(e,t);else if(ve(e))r=e(t);else{var n=t.x1,i=t.y1,a=t.x2,o=t.y2,s=t.key,l=TC(t,Gge),c=le(l,!1);c.offset;var u=TC(c,Yge);r=P.createElement("line",Ma({},u,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function tye(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=tr(tr({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return zF(i,c)});return P.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function rye(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=tr(tr({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return zF(i,c)});return P.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function nye(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,a=e.width,o=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var y=!u[p+1],m=y?i+o-h:u[p+1]-h;if(m<=0)return null;var g=p%t.length;return P.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:a,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function iye(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var y=!u[p+1],m=y?a+s-h:u[p+1]-h;if(m<=0)return null;var g=p%n.length;return P.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:l,stroke:"none",fill:n[g],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var aye=function(t,r){var n=t.xAxis,i=t.width,a=t.height,o=t.offset;return F5(oS(tr(tr(tr({},Qs.defaultProps),n),{},{ticks:ii(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},oye=function(t,r){var n=t.yAxis,i=t.width,a=t.height,o=t.offset;return F5(oS(tr(tr(tr({},Qs.defaultProps),n),{},{ticks:ii(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},_o={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Wr(e){var t,r,n,i,a,o,s=rS(),l=nS(),c=Kme(),u=tr(tr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:_o.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:_o.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:_o.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:_o.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:_o.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:_o.verticalFill,x:ee(e.x)?e.x:c.left,y:ee(e.y)?e.y:c.top,width:ee(e.width)?e.width:c.width,height:ee(e.height)?e.height:c.height}),d=u.x,h=u.y,p=u.width,y=u.height,m=u.syncWithTicks,g=u.horizontalValues,v=u.verticalValues,x=Wme(),b=Hme();if(!ee(p)||p<=0||!ee(y)||y<=0||!ee(d)||d!==+d||!ee(h)||h!==+h)return null;var E=u.verticalCoordinatesGenerator||aye,S=u.horizontalCoordinatesGenerator||oye,_=u.horizontalPoints,O=u.verticalPoints;if((!_||!_.length)&&ve(S)){var k=g&&g.length,T=S({yAxis:b?tr(tr({},b),{},{ticks:k?g:b.ticks}):void 0,width:s,height:l,offset:c},k?!0:m);yn(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Za(T),"]")),Array.isArray(T)&&(_=T)}if((!O||!O.length)&&ve(E)){var j=v&&v.length,A=E({xAxis:x?tr(tr({},x),{},{ticks:j?v:x.ticks}):void 0,width:s,height:l,offset:c},j?!0:m);yn(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Za(A),"]")),Array.isArray(A)&&(O=A)}return P.createElement("g",{className:"recharts-cartesian-grid"},P.createElement(eye,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),P.createElement(tye,Ma({},u,{offset:c,horizontalPoints:_,xAxis:x,yAxis:b})),P.createElement(rye,Ma({},u,{offset:c,verticalPoints:O,xAxis:x,yAxis:b})),P.createElement(nye,Ma({},u,{horizontalPoints:_})),P.createElement(iye,Ma({},u,{verticalPoints:O})))}Wr.displayName="CartesianGrid";var sye=["type","layout","connectNulls","ref"],lye=["key"];function xs(e){"@babel/helpers - typeof";return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xs(e)}function CC(e,t){if(e==null)return{};var r=cye(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fl(){return Fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fl.apply(this,arguments)}function NC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NC(Object(r),!0).forEach(function(n){fn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eo(e){return hye(e)||fye(e)||dye(e)||uye()}function uye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dye(e,t){if(e){if(typeof e=="string")return wx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wx(e,t)}}function fye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hye(e){if(Array.isArray(e))return wx(e)}function wx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WF(n.key),n)}}function mye(e,t,r){return t&&RC(e.prototype,t),r&&RC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gye(e,t,r){return t=kf(t),yye(e,UF()?Reflect.construct(t,r||[],kf(e).constructor):t.apply(e,r))}function yye(e,t){if(t&&(xs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vye(e)}function vye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UF=function(){return!!e})()}function kf(e){return kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kf(e)}function bye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sx(e,t)}function Sx(e,t){return Sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Sx(e,t)}function fn(e,t,r){return t=WF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WF(e){var t=xye(e,"string");return xs(t)=="symbol"?t:t+""}function xye(e,t){if(xs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qr=(function(e){function t(){var r;pye(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=gye(this,t,[].concat(i)),fn(r,"state",{isAnimationFinished:!0,totalLength:0}),fn(r,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),fn(r,"getStrokeDasharray",function(o,s,l){var c=l.reduce(function(v,x){return v+x});if(!c)return r.generateSimpleStrokeDasharray(s,o);for(var u=Math.floor(o/c),d=o%c,h=s-o,p=[],y=0,m=0;y<l.length;m+=l[y],++y)if(m+l[y]>d){p=[].concat(Eo(l.slice(0,y)),[d-m]);break}var g=p.length%2===0?[0,h]:[h];return[].concat(Eo(t.repeat(l,u)),Eo(p),g).map(function(v){return"".concat(v,"px")}).join(", ")}),fn(r,"id",oa("recharts-line-")),fn(r,"pathRef",function(o){r.mainCurve=o}),fn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),fn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return bye(t,e),mye(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,d=dr(u,Ys);if(!d)return null;var h=function(m,g){return{x:m.x,y:m.y,value:m.value,errorVal:it(m.payload,g)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return P.createElement(Ae,p,d.map(function(y){return P.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,u=s.dataKey,d=le(this.props,!1),h=le(l,!0),p=c.map(function(m,g){var v=Or(Or(Or({key:"dot-".concat(g),r:3},d),h),{},{index:g,cx:m.x,cy:m.y,value:m.value,dataKey:u,payload:m.payload,points:c});return t.renderDotItem(l,v)}),y={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return P.createElement(Ae,Fl({className:"recharts-line-dots",key:"dots"},y),p)}},{key:"renderCurveStatically",value:function(n,i,a,o){var s=this.props,l=s.type,c=s.layout,u=s.connectNulls;s.ref;var d=CC(s,sye),h=Or(Or(Or({},le(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:l,layout:c,connectNulls:u});return P.createElement(Qi,Fl({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,c=o.isAnimationActive,u=o.animationBegin,d=o.animationDuration,h=o.animationEasing,p=o.animationId,y=o.animateNewValues,m=o.width,g=o.height,v=this.state,x=v.prevPoints,b=v.totalLength;return P.createElement($r,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var S=E.t;if(x){var _=x.length/s.length,O=s.map(function(N,D){var M=Math.floor(D*_);if(x[M]){var I=x[M],L=nt(I.x,N.x),B=nt(I.y,N.y);return Or(Or({},N),{},{x:L(S),y:B(S)})}if(y){var F=nt(m*2,N.x),$=nt(g/2,N.y);return Or(Or({},N),{},{x:F(S),y:$(S)})}return Or(Or({},N),{},{x:N.x,y:N.y})});return a.renderCurveStatically(O,n,i)}var k=nt(0,b),T=k(S),j;if(l){var A="".concat(l).split(/[,\s]+/gim).map(function(N){return parseFloat(N)});j=a.getStrokeDasharray(T,b,A)}else j=a.generateSimpleStrokeDasharray(b,T);return a.renderCurveStatically(s,n,i,{strokeDasharray:j})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return s&&o&&o.length&&(!c&&u>0||!hi(c,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,c=i.xAxis,u=i.yAxis,d=i.top,h=i.left,p=i.width,y=i.height,m=i.isAnimationActive,g=i.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,x=s.length===1,b=_e("recharts-line",l),E=c&&c.allowDataOverflow,S=u&&u.allowDataOverflow,_=E||S,O=be(g)?this.id:g,k=(n=le(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=k.r,j=T===void 0?3:T,A=k.strokeWidth,N=A===void 0?2:A,D=q$(o)?o:{},M=D.clipDot,I=M===void 0?!0:M,L=j*2+N;return P.createElement(Ae,{className:b},E||S?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(O)},P.createElement("rect",{x:E?h:h-p/2,y:S?d:d-y/2,width:E?p:p*2,height:S?y:y*2})),!I&&P.createElement("clipPath",{id:"clipPath-dots-".concat(O)},P.createElement("rect",{x:h-L/2,y:d-L/2,width:p+L,height:y+L}))):null,!x&&this.renderCurve(_,O),this.renderErrorBar(_,O),(x||o)&&this.renderDots(_,I,O),(!m||v)&&Xr.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Eo(n),[0]):n,o=[],s=0;s<i;++s)o=[].concat(Eo(o),Eo(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(P.isValidElement(n))a=P.cloneElement(n,i);else if(ve(n))a=n(i);else{var o=i.key,s=CC(i,lye),l=_e("recharts-line-dot",typeof n!="boolean"?n.className:"");a=P.createElement(Xs,Fl({key:o},s,{className:l}))}return a}}])})(w.PureComponent);fn(Qr,"displayName","Line");fn(Qr,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Yn.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});fn(Qr,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,d=l.map(function(h,p){var y=it(h,o);return u==="horizontal"?{x:ss({axis:r,ticks:i,bandSize:s,entry:h,index:p}),y:be(y)?null:n.scale(y),value:y,payload:h}:{x:be(y)?null:r.scale(y),y:ss({axis:n,ticks:a,bandSize:s,entry:h,index:p}),value:y,payload:h}});return Or({points:d,layout:u},c)});var wye=["layout","type","stroke","connectNulls","isRange","ref"],Sye=["key"],HF;function ws(e){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(e)}function VF(e,t){if(e==null)return{};var r=_ye(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _ye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Da(){return Da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Da.apply(this,arguments)}function IC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IC(Object(r),!0).forEach(function(n){In(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GF(n.key),n)}}function Oye(e,t,r){return t&&MC(e.prototype,t),r&&MC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jye(e,t,r){return t=Pf(t),Aye(e,KF()?Reflect.construct(t,r||[],Pf(e).constructor):t.apply(e,r))}function Aye(e,t){if(t&&(ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kye(e)}function kye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KF=function(){return!!e})()}function Pf(e){return Pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pf(e)}function Pye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_x(e,t)}function _x(e,t){return _x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_x(e,t)}function In(e,t,r){return t=GF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GF(e){var t=Tye(e,"string");return ws(t)=="symbol"?t:t+""}function Tye(e,t){if(ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var en=(function(e){function t(){var r;Eye(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=jye(this,t,[].concat(i)),In(r,"state",{isAnimationFinished:!0}),In(r,"id",oa("recharts-area-")),In(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ve(o)&&o()}),In(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ve(o)&&o()}),r}return Pye(t,e),Oye(t,[{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=le(this.props,!1),p=le(c,!0),y=u.map(function(g,v){var x=Pi(Pi(Pi({key:"dot-".concat(v),r:3},h),p),{},{index:v,cx:g.x,cy:g.y,dataKey:d,value:g.value,payload:g.payload,points:u});return t.renderDotItem(c,x)}),m={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return P.createElement(Ae,Da({className:"recharts-area-dots"},m),y)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].x,c=o[o.length-1].x,u=n*Math.abs(l-c),d=Li(o.map(function(h){return h.y||0}));return ee(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(Li(a.map(function(h){return h.y||0})),d)),ee(d)?P.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].y,c=o[o.length-1].y,u=n*Math.abs(l-c),d=Li(o.map(function(h){return h.x||0}));return ee(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(Li(a.map(function(h){return h.x||0})),d)),ee(d)?P.createElement("rect",{x:0,y:l<c?l:l-u,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,o){var s=this.props,l=s.layout,c=s.type,u=s.stroke,d=s.connectNulls,h=s.isRange;s.ref;var p=VF(s,wye);return P.createElement(Ae,{clipPath:a?"url(#clipPath-".concat(o,")"):null},P.createElement(Qi,Da({},le(p,!0),{points:n,connectNulls:d,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&P.createElement(Qi,Da({},le(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:n})),u!=="none"&&h&&P.createElement(Qi,Da({},le(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,l=o.baseLine,c=o.isAnimationActive,u=o.animationBegin,d=o.animationDuration,h=o.animationEasing,p=o.animationId,y=this.state,m=y.prevPoints,g=y.prevBaseLine;return P.createElement($r,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var x=v.t;if(m){var b=m.length/s.length,E=s.map(function(k,T){var j=Math.floor(T*b);if(m[j]){var A=m[j],N=nt(A.x,k.x),D=nt(A.y,k.y);return Pi(Pi({},k),{},{x:N(x),y:D(x)})}return k}),S;if(ee(l)&&typeof l=="number"){var _=nt(g,l);S=_(x)}else if(be(l)||Us(l)){var O=nt(g,0);S=O(x)}else S=l.map(function(k,T){var j=Math.floor(T*b);if(g[j]){var A=g[j],N=nt(A.x,k.x),D=nt(A.y,k.y);return Pi(Pi({},k),{},{x:N(x),y:D(x)})}return k});return a.renderAreaStatically(E,S,n,i)}return P.createElement(Ae,null,P.createElement("defs",null,P.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(x))),P.createElement(Ae,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(s,l,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,o=a.points,s=a.baseLine,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.prevBaseLine,h=c.totalLength;return l&&o&&o.length&&(!u&&h>0||!hi(u,o)||!hi(d,s))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,c=i.top,u=i.left,d=i.xAxis,h=i.yAxis,p=i.width,y=i.height,m=i.isAnimationActive,g=i.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,x=s.length===1,b=_e("recharts-area",l),E=d&&d.allowDataOverflow,S=h&&h.allowDataOverflow,_=E||S,O=be(g)?this.id:g,k=(n=le(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=k.r,j=T===void 0?3:T,A=k.strokeWidth,N=A===void 0?2:A,D=q$(o)?o:{},M=D.clipDot,I=M===void 0?!0:M,L=j*2+N;return P.createElement(Ae,{className:b},E||S?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(O)},P.createElement("rect",{x:E?u:u-p/2,y:S?c:c-y/2,width:E?p:p*2,height:S?y:y*2})),!I&&P.createElement("clipPath",{id:"clipPath-dots-".concat(O)},P.createElement("rect",{x:u-L/2,y:c-L/2,width:p+L,height:y+L}))):null,x?null:this.renderArea(_,O),(o||x)&&this.renderDots(_,I,O),(!m||v)&&Xr.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(w.PureComponent);HF=en;In(en,"displayName","Area");In(en,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Yn.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});In(en,"getBaseValue",function(e,t,r,n){var i=e.layout,a=e.baseValue,o=t.props.baseValue,s=o??a;if(ee(s)&&typeof s=="number")return s;var l=i==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return s==="dataMin"?d:s==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});In(en,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,i=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,s=e.bandSize,l=e.dataKey,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,p=t.layout,y=c&&c.length,m=HF.getBaseValue(t,r,n,i),g=p==="horizontal",v=!1,x=d.map(function(E,S){var _;y?_=c[u+S]:(_=it(E,l),Array.isArray(_)?v=!0:_=[m,_]);var O=_[1]==null||y&&it(E,l)==null;return g?{x:ss({axis:n,ticks:a,bandSize:s,entry:E,index:S}),y:O?null:i.scale(_[1]),value:_,payload:E}:{x:O?null:n.scale(_[1]),y:ss({axis:i,ticks:o,bandSize:s,entry:E,index:S}),value:_,payload:E}}),b;return y||v?b=x.map(function(E){var S=Array.isArray(E.value)?E.value[0]:null;return g?{x:E.x,y:S!=null&&E.y!=null?i.scale(S):null}:{x:S!=null?n.scale(S):null,y:E.y}}):b=g?i.scale(m):n.scale(m),Pi({points:x,baseLine:b,layout:p,isRange:v},h)});In(en,"renderDotItem",function(e,t){var r;if(P.isValidElement(e))r=P.cloneElement(e,t);else if(ve(e))r=e(t);else{var n=_e("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=VF(t,Sye);r=P.createElement(Xs,Da({},a,{key:i,className:n}))}return r});function Ss(e){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(e)}function Cye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QF(n.key),n)}}function Rye(e,t,r){return t&&Nye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Iye(e,t,r){return t=Tf(t),Mye(e,YF()?Reflect.construct(t,r||[],Tf(e).constructor):t.apply(e,r))}function Mye(e,t){if(t&&(Ss(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dye(e)}function Dye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YF=function(){return!!e})()}function Tf(e){return Tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tf(e)}function $ye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ex(e,t)}function Ex(e,t){return Ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ex(e,t)}function XF(e,t,r){return t=QF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QF(e){var t=Lye(e,"string");return Ss(t)=="symbol"?t:t+""}function Lye(e,t){if(Ss(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var np=(function(e){function t(){return Cye(this,t),Iye(this,t,arguments)}return $ye(t,e),Rye(t,[{key:"render",value:function(){return null}}])})(w.Component);XF(np,"displayName","ZAxis");XF(np,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var Fye=["option","isActive"];function Bl(){return Bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bl.apply(this,arguments)}function Bye(e,t){if(e==null)return{};var r=qye(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zye(e){var t=e.option,r=e.isActive,n=Bye(e,Fye);return typeof t=="string"?w.createElement(pf,Bl({option:w.createElement(Rh,Bl({type:t},n)),isActive:r,shapeType:"symbols"},n)):w.createElement(pf,Bl({option:t,isActive:r,shapeType:"symbols"},n))}function _s(e){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_s(e)}function ql(){return ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ql.apply(this,arguments)}function DC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(r),!0).forEach(function(n){Bi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZF(n.key),n)}}function Wye(e,t,r){return t&&$C(e.prototype,t),r&&$C(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hye(e,t,r){return t=Cf(t),Vye(e,JF()?Reflect.construct(t,r||[],Cf(e).constructor):t.apply(e,r))}function Vye(e,t){if(t&&(_s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kye(e)}function Kye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JF=function(){return!!e})()}function Cf(e){return Cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cf(e)}function Gye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ox(e,t)}function Ox(e,t){return Ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ox(e,t)}function Bi(e,t,r){return t=ZF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZF(e){var t=Yye(e,"string");return _s(t)=="symbol"?t:t+""}function Yye(e,t){if(_s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ip=(function(e){function t(){var r;Uye(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Hye(this,t,[].concat(i)),Bi(r,"state",{isAnimationFinished:!1}),Bi(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),Bi(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),Bi(r,"id",oa("recharts-scatter-")),r}return Gye(t,e),Wye(t,[{key:"renderSymbolsStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.activeShape,l=a.activeIndex,c=le(this.props,!1);return n.map(function(u,d){var h=l===d,p=h?s:o,y=zr(zr({},c),u);return P.createElement(Ae,ql({className:"recharts-scatter-symbol",key:"symbol-".concat(u?.cx,"-").concat(u?.cy,"-").concat(u?.size,"-").concat(d)},ta(i.props,u,d),{role:"img"}),P.createElement(zye,ql({option:p,isActive:h,key:"symbol-".concat(d)},y)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,i=this.props,a=i.points,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,d=this.state.prevPoints;return P.createElement($r,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,y=a.map(function(m,g){var v=d&&d[g];if(v){var x=nt(v.cx,m.cx),b=nt(v.cy,m.cy),E=nt(v.size,m.size);return zr(zr({},m),{},{cx:x(p),cy:b(p),size:E(p)})}var S=nt(0,m.size);return zr(zr({},m),{},{size:S(p)})});return P.createElement(Ae,null,n.renderSymbolsStatically(y))})}},{key:"renderSymbols",value:function(){var n=this.props,i=n.points,a=n.isAnimationActive,o=this.state.prevPoints;return a&&i&&i.length&&(!o||!hi(o,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,o=i.xAxis,s=i.yAxis,l=i.children,c=dr(l,Ys);return c?c.map(function(u,d){var h=u.props,p=h.direction,y=h.dataKey;return P.cloneElement(u,{key:"".concat(p,"-").concat(y,"-").concat(a[d]),data:a,xAxis:o,yAxis:s,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(g,v){return{x:g.cx,y:g.cy,value:p==="x"?+g.node.x:+g.node.y,errorVal:it(g,v)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,i=n.points,a=n.line,o=n.lineType,s=n.lineJointType,l=le(this.props,!1),c=le(a,!1),u,d;if(o==="joint")u=i.map(function(b){return{x:b.cx,y:b.cy}});else if(o==="fitting"){var h=Ste(i),p=h.xmin,y=h.xmax,m=h.a,g=h.b,v=function(E){return m*E+g};u=[{x:p,y:v(p)},{x:y,y:v(y)}]}var x=zr(zr(zr({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:u});return P.isValidElement(a)?d=P.cloneElement(a,x):ve(a)?d=a(x):d=P.createElement(Qi,ql({},x,{type:s})),P.createElement(Ae,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.points,o=n.line,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,h=n.width,p=n.height,y=n.id,m=n.isAnimationActive;if(i||!a||!a.length)return null;var g=this.state.isAnimationFinished,v=_e("recharts-scatter",s),x=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,E=x||b,S=be(y)?this.id:y;return P.createElement(Ae,{className:v,clipPath:E?"url(#clipPath-".concat(S,")"):null},x||b?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(S)},P.createElement("rect",{x:x?u:u-h/2,y:b?d:d-p/2,width:x?h:h*2,height:b?p:p*2}))):null,o&&this.renderLine(),this.renderErrorBar(),P.createElement(Ae,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!m||g)&&Xr.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}}])})(w.PureComponent);Bi(ip,"displayName","Scatter");Bi(ip,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Yn.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Bi(ip,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,i=e.item,a=e.displayedData,o=e.xAxisTicks,s=e.yAxisTicks,l=e.offset,c=i.props.tooltipType,u=dr(i.props.children,Hs),d=be(t.dataKey)?i.props.dataKey:t.dataKey,h=be(r.dataKey)?i.props.dataKey:r.dataKey,p=n&&n.dataKey,y=n?n.range:np.defaultProps.range,m=y&&y[0],g=t.scale.bandwidth?t.scale.bandwidth():0,v=r.scale.bandwidth?r.scale.bandwidth():0,x=a.map(function(b,E){var S=it(b,d),_=it(b,h),O=!be(p)&&it(b,p)||"-",k=[{name:be(t.dataKey)?i.props.name:t.name||t.dataKey,unit:t.unit||"",value:S,payload:b,dataKey:d,type:c},{name:be(r.dataKey)?i.props.name:r.name||r.dataKey,unit:r.unit||"",value:_,payload:b,dataKey:h,type:c}];O!=="-"&&k.push({name:n.name||n.dataKey,unit:n.unit||"",value:O,payload:b,dataKey:p,type:c});var T=ss({axis:t,ticks:o,bandSize:g,entry:b,index:E,dataKey:d}),j=ss({axis:r,ticks:s,bandSize:v,entry:b,index:E,dataKey:h}),A=O!=="-"?n.scale(O):m,N=Math.sqrt(Math.max(A,0)/Math.PI);return zr(zr({},b),{},{cx:T,cy:j,x:T-N,y:j-N,xAxis:t,yAxis:r,zAxis:n,width:2*N,height:2*N,size:A,node:{x:S,y:_,z:O},tooltipPayload:k,tooltipPosition:{x:T,y:j},payload:b},u&&u[E]&&u[E].props)});return zr({points:x},l)});function Es(e){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}function Xye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r3(n.key),n)}}function Jye(e,t,r){return t&&Qye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zye(e,t,r){return t=Nf(t),eve(e,e3()?Reflect.construct(t,r||[],Nf(e).constructor):t.apply(e,r))}function eve(e,t){if(t&&(Es(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tve(e)}function tve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e3=function(){return!!e})()}function Nf(e){return Nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nf(e)}function rve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jx(e,t)}function jx(e,t){return jx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jx(e,t)}function t3(e,t,r){return t=r3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r3(e){var t=nve(e,"string");return Es(t)=="symbol"?t:t+""}function nve(e,t){if(Es(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ax(){return Ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ax.apply(this,arguments)}function ive(e){var t=e.xAxisId,r=rS(),n=nS(),i=CF(t);return i==null?null:w.createElement(Qs,Ax({},i,{className:_e("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return ii(o,!0)}}))}var Bt=(function(e){function t(){return Xye(this,t),Zye(this,t,arguments)}return rve(t,e),Jye(t,[{key:"render",value:function(){return w.createElement(ive,this.props)}}])})(w.Component);t3(Bt,"displayName","XAxis");t3(Bt,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Os(e){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(e)}function ave(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ove(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a3(n.key),n)}}function sve(e,t,r){return t&&ove(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lve(e,t,r){return t=Rf(t),cve(e,n3()?Reflect.construct(t,r||[],Rf(e).constructor):t.apply(e,r))}function cve(e,t){if(t&&(Os(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uve(e)}function uve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n3=function(){return!!e})()}function Rf(e){return Rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rf(e)}function dve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kx(e,t)}function kx(e,t){return kx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kx(e,t)}function i3(e,t,r){return t=a3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a3(e){var t=fve(e,"string");return Os(t)=="symbol"?t:t+""}function fve(e,t){if(Os(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Px(){return Px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Px.apply(this,arguments)}var hve=function(t){var r=t.yAxisId,n=rS(),i=nS(),a=NF(r);return a==null?null:w.createElement(Qs,Px({},a,{className:_e("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return ii(s,!0)}}))},_t=(function(e){function t(){return ave(this,t),lve(this,t,arguments)}return dve(t,e),sve(t,[{key:"render",value:function(){return w.createElement(hve,this.props)}}])})(w.Component);i3(_t,"displayName","YAxis");i3(_t,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function LC(e){return yve(e)||gve(e)||mve(e)||pve()}function pve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mve(e,t){if(e){if(typeof e=="string")return Tx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tx(e,t)}}function gve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yve(e){if(Array.isArray(e))return Tx(e)}function Tx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Cx=function(t,r,n,i,a){var o=dr(t,aS),s=dr(t,ep),l=[].concat(LC(o),LC(s)),c=dr(t,rp),u="".concat(i,"Id"),d=i[0],h=r;if(l.length&&(h=l.reduce(function(m,g){if(g.props[u]===n&&$n(g.props,"extendDomain")&&ee(g.props[d])){var v=g.props[d];return[Math.min(m[0],v),Math.max(m[1],v)]}return m},h)),c.length){var p="".concat(d,"1"),y="".concat(d,"2");h=c.reduce(function(m,g){if(g.props[u]===n&&$n(g.props,"extendDomain")&&ee(g.props[p])&&ee(g.props[y])){var v=g.props[p],x=g.props[y];return[Math.min(m[0],v,x),Math.max(m[1],v,x)]}return m},h)}return a&&a.length&&(h=a.reduce(function(m,g){return ee(g)?[Math.min(m[0],g),Math.max(m[1],g)]:m},h)),h},eb={exports:{}},FC;function vve(){return FC||(FC=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,d||l,h),y=r?r+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],p]:l._events[y].push(p):(l._events[y]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)t.call(u,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=r?r+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,y=new Array(p);h<p;h++)y[h]=d[h].fn;return y},s.prototype.listenerCount=function(c){var u=r?r+c:c,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,u,d,h,p,y){var m=r?r+c:c;if(!this._events[m])return!1;var g=this._events[m],v=arguments.length,x,b;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,d),!0;case 4:return g.fn.call(g.context,u,d,h),!0;case 5:return g.fn.call(g.context,u,d,h,p),!0;case 6:return g.fn.call(g.context,u,d,h,p,y),!0}for(b=1,x=new Array(v-1);b<v;b++)x[b-1]=arguments[b];g.fn.apply(g.context,x)}else{var E=g.length,S;for(b=0;b<E;b++)switch(g[b].once&&this.removeListener(c,g[b].fn,void 0,!0),v){case 1:g[b].fn.call(g[b].context);break;case 2:g[b].fn.call(g[b].context,u);break;case 3:g[b].fn.call(g[b].context,u,d);break;case 4:g[b].fn.call(g[b].context,u,d,h);break;default:if(!x)for(S=1,x=new Array(v-1);S<v;S++)x[S-1]=arguments[S];g[b].fn.apply(g[b].context,x)}}return!0},s.prototype.on=function(c,u,d){return a(this,c,u,d,!1)},s.prototype.once=function(c,u,d){return a(this,c,u,d,!0)},s.prototype.removeListener=function(c,u,d,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===u&&(!h||y.once)&&(!d||y.context===d)&&o(this,p);else{for(var m=0,g=[],v=y.length;m<v;m++)(y[m].fn!==u||h&&!y[m].once||d&&y[m].context!==d)&&g.push(y[m]);g.length?this._events[p]=g.length===1?g[0]:g:o(this,p)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(eb)),eb.exports}var bve=vve();const xve=Ue(bve);var tb=new xve,rb="recharts.syncMouseEvents";function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function wve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o3(n.key),n)}}function _ve(e,t,r){return t&&Sve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nb(e,t,r){return t=o3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o3(e){var t=Eve(e,"string");return Dc(t)=="symbol"?t:t+""}function Eve(e,t){if(Dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ove=(function(){function e(){wve(this,e),nb(this,"activeIndex",0),nb(this,"coordinateList",[]),nb(this,"layout","horizontal")}return _ve(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,l=r.layout,c=l===void 0?null:l,u=r.offset,d=u===void 0?null:u,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=a+l+c,h=o+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])})();function jve(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],i=e?.[1];if(n&&i&&ee(n)&&ee(i))return!0}return!1}function Ave(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function s3(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,a=e.endAngle,o=He(t,r,n,i),s=He(t,r,n,a);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function kve(e,t,r){var n,i,a,o;if(e==="horizontal")n=t.x,a=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=He(s,l,c,d),p=He(s,l,u,d);n=h.x,i=h.y,a=p.x,o=p.y}else return s3(t);return[{x:n,y:i},{x:a,y:o}]}function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}function BC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BC(Object(r),!0).forEach(function(n){Pve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pve(e,t,r){return t=Tve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tve(e){var t=Cve(e,"string");return $c(t)=="symbol"?t:t+""}function Cve(e,t){if($c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nve(e){var t,r,n=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var y,m=Qi;if(h==="ScatterChart")y=o,m=ehe;else if(h==="BarChart")y=Ave(d,o,l,u),m=J1;else if(d==="radial"){var g=s3(o),v=g.cx,x=g.cy,b=g.radius,E=g.startAngle,S=g.endAngle;y={cx:v,cy:x,startAngle:E,endAngle:S,innerRadius:b,outerRadius:b},m=J5}else y={points:kve(d,o,l)},m=Qi;var _=Hu(Hu(Hu(Hu({stroke:"#ccc",pointerEvents:"none"},l),y),le(p,!1)),{},{payload:s,payloadIndex:c,className:_e("recharts-tooltip-cursor",p.className)});return w.isValidElement(p)?w.cloneElement(p,_):w.createElement(m,_)}var Rve=["item"],Ive=["children","className","width","height","style","compact","title","desc"];function js(e){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},js(e)}function No(){return No=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},No.apply(this,arguments)}function qC(e,t){return $ve(e)||Dve(e,t)||c3(e,t)||Mve()}function Mve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function $ve(e){if(Array.isArray(e))return e}function zC(e,t){if(e==null)return{};var r=Lve(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u3(n.key),n)}}function qve(e,t,r){return t&&Bve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zve(e,t,r){return t=If(t),Uve(e,l3()?Reflect.construct(t,r||[],If(e).constructor):t.apply(e,r))}function Uve(e,t){if(t&&(js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wve(e)}function Wve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l3=function(){return!!e})()}function If(e){return If=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},If(e)}function Hve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nx(e,t)}function Nx(e,t){return Nx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Nx(e,t)}function As(e){return Gve(e)||Kve(e)||c3(e)||Vve()}function Vve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c3(e,t){if(e){if(typeof e=="string")return Rx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rx(e,t)}}function Kve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gve(e){if(Array.isArray(e))return Rx(e)}function Rx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(r),!0).forEach(function(n){we(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function we(e,t,r){return t=u3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u3(e){var t=Yve(e,"string");return js(t)=="symbol"?t:t+""}function Yve(e,t){if(js(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xve={xAxis:["bottom","top"],yAxis:["left","right"]},Qve={width:"100%",height:"100%"},d3={x:0,y:0};function Vu(e){return e}var Jve=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Zve=function(t,r,n,i){var a=r.find(function(u){return u&&u.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,s=i.radius;return G(G(G({},i),He(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,c=i.angle;return G(G(G({},i),He(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return d3},ap=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(As(s),As(c)):s},[]);return o.length>0?o:t&&t.length&&ee(i)&&ee(a)?t.slice(i,a+1):[]};function f3(e){return e==="number"?[0,"auto"]:void 0}var Ix=function(t,r,n,i){var a=t.graphicalItems,o=t.tooltipAxis,s=ap(r,t);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=d===void 0?s:d;h=Td(p,o.dataKey,i)}else h=d&&d[n]||s[n];return h?[].concat(As(l),[W5(c,h)]):l},[])},WC=function(t,r,n,i){var a=i||{x:t.chartX,y:t.chartY},o=Jve(a,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=kce(o,s,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,h=Ix(t,r,u,d),p=Zve(n,s,u,a);return{activeTooltipIndex:u,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},ebe=function(t,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,d=t.children,h=t.stackOffset,p=L5(u,a);return n.reduce(function(y,m){var g,v=m.type.defaultProps!==void 0?G(G({},m.type.defaultProps),m.props):m.props,x=v.type,b=v.dataKey,E=v.allowDataOverflow,S=v.allowDuplicatedCategory,_=v.scale,O=v.ticks,k=v.includeHidden,T=v[o];if(y[T])return y;var j=ap(t.data,{graphicalItems:i.filter(function(z){var R,X=o in z.props?z.props[o]:(R=z.type.defaultProps)===null||R===void 0?void 0:R[o];return X===T}),dataStartIndex:l,dataEndIndex:c}),A=j.length,N,D,M;jve(v.domain,E,x)&&(N=W0(v.domain,null,E),p&&(x==="number"||_!=="auto")&&(M=Ml(j,b,"category")));var I=f3(x);if(!N||N.length===0){var L,B=(L=v.domain)!==null&&L!==void 0?L:I;if(b){if(N=Ml(j,b,x),x==="category"&&p){var F=wte(N);S&&F?(D=N,N=vf(0,A)):S||(N=IP(B,N,m).reduce(function(z,R){return z.indexOf(R)>=0?z:[].concat(As(z),[R])},[]))}else if(x==="category")S?N=N.filter(function(z){return z!==""&&!be(z)}):N=IP(B,N,m).reduce(function(z,R){return z.indexOf(R)>=0||R===""||be(R)?z:[].concat(As(z),[R])},[]);else if(x==="number"){var $=Rce(j,i.filter(function(z){var R,X,oe=o in z.props?z.props[o]:(R=z.type.defaultProps)===null||R===void 0?void 0:R[o],se="hide"in z.props?z.props.hide:(X=z.type.defaultProps)===null||X===void 0?void 0:X.hide;return oe===T&&(k||!se)}),b,a,u);$&&(N=$)}p&&(x==="number"||_!=="auto")&&(M=Ml(j,b,"category"))}else p?N=vf(0,A):s&&s[T]&&s[T].hasStack&&x==="number"?N=h==="expand"?[0,1]:U5(s[T].stackGroups,l,c):N=$5(j,i.filter(function(z){var R=o in z.props?z.props[o]:z.type.defaultProps[o],X="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return R===T&&(k||!X)}),x,u,!0);if(x==="number")N=Cx(d,N,T,a,O),B&&(N=W0(B,N,E));else if(x==="category"&&B){var C=B,W=N.every(function(z){return C.indexOf(z)>=0});W&&(N=C)}}return G(G({},y),{},we({},T,G(G({},v),{},{axisType:a,domain:N,categoricalDomain:M,duplicateDomain:D,originalDomain:(g=v.domain)!==null&&g!==void 0?g:I,isCategorical:p,layout:u})))},{})},tbe=function(t,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,d=t.children,h=ap(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,y=L5(u,a),m=-1;return n.reduce(function(g,v){var x=v.type.defaultProps!==void 0?G(G({},v.type.defaultProps),v.props):v.props,b=x[o],E=f3("number");if(!g[b]){m++;var S;return y?S=vf(0,p):s&&s[b]&&s[b].hasStack?(S=U5(s[b].stackGroups,l,c),S=Cx(d,S,b,a)):(S=W0(E,$5(h,n.filter(function(_){var O,k,T=o in _.props?_.props[o]:(O=_.type.defaultProps)===null||O===void 0?void 0:O[o],j="hide"in _.props?_.props.hide:(k=_.type.defaultProps)===null||k===void 0?void 0:k.hide;return T===b&&!j}),"number",u),i.defaultProps.allowDataOverflow),S=Cx(d,S,b,a)),G(G({},g),{},we({},b,G(G({axisType:a},i.defaultProps),{},{hide:!0,orientation:Dr(Xve,"".concat(a,".").concat(m%2),null),domain:S,originalDomain:E,isCategorical:y,layout:u})))}return g},{})},rbe=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.children,d="".concat(i,"Id"),h=dr(u,a),p={};return h&&h.length?p=ebe(t,{axes:h,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(p=tbe(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},nbe=function(t){var r=Di(t),n=ii(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:O1(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:tf(r,n)}},HC=function(t){var r=t.children,n=t.defaultShowTooltip,i=Ar(r,ps),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},ibe=function(t){return!t||!t.length?!1:t.some(function(r){var n=oi(r&&r.type);return n&&n.indexOf("Bar")>=0})},VC=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},abe=function(t,r){var n=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,s=t.yAxisMap,l=s===void 0?{}:s,c=n.width,u=n.height,d=n.children,h=n.margin||{},p=Ar(d,ps),y=Ar(d,Rr),m=Object.keys(l).reduce(function(S,_){var O=l[_],k=O.orientation;return!O.mirror&&!O.hide?G(G({},S),{},we({},k,S[k]+O.width)):S},{left:h.left||0,right:h.right||0}),g=Object.keys(o).reduce(function(S,_){var O=o[_],k=O.orientation;return!O.mirror&&!O.hide?G(G({},S),{},we({},k,Dr(S,"".concat(k))+O.height)):S},{top:h.top||0,bottom:h.bottom||0}),v=G(G({},g),m),x=v.bottom;p&&(v.bottom+=p.props.height||ps.defaultProps.height),y&&r&&(v=Cce(v,i,n,r));var b=c-v.left-v.right,E=u-v.top-v.bottom;return G(G({brushBottom:x},v),{},{width:Math.max(b,0),height:Math.max(E,0)})},obe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Js=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,d=t.defaultProps,h=function(v,x){var b=x.graphicalItems,E=x.stackGroups,S=x.offset,_=x.updateId,O=x.dataStartIndex,k=x.dataEndIndex,T=v.barSize,j=v.layout,A=v.barGap,N=v.barCategoryGap,D=v.maxBarSize,M=VC(j),I=M.numericAxisName,L=M.cateAxisName,B=ibe(b),F=[];return b.forEach(function($,C){var W=ap(v.data,{graphicalItems:[$],dataStartIndex:O,dataEndIndex:k}),z=$.type.defaultProps!==void 0?G(G({},$.type.defaultProps),$.props):$.props,R=z.dataKey,X=z.maxBarSize,oe=z["".concat(I,"Id")],se=z["".concat(L,"Id")],K={},Q=l.reduce(function(Qe,xt){var It=x["".concat(xt.axisType,"Map")],Lr=z["".concat(xt.axisType,"Id")];It&&It[Lr]||xt.axisType==="zAxis"||Xa();var _i=It[Lr];return G(G({},Qe),{},we(we({},xt.axisType,_i),"".concat(xt.axisType,"Ticks"),ii(_i)))},K),V=Q[L],J=Q["".concat(L,"Ticks")],Z=E&&E[oe]&&E[oe].hasStack&&zce($,E[oe].stackGroups),U=oi($.type).indexOf("Bar")>=0,ne=tf(V,J),q=[],ae=B&&Pce({barSize:T,stackGroups:E,totalSize:obe(Q,L)});if(U){var ie,je,Ve=be(X)?D:X,tt=(ie=(je=tf(V,J,!0))!==null&&je!==void 0?je:Ve)!==null&&ie!==void 0?ie:0;q=Tce({barGap:A,barCategoryGap:N,bandSize:tt!==ne?tt:ne,sizeList:ae[se],maxBarSize:Ve}),tt!==ne&&(q=q.map(function(Qe){return G(G({},Qe),{},{position:G(G({},Qe.position),{},{offset:Qe.position.offset-tt/2})})}))}var Rt=$&&$.type&&$.type.getComposedData;Rt&&F.push({props:G(G({},Rt(G(G({},Q),{},{displayedData:W,props:v,dataKey:R,item:$,bandSize:ne,barPosition:q,offset:S,stackedData:Z,layout:j,dataStartIndex:O,dataEndIndex:k}))),{},we(we(we({key:$.key||"item-".concat(C)},I,Q[I]),L,Q[L]),"animationId",_)),childIndex:Ite($,v.children),item:$})}),F},p=function(v,x){var b=v.props,E=v.dataStartIndex,S=v.dataEndIndex,_=v.updateId;if(!YO({props:b}))return null;var O=b.children,k=b.layout,T=b.stackOffset,j=b.data,A=b.reverseStackOrder,N=VC(k),D=N.numericAxisName,M=N.cateAxisName,I=dr(O,n),L=Bce(j,I,"".concat(D,"Id"),"".concat(M,"Id"),T,A),B=l.reduce(function(z,R){var X="".concat(R.axisType,"Map");return G(G({},z),{},we({},X,rbe(b,G(G({},R),{},{graphicalItems:I,stackGroups:R.axisType===D&&L,dataStartIndex:E,dataEndIndex:S}))))},{}),F=abe(G(G({},B),{},{props:b,graphicalItems:I}),x?.legendBBox);Object.keys(B).forEach(function(z){B[z]=u(b,B[z],F,z.replace("Map",""),r)});var $=B["".concat(M,"Map")],C=nbe($),W=h(b,G(G({},B),{},{dataStartIndex:E,dataEndIndex:S,updateId:_,graphicalItems:I,stackGroups:L,offset:F}));return G(G({formattedGraphicalItems:W,graphicalItems:I,offset:F,stackGroups:L},C),B)},y=(function(g){function v(x){var b,E,S;return Fve(this,v),S=zve(this,v,[x]),we(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),we(S,"accessibilityManager",new Ove),we(S,"handleLegendBBoxUpdate",function(_){if(_){var O=S.state,k=O.dataStartIndex,T=O.dataEndIndex,j=O.updateId;S.setState(G({legendBBox:_},p({props:S.props,dataStartIndex:k,dataEndIndex:T,updateId:j},G(G({},S.state),{},{legendBBox:_}))))}}),we(S,"handleReceiveSyncEvent",function(_,O,k){if(S.props.syncId===_){if(k===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(O)}}),we(S,"handleBrushChange",function(_){var O=_.startIndex,k=_.endIndex;if(O!==S.state.dataStartIndex||k!==S.state.dataEndIndex){var T=S.state.updateId;S.setState(function(){return G({dataStartIndex:O,dataEndIndex:k},p({props:S.props,dataStartIndex:O,dataEndIndex:k,updateId:T},S.state))}),S.triggerSyncEvent({dataStartIndex:O,dataEndIndex:k})}}),we(S,"handleMouseEnter",function(_){var O=S.getMouseInfo(_);if(O){var k=G(G({},O),{},{isTooltipActive:!0});S.setState(k),S.triggerSyncEvent(k);var T=S.props.onMouseEnter;ve(T)&&T(k,_)}}),we(S,"triggeredAfterMouseMove",function(_){var O=S.getMouseInfo(_),k=O?G(G({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(k),S.triggerSyncEvent(k);var T=S.props.onMouseMove;ve(T)&&T(k,_)}),we(S,"handleItemMouseEnter",function(_){S.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),we(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),we(S,"handleMouseMove",function(_){_.persist(),S.throttleTriggeredAfterMouseMove(_)}),we(S,"handleMouseLeave",function(_){S.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};S.setState(O),S.triggerSyncEvent(O);var k=S.props.onMouseLeave;ve(k)&&k(O,_)}),we(S,"handleOuterEvent",function(_){var O=Rte(_),k=Dr(S.props,"".concat(O));if(O&&ve(k)){var T,j;/.*touch.*/i.test(O)?j=S.getMouseInfo(_.changedTouches[0]):j=S.getMouseInfo(_),k((T=j)!==null&&T!==void 0?T:{},_)}}),we(S,"handleClick",function(_){var O=S.getMouseInfo(_);if(O){var k=G(G({},O),{},{isTooltipActive:!0});S.setState(k),S.triggerSyncEvent(k);var T=S.props.onClick;ve(T)&&T(k,_)}}),we(S,"handleMouseDown",function(_){var O=S.props.onMouseDown;if(ve(O)){var k=S.getMouseInfo(_);O(k,_)}}),we(S,"handleMouseUp",function(_){var O=S.props.onMouseUp;if(ve(O)){var k=S.getMouseInfo(_);O(k,_)}}),we(S,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),we(S,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&S.handleMouseDown(_.changedTouches[0])}),we(S,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&S.handleMouseUp(_.changedTouches[0])}),we(S,"handleDoubleClick",function(_){var O=S.props.onDoubleClick;if(ve(O)){var k=S.getMouseInfo(_);O(k,_)}}),we(S,"handleContextMenu",function(_){var O=S.props.onContextMenu;if(ve(O)){var k=S.getMouseInfo(_);O(k,_)}}),we(S,"triggerSyncEvent",function(_){S.props.syncId!==void 0&&tb.emit(rb,S.props.syncId,_,S.eventEmitterSymbol)}),we(S,"applySyncEvent",function(_){var O=S.props,k=O.layout,T=O.syncMethod,j=S.state.updateId,A=_.dataStartIndex,N=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)S.setState(G({dataStartIndex:A,dataEndIndex:N},p({props:S.props,dataStartIndex:A,dataEndIndex:N,updateId:j},S.state)));else if(_.activeTooltipIndex!==void 0){var D=_.chartX,M=_.chartY,I=_.activeTooltipIndex,L=S.state,B=L.offset,F=L.tooltipTicks;if(!B)return;if(typeof T=="function")I=T(F,_);else if(T==="value"){I=-1;for(var $=0;$<F.length;$++)if(F[$].value===_.activeLabel){I=$;break}}var C=G(G({},B),{},{x:B.left,y:B.top}),W=Math.min(D,C.x+C.width),z=Math.min(M,C.y+C.height),R=F[I]&&F[I].value,X=Ix(S.state,S.props.data,I),oe=F[I]?{x:k==="horizontal"?F[I].coordinate:W,y:k==="horizontal"?z:F[I].coordinate}:d3;S.setState(G(G({},_),{},{activeLabel:R,activeCoordinate:oe,activePayload:X,activeTooltipIndex:I}))}else S.setState(_)}),we(S,"renderCursor",function(_){var O,k=S.state,T=k.isTooltipActive,j=k.activeCoordinate,A=k.activePayload,N=k.offset,D=k.activeTooltipIndex,M=k.tooltipAxisBandSize,I=S.getTooltipEventType(),L=(O=_.props.active)!==null&&O!==void 0?O:T,B=S.props.layout,F=_.key||"_recharts-cursor";return P.createElement(Nve,{key:F,activeCoordinate:j,activePayload:A,activeTooltipIndex:D,chartName:r,element:_,isActive:L,layout:B,offset:N,tooltipAxisBandSize:M,tooltipEventType:I})}),we(S,"renderPolarAxis",function(_,O,k){var T=Dr(_,"type.axisType"),j=Dr(S.state,"".concat(T,"Map")),A=_.type.defaultProps,N=A!==void 0?G(G({},A),_.props):_.props,D=j&&j[N["".concat(T,"Id")]];return w.cloneElement(_,G(G({},D),{},{className:_e(T,D.className),key:_.key||"".concat(O,"-").concat(k),ticks:ii(D,!0)}))}),we(S,"renderPolarGrid",function(_){var O=_.props,k=O.radialLines,T=O.polarAngles,j=O.polarRadius,A=S.state,N=A.radiusAxisMap,D=A.angleAxisMap,M=Di(N),I=Di(D),L=I.cx,B=I.cy,F=I.innerRadius,$=I.outerRadius;return w.cloneElement(_,{polarAngles:Array.isArray(T)?T:ii(I,!0).map(function(C){return C.coordinate}),polarRadius:Array.isArray(j)?j:ii(M,!0).map(function(C){return C.coordinate}),cx:L,cy:B,innerRadius:F,outerRadius:$,key:_.key||"polar-grid",radialLines:k})}),we(S,"renderLegend",function(){var _=S.state.formattedGraphicalItems,O=S.props,k=O.children,T=O.width,j=O.height,A=S.props.margin||{},N=T-(A.left||0)-(A.right||0),D=M5({children:k,formattedGraphicalItems:_,legendWidth:N,legendContent:c});if(!D)return null;var M=D.item,I=zC(D,Rve);return w.cloneElement(M,G(G({},I),{},{chartWidth:T,chartHeight:j,margin:A,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),we(S,"renderTooltip",function(){var _,O=S.props,k=O.children,T=O.accessibilityLayer,j=Ar(k,ft);if(!j)return null;var A=S.state,N=A.isTooltipActive,D=A.activeCoordinate,M=A.activePayload,I=A.activeLabel,L=A.offset,B=(_=j.props.active)!==null&&_!==void 0?_:N;return w.cloneElement(j,{viewBox:G(G({},L),{},{x:L.left,y:L.top}),active:B,label:I,payload:B?M:[],coordinate:D,accessibilityLayer:T})}),we(S,"renderBrush",function(_){var O=S.props,k=O.margin,T=O.data,j=S.state,A=j.offset,N=j.dataStartIndex,D=j.dataEndIndex,M=j.updateId;return w.cloneElement(_,{key:_.key||"_recharts-brush",onChange:qu(S.handleBrushChange,_.props.onChange),data:T,x:ee(_.props.x)?_.props.x:A.left,y:ee(_.props.y)?_.props.y:A.top+A.height+A.brushBottom-(k.bottom||0),width:ee(_.props.width)?_.props.width:A.width,startIndex:N,endIndex:D,updateId:"brush-".concat(M)})}),we(S,"renderReferenceElement",function(_,O,k){if(!_)return null;var T=S,j=T.clipPathId,A=S.state,N=A.xAxisMap,D=A.yAxisMap,M=A.offset,I=_.type.defaultProps||{},L=_.props,B=L.xAxisId,F=B===void 0?I.xAxisId:B,$=L.yAxisId,C=$===void 0?I.yAxisId:$;return w.cloneElement(_,{key:_.key||"".concat(O,"-").concat(k),xAxis:N[F],yAxis:D[C],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:j})}),we(S,"renderActivePoints",function(_){var O=_.item,k=_.activePoint,T=_.basePoint,j=_.childIndex,A=_.isRange,N=[],D=O.props.key,M=O.item.type.defaultProps!==void 0?G(G({},O.item.type.defaultProps),O.item.props):O.item.props,I=M.activeDot,L=M.dataKey,B=G(G({index:j,dataKey:L,cx:k.x,cy:k.y,r:4,fill:Q1(O.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},le(I,!1)),Cd(I));return N.push(v.renderActiveDot(I,B,"".concat(D,"-activePoint-").concat(j))),T?N.push(v.renderActiveDot(I,G(G({},B),{},{cx:T.x,cy:T.y}),"".concat(D,"-basePoint-").concat(j))):A&&N.push(null),N}),we(S,"renderGraphicChild",function(_,O,k){var T=S.filterFormatItem(_,O,k);if(!T)return null;var j=S.getTooltipEventType(),A=S.state,N=A.isTooltipActive,D=A.tooltipAxis,M=A.activeTooltipIndex,I=A.activeLabel,L=S.props.children,B=Ar(L,ft),F=T.props,$=F.points,C=F.isRange,W=F.baseLine,z=T.item.type.defaultProps!==void 0?G(G({},T.item.type.defaultProps),T.item.props):T.item.props,R=z.activeDot,X=z.hide,oe=z.activeBar,se=z.activeShape,K=!!(!X&&N&&B&&(R||oe||se)),Q={};j!=="axis"&&B&&B.props.trigger==="click"?Q={onClick:qu(S.handleItemMouseEnter,_.props.onClick)}:j!=="axis"&&(Q={onMouseLeave:qu(S.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:qu(S.handleItemMouseEnter,_.props.onMouseEnter)});var V=w.cloneElement(_,G(G({},T.props),Q));function J(xt){return typeof D.dataKey=="function"?D.dataKey(xt.payload):null}if(K)if(M>=0){var Z,U;if(D.dataKey&&!D.allowDuplicatedCategory){var ne=typeof D.dataKey=="function"?J:"payload.".concat(D.dataKey.toString());Z=Td($,ne,I),U=C&&W&&Td(W,ne,I)}else Z=$?.[M],U=C&&W&&W[M];if(se||oe){var q=_.props.activeIndex!==void 0?_.props.activeIndex:M;return[w.cloneElement(_,G(G(G({},T.props),Q),{},{activeIndex:q})),null,null]}if(!be(Z))return[V].concat(As(S.renderActivePoints({item:T,activePoint:Z,basePoint:U,childIndex:M,isRange:C})))}else{var ae,ie=(ae=S.getItemByXY(S.state.activeCoordinate))!==null&&ae!==void 0?ae:{graphicalItem:V},je=ie.graphicalItem,Ve=je.item,tt=Ve===void 0?_:Ve,Rt=je.childIndex,Qe=G(G(G({},T.props),Q),{},{activeIndex:Rt});return[w.cloneElement(tt,Qe),null,null]}return C?[V,null,null]:[V,null]}),we(S,"renderCustomized",function(_,O,k){return w.cloneElement(_,G(G({key:"recharts-customized-".concat(k)},S.props),S.state))}),we(S,"renderMap",{CartesianGrid:{handler:Vu,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Vu},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Vu},YAxis:{handler:Vu},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:oa("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=IL(S.triggeredAfterMouseMove,(E=x.throttleDelay)!==null&&E!==void 0?E:1e3/60),S.state={},S}return Hve(v,g),qve(v,[{key:"componentDidMount",value:function(){var b,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,E=b.children,S=b.data,_=b.height,O=b.layout,k=Ar(E,ft);if(k){var T=k.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var j=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,A=Ix(this.state,S,T,j),N=this.state.tooltipTicks[T].coordinate,D=(this.state.offset.top+_)/2,M=O==="horizontal",I=M?{x:N,y:D}:{y:N,x:D},L=this.state.formattedGraphicalItems.find(function(F){var $=F.item;return $.type.name==="Scatter"});L&&(I=G(G({},I),L.props.points[T].tooltipPosition),A=L.props.points[T].tooltipPayload);var B={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:j,activePayload:A,activeCoordinate:I};this.setState(B),this.renderCursor(k),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var S,_;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(b){f0([Ar(b.children,ft)],[Ar(this.props.children,ft)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Ar(this.props.children,ft);if(b&&typeof b.props.shared=="boolean"){var E=b.props.shared?"axis":"item";return s.indexOf(E)>=0?E:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var E=this.container,S=E.getBoundingClientRect(),_=xae(S),O={chartX:Math.round(b.pageX-_.left),chartY:Math.round(b.pageY-_.top)},k=S.width/E.offsetWidth||1,T=this.inRange(O.chartX,O.chartY,k);if(!T)return null;var j=this.state,A=j.xAxisMap,N=j.yAxisMap,D=this.getTooltipEventType(),M=WC(this.state,this.props.data,this.props.layout,T);if(D!=="axis"&&A&&N){var I=Di(A).scale,L=Di(N).scale,B=I&&I.invert?I.invert(O.chartX):null,F=L&&L.invert?L.invert(O.chartY):null;return G(G({},O),{},{xValue:B,yValue:F},M)}return M?G(G({},O),M):null}},{key:"inRange",value:function(b,E){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,O=b/S,k=E/S;if(_==="horizontal"||_==="vertical"){var T=this.state.offset,j=O>=T.left&&O<=T.left+T.width&&k>=T.top&&k<=T.top+T.height;return j?{x:O,y:k}:null}var A=this.state,N=A.angleAxisMap,D=A.radiusAxisMap;if(N&&D){var M=Di(N);return $P({x:O,y:k},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,E=this.getTooltipEventType(),S=Ar(b,ft),_={};S&&E==="axis"&&(S.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=Cd(this.props,this.handleOuterEvent);return G(G({},O),_)}},{key:"addListener",value:function(){tb.on(rb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){tb.removeListener(rb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,E,S){for(var _=this.state.formattedGraphicalItems,O=0,k=_.length;O<k;O++){var T=_[O];if(T.item===b||T.props.key===b.key||E===oi(T.item.type)&&S===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,E=this.state.offset,S=E.left,_=E.top,O=E.height,k=E.width;return P.createElement("defs",null,P.createElement("clipPath",{id:b},P.createElement("rect",{x:S,y:_,height:O,width:k})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(E,S){var _=qC(S,2),O=_[0],k=_[1];return G(G({},E),{},we({},O,k.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(E,S){var _=qC(S,2),O=_[0],k=_[1];return G(G({},E),{},we({},O,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[b])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(b){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[b])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(b){var E=this.state,S=E.formattedGraphicalItems,_=E.activeItem;if(S&&S.length)for(var O=0,k=S.length;O<k;O++){var T=S[O],j=T.props,A=T.item,N=A.type.defaultProps!==void 0?G(G({},A.type.defaultProps),A.props):A.props,D=oi(A.type);if(D==="Bar"){var M=(j.data||[]).find(function(F){return Mfe(b,F)});if(M)return{graphicalItem:T,payload:M}}else if(D==="RadialBar"){var I=(j.data||[]).find(function(F){return $P(b,F)});if(I)return{graphicalItem:T,payload:I}}else if(Yh(T,_)||Xh(T,_)||Cc(T,_)){var L=ppe({graphicalItem:T,activeTooltipItem:_,itemData:N.data}),B=N.activeIndex===void 0?L:N.activeIndex;return{graphicalItem:G(G({},T),{},{childIndex:B}),payload:Cc(T,_)?N.data[L]:T.props.data[L]}}}return null}},{key:"render",value:function(){var b=this;if(!YO(this))return null;var E=this.props,S=E.children,_=E.className,O=E.width,k=E.height,T=E.style,j=E.compact,A=E.title,N=E.desc,D=zC(E,Ive),M=le(D,!1);if(j)return P.createElement(vC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},P.createElement(p0,No({},M,{width:O,height:k,title:A,desc:N}),this.renderClipPath(),QO(S,this.renderMap)));if(this.props.accessibilityLayer){var I,L;M.tabIndex=(I=this.props.tabIndex)!==null&&I!==void 0?I:0,M.role=(L=this.props.role)!==null&&L!==void 0?L:"application",M.onKeyDown=function(F){b.accessibilityManager.keyboardEvent(F)},M.onFocus=function(){b.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return P.createElement(vC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},P.createElement("div",No({className:_e("recharts-wrapper",_),style:G({position:"relative",cursor:"default",width:O,height:k},T)},B,{ref:function($){b.container=$}}),P.createElement(p0,No({},M,{width:O,height:k,title:A,desc:N,style:Qve}),this.renderClipPath(),QO(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(w.Component);we(y,"displayName",r),we(y,"defaultProps",G({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),we(y,"getDerivedStateFromProps",function(g,v){var x=g.dataKey,b=g.data,E=g.children,S=g.width,_=g.height,O=g.layout,k=g.stackOffset,T=g.margin,j=v.dataStartIndex,A=v.dataEndIndex;if(v.updateId===void 0){var N=HC(g);return G(G(G({},N),{},{updateId:0},p(G(G({props:g},N),{},{updateId:0}),v)),{},{prevDataKey:x,prevData:b,prevWidth:S,prevHeight:_,prevLayout:O,prevStackOffset:k,prevMargin:T,prevChildren:E})}if(x!==v.prevDataKey||b!==v.prevData||S!==v.prevWidth||_!==v.prevHeight||O!==v.prevLayout||k!==v.prevStackOffset||!zo(T,v.prevMargin)){var D=HC(g),M={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},I=G(G({},WC(v,b,O)),{},{updateId:v.updateId+1}),L=G(G(G({},D),M),I);return G(G(G({},L),p(G({props:g},L),v)),{},{prevDataKey:x,prevData:b,prevWidth:S,prevHeight:_,prevLayout:O,prevStackOffset:k,prevMargin:T,prevChildren:E})}if(!f0(E,v.prevChildren)){var B,F,$,C,W=Ar(E,ps),z=W&&(B=(F=W.props)===null||F===void 0?void 0:F.startIndex)!==null&&B!==void 0?B:j,R=W&&($=(C=W.props)===null||C===void 0?void 0:C.endIndex)!==null&&$!==void 0?$:A,X=z!==j||R!==A,oe=!be(b),se=oe&&!X?v.updateId:v.updateId+1;return G(G({updateId:se},p(G(G({props:g},v),{},{updateId:se,dataStartIndex:z,dataEndIndex:R}),v)),{},{prevChildren:E,dataStartIndex:z,dataEndIndex:R})}return null}),we(y,"renderActiveDot",function(g,v,x){var b;return w.isValidElement(g)?b=w.cloneElement(g,v):ve(g)?b=g(v):b=P.createElement(Xs,v),P.createElement(Ae,{className:"recharts-active-dot",key:x},b)});var m=w.forwardRef(function(v,x){return P.createElement(y,No({},v,{ref:x}))});return m.displayName=y.displayName,m},sbe=Js({chartName:"LineChart",GraphicalChild:Qr,axisComponents:[{axisType:"xAxis",AxisComp:Bt},{axisType:"yAxis",AxisComp:_t}],formatAxisMap:Jh}),El=Js({chartName:"BarChart",GraphicalChild:St,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Bt},{axisType:"yAxis",AxisComp:_t}],formatAxisMap:Jh}),lbe=Js({chartName:"PieChart",GraphicalChild:Si,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ra},{axisType:"radiusAxis",AxisComp:Qa}],formatAxisMap:K5,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Mx=Js({chartName:"RadarChart",GraphicalChild:Ja,axisComponents:[{axisType:"angleAxis",AxisComp:ra},{axisType:"radiusAxis",AxisComp:Qa}],formatAxisMap:K5,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),h3=Js({chartName:"AreaChart",GraphicalChild:en,axisComponents:[{axisType:"xAxis",AxisComp:Bt},{axisType:"yAxis",AxisComp:_t}],formatAxisMap:Jh}),Lc=Js({chartName:"ComposedChart",GraphicalChild:[Qr,en,St,ip],axisComponents:[{axisType:"xAxis",AxisComp:Bt},{axisType:"yAxis",AxisComp:_t},{axisType:"zAxis",AxisComp:np}],formatAxisMap:Jh});function cbe({data:e}){return f.jsx(Qt,{width:"100%",height:"100%",children:f.jsxs(h3,{data:e,children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"colorOverall",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"5%",stopColor:"hsl(var(--primary))",stopOpacity:.3}),f.jsx("stop",{offset:"95%",stopColor:"hsl(var(--primary))",stopOpacity:0})]})}),f.jsx(Bt,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},dy:10,interval:"preserveStartEnd"}),f.jsx(_t,{hide:!0,domain:[0,100]}),f.jsx(ft,{contentStyle:{backgroundColor:"hsl(var(--card))",borderRadius:"12px",border:"1px solid hsl(var(--border))",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),f.jsx(en,{type:"monotone",dataKey:"overall",stroke:"hsl(var(--primary))",strokeWidth:3,fillOpacity:1,fill:"url(#colorOverall)"})]})})}function ube({stats:e}){const t=e.map(r=>({subject:r.title,A:r.completionRate,fullMark:100}));return e.length<3?f.jsx("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-xl h-[300px] flex items-center justify-center text-center",children:f.jsxs("p",{className:"text-muted-foreground text-sm",children:["Add at least 3 habits ",f.jsx("br",{})," to unlock Radar view."]})}):f.jsx("div",{className:"w-full h-full min-h-0",children:f.jsx(Qt,{width:"100%",height:"100%",children:f.jsxs(Mx,{cx:"50%",cy:"50%",outerRadius:"70%",data:t,children:[f.jsx(cf,{stroke:"hsl(var(--border))"}),f.jsx(ra,{dataKey:"subject",tick:{fill:"hsl(var(--muted-foreground))",fontSize:10}}),f.jsx(Ja,{name:"Completion",dataKey:"A",stroke:"hsl(var(--primary))",strokeWidth:2,fill:"hsl(var(--primary))",fillOpacity:.4})]})})})}function dbe({data:e}){const t=Math.max(...e.map(n=>n.rate)),r=({active:n,payload:i,label:a})=>n&&i&&i.length?f.jsxs("div",{className:"bg-background/95 backdrop-blur text-xs p-2 rounded-lg border border-border shadow-xl",children:[f.jsx("p",{className:"font-semibold mb-1",children:a}),f.jsxs("p",{className:"text-primary space-x-2",children:[f.jsx("span",{children:"Success Rate:"}),f.jsxs("span",{className:"font-mono font-bold",children:[i[0].value,"%"]})]})]}):null;return f.jsx("div",{className:"w-full h-full min-h-[200px]",children:f.jsx(Qt,{width:"100%",height:"100%",children:f.jsxs(El,{data:e,margin:{top:10,right:0,left:0,bottom:0},children:[f.jsx(Bt,{dataKey:"dayName",axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:10},tickFormatter:n=>n.slice(0,3).toUpperCase(),dy:10}),f.jsx(_t,{hide:!0,domain:[0,100]}),f.jsx(ft,{content:f.jsx(r,{}),cursor:{fill:"hsl(var(--muted)/0.2)"}}),f.jsx(St,{dataKey:"rate",radius:[4,4,0,0],maxBarSize:40,children:e.map((n,i)=>f.jsx(Hs,{fill:n.rate===t&&n.rate>0?"hsl(var(--primary))":"hsl(var(--primary)/0.3)",className:"transition-all duration-300 hover:opacity-80"},`cell-${i}`))})]})})})}function fbe({comparisons:e,goals:t}){const[r,n]=w.useState("month");return f.jsxs("div",{className:"glass-panel rounded-3xl p-6 animate-fade-in",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-display font-semibold flex items-center gap-2",children:[f.jsx(qi,{className:"w-5 h-5 text-primary"}),"Confronto Temporale"]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Analizza come stai andando rispetto al passato."})]}),f.jsx(qo,{value:r,onValueChange:i=>n(i),className:"w-full sm:w-auto",children:f.jsxs(La,{className:"grid w-full grid-cols-3 sm:w-[300px]",children:[f.jsx(rt,{value:"week",children:"Settimana"}),f.jsx(rt,{value:"month",children:"Mese"}),f.jsx(rt,{value:"year",children:"Anno"})]})})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:t.map(i=>{const a=e.find(c=>c.habitId===i.id);if(!a)return null;const o=a[r],s=o.trend==="neutral"||o.change===0,l=o.trend==="up";return f.jsxs("div",{className:"bg-card/50 border border-border/50 rounded-xl p-4 flex items-center justify-between group hover:bg-card/80 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center opacity-80",style:{backgroundColor:`${i.color}20`,color:i.color},children:f.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:i.color}})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-foreground",children:i.title}),f.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:f.jsxs("span",{children:["Precedente: ",o.previous,"%"]})})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("div",{className:"text-xl font-display font-bold text-foreground",children:[o.current,"%"]}),f.jsxs("div",{className:Y("flex items-center justify-end gap-1 text-xs font-medium",s?"text-muted-foreground":l?"text-emerald-500":"text-rose-500"),children:[s?f.jsx(Yu,{className:"w-3 h-3"}):l?f.jsx(x4,{className:"w-3 h-3"}):f.jsx(v4,{className:"w-3 h-3"}),f.jsxs("span",{children:[o.change>0?"+":"",o.change,"%"]})]})]})]},i.id)})})]})}function hbe({criticalHabits:e}){const t=e.filter(r=>r.completionRate<85&&r.completionRate>0).sort((r,n)=>r.completionRate-n.completionRate).slice(0,3);return t.length===0?null:f.jsxs("div",{className:"glass-panel rounded-3xl p-6 animate-fade-in space-y-4",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-display font-semibold flex items-center gap-2",children:[f.jsx($i,{className:"w-5 h-5 text-primary"}),"Aree di Miglioramento"]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Abitudini che richiedono pi attenzione e i loro giorni critici."})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(r=>f.jsxs("div",{className:"bg-card/50 border border-destructive/10 rounded-xl p-4 flex flex-col gap-3 group hover:border-destructive/30 transition-all",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:r.color}}),f.jsx("span",{className:"font-semibold text-foreground",children:r.title})]}),f.jsxs("span",{className:Y("text-xs font-bold px-2 py-0.5 rounded-full",r.completionRate<50?"bg-destructive/10 text-destructive":"bg-warning/10 text-warning"),children:[r.completionRate,"% succ."]})]}),f.jsxs("div",{className:"flex items-start gap-3 bg-background/50 rounded-lg p-3",children:[f.jsx(ON,{className:"w-4 h-4 text-destructive mt-0.5 shrink-0"}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider font-bold",children:"Giorno Nero"}),f.jsx("p",{className:"font-display font-semibold text-lg text-foreground",children:r.worstDay}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:["Solo il ",f.jsxs("span",{className:"text-destructive font-bold",children:[r.worstDayRate,"%"]})," di completamento"]})]})]})]},r.habitId))})]})}const pbe=()=>Bn({queryKey:["habit-completion-history"],queryFn:async()=>{const e=Re(Tt(new Date,30),"yyyy-MM-dd"),{data:t,error:r}=await ye.from("goal_logs").select("date, status").gte("date",e);if(r)throw r;const n=t,i={};return n?.forEach(a=>{const o=a.date;i[o]||(i[o]={total:0,done:0}),i[o].total+=1,a.status==="done"&&(i[o].done+=1)}),i}}),mbe=()=>{const{data:e}=YZ(),{data:t}=pbe(),{theme:r}=Qx();if(!e||!t)return f.jsx(Ce,{className:"col-span-1 lg:col-span-2 h-[400px] flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});const n=e.slice(0,14).reverse().map(a=>{const o=t[a.date]||{total:0,done:0},s=o.total>0?Math.round(o.done/o.total*100):0;return{date:Re(j6(a.date),"dd/MM"),fullDate:a.date,mood:a.mood_score,energy:a.energy_score,productivity:s}}),i=r==="dark";return f.jsxs(Ce,{className:"col-span-1 lg:col-span-2 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[f.jsx(Fe,{children:f.jsx(Be,{children:"Mood & Energy vs Productivity"})}),f.jsx(Ne,{className:"h-[350px]",children:f.jsx(Qt,{width:"100%",height:"100%",children:f.jsxs(Lc,{data:n,children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"colorProductivity",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.3}),f.jsx("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]})}),f.jsx(Wr,{strokeDasharray:"3 3",opacity:.2,vertical:!1}),f.jsx(Bt,{dataKey:"date",tick:{fontSize:12,fill:i?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1}),f.jsx(_t,{yAxisId:"left",domain:[0,10],tickCount:6,tick:{fontSize:12,fill:i?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1,label:{value:"Score (1-10)",angle:-90,position:"insideLeft",style:{fill:i?"#A0A0A0":"#666"}}}),f.jsx(_t,{yAxisId:"right",orientation:"right",domain:[0,100],tick:{fontSize:12,fill:"#8884d8"},axisLine:!1,tickLine:!1,unit:"%"}),f.jsx(ft,{contentStyle:{backgroundColor:i?"#1f2937":"#fff",borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}}),f.jsx(Rr,{wrapperStyle:{paddingTop:"10px"}}),f.jsx(en,{yAxisId:"right",type:"monotone",dataKey:"productivity",fill:"url(#colorProductivity)",stroke:"#8884d8",strokeWidth:3,name:"Habit Completion %"}),f.jsx(Qr,{yAxisId:"left",type:"monotone",dataKey:"mood",stroke:"#10b981",strokeWidth:3,dot:{r:4,strokeWidth:2},activeDot:{r:6},name:"Mood"}),f.jsx(Qr,{yAxisId:"left",type:"monotone",dataKey:"energy",stroke:"#f59e0b",strokeWidth:3,strokeDasharray:"5 5",dot:{r:4,strokeWidth:2},name:"Energy"})]})})})]})},gbe=({correlation:e})=>{const{theme:t}=Qx(),r=t==="dark",n=[{category:"Completato",mood:Math.round(e.avgMoodWhenCompleted*10)/10,energy:Math.round(e.avgEnergyWhenCompleted*10)/10},{category:"Mancato",mood:Math.round(e.avgMoodWhenMissed*10)/10,energy:Math.round(e.avgEnergyWhenMissed*10)/10}],i=[{range:`Basso
(1-4)`,mood:Math.round(e.completionRateByMood.low),energy:Math.round(e.completionRateByEnergy.low)},{range:`Medio
(5-7)`,mood:Math.round(e.completionRateByMood.medium),energy:Math.round(e.completionRateByEnergy.medium)},{range:`Alto
(8-10)`,mood:Math.round(e.completionRateByMood.high),energy:Math.round(e.completionRateByEnergy.high)}],a=()=>e.moodCorrelation>.3?f.jsx(qi,{className:"w-4 h-4 text-green-500"}):e.moodCorrelation<-.3?f.jsx(ub,{className:"w-4 h-4 text-red-500"}):f.jsx(Yu,{className:"w-4 h-4 text-gray-500"}),o=()=>e.energyCorrelation>.3?f.jsx(qi,{className:"w-4 h-4 text-green-500"}):e.energyCorrelation<-.3?f.jsx(ub,{className:"w-4 h-4 text-red-500"}):f.jsx(Yu,{className:"w-4 h-4 text-gray-500"}),s=l=>{const c=Math.abs(l);return c>=.7?"Forte":c>=.4?"Moderata":c>=.2?"Debole":"Nessuna"};return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[f.jsx(Ce,{className:"glass-panel",children:f.jsxs(Ne,{className:"p-4 text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Correlazione Mood"}),f.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[a(),f.jsxs("p",{className:"text-2xl font-bold font-mono",children:[(e.moodCorrelation*100).toFixed(0),"%"]})]}),f.jsx("p",{className:"text-xs text-muted-foreground",children:s(e.moodCorrelation)})]})}),f.jsx(Ce,{className:"glass-panel",children:f.jsxs(Ne,{className:"p-4 text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Correlazione Energia"}),f.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[o(),f.jsxs("p",{className:"text-2xl font-bold font-mono",children:[(e.energyCorrelation*100).toFixed(0),"%"]})]}),f.jsx("p",{className:"text-xs text-muted-foreground",children:s(e.energyCorrelation)})]})}),f.jsx(Ce,{className:"glass-panel",children:f.jsxs(Ne,{className:"p-4 text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Mood Medio ()"}),f.jsx("p",{className:"text-2xl font-bold",style:{color:e.habitColor},children:e.avgMoodWhenCompleted.toFixed(1)}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"su 10"})]})}),f.jsx(Ce,{className:"glass-panel",children:f.jsxs(Ne,{className:"p-4 text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Energia Media ()"}),f.jsx("p",{className:"text-2xl font-bold",style:{color:e.habitColor},children:e.avgEnergyWhenCompleted.toFixed(1)}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"su 10"})]})})]}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.isMoodSensitive&&f.jsxs("div",{className:"glass-panel px-3 py-1.5 rounded-full flex items-center gap-2 border border-orange-500/30",children:[f.jsx(Ul,{className:"w-3 h-3 text-orange-500"}),f.jsx("span",{className:"text-xs font-medium text-orange-500",children:"Sensibile al Mood"})]}),e.isEnergySensitive&&f.jsxs("div",{className:"glass-panel px-3 py-1.5 rounded-full flex items-center gap-2 border border-yellow-500/30",children:[f.jsx(Ul,{className:"w-3 h-3 text-yellow-500"}),f.jsx("span",{className:"text-xs font-medium text-yellow-500",children:"Sensibile all'Energia"})]}),e.isResilient&&f.jsxs("div",{className:"glass-panel px-3 py-1.5 rounded-full flex items-center gap-2 border border-green-500/30",children:[f.jsx(qi,{className:"w-3 h-3 text-green-500"}),f.jsx("span",{className:"text-xs font-medium text-green-500",children:"Resiliente"})]}),!e.isMoodSensitive&&!e.isEnergySensitive&&!e.isResilient&&f.jsxs("div",{className:"glass-panel px-3 py-1.5 rounded-full flex items-center gap-2 border border-gray-500/30",children:[f.jsx(Yu,{className:"w-3 h-3 text-gray-500"}),f.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Neutrale"})]})]}),f.jsxs(Ce,{className:"glass-panel shadow-lg hover:shadow-xl transition-shadow duration-300",children:[f.jsx(Fe,{children:f.jsx(Be,{className:"text-base sm:text-lg",children:"Completato vs Mancato"})}),f.jsx(Ne,{className:"h-[300px]",children:f.jsx(Qt,{width:"100%",height:"100%",children:f.jsxs(Lc,{data:n,children:[f.jsx(Wr,{strokeDasharray:"3 3",opacity:.2,vertical:!1}),f.jsx(Bt,{dataKey:"category",tick:{fontSize:12,fill:r?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1}),f.jsx(_t,{domain:[0,10],tick:{fontSize:12,fill:r?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1,label:{value:"Score (1-10)",angle:-90,position:"insideLeft",style:{fill:r?"#A0A0A0":"#666"}}}),f.jsx(ft,{contentStyle:{backgroundColor:r?"#1f2937":"#fff",borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}}),f.jsx(Rr,{wrapperStyle:{paddingTop:"10px"}}),f.jsx(St,{dataKey:"mood",fill:"#10b981",name:"Mood",radius:[8,8,0,0]}),f.jsx(St,{dataKey:"energy",fill:"#f59e0b",name:"Energia",radius:[8,8,0,0]})]})})})]}),f.jsxs(Ce,{className:"glass-panel shadow-lg hover:shadow-xl transition-shadow duration-300",children:[f.jsx(Fe,{children:f.jsx(Be,{className:"text-base sm:text-lg",children:"Performance per Livello"})}),f.jsx(Ne,{className:"h-[300px]",children:f.jsx(Qt,{width:"100%",height:"100%",children:f.jsxs(Lc,{data:i,children:[f.jsx(Wr,{strokeDasharray:"3 3",opacity:.2,vertical:!1}),f.jsx(Bt,{dataKey:"range",tick:{fontSize:11,fill:r?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1}),f.jsx(_t,{domain:[0,100],tick:{fontSize:12,fill:r?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1,unit:"%"}),f.jsx(ft,{contentStyle:{backgroundColor:r?"#1f2937":"#fff",borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},formatter:l=>[`${l}%`,""]}),f.jsx(Rr,{wrapperStyle:{paddingTop:"10px"}}),f.jsx(Qr,{type:"monotone",dataKey:"mood",stroke:"#10b981",strokeWidth:3,dot:{r:5,strokeWidth:2},activeDot:{r:7},name:"Con Mood"}),f.jsx(Qr,{type:"monotone",dataKey:"energy",stroke:"#f59e0b",strokeWidth:3,strokeDasharray:"5 5",dot:{r:5,strokeWidth:2},activeDot:{r:7},name:"Con Energia"})]})})})]}),f.jsx(Ce,{className:"glass-panel",children:f.jsx(Ne,{className:"p-4",children:f.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Analisi basata su ",f.jsx("strong",{children:e.totalDaysWithMoodData})," giorni con dati mood/energia (",e.daysCompleted," completati, ",e.daysMissed," mancati)"]})})})]})},ybe=({correlations:e})=>{const t=e.filter(i=>i.totalDaysWithMoodData>=5);if(t.length===0)return f.jsx(Ce,{className:"glass-panel",children:f.jsx(Ne,{className:"p-8 text-center",children:f.jsx("p",{className:"text-muted-foreground",children:"Non ci sono abbastanza dati per mostrare la matrice. Registra mood ed energie per almeno 5 giorni."})})});const r=i=>i>=80?"bg-green-500/90":i>=70?"bg-lime-500/90":i>=50?"bg-yellow-500/90":i>=30?"bg-orange-500/90":i>0?"bg-red-500/90":"bg-gray-700/90",n=i=>i>=50?"text-white font-bold":"text-foreground font-bold";return f.jsxs(Ce,{className:"glass-panel shadow-lg hover:shadow-xl transition-shadow duration-300",children:[f.jsxs(Fe,{children:[f.jsx(Be,{className:"text-base sm:text-lg",children:"Performance per Livello"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Completamento (%) per mood ed energia"})]}),f.jsxs(Ne,{className:"overflow-x-auto",children:[f.jsxs("div",{className:"hidden md:block min-w-[700px]",children:[f.jsxs("div",{className:"grid grid-cols-[minmax(120px,1fr)_3fr_1px_3fr] gap-3 mb-4 pb-3 border-b border-white/10",children:[f.jsx("div",{}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-sm font-bold text-green-500 mb-2",children:"MOOD"}),f.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[f.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Basso"}),f.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Medio"}),f.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Alto"})]})]}),f.jsx("div",{className:"w-px bg-gradient-to-b from-transparent via-white/20 to-transparent"}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-sm font-bold text-amber-500 mb-2",children:"ENERGIA"}),f.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[f.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Bassa"}),f.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Media"}),f.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Alta"})]})]})]}),f.jsx("div",{className:"space-y-3",children:t.map(i=>f.jsxs("div",{className:"grid grid-cols-[minmax(120px,1fr)_3fr_1px_3fr] gap-3 items-center",children:[f.jsxs("div",{className:"flex items-center gap-2 min-w-0 pr-2",children:[f.jsx("div",{className:"w-4 h-4 rounded-md shrink-0",style:{backgroundColor:i.habitColor}}),f.jsx("span",{className:"text-sm font-semibold truncate",title:i.habitTitle,children:i.habitTitle})]}),f.jsx("div",{className:"grid grid-cols-3 gap-3",children:["low","medium","high"].map(a=>{const o=Math.round(i.completionRateByMood[a]);return f.jsx("div",{className:Y("rounded-xl p-3 text-center transition-all duration-200 cursor-pointer border-2 border-transparent hover:scale-110 hover:shadow-2xl hover:border-white/30 hover:brightness-110",r(o),n(o)),title:`${i.habitTitle}: ${o}% con mood ${a==="low"?"basso":a==="medium"?"medio":"alto"}`,children:f.jsxs("span",{className:"text-sm font-bold",children:[o,"%"]})},`mood-${a}`)})}),f.jsx("div",{className:"w-px bg-gradient-to-b from-transparent via-white/10 to-transparent h-full"}),f.jsx("div",{className:"grid grid-cols-3 gap-3",children:["low","medium","high"].map(a=>{const o=Math.round(i.completionRateByEnergy[a]);return f.jsx("div",{className:Y("rounded-xl p-3 text-center transition-all duration-200 cursor-pointer border-2 border-transparent hover:scale-110 hover:shadow-2xl hover:border-white/30 hover:brightness-110",r(o),n(o)),title:`${i.habitTitle}: ${o}% con energia ${a==="low"?"bassa":a==="medium"?"media":"alta"}`,children:f.jsxs("span",{className:"text-sm font-bold",children:[o,"%"]})},`energy-${a}`)})})]},i.habitId))})]}),f.jsx("div",{className:"md:hidden space-y-4",children:t.map(i=>f.jsxs("div",{className:"glass-panel rounded-2xl p-4 border border-white/10",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("div",{className:"w-5 h-5 rounded-md shrink-0",style:{backgroundColor:i.habitColor}}),f.jsx("h4",{className:"text-base font-bold",children:i.habitTitle})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("p",{className:"text-xs font-bold text-green-500 mb-2",children:"MOOD"}),f.jsx("div",{className:"grid grid-cols-3 gap-2",children:["low","medium","high"].map(a=>{const o=Math.round(i.completionRateByMood[a]),s=a==="low"?"Basso":a==="medium"?"Medio":"Alto";return f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:Y("rounded-lg p-3 mb-1",r(o),n(o)),children:f.jsxs("span",{className:"text-base font-bold",children:[o,"%"]})}),f.jsx("span",{className:"text-xs text-muted-foreground",children:s})]},`mood-${a}`)})})]}),f.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-white/10 to-transparent mb-4"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs font-bold text-amber-500 mb-2",children:"ENERGIA"}),f.jsx("div",{className:"grid grid-cols-3 gap-2",children:["low","medium","high"].map(a=>{const o=Math.round(i.completionRateByEnergy[a]),s=a==="low"?"Bassa":a==="medium"?"Media":"Alta";return f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:Y("rounded-lg p-3 mb-1",r(o),n(o)),children:f.jsxs("span",{className:"text-base font-bold",children:[o,"%"]})}),f.jsx("span",{className:"text-xs text-muted-foreground",children:s})]},`energy-${a}`)})})]})]},i.habitId))}),f.jsxs("div",{className:"mt-6 pt-4 border-t border-white/10",children:[f.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-6 h-6 rounded bg-green-500/90"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:"Ottimo (80%)"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-6 h-6 rounded bg-lime-500/90"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:"Buono (70-79%)"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-6 h-6 rounded bg-yellow-500/90"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:"Medio (50-69%)"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-6 h-6 rounded bg-orange-500/90"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:"Basso (30-49%)"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-6 h-6 rounded bg-red-500/90"}),f.jsx("span",{className:"text-xs text-muted-foreground",children:"Critico (<30%)"})]})]}),f.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"I colori indicano la performance  Passa il mouse per i dettagli"})]})]})]})},vbe=({insights:e})=>e.moodSensitiveHabits.length>0||e.energySensitiveHabits.length>0||e.resilientHabits.length>0?f.jsxs("div",{className:"space-y-4",children:[e.moodSensitiveHabits.length>0&&f.jsxs(Ce,{className:"glass-panel border border-orange-500/30 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[f.jsxs(Fe,{children:[f.jsxs(Be,{className:"text-base sm:text-lg flex items-center gap-2",children:[f.jsx(Ul,{className:"w-5 h-5 text-orange-500"}),"Mood"]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Queste abitudini hanno bisogno di un buon mood per essere completate"})]}),f.jsx(Ne,{className:"space-y-3",children:e.moodSensitiveHabits.map((r,n)=>f.jsxs("div",{className:"glass-card rounded-xl p-3 flex items-center justify-between hover:bg-white/5 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${r.habitColor}20`,borderColor:`${r.habitColor}40`,borderWidth:"2px"},children:f.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:r.habitColor}})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-sm",children:r.habitTitle}),f.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[f.jsx(xS,{className:"w-3 h-3"}),f.jsxs("span",{children:[Math.round(r.completionRateByMood.low),"% con mood basso"]}),f.jsx(U4,{className:"w-3 h-3 ml-2"}),f.jsxs("span",{children:[Math.round(r.completionRateByMood.high),"% con mood alto"]})]})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-xs text-muted-foreground",children:"Drop"}),f.jsxs("p",{className:"text-lg font-bold text-orange-500",children:[Math.round(r.completionRateByMood.high-r.completionRateByMood.low),"%"]})]})]},r.habitId))})]}),e.energySensitiveHabits.length>0&&f.jsxs(Ce,{className:"glass-panel border border-yellow-500/30 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[f.jsxs(Fe,{children:[f.jsxs(Be,{className:"text-base sm:text-lg flex items-center gap-2",children:[f.jsx(Xx,{className:"w-5 h-5 text-yellow-500"}),"Energia"]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Queste abitudini richiedono alta energia per essere completate"})]}),f.jsx(Ne,{className:"space-y-3",children:e.energySensitiveHabits.map((r,n)=>f.jsxs("div",{className:"glass-card rounded-xl p-3 flex items-center justify-between hover:bg-white/5 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${r.habitColor}20`,borderColor:`${r.habitColor}40`,borderWidth:"2px"},children:f.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:r.habitColor}})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-sm",children:r.habitTitle}),f.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[f.jsx(yS,{className:"w-3 h-3"}),f.jsxs("span",{children:[Math.round(r.completionRateByEnergy.low),"% con energia bassa"]}),f.jsx(w4,{className:"w-3 h-3 ml-2"}),f.jsxs("span",{children:[Math.round(r.completionRateByEnergy.high),"% con energia alta"]})]})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-xs text-muted-foreground",children:"Drop"}),f.jsxs("p",{className:"text-lg font-bold text-yellow-500",children:[Math.round(r.completionRateByEnergy.high-r.completionRateByEnergy.low),"%"]})]})]},r.habitId))})]}),e.resilientHabits.length>0&&f.jsxs(Ce,{className:"glass-panel border border-green-500/30 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[f.jsxs(Fe,{children:[f.jsxs(Be,{className:"text-base sm:text-lg flex items-center gap-2",children:[f.jsx(z4,{className:"w-5 h-5 text-green-500"}),"Resilienti"]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Queste abitudini vengono mantenute anche quando mood ed energia sono bassi"})]}),f.jsx(Ne,{className:"space-y-3",children:e.resilientHabits.map((r,n)=>f.jsxs("div",{className:"glass-card rounded-xl p-3 flex items-center justify-between hover:bg-white/5 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${r.habitColor}20`,borderColor:`${r.habitColor}40`,borderWidth:"2px"},children:f.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:r.habitColor}})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-sm",children:r.habitTitle}),f.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(xS,{className:"w-3 h-3"}),f.jsxs("span",{children:["Mood: ",Math.round(r.completionRateByMood.low),"%"]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(yS,{className:"w-3 h-3"}),f.jsxs("span",{children:["Energia: ",Math.round(r.completionRateByEnergy.low),"%"]})]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-1 text-green-500",children:[f.jsx(qi,{className:"w-5 h-5"}),f.jsx("span",{className:"text-xs font-bold",children:"Stabile"})]})]},r.habitId))})]}),f.jsxs(Ce,{className:"glass-panel border border-primary/30",children:[f.jsx(Fe,{children:f.jsx(Be,{className:"text-base sm:text-lg",children:" Suggerimenti"})}),f.jsx(Ne,{children:f.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.moodSensitiveHabits.length>0&&f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-orange-500 shrink-0",children:""}),f.jsx("span",{children:"Pianifica le abitudini sensibili al mood nei momenti della giornata in cui ti senti meglio"})]}),e.energySensitiveHabits.length>0&&f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-yellow-500 shrink-0",children:""}),f.jsx("span",{children:"Esegui le abitudini che richiedono energia al mattino o dopo una pausa rigenerante"})]}),e.resilientHabits.length>0&&f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-green-500 shrink-0",children:""}),f.jsx("span",{children:"Le abitudini resilienti sono ottime da mantenere anche nei giorni difficili"})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-primary shrink-0",children:""}),f.jsx("span",{children:"Monitora il tuo mood ed energia quotidianamente per ottenere insights pi accurati"})]})]})})]})]}):f.jsx(Ce,{className:"glass-panel",children:f.jsx(Ne,{className:"p-8 text-center",children:f.jsx("p",{className:"text-muted-foreground",children:"Non ci sono abbastanza dati per generare insights. Continua a tracciare le tue abitudini e il tuo mood!"})})});var ib=0;function bbe(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??KC()),document.body.insertAdjacentElement("beforeend",e[1]??KC()),ib++,()=>{ib===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ib--}},[])}function KC(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var xbe=[" ","Enter","ArrowUp","ArrowDown"],wbe=[" ","Enter"],eo="Select",[op,sp,Sbe]=$f(eo),[Zs]=br(eo,[Sbe,Kf]),lp=Kf(),[_be,ua]=Zs(eo),[Ebe,Obe]=Zs(eo),p3=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:s,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:h,required:p,form:y}=e,m=lp(t),[g,v]=w.useState(null),[x,b]=w.useState(null),[E,S]=w.useState(!1),_=$s(c),[O,k]=Ln({prop:n,defaultProp:i??!1,onChange:a,caller:eo}),[T,j]=Ln({prop:o,defaultProp:s,onChange:l,caller:eo}),A=w.useRef(null),N=g?y||!!g.closest("form"):!0,[D,M]=w.useState(new Set),I=Array.from(D).map(L=>L.props.value).join(";");return f.jsx(nR,{...m,children:f.jsxs(_be,{required:p,scope:t,trigger:g,onTriggerChange:v,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:E,onValueNodeHasChildrenChange:S,contentId:ai(),value:T,onValueChange:j,open:O,onOpenChange:k,dir:_,triggerPointerDownPosRef:A,disabled:h,children:[f.jsx(op.Provider,{scope:t,children:f.jsx(Ebe,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(L=>{M(B=>new Set(B).add(L))},[]),onNativeOptionRemove:w.useCallback(L=>{M(B=>{const F=new Set(B);return F.delete(L),F})},[]),children:r})}),N?f.jsxs(L3,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:d,value:T,onChange:L=>j(L.target.value),disabled:h,form:y,children:[T===void 0?f.jsx("option",{value:""}):null,Array.from(D)]},I):null]})})};p3.displayName=eo;var m3="SelectTrigger",g3=w.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,a=lp(r),o=ua(m3,r),s=o.disabled||n,l=Ee(t,o.onTriggerChange),c=sp(r),u=w.useRef("touch"),[d,h,p]=B3(m=>{const g=c().filter(b=>!b.disabled),v=g.find(b=>b.value===o.value),x=q3(g,m,v);x!==void 0&&o.onValueChange(x.value)}),y=m=>{s||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return f.jsx(iR,{asChild:!0,...a,children:f.jsx(pe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":F3(o.value)?"":void 0,...i,ref:l,onClick:de(i.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&y(m)}),onPointerDown:de(i.onPointerDown,m=>{u.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(y(m),m.preventDefault())}),onKeyDown:de(i.onKeyDown,m=>{const g=d.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(g&&m.key===" ")&&xbe.includes(m.key)&&(y(),m.preventDefault())})})})});g3.displayName=m3;var y3="SelectValue",v3=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...s}=e,l=ua(y3,r),{onValueNodeHasChildrenChange:c}=l,u=a!==void 0,d=Ee(t,l.onValueNodeChange);return Nt(()=>{c(u)},[c,u]),f.jsx(pe.span,{...s,ref:d,style:{pointerEvents:"none"},children:F3(l.value)?f.jsx(f.Fragment,{children:o}):a})});v3.displayName=y3;var jbe="SelectIcon",b3=w.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return f.jsx(pe.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});b3.displayName=jbe;var Abe="SelectPortal",x3=e=>f.jsx(Ff,{asChild:!0,...e});x3.displayName=Abe;var to="SelectContent",w3=w.forwardRef((e,t)=>{const r=ua(to,e.__scopeSelect),[n,i]=w.useState();if(Nt(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?Fc.createPortal(f.jsx(S3,{scope:e.__scopeSelect,children:f.jsx(op.Slot,{scope:e.__scopeSelect,children:f.jsx("div",{children:e.children})})}),a):null}return f.jsx(_3,{...e,ref:t})});w3.displayName=to;var ln=10,[S3,da]=Zs(to),kbe="SelectContentImpl",Pbe=zl("SelectContent.RemoveScroll"),_3=w.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:g,...v}=e,x=ua(to,r),[b,E]=w.useState(null),[S,_]=w.useState(null),O=Ee(t,K=>E(K)),[k,T]=w.useState(null),[j,A]=w.useState(null),N=sp(r),[D,M]=w.useState(!1),I=w.useRef(!1);w.useEffect(()=>{if(b)return fI(b)},[b]),bbe();const L=w.useCallback(K=>{const[Q,...V]=N().map(U=>U.ref.current),[J]=V.slice(-1),Z=document.activeElement;for(const U of K)if(U===Z||(U?.scrollIntoView({block:"nearest"}),U===Q&&S&&(S.scrollTop=0),U===J&&S&&(S.scrollTop=S.scrollHeight),U?.focus(),document.activeElement!==Z))return},[N,S]),B=w.useCallback(()=>L([k,b]),[L,k,b]);w.useEffect(()=>{D&&B()},[D,B]);const{onOpenChange:F,triggerPointerDownPosRef:$}=x;w.useEffect(()=>{if(b){let K={x:0,y:0};const Q=J=>{K={x:Math.abs(Math.round(J.pageX)-($.current?.x??0)),y:Math.abs(Math.round(J.pageY)-($.current?.y??0))}},V=J=>{K.x<=10&&K.y<=10?J.preventDefault():b.contains(J.target)||F(!1),document.removeEventListener("pointermove",Q),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",Q),document.addEventListener("pointerup",V,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",V,{capture:!0})}}},[b,F,$]),w.useEffect(()=>{const K=()=>F(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[F]);const[C,W]=B3(K=>{const Q=N().filter(Z=>!Z.disabled),V=Q.find(Z=>Z.ref.current===document.activeElement),J=q3(Q,K,V);J&&setTimeout(()=>J.ref.current.focus())}),z=w.useCallback((K,Q,V)=>{const J=!I.current&&!V;(x.value!==void 0&&x.value===Q||J)&&(T(K),J&&(I.current=!0))},[x.value]),R=w.useCallback(()=>b?.focus(),[b]),X=w.useCallback((K,Q,V)=>{const J=!I.current&&!V;(x.value!==void 0&&x.value===Q||J)&&A(K)},[x.value]),oe=n==="popper"?Dx:E3,se=oe===Dx?{side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:g}:{};return f.jsx(S3,{scope:r,content:b,viewport:S,onViewportChange:_,itemRefCallback:z,selectedItem:k,onItemLeave:R,itemTextRefCallback:X,focusSelectedItem:B,selectedItemText:j,position:n,isPositioned:D,searchRef:C,children:f.jsx(kw,{as:Pbe,allowPinchZoom:!0,children:f.jsx(Aw,{asChild:!0,trapped:x.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:de(i,K=>{x.trigger?.focus({preventScroll:!0}),K.preventDefault()}),children:f.jsx(Lf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:f.jsx(oe,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:K=>K.preventDefault(),...v,...se,onPlaced:()=>M(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:de(v.onKeyDown,K=>{const Q=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!Q&&K.key.length===1&&W(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let J=N().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);if(["ArrowUp","End"].includes(K.key)&&(J=J.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const Z=K.target,U=J.indexOf(Z);J=J.slice(U+1)}setTimeout(()=>L(J)),K.preventDefault()}})})})})})})});_3.displayName=kbe;var Tbe="SelectItemAlignedPosition",E3=w.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,a=ua(to,r),o=da(to,r),[s,l]=w.useState(null),[c,u]=w.useState(null),d=Ee(t,O=>u(O)),h=sp(r),p=w.useRef(!1),y=w.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:v,focusSelectedItem:x}=o,b=w.useCallback(()=>{if(a.trigger&&a.valueNode&&s&&c&&m&&g&&v){const O=a.trigger.getBoundingClientRect(),k=c.getBoundingClientRect(),T=a.valueNode.getBoundingClientRect(),j=v.getBoundingClientRect();if(a.dir!=="rtl"){const Z=j.left-k.left,U=T.left-Z,ne=O.left-U,q=O.width+ne,ae=Math.max(q,k.width),ie=window.innerWidth-ln,je=Jl(U,[ln,Math.max(ln,ie-ae)]);s.style.minWidth=q+"px",s.style.left=je+"px"}else{const Z=k.right-j.right,U=window.innerWidth-T.right-Z,ne=window.innerWidth-O.right-U,q=O.width+ne,ae=Math.max(q,k.width),ie=window.innerWidth-ln,je=Jl(U,[ln,Math.max(ln,ie-ae)]);s.style.minWidth=q+"px",s.style.right=je+"px"}const A=h(),N=window.innerHeight-ln*2,D=m.scrollHeight,M=window.getComputedStyle(c),I=parseInt(M.borderTopWidth,10),L=parseInt(M.paddingTop,10),B=parseInt(M.borderBottomWidth,10),F=parseInt(M.paddingBottom,10),$=I+L+D+F+B,C=Math.min(g.offsetHeight*5,$),W=window.getComputedStyle(m),z=parseInt(W.paddingTop,10),R=parseInt(W.paddingBottom,10),X=O.top+O.height/2-ln,oe=N-X,se=g.offsetHeight/2,K=g.offsetTop+se,Q=I+L+K,V=$-Q;if(Q<=X){const Z=A.length>0&&g===A[A.length-1].ref.current;s.style.bottom="0px";const U=c.clientHeight-m.offsetTop-m.offsetHeight,ne=Math.max(oe,se+(Z?R:0)+U+B),q=Q+ne;s.style.height=q+"px"}else{const Z=A.length>0&&g===A[0].ref.current;s.style.top="0px";const ne=Math.max(X,I+m.offsetTop+(Z?z:0)+se)+V;s.style.height=ne+"px",m.scrollTop=Q-X+m.offsetTop}s.style.margin=`${ln}px 0`,s.style.minHeight=C+"px",s.style.maxHeight=N+"px",n?.(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,s,c,m,g,v,a.dir,n]);Nt(()=>b(),[b]);const[E,S]=w.useState();Nt(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const _=w.useCallback(O=>{O&&y.current===!0&&(b(),x?.(),y.current=!1)},[b,x]);return f.jsx(Nbe,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:p,onScrollButtonChange:_,children:f.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:f.jsx(pe.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});E3.displayName=Tbe;var Cbe="SelectPopperPosition",Dx=w.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=ln,...a}=e,o=lp(r);return f.jsx(aR,{...o,...a,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Dx.displayName=Cbe;var[Nbe,lS]=Zs(to,{}),$x="SelectViewport",O3=w.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,a=da($x,r),o=lS($x,r),s=Ee(t,a.onViewportChange),l=w.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),f.jsx(op.Slot,{scope:r,children:f.jsx(pe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:de(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=o;if(h?.current&&d){const p=Math.abs(l.current-u.scrollTop);if(p>0){const y=window.innerHeight-ln*2,m=parseFloat(d.style.minHeight),g=parseFloat(d.style.height),v=Math.max(m,g);if(v<y){const x=v+p,b=Math.min(y,x),E=x-b;d.style.height=b+"px",d.style.bottom==="0px"&&(u.scrollTop=E>0?E:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});O3.displayName=$x;var j3="SelectGroup",[Rbe,Ibe]=Zs(j3),Mbe=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=ai();return f.jsx(Rbe,{scope:r,id:i,children:f.jsx(pe.div,{role:"group","aria-labelledby":i,...n,ref:t})})});Mbe.displayName=j3;var A3="SelectLabel",k3=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Ibe(A3,r);return f.jsx(pe.div,{id:i.id,...n,ref:t})});k3.displayName=A3;var Mf="SelectItem",[Dbe,P3]=Zs(Mf),T3=w.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=e,s=ua(Mf,r),l=da(Mf,r),c=s.value===n,[u,d]=w.useState(a??""),[h,p]=w.useState(!1),y=Ee(t,x=>l.itemRefCallback?.(x,n,i)),m=ai(),g=w.useRef("touch"),v=()=>{i||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(Dbe,{scope:r,value:n,disabled:i,textId:m,isSelected:c,onItemTextChange:w.useCallback(x=>{d(b=>b||(x?.textContent??"").trim())},[]),children:f.jsx(op.ItemSlot,{scope:r,value:n,disabled:i,textValue:u,children:f.jsx(pe.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:y,onFocus:de(o.onFocus,()=>p(!0)),onBlur:de(o.onBlur,()=>p(!1)),onClick:de(o.onClick,()=>{g.current!=="mouse"&&v()}),onPointerUp:de(o.onPointerUp,()=>{g.current==="mouse"&&v()}),onPointerDown:de(o.onPointerDown,x=>{g.current=x.pointerType}),onPointerMove:de(o.onPointerMove,x=>{g.current=x.pointerType,i?l.onItemLeave?.():g.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:de(o.onPointerLeave,x=>{x.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:de(o.onKeyDown,x=>{l.searchRef?.current!==""&&x.key===" "||(wbe.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});T3.displayName=Mf;var Ol="SelectItemText",C3=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...a}=e,o=ua(Ol,r),s=da(Ol,r),l=P3(Ol,r),c=Obe(Ol,r),[u,d]=w.useState(null),h=Ee(t,v=>d(v),l.onItemTextChange,v=>s.itemTextRefCallback?.(v,l.value,l.disabled)),p=u?.textContent,y=w.useMemo(()=>f.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=c;return Nt(()=>(m(y),()=>g(y)),[m,g,y]),f.jsxs(f.Fragment,{children:[f.jsx(pe.span,{id:l.textId,...a,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Fc.createPortal(a.children,o.valueNode):null]})});C3.displayName=Ol;var N3="SelectItemIndicator",R3=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return P3(N3,r).isSelected?f.jsx(pe.span,{"aria-hidden":!0,...n,ref:t}):null});R3.displayName=N3;var Lx="SelectScrollUpButton",I3=w.forwardRef((e,t)=>{const r=da(Lx,e.__scopeSelect),n=lS(Lx,e.__scopeSelect),[i,a]=w.useState(!1),o=Ee(t,n.onScrollButtonChange);return Nt(()=>{if(r.viewport&&r.isPositioned){let s=function(){const c=l.scrollTop>0;a(c)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?f.jsx(D3,{...e,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});I3.displayName=Lx;var Fx="SelectScrollDownButton",M3=w.forwardRef((e,t)=>{const r=da(Fx,e.__scopeSelect),n=lS(Fx,e.__scopeSelect),[i,a]=w.useState(!1),o=Ee(t,n.onScrollButtonChange);return Nt(()=>{if(r.viewport&&r.isPositioned){let s=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;a(u)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?f.jsx(D3,{...e,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});M3.displayName=Fx;var D3=w.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,a=da("SelectScrollButton",r),o=w.useRef(null),s=sp(r),l=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>l(),[l]),Nt(()=>{s().find(u=>u.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[s]),f.jsx(pe.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:de(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:de(i.onPointerMove,()=>{a.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:de(i.onPointerLeave,()=>{l()})})}),$be="SelectSeparator",$3=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return f.jsx(pe.div,{"aria-hidden":!0,...n,ref:t})});$3.displayName=$be;var Bx="SelectArrow",Lbe=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=lp(r),a=ua(Bx,r),o=da(Bx,r);return a.open&&o.position==="popper"?f.jsx(oR,{...i,...n,ref:t}):null});Lbe.displayName=Bx;var Fbe="SelectBubbleInput",L3=w.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=w.useRef(null),a=Ee(n,i),o=wh(t);return w.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&u){const d=new Event("change",{bubbles:!0});u.call(s,t),s.dispatchEvent(d)}},[o,t]),f.jsx(pe.select,{...r,style:{...rN,...r.style},ref:a,defaultValue:t})});L3.displayName=Fbe;function F3(e){return e===""||e===void 0}function B3(e){const t=Et(e),r=w.useRef(""),n=w.useRef(0),i=w.useCallback(o=>{const s=r.current+o;t(s),(function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))})(s)},[t]),a=w.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function q3(e,t,r){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=Bbe(e,Math.max(a,0));i.length===1&&(o=o.filter(c=>c!==r));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function Bbe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var qbe=p3,z3=g3,zbe=v3,Ube=b3,Wbe=x3,U3=w3,Hbe=O3,W3=k3,H3=T3,Vbe=C3,Kbe=R3,V3=I3,K3=M3,G3=$3;const Oa=qbe,jl=zbe,Ni=w.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(z3,{ref:n,className:Y("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,f.jsx(Ube,{asChild:!0,children:f.jsx(EN,{className:"h-4 w-4 opacity-50"})})]}));Ni.displayName=z3.displayName;const Y3=w.forwardRef(({className:e,...t},r)=>f.jsx(V3,{ref:r,className:Y("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx(S4,{className:"h-4 w-4"})}));Y3.displayName=V3.displayName;const X3=w.forwardRef(({className:e,...t},r)=>f.jsx(K3,{ref:r,className:Y("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx(EN,{className:"h-4 w-4"})}));X3.displayName=K3.displayName;const Ri=w.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>f.jsx(Wbe,{children:f.jsxs(U3,{ref:i,className:Y("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[f.jsx(Y3,{}),f.jsx(Hbe,{className:Y("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),f.jsx(X3,{})]})}));Ri.displayName=U3.displayName;const Gbe=w.forwardRef(({className:e,...t},r)=>f.jsx(W3,{ref:r,className:Y("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Gbe.displayName=W3.displayName;const Ur=w.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(H3,{ref:n,className:Y("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(Kbe,{children:f.jsx(zf,{className:"h-4 w-4"})})}),f.jsx(Vbe,{children:t})]}));Ur.displayName=H3.displayName;const Ybe=w.forwardRef(({className:e,...t},r)=>f.jsx(G3,{ref:r,className:Y("-mx-1 my-1 h-px bg-muted",e),...t}));Ybe.displayName=G3.displayName;const Xbe=()=>{const{goals:e,allGoals:t,logs:r}=Z2(),[n,i]=w.useState("weekly"),[a,o]=w.useState(null),s=kee(e,r,n),{isPrivacyMode:l}=Ew(),{correlations:c,insights:u}=Tee(e,r),d=w.useMemo(()=>t.find(m=>m.id===a)||null,[t,a]),h=w.useMemo(()=>{if(!d)return null;const m=[],g=new Date,v=new Date(d.start_date),x=d.end_date?new Date(d.end_date):g,b=x>g?g:x;pn({start:v,end:b}).forEach(K=>{const Q=Re(K,"yyyy-MM-dd"),V=r[Q]?.[d.id]||null;m.push({date:Q,status:V})});const S=m.length,_=m.filter(K=>K.status==="done").length,O=m.filter(K=>K.status==="missed").length,k=S>0?Math.round(_/S*100):0;let T=0,j=0,A=0;const N=[];let D=0,M=0,I="",L="";for(let K=0;K<m.length;K++){const Q=m[K];Q.status==="done"?(A++,A>j&&(j=A),D>M&&(M=D,I=L),D=0):(A>2&&N.push({date:Q.date,streakLength:A}),A=0,(Q.status==="missed"||Q.status===null)&&(D===0&&(L=Q.date),D++))}D>M&&(M=D,I=L);for(let K=m.length-1;K>=0&&m[K].status==="done";K--)T++;const B=[0,0,0,0,0,0,0],F=[0,0,0,0,0,0,0];m.forEach(K=>{const Q=new Date(K.date).getDay(),V=Q===0?6:Q-1;F[V]++,K.status==="done"&&B[V]++});const $=["Lun","Mar","Mer","Gio","Ven","Sab","Dom"].map((K,Q)=>({day:K,rate:F[Q]>0?Math.round(B[Q]/F[Q]*100):0,total:F[Q],done:B[Q]})),C=$.reduce((K,Q)=>Q.total>2&&Q.rate<K.rate?Q:K,{day:"N/A",rate:100,total:0,done:0}),W=_w(g),z=SH(g),X=pn({start:W,end:z}).map(K=>{const Q=Re(K,"yyyy-MM-dd"),V=r[Q]?.[d.id];return{date:Q,count:V==="done"?1:V==="missed"?-1:0,intensity:V==="done"?1:V==="missed"?.5:0}}),se=pn({start:new Date(g.getTime()-720*60*60*1e3),end:g}).map(K=>{const Q=Re(K,"yyyy-MM-dd"),V=r[Q]?.[d.id];return{date:Re(K,"dd/MM"),value:V==="done"?100:0,status:V||null}});return{totalDays:S,doneDays:_,missedDays:O,completionRate:k,currentStreak:T,bestStreak:j,brokenStreaks:N.slice(-5).reverse(),worstNegativeStreak:M,worstNegativeStreakStart:I,weekdayPerformance:$,worstDay:C,heatmapData:X,trendData:se}},[d,r]),p=s.habitStats.length>0?s.habitStats.reduce((m,g)=>m.completionRate>g.completionRate?m:g,s.habitStats[0]):null,y=m=>{o(m==="all"?null:m)};return f.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-5xl animate-fade-in pb-32 space-y-6",children:[f.jsx("div",{className:"fixed top-20 left-1/2 -translate-x-1/2 w-[800px] h-[800px] bg-primary/5 blur-[120px] rounded-full pointer-events-none -z-10"}),f.jsxs("div",{className:Y("space-y-3",l&&"blur-sm"),children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx("h1",{className:"text-2xl sm:text-3xl font-display font-bold text-foreground",children:"Le tue Statistiche"}),f.jsx("p",{className:"text-muted-foreground font-light text-sm sm:text-base",children:"Analisi dettagliata delle tue performance."})]}),f.jsxs(Oa,{value:a||"all",onValueChange:y,children:[f.jsx(Ni,{className:"w-full sm:w-[300px] glass-panel border-white/10",children:f.jsx(jl,{placeholder:"Seleziona goal"})}),f.jsxs(Ri,{children:[f.jsx(Ur,{value:"all",children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx($i,{className:"w-4 h-4"}),"Tutti i Goals"]})}),t.map(m=>f.jsx(Ur,{value:m.id,children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:m.color}}),m.title,m.end_date&&f.jsx("span",{className:"text-xs text-muted-foreground",children:"(archiviato)"})]})},m.id))]})]})]}),a===null?f.jsxs(qo,{defaultValue:"panoramica",className:"w-full",children:[f.jsxs(La,{className:"grid w-full grid-cols-5 mb-4 shrink-0",children:[f.jsx(rt,{value:"panoramica",className:"text-xs sm:text-sm",children:"Info"}),f.jsx(rt,{value:"trend",className:"text-xs sm:text-sm",children:"Trend"}),f.jsx(rt,{value:"analisi",className:"text-xs sm:text-sm",children:"Alert"}),f.jsx(rt,{value:"abitudini",className:"text-xs sm:text-sm",children:"Abitudini"}),f.jsx(rt,{value:"mood-energia",className:"text-xs sm:text-sm flex items-center gap-1",children:f.jsx("span",{children:"Mood"})})]}),f.jsxs(mr,{value:"panoramica",className:"mt-0 space-y-6",children:[f.jsx("div",{className:Y("transition-all duration-300",l&&"blur-sm"),children:f.jsx(Cee,{globalStats:{totalActiveDays:s.totalActiveDays,globalSuccessRate:s.globalSuccessRate,bestStreak:s.bestStreak,worstDay:s.worstDay},bestHabit:p||void 0})}),f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[f.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4 flex items-center gap-2",children:[f.jsx("span",{className:"w-2 h-2 rounded-sm bg-primary animate-pulse"}),"Attivit Recente"]}),f.jsx(Nee,{data:s.heatmapData})]})]}),f.jsxs(mr,{value:"trend",className:"mt-0 space-y-6",children:[f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6 h-[350px] sm:h-[400px] flex flex-col",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-4",children:[f.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold",children:"Trend"}),f.jsx(qo,{value:n,onValueChange:m=>i(m),className:"w-full sm:w-auto",children:f.jsxs(La,{className:"grid w-full grid-cols-4 sm:w-[300px]",children:[f.jsx(rt,{value:"weekly",className:"text-xs",children:"Sett"}),f.jsx(rt,{value:"monthly",className:"text-xs",children:"Mese"}),f.jsx(rt,{value:"annual",className:"text-xs",children:"Anno"}),f.jsx(rt,{value:"all",className:"text-xs",children:"Tutto"})]})})]}),f.jsx("div",{className:"flex-1 w-full min-h-0",children:f.jsx(cbe,{data:s.trendData})})]}),f.jsx("div",{className:Y("transition-all duration-300",l&&"blur-sm"),children:f.jsx(fbe,{comparisons:s.comparisons,goals:e})})]}),f.jsxs(mr,{value:"analisi",className:"mt-0 space-y-6",children:[f.jsx("div",{className:Y("transition-all duration-300",l&&"blur-sm"),children:f.jsx(hbe,{criticalHabits:s.criticalHabits})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[f.jsxs("div",{className:Y("glass-panel rounded-3xl p-4 sm:p-6 h-[300px] sm:h-[350px] flex flex-col transition-all duration-300",l&&"blur-sm"),children:[f.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-3",children:"Focus Abitudini"}),f.jsx("div",{className:"flex-1 w-full min-h-0",children:f.jsx(ube,{stats:s.habitStats})})]}),f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6 h-[300px] sm:h-[350px] flex flex-col",children:[f.jsxs("div",{className:"mb-3",children:[f.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold flex items-center gap-2",children:[f.jsx("span",{className:"w-2 h-2 rounded-sm bg-primary animate-pulse"}),"Costanza Settimanale"]}),f.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Scopri in quali giorni sei pi produttivo."})]}),f.jsx("div",{className:"flex-1 w-full min-h-0",children:f.jsx(dbe,{data:s.weekdayStats})})]})]})]}),f.jsx(mr,{value:"abitudini",className:"mt-0",children:f.jsxs("div",{className:Y("glass-panel rounded-3xl p-4 sm:p-6 transition-all duration-300",l&&"blur-sm"),children:[f.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4 sm:mb-6",children:"Dettagli Abitudini"}),f.jsx("div",{className:"space-y-3",children:s.habitStats.length===0?f.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Nessuna abitudine tracciata ancora."}):[...s.habitStats].sort((m,g)=>g.completionRate-m.completionRate).map(m=>f.jsxs("div",{className:"glass-card rounded-xl p-3 sm:p-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4 group cursor-pointer hover:bg-white/5 transition-colors",onClick:()=>o(m.id),children:[f.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 w-full sm:w-auto",children:[f.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl flex items-center justify-center bg-white/5 border border-white/10 group-hover:scale-110 transition-transform duration-300 shadow-lg shrink-0",style:{borderColor:`${m.color}40`,boxShadow:`0 0 20px ${m.color}10`},children:f.jsx("div",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-sm",style:{backgroundColor:m.color}})}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("span",{className:"font-semibold text-foreground text-base sm:text-lg truncate block",children:m.title}),f.jsx("div",{className:"h-1 w-16 sm:w-20 bg-secondary rounded-full mt-1 overflow-hidden",children:f.jsx("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${m.completionRate}%`,backgroundColor:m.color}})})]})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-3 sm:flex sm:gap-6 text-sm text-muted-foreground w-full sm:w-auto justify-between sm:justify-end",children:[f.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[f.jsxs("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5 flex items-center gap-1",children:[f.jsx(Ro,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-yellow-500"})," Best"]}),f.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-foreground",children:[m.longestStreak,f.jsx("span",{className:"text-[10px] sm:text-xs font-sans font-normal opacity-50",children:"gg"})]})]}),f.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[f.jsx("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5",children:"Serie"}),f.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-foreground",children:[m.currentStreak,f.jsx("span",{className:"text-[10px] sm:text-xs font-sans font-normal opacity-50",children:"gg"})]})]}),f.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[f.jsx("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5",children:"Rate"}),f.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-foreground",children:[m.completionRate,f.jsx("span",{className:"text-[10px] sm:text-sm",children:"%"})]})]})]})]},m.id))})]})}),f.jsxs(mr,{value:"mood-energia",className:"mt-0 space-y-6",children:[f.jsx("div",{className:Y("transition-all duration-300",l&&"blur-sm"),children:f.jsx(mbe,{})}),f.jsx("div",{className:Y("transition-all duration-300",l&&"blur-sm"),children:f.jsx(vbe,{insights:u})}),f.jsx("div",{className:Y("transition-all duration-300",l&&"blur-sm"),children:f.jsx(ybe,{correlations:c})})]})]}):d&&h&&f.jsxs(qo,{defaultValue:"overview",className:"w-full",children:[f.jsxs(La,{className:"grid w-full grid-cols-5 mb-4 shrink-0",children:[f.jsx(rt,{value:"overview",className:"text-xs sm:text-sm",children:"Overview"}),f.jsx(rt,{value:"calendario",className:"text-xs sm:text-sm",children:"Calendario"}),f.jsx(rt,{value:"performance",className:"text-xs sm:text-sm",children:"Performance"}),f.jsx(rt,{value:"miglioramento",className:"text-xs sm:text-sm",children:"Miglioramento"}),f.jsxs(rt,{value:"mood-energia",className:"text-xs sm:text-sm flex items-center gap-1",children:[f.jsx(Ul,{className:"w-3 h-3"}),f.jsx("span",{children:"Mood"})]})]}),f.jsxs(mr,{value:"overview",className:"mt-0 space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[f.jsxs("div",{className:"glass-panel rounded-2xl p-4 text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Serie Attuale"}),f.jsx("p",{className:"text-3xl font-bold font-mono",style:{color:d.color},children:h.currentStreak}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"giorni"})]}),f.jsxs("div",{className:"glass-panel rounded-2xl p-4 text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Record"}),f.jsx("p",{className:"text-3xl font-bold font-mono text-yellow-500",children:h.bestStreak}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"giorni"})]}),f.jsxs("div",{className:"glass-panel rounded-2xl p-4 text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Completamento"}),f.jsxs("p",{className:"text-3xl font-bold font-mono text-primary",children:[h.completionRate,"%"]}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.doneDays,"/",h.totalDays," gg"]})]}),f.jsxs("div",{className:"glass-panel rounded-2xl p-4 text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Mancati"}),f.jsx("p",{className:"text-3xl font-bold font-mono text-destructive",children:h.missedDays}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"giorni"})]})]}),f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[f.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4",children:"Trend Ultimi 30 Giorni"}),f.jsx("div",{className:"grid grid-cols-10 gap-1 sm:gap-2",children:h.trendData.slice(-30).map((m,g)=>f.jsx("div",{className:"aspect-square rounded-md sm:rounded-lg transition-all duration-300 hover:scale-110",style:{backgroundColor:m.status==="done"?"#11FF00":m.status==="missed"?"#FF0000":"rgba(255,255,255,0.1)",opacity:m.status?1:.4},title:m.date},g))}),f.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-muted-foreground",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:"#11FF00"}}),f.jsx("span",{children:"Completato"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 rounded-sm bg-white/10"}),f.jsx("span",{children:"Non completato"})]})]})]})]}),f.jsx(mr,{value:"calendario",className:"mt-0 space-y-6",children:f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[f.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4 flex items-center gap-2",children:[f.jsx(ad,{className:"w-5 h-5"}),"Calendario Annuale"]}),f.jsx("div",{className:"flex gap-1 flex-wrap",children:h.heatmapData.map((m,g)=>f.jsx("div",{className:"w-3 h-3 rounded-sm transition-all",style:{backgroundColor:m.count===1?"#11FF00":m.count===-1?"#FF0000":"rgba(255,255,255,0.05)"},title:`${m.date}: ${m.count===1?"Completato":m.count===-1?"Mancato":"Non tracciato"}`},g))}),f.jsxs("div",{className:"flex items-center gap-4 mt-4 text-xs text-muted-foreground",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:"#11FF00"}}),f.jsx("span",{children:"Completato"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 rounded-sm bg-destructive"}),f.jsx("span",{children:"Mancato"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 rounded-sm bg-white/5"}),f.jsx("span",{children:"Non tracciato"})]})]})]})}),f.jsxs(mr,{value:"performance",className:"mt-0 space-y-6",children:[f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[f.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4",children:"Performance per Giorno"}),f.jsx("div",{className:"grid grid-cols-7 gap-2",children:h.weekdayPerformance.map((m,g)=>f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:m.day}),f.jsx("div",{className:"h-24 bg-white/5 rounded-lg relative overflow-hidden",children:f.jsx("div",{className:"absolute bottom-0 left-0 right-0 transition-all duration-500 rounded-t",style:{height:`${m.rate}%`,backgroundColor:m.rate>=70?"#11FF00":m.rate>=40?"#f59e0b":"#FF0000"}})}),f.jsxs("p",{className:"text-sm font-bold mt-2",children:[m.rate,"%"]})]},g))})]}),h.worstDay.day!=="N/A"&&f.jsx("div",{className:"glass-panel rounded-2xl p-4 border border-destructive/30",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(TN,{className:"w-5 h-5 text-destructive"}),f.jsxs("div",{children:[f.jsxs("p",{className:"font-semibold",children:["Giorno pi debole: ",h.worstDay.day]}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:["Solo ",h.worstDay.rate,"% di completamento (",h.worstDay.done,"/",h.worstDay.total,")"]})]})]})})]}),f.jsxs(mr,{value:"miglioramento",className:"mt-0 space-y-6",children:[f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[f.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4 flex items-center gap-2",children:[f.jsx(ub,{className:"w-5 h-5 text-destructive"}),"Serie Negativa Peggiore"]}),h.worstNegativeStreak>0?f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"text-4xl font-bold font-mono text-destructive",children:h.worstNegativeStreak}),f.jsxs("div",{children:[f.jsx("p",{className:"text-muted-foreground",children:"giorni consecutivi mancati"}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:["Iniziata il ",Re(new Date(h.worstNegativeStreakStart),"d MMMM yyyy",{locale:Cr})]})]})]}):f.jsx("p",{className:"text-muted-foreground",children:"Nessuna serie negativa significativa. Ottimo lavoro! "})]}),f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[f.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4",children:"Streak Interrotti"}),h.brokenStreaks.length>0?f.jsx("div",{className:"space-y-3",children:h.brokenStreaks.map((m,g)=>f.jsx("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-xl",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-destructive/20 flex items-center justify-center",children:f.jsx("span",{className:"text-destructive font-bold",children:m.streakLength})}),f.jsxs("div",{children:[f.jsxs("p",{className:"font-semibold",children:["Streak di ",m.streakLength," giorni interrotto"]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:Re(new Date(m.date),"d MMMM yyyy",{locale:Cr})})]})]})},g))}):f.jsx("p",{className:"text-muted-foreground",children:"Nessuno streak significativo interrotto."})]}),f.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6 border border-primary/30",children:[f.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4",children:" Suggerimenti"}),f.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[h.worstDay.day!=="N/A"&&h.worstDay.rate<50&&f.jsxs("li",{children:[" Concentrati sul ",f.jsx("strong",{className:"text-foreground",children:h.worstDay.day})," -  il tuo giorno pi debole"]}),h.worstNegativeStreak>=3&&f.jsxs("li",{children:[" Evita pause prolungate - la tua serie negativa pi lunga  stata di ",h.worstNegativeStreak," giorni"]}),h.completionRate<70&&f.jsx("li",{children:" Obiettivo: raggiungi almeno il 70% di completamento per consolidare l'abitudine"}),h.completionRate>=80&&f.jsx("li",{children:"  Ottimo lavoro! Mantieni questa costanza"})]})]})]}),f.jsx(mr,{value:"mood-energia",className:"mt-0 space-y-6",children:(()=>{const m=c.find(g=>g.habitId===a);return m?f.jsx(gbe,{correlation:m}):f.jsxs("div",{className:"glass-panel rounded-3xl p-8 text-center",children:[f.jsx(Ul,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground opacity-50"}),f.jsx("p",{className:"text-muted-foreground",children:"Non ci sono abbastanza dati per analizzare la correlazione mood/energia."}),f.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Registra il tuo mood ed energia quotidianamente per vedere le correlazioni."})]})})()})]},a)]})},Pr={red:"Rosso",orange:"Arancione",yellow:"Giallo",blue:"Blu",purple:"Viola",pink:"Rosa",cyan:"Ciano"},Al={red:"hsl(0 65% 55%)",orange:"hsl(25 60% 45%)",yellow:"hsl(45 90% 45%)",blue:"hsl(220 70% 50%)",purple:"hsl(270 70% 50%)",pink:"hsl(330 70% 50%)",cyan:"hsl(170 70% 40%)"};function cS(){const e=ro(),{data:t,isLoading:r}=Bn({queryKey:["goalCategorySettings"],queryFn:async()=>{const{data:{user:l}}=await ye.auth.getUser();if(!l)return null;const{data:c,error:u}=await ye.from("goal_category_settings").select("*").eq("user_id",l.id).single();return u&&u.code!=="PGRST116"&&console.error("Error fetching category settings:",u),c}}),n=hn({mutationFn:async l=>{const{data:{user:c}}=await ye.auth.getUser();if(!c)throw new Error("Not authenticated");const{data:u}=await ye.from("goal_category_settings").select("id").eq("user_id",c.id).single();if(u){const{error:d}=await ye.from("goal_category_settings").update({mappings:l}).eq("id",u.id);if(d)throw d}else{const{error:d}=await ye.from("goal_category_settings").insert({user_id:c.id,mappings:l});if(d)throw d}},onSuccess:()=>{e.invalidateQueries({queryKey:["longTermGoals"]}),e.invalidateQueries({queryKey:["goalCategorySettings"]}),Ze.success("Categorie aggiornate con successo")},onError:()=>{Ze.error("Errore durante l'aggiornamento delle categorie")}}),i=w.useMemo(()=>{const l={};return t?.mappings&&Object.entries(t.mappings).forEach(([c,u])=>{typeof u=="string"?l[c]=u:l[c]=u.label}),{...Pr,...l}},[t]),a=w.useMemo(()=>{const l={};return t?.mappings&&Object.entries(t.mappings).forEach(([c,u])=>{typeof u!="string"&&u.archived||(typeof u=="string"?l[c]=u:l[c]=u.label)}),{...Pr,...l}},[t]),o=l=>{if(!l)return"Generale";const c=t?.mappings?.[l];return typeof c=="string"?c:c?.label?c.label:Pr[l]||l},s=l=>{if(!l)return null;const c=t?.mappings?.[l];return c&&typeof c!="string"&&c.color?c.color:Al[l]||null};return{settings:t,isLoading:r,updateSettings:n.mutate,getLabel:o,getColor:s,categoryLabels:i,activeCategoryLabels:a}}function Qbe({year:e}){const{getLabel:t}=cS(),{data:r,isLoading:n}=Bn({queryKey:["longTermGoals","stats",e],queryFn:async()=>{let j=[],A=0;const N=1e3;let D=!0;for(;D;){let M=ye.from("long_term_goals").select("*");e!=="all"&&(M=M.eq("year",typeof e=="string"?parseInt(e):e));const{data:I,error:L}=await M.range(A,A+N-1);if(L)throw L;I&&I.length>0?(j=[...j,...I],I.length<N?D=!1:A+=N):D=!1}return j}});if(w.useEffect(()=>{(async()=>{const{error:A}=await ye.rpc("check_and_fail_expired_goals");A&&console.error("Error checking expired goals:",A)})()},[]),n)return f.jsx("div",{className:"flex justify-center p-8",children:f.jsx(Pa,{className:"w-8 h-8 animate-spin text-muted-foreground"})});if(!r||r.length===0)return f.jsxs("div",{className:"text-center p-12 border border-dashed border-white/10 rounded-xl text-muted-foreground",children:["Nessun dato disponibile per ",e==="all"?"il periodo selezionato":`il ${e}`,". Aggiungi qualche obiettivo!"]});const i=r.length,a=r.filter(j=>j.status==="completed").length,o=Math.round(a/i*100)||0,s=r.filter(j=>j.type==="lifetime"),l=r.filter(j=>j.type!=="lifetime"),c=l.map(j=>j.year).filter(j=>j!==null),u=c.length>0?Math.min(...c):new Date().getFullYear(),d={annual:r.filter(j=>j.type==="annual").length,quarterly:r.filter(j=>j.type==="quarterly").length,monthly:r.filter(j=>j.type==="monthly").length,weekly:r.filter(j=>j.type==="weekly").length,lifetime:s.length},h=[{type:"Lifetime",total:d.lifetime,completed:s.filter(j=>j.status==="completed").length},{type:"Annuale",total:d.annual,completed:r.filter(j=>j.type==="annual"&&j.status==="completed").length},{type:"Trimestrale",total:d.quarterly,completed:r.filter(j=>j.type==="quarterly"&&j.status==="completed").length},{type:"Mensile",total:d.monthly,completed:r.filter(j=>j.type==="monthly"&&j.status==="completed").length},{type:"Settimanale",total:d.weekly,completed:r.filter(j=>j.type==="weekly"&&j.status==="completed").length}].map(j=>({...j,rate:j.total>0?Math.round(j.completed/j.total*100):0})).sort((j,A)=>A.rate-j.rate||A.completed-j.completed),p=h[0],y={};r.forEach(j=>{const A=j.color||"null",N=t(A==="null"?null:A),D=A==="null"?"Generale":Pr[A]||A;(A==="null"||!(A!=="null"&&N===D))&&(y[A]||(y[A]={total:0,completed:0}),y[A].total++,j.status==="completed"&&y[A].completed++)});const m=Object.entries(y).map(([j,A])=>({subject:t(j==="null"?null:j),A:Math.round(A.completed/A.total*100),fullMark:100,total:A.total})).sort((j,A)=>A.A-j.A),g=m.length>0?m[0]:null,v={red:"#f43f5e",orange:"#f97316",yellow:"#fbbf24",green:"#10b981",blue:"#2563eb",purple:"#7c3aed",pink:"#d946ef",cyan:"#06b6d4",null:"#525252"},x=Object.entries(y).map(([j,A])=>({name:t(j==="null"?null:j),value:A.total,fill:v[j]||"#888888"})).sort((j,A)=>A.value-j.value);if(e==="all"){const j={};l.forEach(F=>{F.year!==null&&(j[F.year]||(j[F.year]={total:0,completed:0,failed:0,active:0,rate:0}),j[F.year].total++,F.status==="completed"?j[F.year].completed++:F.status==="failed"?j[F.year].failed++:j[F.year].active++)});const A=Object.entries(j).map(([F,$])=>({year:F,total:$.total,completed:$.completed,failed:$.failed,active:$.active,rate:Math.round($.completed/$.total*100)||0})).sort((F,$)=>parseInt(F.year)-parseInt($.year)),N=[...A].sort((F,$)=>$.rate-F.rate||$.completed-F.completed)[0],D=[...A].sort((F,$)=>$.completed-F.completed)[0],M=[1,2,3,4].map(F=>({name:`Q${F}`,total:0,completed:0,failed:0,active:0,rate:0}));l.forEach(F=>{const $=F.quarter;if($&&$>=1&&$<=4){const C=$-1;M[C].total++,F.status==="completed"?M[C].completed++:F.status==="failed"?M[C].failed++:M[C].active++}}),M.forEach(F=>{F.rate=F.total>0?Math.round(F.completed/F.total*100):0});const I=Array.from({length:12},(F,$)=>({name:new Date(2024,$).toLocaleString("it-IT",{month:"short"}),monthIndex:$+1,total:0,completed:0,failed:0,active:0,rate:0}));l.forEach(F=>{if(F.month&&F.month>=1&&F.month<=12){const $=F.month-1;I[$].total++,F.status==="completed"?I[$].completed++:F.status==="failed"?I[$].failed++:I[$].active++}}),I.forEach(F=>{F.rate=F.total>0?Math.round(F.completed/F.total*100):0});const L=[];return Array.from(new Set(l.map(F=>F.year).filter(F=>F!==null))).sort((F,$)=>F-$).forEach(F=>{const $=l.filter(W=>W.year===F),C={year:F.toString(),total:$.length};Object.keys(v).forEach(W=>{const z=t(W==="null"?null:W),R=W==="null"?"Generale":Pr[W]||W;(W==="null"||!(W!=="null"&&z===R))&&(C[W]=0)}),$.forEach(W=>{const z=W.color||"null",R=t(z==="null"?null:z),X=z==="null"?"Generale":Pr[z]||z;(z==="null"||!(z!=="null"&&R===X))&&C[z]!==void 0&&C[z]++}),L.push(C)}),f.jsxs("div",{className:"space-y-8 animate-fade-in pb-10",children:[f.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[f.jsxs(Ce,{className:"bg-gradient-to-br from-indigo-500/10 to-blue-600/10 border-indigo-500/20 shadow-lg shadow-indigo-500/5",children:[f.jsxs(Fe,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Be,{className:"text-sm font-medium text-indigo-400",children:"Totale Storico"}),f.jsx($i,{className:"h-4 w-4 text-indigo-500"})]}),f.jsxs(Ne,{children:[f.jsx("div",{className:"text-3xl font-bold text-white",children:i}),f.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Obiettivi tracciati dal ",u]})]})]}),f.jsxs(Ce,{className:"bg-gradient-to-br from-emerald-500/10 to-teal-500/10 border-emerald-500/20 shadow-lg shadow-emerald-500/5",children:[f.jsxs(Fe,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Be,{className:"text-sm font-medium text-emerald-400",children:"Successo Globale"}),f.jsx(Ro,{className:"h-4 w-4 text-emerald-500"})]}),f.jsxs(Ne,{children:[f.jsxs("div",{className:"text-3xl font-bold text-white",children:[o,"%"]}),f.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a," obiettivi completati"]})]})]}),f.jsxs(Ce,{className:"bg-gradient-to-br from-amber-500/10 to-orange-500/10 border-amber-500/20 shadow-lg shadow-amber-500/5",children:[f.jsxs(Fe,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Be,{className:"text-sm font-medium text-amber-400",children:"Anno Migliore"}),f.jsx(ad,{className:"h-4 w-4 text-amber-500"})]}),f.jsxs(Ne,{children:[f.jsx("div",{className:"text-3xl font-bold text-white",children:N?.year||"N/A"}),f.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[N?.rate,"% completamento"]})]})]}),f.jsxs(Ce,{className:"bg-gradient-to-br from-cyan-500/10 to-sky-500/10 border-cyan-500/20 shadow-lg shadow-cyan-500/5",children:[f.jsxs(Fe,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Be,{className:"text-sm font-medium text-cyan-400",children:"Anno Pi Produttivo"}),f.jsx(gS,{className:"h-4 w-4 text-cyan-500"})]}),f.jsxs(Ne,{children:[f.jsx("div",{className:"text-3xl font-bold text-white",children:D?.year||"N/A"}),f.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[D?.total," obiettivi totali"]})]})]})]}),f.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[f.jsxs(Ce,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm p-2",children:[f.jsxs(Fe,{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(qi,{className:"w-5 h-5 text-blue-500"}),f.jsx(Be,{children:"Progressione Annuale"})]}),f.jsx(ki,{children:"Confronto anno per anno del volume di obiettivi e completamenti"})]}),f.jsx(Ne,{className:"h-[300px] sm:h-[400px]",children:f.jsx(Qt,{width:"100%",height:"100%",children:f.jsxs(Lc,{data:A,margin:{top:20,right:20,bottom:20,left:20},children:[f.jsx(Wr,{strokeDasharray:"3 3",stroke:"#ffffff10",vertical:!1}),f.jsx(Bt,{dataKey:"year",stroke:"#888888",fontSize:14,tickLine:!1,axisLine:!1}),f.jsx(_t,{yAxisId:"left",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(_t,{yAxisId:"right",orientation:"right",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,unit:"%",domain:[0,100]}),f.jsx(ft,{contentStyle:{backgroundColor:"#09090b",border:"1px solid #27272a",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.5)"},cursor:{fill:"#ffffff05"}}),f.jsx(Rr,{wrapperStyle:{paddingTop:"20px"}}),f.jsx(St,{yAxisId:"left",dataKey:"active",stackId:"a",name:"Attivi",fill:"#3b82f6",radius:[0,0,4,4],barSize:40,fillOpacity:.8}),f.jsx(St,{yAxisId:"left",dataKey:"failed",stackId:"a",name:"Falliti",fill:"#ef4444",radius:[0,0,0,0],barSize:40,fillOpacity:.8}),f.jsx(St,{yAxisId:"left",dataKey:"completed",stackId:"a",name:"Completati",fill:"#10b981",radius:[4,4,0,0],barSize:40,fillOpacity:.8}),f.jsx(Qr,{yAxisId:"right",type:"monotone",dataKey:"rate",name:"Tasso Successo %",stroke:"#f59e0b",strokeWidth:3,dot:{r:4,strokeWidth:2},activeDot:{r:6}})]})})})]}),f.jsxs(Ce,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsx(Fe,{children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx($i,{className:"w-5 h-5 text-cyan-500"}),f.jsx(Be,{children:"Performance per Categoria (Storico)"})]})}),f.jsx(Ne,{className:"h-[300px] sm:h-[350px]",children:f.jsx(Qt,{width:"100%",height:"100%",children:f.jsxs(Mx,{cx:"50%",cy:"50%",outerRadius:"65%",data:m,children:[f.jsx(cf,{stroke:"#ffffff20"}),f.jsx(ra,{dataKey:"subject",tick:{fill:"#a1a1aa",fontSize:13,fontWeight:500}}),f.jsx(Qa,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),f.jsx(Ja,{name:"Success Rate",dataKey:"A",stroke:"#06b6d4",fill:"#06b6d4",fillOpacity:.5}),f.jsx(ft,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"},formatter:F=>[`${F}%`,"Successo"]})]})})})]}),f.jsxs(Ce,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsx(Fe,{children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(vS,{className:"w-5 h-5 text-purple-500"}),f.jsx(Be,{children:"Distribuzione Tipologie"})]})}),f.jsx(Ne,{className:"h-[300px] sm:h-[350px]",children:f.jsx(Qt,{width:"100%",height:"100%",children:f.jsxs(El,{data:h,layout:"vertical",margin:{left:20},children:[f.jsx(Wr,{strokeDasharray:"3 3",stroke:"#ffffff10",horizontal:!0,vertical:!1}),f.jsx(Bt,{type:"number",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(_t,{dataKey:"type",type:"category",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,width:80}),f.jsx(ft,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},cursor:{fill:"#ffffff05"}}),f.jsx(St,{dataKey:"rate",name:"Successo %",fill:"#8b5cf6",radius:[0,4,4,0],barSize:30})]})})})]}),f.jsxs(Ce,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsxs(Fe,{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(ad,{className:"w-5 h-5 text-amber-500"}),f.jsx(Be,{children:"Stagionalit (Performance Trimestrale)"})]}),f.jsx(ki,{children:"Aggregato di tutti gli anni: in quale trimestre rendi meglio?"})]}),f.jsx(Ne,{className:"h-[300px] sm:h-[350px]",children:f.jsx(Qt,{width:"100%",height:"100%",children:f.jsxs(El,{data:M,children:[f.jsx(Wr,{strokeDasharray:"3 3",stroke:"#ffffff10",vertical:!1}),f.jsx(Bt,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(_t,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(ft,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},cursor:{fill:"#ffffff05"}}),f.jsx(Rr,{wrapperStyle:{paddingTop:"20px"}}),f.jsx(St,{dataKey:"active",stackId:"a",name:"Attivi",fill:"#3b82f6",radius:[0,0,4,4],barSize:30,fillOpacity:.6}),f.jsx(St,{dataKey:"failed",stackId:"a",name:"Falliti",fill:"#f59e0b",radius:[0,0,0,0],barSize:30,fillOpacity:.8}),f.jsx(St,{dataKey:"completed",stackId:"a",name:"Completati",fill:"#10b981",radius:[4,4,0,0],barSize:30})]})})})]}),f.jsxs(Ce,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsxs(Fe,{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(gS,{className:"w-5 h-5 text-pink-500"}),f.jsx(Be,{children:"Performance Mensile (Storico)"})]}),f.jsx(ki,{children:"Successo medio per mese: scopri il tuo ritmo ideale"})]}),f.jsx(Ne,{className:"h-[300px] sm:h-[350px]",children:f.jsx(Qt,{width:"100%",height:"100%",children:f.jsxs(sbe,{data:I,children:[f.jsx(Wr,{strokeDasharray:"3 3",stroke:"#ffffff10",vertical:!1}),f.jsx(Bt,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(_t,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,unit:"%",domain:[0,100]}),f.jsx(ft,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},cursor:{stroke:"#ffffff20"}}),f.jsx(Qr,{type:"monotone",dataKey:"rate",name:"Tasso di Successo",stroke:"#ec4899",strokeWidth:3,dot:{r:4,strokeWidth:2,fill:"#1f1f1f"},activeDot:{r:6,fill:"#ec4899"}})]})})})]}),f.jsxs(Ce,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsxs(Fe,{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(qi,{className:"w-5 h-5 text-indigo-500"}),f.jsx(Be,{children:"Evoluzione Interessi (Categorie)"})]}),f.jsx(ki,{children:"Come sono cambiati i tuoi focus nel corso degli anni"})]}),f.jsx(Ne,{className:"h-[300px] sm:h-[400px]",children:f.jsx(Qt,{width:"100%",height:"100%",children:f.jsxs(El,{data:L,children:[f.jsx(Wr,{strokeDasharray:"3 3",stroke:"#ffffff10",vertical:!1}),f.jsx(Bt,{dataKey:"year",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(_t,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(ft,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},cursor:{fill:"#ffffff05"}}),f.jsx(Rr,{}),Object.entries(v).map(([F,$])=>{const C=t(F==="null"?null:F),W=F==="null"?"Generale":Pr[F]||F;return F==="null"||!(F!=="null"&&C===W)?f.jsx(St,{dataKey:F,name:C,stackId:"a",fill:$},F):null})]})})})]})]})]})}const E=typeof e=="string"?parseInt(e):e,S=Array.from({length:12},(j,A)=>({name:new Date(E,A).toLocaleString("it-IT",{month:"short"}),monthIndex:A+1,total:0,completed:0,failed:0,active:0,rate:0,cumulativeTotal:0,cumulativeCompleted:0}));let _=0,O=0;l.forEach(j=>{let A=0;j.month&&(A=j.month-1),A<0&&(A=0),A>11&&(A=11),S[A].total++,j.status==="completed"?S[A].completed++:j.status==="failed"?S[A].failed++:S[A].active++}),S.forEach(j=>{j.rate=j.total>0?Math.round(j.completed/j.total*100):0,_+=j.total,O+=j.completed,j.cumulativeTotal=_,j.cumulativeCompleted=O});const k=[1,2,3,4].map(j=>({name:`Q${j}`,quarterIndex:j,total:0,completed:0,rate:0}));r.filter(j=>j.quarter).forEach(j=>{if(j.quarter&&j.quarter>=1&&j.quarter<=4){const A=j.quarter-1;k[A].total++,j.status==="completed"&&k[A].completed++}}),k.forEach(j=>{j.rate=j.total>0?Math.round(j.completed/j.total*100):0});const T=[...S].filter(j=>j.total>0).sort((j,A)=>A.rate-j.rate||A.completed-j.completed)[0];return f.jsxs("div",{className:"space-y-6 animate-fade-in pb-10",children:[f.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[f.jsxs(Ce,{className:"bg-gradient-to-br from-purple-500/10 to-blue-500/10 border-purple-500/20",children:[f.jsxs(Fe,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Be,{className:"text-sm font-medium text-purple-400",children:"Punto di Forza"}),f.jsx(Xx,{className:"h-4 w-4 text-purple-500"})]}),f.jsxs(Ne,{children:[f.jsx("div",{className:"text-2xl font-bold text-white",children:g?.subject||"N/A"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:g?`${g.A}% di completamento`:"Nessun dato"})]})]}),f.jsxs(Ce,{className:"bg-gradient-to-br from-amber-500/10 to-orange-500/10 border-amber-500/20",children:[f.jsxs(Fe,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Be,{className:"text-sm font-medium text-amber-400",children:"Mese Migliore"}),f.jsx(Ro,{className:"h-4 w-4 text-amber-500"})]}),f.jsxs(Ne,{children:[f.jsx("div",{className:"text-2xl font-bold text-white",children:T?.name||"N/A"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:T?`${T.rate}% di successo (${T.completed}/${T.total})`:"Nessuna attivit"})]})]}),f.jsxs(Ce,{className:"bg-gradient-to-br from-emerald-500/10 to-cyan-500/10 border-emerald-500/20",children:[f.jsxs(Fe,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Be,{className:"text-sm font-medium text-emerald-400",children:"Tipologia Efficace"}),f.jsx(vS,{className:"h-4 w-4 text-emerald-500"})]}),f.jsxs(Ne,{children:[f.jsx("div",{className:"text-2xl font-bold text-white capitalize",children:p.total>0?p.type:"N/A"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:p.total>0?`${p.rate}% di successo`:"Dati insufficienti"})]})]})]}),f.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[f.jsxs(Ce,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsxs(Fe,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Be,{className:"text-sm font-medium text-muted-foreground",children:"Totale"}),f.jsx($i,{className:"h-4 w-4 text-primary"})]}),f.jsx(Ne,{children:f.jsx("div",{className:"text-2xl font-bold text-white",children:i})})]}),f.jsxs(Ce,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsxs(Fe,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Be,{className:"text-sm font-medium text-muted-foreground",children:"Completati"}),f.jsx(_4,{className:"h-4 w-4 text-green-500"})]}),f.jsx(Ne,{children:f.jsx("div",{className:"text-2xl font-bold text-white",children:a})})]}),f.jsxs(Ce,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsxs(Fe,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Be,{className:"text-sm font-medium text-muted-foreground",children:"Successo"}),f.jsx(Ro,{className:"h-4 w-4 text-yellow-500"})]}),f.jsx(Ne,{children:f.jsxs("div",{className:"text-2xl font-bold text-white",children:[o,"%"]})})]}),f.jsxs(Ce,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsxs(Fe,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(Be,{className:"text-sm font-medium text-muted-foreground",children:"Trend"}),f.jsx(qi,{className:"h-4 w-4 text-blue-500"})]}),f.jsx(Ne,{children:f.jsx("div",{className:"text-2xl font-bold text-white",children:O>0?"In Crescita":"Stabile"})})]})]}),f.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[f.jsxs(Ce,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsxs(Fe,{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx($4,{className:"w-5 h-5 text-orange-500"}),f.jsx(Be,{children:"Velocit di Esecuzione (Cumulativa)"})]}),f.jsx(ki,{children:"Confronto tra obiettivi pianificati e completati nel tempo"})]}),f.jsx(Ne,{className:"h-[300px] sm:h-[350px]",children:f.jsx(Qt,{width:"100%",height:"100%",children:f.jsxs(h3,{data:S,children:[f.jsxs("defs",{children:[f.jsxs("linearGradient",{id:"colorTotal",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.3}),f.jsx("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]}),f.jsxs("linearGradient",{id:"colorCompleted",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.3}),f.jsx("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0})]})]}),f.jsx(Bt,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(_t,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(Wr,{strokeDasharray:"3 3",stroke:"#ffffff10"}),f.jsx(ft,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"}}),f.jsx(en,{type:"monotone",dataKey:"cumulativeTotal",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorTotal)",name:"Obiettivi Totali"}),f.jsx(en,{type:"monotone",dataKey:"cumulativeCompleted",stroke:"#82ca9d",fillOpacity:1,fill:"url(#colorCompleted)",name:"Obiettivi Completati"})]})})})]}),f.jsxs(Ce,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsxs(Fe,{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx($i,{className:"w-5 h-5 text-cyan-500"}),f.jsx(Be,{children:"Performance Categorie"})]}),f.jsx(ki,{children:"Tasso di successo per categoria"})]}),f.jsx(Ne,{className:"h-[300px] sm:h-[350px]",children:f.jsx(Qt,{width:"100%",height:"100%",children:f.jsxs(Mx,{cx:"50%",cy:"50%",outerRadius:"65%",data:m,children:[f.jsx(cf,{stroke:"#ffffff20"}),f.jsx(ra,{dataKey:"subject",tick:{fill:"#a1a1aa",fontSize:13,fontWeight:500}}),f.jsx(Qa,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),f.jsx(Ja,{name:"Success Rate",dataKey:"A",stroke:"#06b6d4",fill:"#06b6d4",fillOpacity:.5}),f.jsx(ft,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"},formatter:j=>[`${j}%`,"Successo"]})]})})})]})]}),f.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[f.jsxs(Ce,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsxs(Fe,{children:[f.jsx(Be,{children:"Attivit Trimestrale"}),f.jsx(ki,{children:"Progressione Q1 - Q4"})]}),f.jsx(Ne,{className:"h-[300px]",children:f.jsx(Qt,{width:"100%",height:"100%",children:f.jsxs(El,{data:k,children:[f.jsx(Bt,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(_t,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(ft,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"},cursor:{fill:"#ffffff05"}}),f.jsx(Wr,{stroke:"#ffffff10",vertical:!1}),f.jsx(St,{dataKey:"total",name:"Pianificati",fill:"#f59e0b",radius:[4,4,0,0],barSize:30,fillOpacity:.7}),f.jsx(St,{dataKey:"completed",name:"Completati",fill:"#10b981",radius:[4,4,0,0],barSize:30})]})})})]}),f.jsxs(Ce,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsx(Fe,{children:f.jsx(Be,{children:"Attivit Mensile"})}),f.jsx(Ne,{className:"h-[300px]",children:f.jsx(Qt,{width:"100%",height:"100%",children:f.jsxs(Lc,{data:S,children:[f.jsx(Bt,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(_t,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),f.jsx(ft,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"}}),f.jsx(Wr,{stroke:"#ffffff10"}),f.jsx(St,{dataKey:"total",barSize:20,fill:"#413ea0",radius:[4,4,0,0],name:"Creati"}),f.jsx(Qr,{type:"monotone",dataKey:"completed",stroke:"#ff7300",strokeWidth:2,name:"Completati"})]})})})]}),f.jsxs(Ce,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm",children:[f.jsx(Fe,{children:f.jsx(Be,{children:"Distribuzione Categorie"})}),f.jsx(Ne,{className:"h-[300px]",children:f.jsx(Qt,{width:"100%",height:"100%",children:f.jsxs(lbe,{children:[f.jsx(Si,{data:x,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:x.map((j,A)=>f.jsx(Hs,{fill:j.fill},`cell-${A}`))}),f.jsx(ft,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"}}),f.jsx(Rr,{formatter:(j,A)=>f.jsx("span",{style:{color:"#ccc"},children:j})})]})})})]})]})]})}function Jbe(){const{settings:e,updateSettings:t}=cS(),[r,n]=w.useState({}),[i,a]=w.useState(!1);w.useEffect(()=>{i&&e?.mappings?n(e.mappings):i&&n({})},[i,e]);const o=()=>{t(r),a(!1)},s=(u,d)=>{n(h=>{const p=h[u],y=typeof p=="object"?p.color:Al[u]||"";return{...h,[u]:{label:d,color:y}}})},l=(u,d)=>{n(h=>{const p=h[u],y=typeof p=="object"?p.label:typeof p=="string"?p:Pr[u]||"";return{...h,[u]:{label:y,color:d}}})},c=u=>{const d=r[u];return d?typeof d=="string"?{label:d,color:Al[u]||""}:d:{label:Pr[u]||"",color:Al[u]||""}};return f.jsxs(ch,{open:i,onOpenChange:a,children:[f.jsx(Nw,{asChild:!0,children:f.jsx(qe,{variant:"outline",size:"icon",title:"Impostazioni Categorie",className:"h-10 w-10 sm:h-9 sm:w-9",children:f.jsx(F4,{className:"w-4 h-4"})})}),f.jsxs(Hc,{className:"sm:max-w-[425px] flex flex-col max-h-[85vh] p-0 gap-0 bg-[#0a0a0a]/90 backdrop-blur-2xl border-white/10 text-foreground",children:[f.jsxs(uh,{className:"p-6 pb-2 shrink-0",children:[f.jsx(Vc,{children:"Personalizza Categorie"}),f.jsx(Kc,{children:"Personalizza i colori e le etichette per i tuoi obiettivi."})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-6 pt-2 space-y-4",children:[f.jsx("div",{className:"space-y-2",children:Array.from(new Set([...Object.keys(Pr),...Object.keys(r)])).filter(u=>{const d=r[u];return!(d&&typeof d!="string"&&d.archived)}).map(u=>{const{label:d,color:h}=c(u),p=u in Pr;return f.jsxs("div",{className:"grid grid-cols-[auto_1fr_auto] items-center gap-3 p-3 rounded-lg bg-white/5 border border-white/5 group",children:[f.jsx(Hb,{value:h||"hsl(0 0% 50%)",onChange:y=>l(u,y),showValueLabel:!1,className:"w-10"}),f.jsx(ea,{id:u,value:d,placeholder:Pr[u]||"Nuova Categoria",onChange:y=>s(u,y.target.value),className:"h-9 bg-black/20 border-white/10"}),!p&&f.jsxs($a,{children:[f.jsx(Yo,{asChild:!0,children:f.jsx(qe,{variant:"ghost",size:"icon",className:"h-9 w-9 text-muted-foreground hover:text-destructive opacity-0 group-hover:opacity-100 transition-opacity",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),f.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})})}),f.jsxs(Wi,{children:[f.jsxs(Hi,{children:[f.jsx(Ki,{children:"Sei sicuro?"}),f.jsx(Gi,{children:"Questa azione archivier la categoria. Verr rimossa dalle opzioni future, ma lo storico rimarr accessibile."})]}),f.jsxs(Vi,{children:[f.jsx(Ha,{children:"Annulla"}),f.jsx(Yi,{onClick:()=>{n(y=>{const m=y[u],g=typeof m=="object"?m.label:typeof m=="string"?m:Pr[u]||"",v=typeof m=="object"?m.color:Al[u]||"";return{...y,[u]:{label:g,color:v||"hsl(0 0% 50%)",archived:!0}}})},children:"Elimina"})]})]})]})]},u)})}),f.jsx(qe,{variant:"outline",className:"w-full border-dashed border-white/20 hover:border-white/40 hover:bg-white/5",onClick:()=>{const u=`custom_${Date.now()}`;n(d=>({...d,[u]:{label:"Nuova Categoria",color:"hsl(0 0% 50%)"}}))},children:"+ Aggiungi Categoria"})]}),f.jsx(CI,{className:"p-6 pt-2 shrink-0",children:f.jsx(qe,{type:"submit",onClick:o,className:"w-full",children:"Salva Modifiche"})})]})]})}function Zbe(){const e=ro(),[t,r]=w.useState(!1),[n,i]=w.useState(!1);return{exportBackup:async(s={scope:"all"})=>{r(!0);try{const{data:{user:l}}=await ye.auth.getUser();if(!l)throw new Error("Not authenticated");let c=ye.from("long_term_goals").select("*").eq("user_id",l.id);s.scope==="year"&&s.year&&(c=c.eq("year",s.year));const{data:u,error:d}=await c;if(d)throw d;const{data:h,error:p}=await ye.from("goal_category_settings").select("*").eq("user_id",l.id).single();if(p&&p.code!=="PGRST116")throw p;const y={version:1,timestamp:new Date().toISOString(),goals:u||[],settings:h||null},m=s.scope==="all"?`habit_tracker_FULL_backup_${new Date().toISOString().split("T")[0]}.json`:`habit_tracker_${s.year}_backup.json`,g=new Blob([JSON.stringify(y,null,2)],{type:"application/json"}),v=URL.createObjectURL(g),x=document.createElement("a");x.href=v,x.download=m,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(v),Ze.success("Backup scaricato con successo")}catch(l){console.error("Export failed:",l),Ze.error(`Errore durante l'export: ${l.message}`)}finally{r(!1)}},importBackup:async s=>(i(!0),new Promise(l=>{const c=new FileReader;c.onload=async u=>{try{const d=u.target?.result;if(!d){l(null);return}const h=JSON.parse(d);if(!h.version||!Array.isArray(h.goals))throw new Error("Formato file non valido (manca versione o goals)");const{data:{user:p}}=await ye.auth.getUser();if(!p)throw new Error("Not authenticated");const{data:y,error:m}=await ye.from("long_term_goals").select("*").eq("user_id",p.id);if(m)throw m;const g=new Map(y?.map(O=>[O.id,O])),v=new Set,x=[],b=[];let E=0;const S=[];for(const O of h.goals){let k={...O};!k.status&&k.is_completed!==void 0?(k.status=k.is_completed?"completed":"active",delete k.is_completed):k.status||(k.status="active");let T={...k,user_id:p.id},j=g.get(T.id);if(!j){const A=y?.find(N=>!v.has(N.id)&&N.title===T.title&&N.type===T.type&&N.year===T.year);A&&(j=A,T.id=A.id)}j?(v.add(j.id),j.title!==T.title||j.status!==T.status||j.type!==T.type||j.year!==T.year||j.month!==T.month||j.week_number!==T.week_number||j.color!==T.color?(b.push(T),S.push(T)):E++):(x.push(T),S.push(T))}if(S.length>0){const{error:O}=await ye.from("long_term_goals").upsert(S);if(O)throw O}let _=!1;if(h.settings){const{data:O}=await ye.from("goal_category_settings").select("*").eq("user_id",p.id).single(),k=O,T={user_id:p.id,mappings:h.settings.mappings};(!k||JSON.stringify(k.mappings)!==JSON.stringify(T.mappings))&&(k?await ye.from("goal_category_settings").update({mappings:T.mappings}).eq("id",k.id):await ye.from("goal_category_settings").insert(T),_=!0)}await e.invalidateQueries({queryKey:["longTermGoals"]}),await e.invalidateQueries({queryKey:["goalCategorySettings"]}),l({totalProcessed:h.goals.length,restored:x,updated:b,unchanged:E,settingsUpdated:_})}catch(d){console.error("Import failed:",d),Ze.error(`Errore durante l'importazione: ${d.message}`),l(null)}finally{i(!1)}},c.readAsText(s)})),isExporting:t,isImporting:n}}var uS="Radio",[e0e,Q3]=br(uS),[t0e,r0e]=e0e(uS),J3=w.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:a,disabled:o,value:s="on",onCheck:l,form:c,...u}=e,[d,h]=w.useState(null),p=Ee(t,g=>h(g)),y=w.useRef(!1),m=d?c||!!d.closest("form"):!0;return f.jsxs(t0e,{scope:r,checked:i,disabled:o,children:[f.jsx(pe.button,{type:"button",role:"radio","aria-checked":i,"data-state":rB(i),"data-disabled":o?"":void 0,disabled:o,value:s,...u,ref:p,onClick:de(e.onClick,g=>{i||l?.(),m&&(y.current=g.isPropagationStopped(),y.current||g.stopPropagation())})}),m&&f.jsx(tB,{control:d,bubbles:!y.current,name:n,value:s,checked:i,required:a,disabled:o,form:c,style:{transform:"translateX(-100%)"}})]})});J3.displayName=uS;var Z3="RadioIndicator",eB=w.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...i}=e,a=r0e(Z3,r);return f.jsx(mi,{present:n||a.checked,children:f.jsx(pe.span,{"data-state":rB(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t})})});eB.displayName=Z3;var n0e="RadioBubbleInput",tB=w.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...i},a)=>{const o=w.useRef(null),s=Ee(o,a),l=wh(r),c=Vf(t);return w.useEffect(()=>{const u=o.current;if(!u)return;const d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==r&&p){const y=new Event("click",{bubbles:n});p.call(u,r),u.dispatchEvent(y)}},[l,r,n]),f.jsx(pe.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});tB.displayName=n0e;function rB(e){return e?"checked":"unchecked"}var i0e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],cp="RadioGroup",[a0e]=br(cp,[bh,Q3]),nB=bh(),iB=Q3(),[o0e,s0e]=a0e(cp),aB=w.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:a,required:o=!1,disabled:s=!1,orientation:l,dir:c,loop:u=!0,onValueChange:d,...h}=e,p=nB(r),y=$s(c),[m,g]=Ln({prop:a,defaultProp:i??null,onChange:d,caller:cp});return f.jsx(o0e,{scope:r,name:n,required:o,disabled:s,value:m,onValueChange:g,children:f.jsx(RD,{asChild:!0,...p,orientation:l,dir:y,loop:u,children:f.jsx(pe.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":s?"":void 0,dir:y,...h,ref:t})})})});aB.displayName=cp;var oB="RadioGroupItem",sB=w.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...i}=e,a=s0e(oB,r),o=a.disabled||n,s=nB(r),l=iB(r),c=w.useRef(null),u=Ee(t,c),d=a.value===i.value,h=w.useRef(!1);return w.useEffect(()=>{const p=m=>{i0e.includes(m.key)&&(h.current=!0)},y=()=>h.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",y)}},[]),f.jsx(ID,{asChild:!0,...s,focusable:!o,active:d,children:f.jsx(J3,{disabled:o,required:a.required,checked:d,...l,...i,name:a.name,ref:u,onCheck:()=>a.onValueChange(i.value),onKeyDown:de(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:de(i.onFocus,()=>{h.current&&c.current?.click()})})})});sB.displayName=oB;var l0e="RadioGroupIndicator",lB=w.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,i=iB(r);return f.jsx(eB,{...i,...n,ref:t})});lB.displayName=l0e;var cB=aB,uB=sB,c0e=lB;const dB=w.forwardRef(({className:e,...t},r)=>f.jsx(cB,{className:Y("grid gap-2",e),...t,ref:r}));dB.displayName=cB.displayName;const qx=w.forwardRef(({className:e,...t},r)=>f.jsx(uB,{ref:r,className:Y("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:f.jsx(c0e,{className:"flex items-center justify-center",children:f.jsx(E4,{className:"h-2.5 w-2.5 fill-current text-current"})})}));qx.displayName=uB.displayName;function u0e(){const[e,t]=w.useState(new Date().getFullYear().toString()),[r,n]=w.useState(bH(new Date)),[i,a]=w.useState(new Date().getMonth()+1),[o,s]=w.useState(_6(new Date,{weekStartsOn:1})),[l,c]=w.useState("weekly"),[u,d]=w.useState("all"),[h,p]=w.useState(null),[y,m]=w.useState(""),[g,v]=w.useState(null),x=ro(),[b,E]=w.useState({}),S=w.useRef({});w.useEffect(()=>()=>{Object.values(S.current).forEach(clearTimeout)},[]);const{getLabel:_,getColor:O,activeCategoryLabels:k}=cS(),{isPrivacyMode:T}=Ew(),j=q=>{const ae=O(q);return ae?ae.startsWith("hsl")?{backgroundColor:ae.replace(")"," / 0.15)"),borderColor:ae.replace(")"," / 0.3)")}:{borderColor:ae}:{}},A=q=>O(q)||"transparent",N=q=>"bg-card/20 border-white/5 hover:bg-card/40 relative overflow-hidden",D=[{value:1,label:"1 Trimestre (Q1)"},{value:2,label:"2 Trimestre (Q2)"},{value:3,label:"3 Trimestre (Q3)"},{value:4,label:"4 Trimestre (Q4)"}],M=Object.keys(k).sort((q,ae)=>{const ie=["red","orange","yellow","green","blue","purple","pink","cyan"],je=ie.indexOf(q),Ve=ie.indexOf(ae);return je!==-1&&Ve!==-1?je-Ve:je!==-1?-1:Ve!==-1?1:q.localeCompare(ae)}),{data:I,isLoading:L}=Bn({queryKey:["longTermGoals",l,e,r,i,o],queryFn:async()=>{let q=ye.from("long_term_goals").select("*").eq("type",l).order("status",{ascending:!0}).order("color",{ascending:!0}).order("created_at",{ascending:!0});e!=="all"&&l!=="lifetime"&&(q=q.eq("year",parseInt(e))),l==="quarterly"?q=q.eq("quarter",r):l==="monthly"?q=q.eq("month",i):l==="weekly"&&(q=q.eq("month",i).eq("week_number",o));const{data:ae,error:ie}=await q;if(ie)throw ie;return ae},enabled:l!=="stats"}),B=hn({mutationFn:async({title:q,color:ae})=>{const{data:{user:ie}}=await ye.auth.getUser();if(!ie)throw new Error("Not authenticated");const je={user_id:ie.id,title:q,type:l,year:l==="lifetime"?null:e==="all"?new Date().getFullYear():parseInt(e),quarter:l==="quarterly"?r:null,month:l==="monthly"||l==="weekly"?i:null,week_number:l==="weekly"?o:null,status:"active",color:ae},{data:Ve,error:tt}=await ye.from("long_term_goals").insert(je).select().single();if(tt)throw tt;return Ve},onSuccess:()=>{m(""),v(null),x.invalidateQueries({queryKey:["longTermGoals"]}),Ze.success("Obiettivo creato!")},onError:q=>{Ze.error(`Errore durante la creazione: ${q.message}`)}}),F=hn({mutationFn:async({id:q,status:ae})=>{const{error:ie}=await ye.from("long_term_goals").update({status:ae}).eq("id",q);if(ie)throw ie},onSuccess:()=>{x.invalidateQueries({queryKey:["longTermGoals"]})}}),$=hn({mutationFn:async({id:q,color:ae})=>{const{error:ie}=await ye.from("long_term_goals").update({color:ae}).eq("id",q);if(ie)throw ie},onSuccess:()=>{x.invalidateQueries({queryKey:["longTermGoals"]})},onError:()=>{Ze.error("Errore aggiornamento colore")}}),C=hn({mutationFn:async q=>{const{error:ae}=await ye.from("long_term_goals").delete().eq("id",q);if(ae)throw ae},onSuccess:()=>{x.invalidateQueries({queryKey:["longTermGoals"]}),Ze.success("Obiettivo eliminato")}}),W=q=>{q.preventDefault(),y.trim()&&B.mutate({title:y,color:g})},z=w.useRef(null),{exportBackup:R,importBackup:X,isExporting:oe,isImporting:se}=Zbe(),K=()=>{z.current?.click()},Q=async q=>{const ae=q.target.files?.[0];if(!ae)return;const ie=await X(ae);ie&&p(ie),z.current&&(z.current.value="")},V=[{value:1,label:"Gennaio"},{value:2,label:"Febbraio"},{value:3,label:"Marzo"},{value:4,label:"Aprile"},{value:5,label:"Maggio"},{value:6,label:"Giugno"},{value:7,label:"Luglio"},{value:8,label:"Agosto"},{value:9,label:"Settembre"},{value:10,label:"Ottobre"},{value:11,label:"Novembre"},{value:12,label:"Dicembre"}],{data:J}=Bn({queryKey:["longTermGoals","minYear"],queryFn:async()=>{const{data:q,error:ae}=await ye.from("long_term_goals").select("year").order("year",{ascending:!0}).limit(1).single();return ae&&ae.code!=="PGRST116"&&console.error("Error fetching min year:",ae),q?.year||2022}}),Z=J||2022,U=new Date().getFullYear(),ne=Array.from({length:U+5-Z+1},(q,ae)=>Z+ae);return f.jsxs("div",{className:"space-y-6 animate-fade-in p-2 md:p-0",children:[f.jsx($a,{open:!!h,onOpenChange:q=>!q&&p(null),children:f.jsxs(Wi,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[f.jsxs(Hi,{children:[f.jsx(Ki,{children:"Rapporto Importazione"}),f.jsx(Gi,{children:"Ecco il dettaglio delle modifiche apportate ai tuoi dati."})]}),f.jsxs("div",{className:"space-y-6 py-4",children:[f.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[f.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500/20 rounded-xl flex flex-col items-center justify-center text-center",children:[f.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:h?.restored.length||0}),f.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mt-1",children:"Nuovi"})]}),f.jsxs("div",{className:"p-4 bg-amber-500/10 border border-amber-500/20 rounded-xl flex flex-col items-center justify-center text-center",children:[f.jsx("span",{className:"text-3xl font-bold text-amber-600 dark:text-amber-400",children:h?.updated.length||0}),f.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mt-1",children:"Modificati"})]}),f.jsxs("div",{className:"p-4 bg-slate-500/10 border border-slate-500/20 rounded-xl flex flex-col items-center justify-center text-center opacity-70",children:[f.jsx("span",{className:"text-3xl font-bold text-slate-600 dark:text-slate-400",children:h?.unchanged||0}),f.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mt-1",children:"Invariati"})]})]}),h?.settingsUpdated&&f.jsxs("div",{className:"flex items-center gap-3 text-sm text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20 dark:text-yellow-400 p-3 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[f.jsx("span",{className:"flex h-2 w-2 rounded-full bg-yellow-500 animate-pulse"}),f.jsx("span",{children:"Le impostazioni delle categorie sono state aggiornate con successo."})]}),f.jsxs("div",{className:"space-y-6",children:[h?.restored&&h.restored.length>0&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-green-600 dark:text-green-400",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-current"}),"Elementi Aggiunti / Ripristinati"]}),f.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-green-100 dark:border-green-900/30",children:Object.entries(h.restored.reduce((q,ae)=>{const ie=_(ae.color||"default");return q[ie]||(q[ie]=[]),q[ie].push(ae),q},{})).map(([q,ae])=>f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-xs font-bold uppercase text-muted-foreground tracking-widest",children:q}),f.jsx("div",{className:"grid gap-2",children:ae.map(ie=>f.jsxs("div",{className:"bg-secondary/40 p-3 rounded-md flex justify-between items-start gap-3 text-sm",children:[f.jsx("span",{className:"font-medium",children:ie.title}),f.jsxs("span",{className:"shrink-0 text-xs px-2 py-0.5 bg-background rounded border opacity-70",children:[ie.year,"  ",ie.type]})]},ie.id))})]},q))})]}),h?.updated&&h.updated.length>0&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-amber-600 dark:text-amber-400",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-current"}),"Elementi Aggiornati"]}),f.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-amber-100 dark:border-amber-900/30",children:Object.entries(h.updated.reduce((q,ae)=>{const ie=_(ae.color||"default");return q[ie]||(q[ie]=[]),q[ie].push(ae),q},{})).map(([q,ae])=>f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-xs font-bold uppercase text-muted-foreground tracking-widest",children:q}),f.jsx("div",{className:"grid gap-2",children:ae.map(ie=>f.jsxs("div",{className:"bg-secondary/40 p-3 rounded-md flex justify-between items-start gap-3 text-sm",children:[f.jsx("span",{className:"font-medium",children:ie.title}),f.jsxs("span",{className:"shrink-0 text-xs px-2 py-0.5 bg-background rounded border opacity-70",children:[ie.year,"  ",ie.type]})]},ie.id))})]},q))})]})]})]}),f.jsx(Vi,{children:f.jsx(Yi,{onClick:()=>p(null),children:"Chiudi Report"})})]})}),f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"flex justify-center w-full",children:f.jsx(qo,{value:l,onValueChange:q=>c(q),className:"w-full max-w-2xl",children:f.jsxs(La,{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 w-full h-auto p-1 bg-secondary/30 backdrop-blur-sm border border-white/5 gap-1",children:[f.jsx(rt,{value:"lifetime",className:"w-full col-span-2 sm:col-span-1",children:"Lifetime"}),f.jsx(rt,{value:"annual",className:"w-full",children:"Annuale"}),f.jsx(rt,{value:"quarterly",className:"w-full",children:"Trimestrale"}),f.jsx(rt,{value:"monthly",className:"w-full",children:"Mensile"}),f.jsx(rt,{value:"weekly",className:"w-full",children:"Settimanale"}),f.jsxs(rt,{value:"stats",className:"w-full gap-2 col-span-2 sm:col-span-1",children:[f.jsx(Vx,{className:"w-4 h-4"})," Stats"]})]})})}),f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 p-4 rounded-2xl bg-card/40 border border-white/5 backdrop-blur-xl transition-all duration-300",children:[f.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start items-center gap-2 w-full md:w-auto",children:[f.jsxs(Oa,{value:e,onValueChange:q=>t(q),children:[f.jsx(Ni,{className:"w-[120px] bg-background/40 border-white/5",children:f.jsx(jl,{placeholder:"Anno"})}),f.jsxs(Ri,{children:[f.jsxs(Ur,{value:"all",className:"font-bold text-primary",children:["Dal ",Z]}),ne.map(q=>f.jsx(Ur,{value:q.toString(),className:Y(q<U&&"text-muted-foreground italic"),children:q},q))]})]}),l==="quarterly"&&f.jsxs(Oa,{value:r.toString(),onValueChange:q=>n(parseInt(q)),children:[f.jsx(Ni,{className:"w-[160px] bg-background/40 border-white/5",children:f.jsx(jl,{placeholder:"Trimestre"})}),f.jsx(Ri,{children:D.map(q=>f.jsx(Ur,{value:q.value.toString(),children:q.label},q.value))})]}),(l==="monthly"||l==="weekly")&&f.jsxs(Oa,{value:i.toString(),onValueChange:q=>{a(parseInt(q)),s(1)},children:[f.jsx(Ni,{className:"w-[140px] bg-background/40 border-white/5",children:f.jsx(jl,{placeholder:"Mese"})}),f.jsx(Ri,{children:V.map(q=>f.jsx(Ur,{value:q.value.toString(),className:Y(e!=="all"&&parseInt(e)<U||e===U.toString()&&q.value<new Date().getMonth()+1&&"text-muted-foreground italic"),children:q.label},q.value))})]}),l==="weekly"&&f.jsxs(Oa,{value:o.toString(),onValueChange:q=>s(parseInt(q)),children:[f.jsx(Ni,{className:"w-[140px] bg-background/40 border-white/5",children:f.jsx(jl,{placeholder:"Settimana"})}),f.jsx(Ri,{children:Array.from({length:O6(new Date(e==="all"?U:parseInt(e),i-1,1),{weekStartsOn:1})},(q,ae)=>ae+1).map(q=>f.jsxs(Ur,{value:q.toString(),className:Y(e!=="all"&&parseInt(e)<U||e===U.toString()&&i<new Date().getMonth()+1&&"text-muted-foreground italic"),children:["Settimana ",q]},q))})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs($a,{children:[f.jsx(Yo,{asChild:!0,children:f.jsx(qe,{variant:"ghost",size:"icon",className:"hover:bg-white/5",title:"Esporta Backup (JSON)",children:f.jsx(jN,{className:"w-4 h-4 text-muted-foreground"})})}),f.jsxs(Wi,{className:"sm:max-w-md",children:[f.jsxs(Hi,{children:[f.jsx(Ki,{children:"Backup Obiettivi"}),f.jsx(Gi,{children:"Crea un backup dei tuoi obiettivi e impostazioni. I file sono in formato JSON."})]}),f.jsx("div",{className:"py-4",children:f.jsxs(dB,{value:u,onValueChange:q=>d(q),children:[f.jsxs("div",{className:"flex items-center space-x-2 border p-3 rounded-lg hover:bg-accent cursor-pointer",onClick:()=>d("all"),children:[f.jsx(qx,{value:"all",id:"r1"}),f.jsxs(Nn,{htmlFor:"r1",className:"cursor-pointer flex-1",children:[f.jsx("div",{className:"font-medium",children:"Esporta Tutto"}),f.jsx("div",{className:"text-xs text-muted-foreground",children:"Tutti gli anni, mesi e impostazioni"})]})]}),f.jsxs("div",{className:"flex items-center space-x-2 border p-3 rounded-lg hover:bg-accent cursor-pointer",onClick:()=>d("year"),children:[f.jsx(qx,{value:"year",id:"r2"}),f.jsxs(Nn,{htmlFor:"r2",className:"cursor-pointer flex-1",children:[f.jsxs("div",{className:"font-medium",children:["Solo ",e==="all"?U:e]}),f.jsx("div",{className:"text-xs text-muted-foreground",children:"Solo obiettivi di questo anno e impostazioni"})]})]})]})}),f.jsxs(Vi,{children:[f.jsx(Ha,{children:"Annulla"}),f.jsxs(Yi,{onClick:()=>R({scope:u,year:e==="all"?U:parseInt(e)}),disabled:oe,children:[oe?f.jsx(Pa,{className:"w-4 h-4 animate-spin mr-2"}):null,"Scarica Backup"]})]})]})]}),f.jsx(qe,{variant:"ghost",size:"icon",className:"hover:bg-white/5",title:"Ripristina da Backup (JSON)",onClick:K,disabled:se,children:se?f.jsx(Pa,{className:"w-4 h-4 animate-spin"}):f.jsx(W4,{className:"w-4 h-4 text-muted-foreground"})}),f.jsx("input",{type:"file",ref:z,onChange:Q,accept:".json",className:"hidden"}),f.jsx("div",{className:"ml-1",children:f.jsx(Jbe,{})})]})]}),l!=="stats"&&f.jsxs("div",{className:Y("text-2xl font-bold tracking-tight text-white flex items-center gap-3 transition-all duration-300 pl-2",T&&"blur-sm"),children:[l==="lifetime"&&f.jsx("span",{className:"text-emerald-400",children:"Lifetime"}),l==="annual"&&f.jsx("span",{className:"text-primary",children:e==="all"?"Tutti gli anni":e}),l==="quarterly"&&f.jsxs("span",{className:"text-amber-500",children:["Q",r," ",e!=="all"&&e]}),l==="monthly"&&f.jsx("span",{className:"text-blue-400",children:V.find(q=>q.value===i)?.label}),l==="weekly"&&f.jsxs("span",{className:"text-purple-400",children:["Settimana ",o]}),f.jsx("span",{className:"text-muted-foreground text-lg font-normal",children:l==="lifetime"?"Obiettivi a Lungo Termine":l==="annual"?"Obiettivi Annuali":l==="quarterly"?"Obiettivi Trimestrali":l==="monthly"?"Obiettivi Mensili":"Obiettivi Settimanali"})]})]}),l==="stats"?f.jsx(Qbe,{year:e}):f.jsxs("div",{className:Y("transition-all duration-300",T&&"blur-sm"),children:[f.jsxs("form",{onSubmit:W,className:"flex gap-2",children:[f.jsx(ea,{className:"flex-1 bg-background/50",placeholder:`Aggiungi obiettivo ${l==="lifetime"?"lifetime":l==="annual"?"annuale":l==="quarterly"?"trimestrale":l==="monthly"?"mensile":"settimanale"}...`,value:y,onChange:q=>m(q.target.value)}),f.jsxs(Oa,{value:g||"null",onValueChange:q=>v(q==="null"?null:q),children:[f.jsx(Ni,{className:"w-[50px] px-2 bg-background/50 border-input",children:f.jsx("div",{className:"flex items-center justify-center w-full",children:f.jsx("div",{className:"w-4 h-4 rounded-full border border-white/10",style:{backgroundColor:g?A(g):"transparent"}})})}),f.jsxs(Ri,{align:"end",children:[f.jsx(Ur,{value:"null",children:"Nessun Colore"}),M.map(q=>f.jsx(Ur,{value:q,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full border border-white/10",style:{backgroundColor:A(q)}}),_(q)]})},q))]})]}),f.jsx(qe,{type:"submit",disabled:B.isPending,children:B.isPending?f.jsx(Pa,{className:"w-4 h-4 animate-spin"}):f.jsx(cb,{className:"w-4 h-4"})})]}),f.jsx("div",{className:"space-y-2 mt-2",children:L?f.jsx("div",{className:"flex justify-center p-8 text-muted-foreground",children:f.jsx(Pa,{className:"w-6 h-6 animate-spin"})}):I?.length===0?f.jsx("div",{className:"text-center p-8 border border-dashed border-white/10 rounded-xl text-muted-foreground",children:"Nessun obiettivo impostato per questo periodo."}):I?.map((q,ae)=>{const ie=b[q.id]||q.status,je=I[ae-1],Ve=q.status==="completed"&&(!je||je.status!=="completed"),tt=q.status==="failed"&&(!je||je.status!=="failed"),Rt=()=>{S.current[q.id]&&clearTimeout(S.current[q.id]);const Qe=b[q.id]||q.status,xt=Qe==="active"?"completed":Qe==="completed"?"failed":"active";E(It=>({...It,[q.id]:xt})),S.current[q.id]=setTimeout(()=>{F.mutate({id:q.id,status:xt},{onSuccess:()=>{E(It=>{const Lr={...It};return delete Lr[q.id],Lr}),delete S.current[q.id]}})},2e3)};return f.jsxs("div",{children:[Ve&&f.jsxs("div",{className:"flex items-center gap-4 py-6",children:[f.jsx("div",{className:"h-px bg-white/10 flex-1"}),f.jsx("span",{className:"text-xs font-medium text-emerald-500/70 uppercase tracking-widest",children:"Completati"}),f.jsx("div",{className:"h-px bg-white/10 flex-1"})]}),tt&&f.jsxs("div",{className:"flex items-center gap-4 py-6",children:[f.jsx("div",{className:"h-px bg-white/10 flex-1"}),f.jsx("span",{className:"text-xs font-medium text-destructive/70 uppercase tracking-widest",children:"Falliti"}),f.jsx("div",{className:"h-px bg-white/10 flex-1"})]}),f.jsxs("div",{className:Y("group flex items-center gap-3 p-4 rounded-xl border transition-all duration-300",ie==="completed"?"opacity-60 bg-emerald-500/5 border-emerald-500/10":ie==="failed"?"opacity-60 bg-destructive/5 border-destructive/10":N(q.color)),style:ie==="active"?j(q.color):{},children:[f.jsxs("div",{onClick:Rt,className:Y("w-5 h-5 rounded flex items-center justify-center border cursor-pointer transition-all duration-300 hover:scale-110",ie==="active"&&"border-white/20 hover:border-white/40",ie==="completed"&&"bg-emerald-500 border-emerald-500 text-white",ie==="failed"&&"bg-destructive border-destructive text-white"),children:[ie==="active"&&f.jsx("div",{className:"w-full h-full"}),ie==="completed"&&f.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-in zoom-in duration-200",children:f.jsx("polyline",{points:"20 6 9 17 4 12"})}),ie==="failed"&&f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-in zoom-in duration-200",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})]}),f.jsx("span",{className:Y("flex-1 font-medium transition-all cursor-pointer duration-300 min-w-0 break-words",ie==="completed"&&"text-emerald-500/80 line-through",ie==="failed"&&"text-destructive/80 line-through",ie==="active"&&"text-foreground"),onClick:Rt,children:q.title}),f.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsxs(Oa,{value:q.color||"null",onValueChange:Qe=>$.mutate({id:q.id,color:Qe==="null"?null:Qe}),children:[f.jsx(Ni,{className:"w-[30px] h-[30px] p-0 border-0 bg-transparent focus:ring-0",children:f.jsx("div",{className:"w-4 h-4 rounded-full border border-white/10",style:{backgroundColor:q.color?A(q.color):"rgba(255,255,255,0.2)"}})}),f.jsxs(Ri,{align:"end",children:[f.jsx(Ur,{value:"null",children:"Nessun Colore"}),M.map(Qe=>f.jsx(Ur,{value:Qe,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full border border-white/10",style:{backgroundColor:A(Qe)}}),_(Qe)]})},Qe))]})]}),f.jsxs($a,{children:[f.jsx(Yo,{asChild:!0,children:f.jsx(qe,{variant:"ghost",size:"icon",className:"text-destructive hover:bg-destructive/10 hover:text-destructive h-8 w-8",children:f.jsx(Yx,{className:"w-4 h-4"})})}),f.jsxs(Wi,{children:[f.jsxs(Hi,{children:[f.jsx(Ki,{children:"Eliminare questo obiettivo?"}),f.jsx(Gi,{children:"Questa azione non pu essere annullata. L'obiettivo verr rimosso permanentemente."})]}),f.jsxs(Vi,{children:[f.jsx(Ha,{children:"Annulla"}),f.jsx(Yi,{onClick:()=>C.mutate(q.id),children:"Elimina"})]})]})]})]})]})]},q.id)})})]})]})}const d0e=()=>f.jsxs("div",{className:"flex-1 min-h-dvh flex flex-col pt-8 pb-12 px-4 sm:px-8 animate-fade-in relative z-10 w-full max-w-[1200px] mx-auto",children:[f.jsx("div",{className:"fixed top-[-20%] right-[-10%] w-[50%] h-[50%] bg-purple-500/5 blur-[120px] rounded-full pointer-events-none -z-10"}),f.jsx("div",{className:"mb-8 flex items-center justify-between",children:f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-display font-bold text-foreground",children:"Macro Obiettivi"}),f.jsx("p",{className:"text-muted-foreground",children:"Pianificazione a lungo termine."})]})}),f.jsx("div",{className:"glass-panel p-6 rounded-2xl min-h-[600px]",children:f.jsx(u0e,{})})]}),f0e=()=>{const[e,t]=w.useState(!1),[r,n]=w.useState(""),[i,a]=w.useState(""),[o,s]=w.useState(!1),l=yB();w.useEffect(()=>{ye.auth.getSession().then(({data:{session:u}})=>{u&&l("/")})},[l]);const c=async u=>{u.preventDefault(),t(!0);try{if(o){Ze.error("Non sei autorizzato, prova scrivi su linkedin a mattioli simone");return}else{const{error:d}=await ye.auth.signInWithPassword({email:r,password:i});if(d)throw d;Ze.success("Accesso effettuato"),l("/")}}catch(d){Ze.error(d.message)}finally{t(!1)}};return f.jsxs("div",{className:"min-h-dvh flex items-center justify-center p-4 relative overflow-hidden bg-background",children:[f.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[f.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-primary/20 blur-[100px] rounded-full opacity-50 animate-pulse"}),f.jsx("div",{className:"absolute top-0 right-0 w-[400px] h-[400px] bg-secondary/10 blur-[80px] rounded-full"})]}),f.jsxs("div",{className:"glass-panel w-full max-w-md p-8 rounded-3xl relative z-10 border-white/10 shadow-2xl animate-scale-in",children:[f.jsxs("div",{className:"text-center mb-8 space-y-2",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-xl bg-primary/10 border border-primary/20 mb-4 shadow-[0_0_15px_rgba(255,255,255,0.1)]",children:f.jsx(q4,{className:"w-6 h-6 text-primary"})}),f.jsx("h1",{className:"text-3xl font-display font-bold tracking-tight bg-gradient-to-br from-white to-white/60 bg-clip-text text-transparent",children:"Mattioli.OS"}),f.jsx("p",{className:"text-sm text-muted-foreground font-light",children:"Sistema di tracciamento abitudini personale"})]}),f.jsxs("form",{onSubmit:c,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"relative group",children:[f.jsx(N4,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground transition-colors group-focus-within:text-primary"}),f.jsx(ea,{type:"email",placeholder:"Email",value:r,onChange:u=>n(u.target.value),className:"pl-10 h-11 bg-black/20 border-white/10 focus:border-primary/50 focus:bg-black/40 transition-all rounded-xl",required:!0})]}),f.jsxs("div",{className:"relative group",children:[f.jsx(C4,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground transition-colors group-focus-within:text-primary"}),f.jsx(ea,{type:"password",placeholder:"Password",value:i,onChange:u=>a(u.target.value),className:"pl-10 h-11 bg-black/20 border-white/10 focus:border-primary/50 focus:bg-black/40 transition-all rounded-xl",required:!0})]})]}),f.jsx(qe,{type:"submit",className:"w-full h-11 text-base font-medium mt-6 bg-primary hover:bg-primary/90 text-primary-foreground shadow-[0_0_20px_rgba(255,255,255,0.1)] hover:shadow-[0_0_25px_rgba(255,255,255,0.2)] transition-all duration-300",disabled:e,children:e?f.jsx(Pa,{className:"w-5 h-5 animate-spin"}):f.jsxs("span",{className:"flex items-center gap-2",children:[o?"Registrati":"Accedi al Sistema",f.jsx(b4,{className:"w-4 h-4"})]})})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsx("button",{onClick:()=>s(!o),className:"text-xs text-muted-foreground hover:text-primary transition-colors hover:underline underline-offset-4",children:o?"Hai gi un account? Accedi":"Prima volta? Inizializza Protocollo (Registrati)"})})]})]})},h0e=()=>{const e=vB();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),f.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),f.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),f.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},p0e=new TU,m0e=({children:e})=>{const[t,r]=w.useState(null);return w.useEffect(()=>{ye.auth.getSession().then(({data:{session:i}})=>{r(!!i)});const{data:{subscription:n}}=ye.auth.onAuthStateChange((i,a)=>{r(!!a)});return()=>n.unsubscribe()},[]),t===null?null:t?f.jsx(f.Fragment,{children:e}):f.jsx(wB,{to:"/auth",replace:!0})},g0e=()=>f.jsx(MU,{client:p0e,children:f.jsx(H6,{children:f.jsxs(mR,{children:[f.jsx(X4,{}),f.jsx(Aq,{}),f.jsx(bB,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:f.jsxs(xB,{children:[f.jsx(lo,{path:"/auth",element:f.jsx(f0e,{})}),f.jsxs(lo,{element:f.jsx(m0e,{children:f.jsx(QU,{})}),children:[f.jsx(lo,{path:"/",element:f.jsx(Aee,{})}),f.jsx(lo,{path:"/stats",element:f.jsx(Xbe,{})}),f.jsx(lo,{path:"/macro-goals",element:f.jsx(d0e,{})})]}),f.jsx(lo,{path:"*",element:f.jsx(h0e,{})})]})})]})})});try{const e=document.getElementById("root");if(!e)throw new Error("Root element not found");EB.createRoot(e).render(f.jsx(g0e,{}))}catch(e){console.error("Error in main.tsx:",e)}
