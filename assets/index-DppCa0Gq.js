import{j as d,u as $e,c as wc,t as Yz,a as Me,b as wu,d as Q2,S as Xz}from"./ui-3JHv0VQv.js";import{b as Qz,a as S,R as I,c as Kn,d as J2,e as Z2,N as eR,L as Jz,O as Zz,g as _u,f as it,u as tR,h as un,i as e8,H as t8,j as r8,k as Hi,l as n8}from"./vendor-DLNrorn0.js";function i8(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Hu={},KS;function a8(){if(KS)return Hu;KS=1;var e=Qz();return Hu.createRoot=e.createRoot,Hu.hydrateRoot=e.hydrateRoot,Hu}var o8=a8();const s8=1,l8=1e6;let ym=0;function c8(){return ym=(ym+1)%Number.MAX_SAFE_INTEGER,ym.toString()}const bm=new Map,GS=e=>{if(bm.has(e))return;const t=setTimeout(()=>{bm.delete(e),ic({type:"REMOVE_TOAST",toastId:e})},l8);bm.set(e,t)},u8=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,s8)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?GS(r):e.toasts.forEach(n=>{GS(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Dd=[];let Md={toasts:[]};function ic(e){Md=u8(Md,e),Dd.forEach(t=>{t(Md)})}function d8({...e}){const t=c8(),r=i=>ic({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>ic({type:"DISMISS_TOAST",toastId:t});return ic({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function f8(){const[e,t]=S.useState(Md);return S.useEffect(()=>(Dd.push(t),()=>{const r=Dd.indexOf(t);r>-1&&Dd.splice(r,1)}),[e]),{...e,toast:d8,dismiss:r=>ic({type:"DISMISS_TOAST",toastId:r})}}function ke(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}function h8(e,t){const r=S.createContext(t),n=a=>{const{children:o,...s}=a,l=S.useMemo(()=>s,Object.values(s));return d.jsx(r.Provider,{value:l,children:o})};n.displayName=e+"Provider";function i(a){const o=S.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,i]}function Or(e,t=[]){let r=[];function n(a,o){const s=S.createContext(o),l=r.length;r=[...r,o];const c=f=>{const{scope:p,children:h,...v}=f,m=p?.[e]?.[l]||s,g=S.useMemo(()=>v,Object.values(v));return d.jsx(m.Provider,{value:g,children:h})};c.displayName=a+"Provider";function u(f,p){const h=p?.[e]?.[l]||s,v=S.useContext(h);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[c,u]}const i=()=>{const a=r.map(o=>S.createContext(o));return function(s){const l=s?.[e]||a;return S.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return i.scopeName=e,[n,p8(i,...t)]}function p8(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...s,...f}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Ih(e){const t=e+"CollectionProvider",[r,n]=Or(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:y}=m,b=I.useRef(null),x=I.useRef(new Map).current;return d.jsx(i,{scope:g,itemMap:x,collectionRef:b,children:y})};o.displayName=t;const s=e+"CollectionSlot",l=wc(s),c=I.forwardRef((m,g)=>{const{scope:y,children:b}=m,x=a(s,y),_=$e(g,x.collectionRef);return d.jsx(l,{ref:_,children:b})});c.displayName=s;const u=e+"CollectionItemSlot",f="data-radix-collection-item",p=wc(u),h=I.forwardRef((m,g)=>{const{scope:y,children:b,...x}=m,_=I.useRef(null),w=$e(g,_),j=a(u,y);return I.useEffect(()=>(j.itemMap.set(_,{ref:_,...x}),()=>{j.itemMap.delete(_)})),d.jsx(p,{[f]:"",ref:w,children:b})});h.displayName=u;function v(m){const g=a(e+"CollectionConsumer",m);return I.useCallback(()=>{const b=g.collectionRef.current;if(!b)return[];const x=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((j,k)=>x.indexOf(j.ref.current)-x.indexOf(k.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},v,n]}var m8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ee=m8.reduce((e,t)=>{const r=wc(`Primitive.${t}`),n=S.forwardRef((i,a)=>{const{asChild:o,...s}=i,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...s,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function u1(e,t){e&&Kn.flushSync(()=>e.dispatchEvent(t))}function Lt(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...r)=>t.current?.(...r),[])}function rR(e,t=globalThis?.document){const r=Lt(e);S.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var g8="DismissableLayer",_0="dismissableLayer.update",v8="dismissableLayer.pointerDownOutside",y8="dismissableLayer.focusOutside",YS,nR=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Dh=S.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=e,c=S.useContext(nR),[u,f]=S.useState(null),p=u?.ownerDocument??globalThis?.document,[,h]=S.useState({}),v=$e(t,k=>f(k)),m=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(g),b=u?m.indexOf(u):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,_=b>=y,w=x8(k=>{const C=k.target,P=[...c.branches].some(O=>O.contains(C));!_||P||(i?.(k),o?.(k),k.defaultPrevented||s?.())},p),j=w8(k=>{const C=k.target;[...c.branches].some(O=>O.contains(C))||(a?.(k),o?.(k),k.defaultPrevented||s?.())},p);return rR(k=>{b===c.layers.size-1&&(n?.(k),!k.defaultPrevented&&s&&(k.preventDefault(),s()))},p),S.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(YS=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),XS(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=YS)}},[u,p,r,c]),S.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),XS())},[u,c]),S.useEffect(()=>{const k=()=>h({});return document.addEventListener(_0,k),()=>document.removeEventListener(_0,k)},[]),d.jsx(Ee.div,{...l,ref:v,style:{pointerEvents:x?_?"auto":"none":void 0,...e.style},onFocusCapture:ke(e.onFocusCapture,j.onFocusCapture),onBlurCapture:ke(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:ke(e.onPointerDownCapture,w.onPointerDownCapture)})});Dh.displayName=g8;var b8="DismissableLayerBranch",iR=S.forwardRef((e,t)=>{const r=S.useContext(nR),n=S.useRef(null),i=$e(t,n);return S.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),d.jsx(Ee.div,{...e,ref:i})});iR.displayName=b8;function x8(e,t=globalThis?.document){const r=Lt(e),n=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const a=s=>{if(s.target&&!n.current){let l=function(){aR(v8,r,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function w8(e,t=globalThis?.document){const r=Lt(e),n=S.useRef(!1);return S.useEffect(()=>{const i=a=>{a.target&&!n.current&&aR(y8,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function XS(){const e=new CustomEvent(_0);document.dispatchEvent(e)}function aR(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?u1(i,a):i.dispatchEvent(a)}var _8=Dh,S8=iR,Ht=globalThis?.document?S.useLayoutEffect:()=>{},j8="Portal",Mh=S.forwardRef((e,t)=>{const{container:r,...n}=e,[i,a]=S.useState(!1);Ht(()=>a(!0),[]);const o=r||i&&globalThis?.document?.body;return o?J2.createPortal(d.jsx(Ee.div,{...n,ref:t}),o):null});Mh.displayName=j8;function k8(e,t){return S.useReducer((r,n)=>t[r][n]??r,e)}var Mi=e=>{const{present:t,children:r}=e,n=E8(t),i=typeof r=="function"?r({present:n.isPresent}):S.Children.only(r),a=$e(n.ref,A8(i));return typeof r=="function"||n.isPresent?S.cloneElement(i,{ref:a}):null};Mi.displayName="Presence";function E8(e){const[t,r]=S.useState(),n=S.useRef(null),i=S.useRef(e),a=S.useRef("none"),o=e?"mounted":"unmounted",[s,l]=k8(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const c=Vu(n.current);a.current=s==="mounted"?c:"none"},[s]),Ht(()=>{const c=n.current,u=i.current;if(u!==e){const p=a.current,h=Vu(c);e?l("MOUNT"):h==="none"||c?.display==="none"?l("UNMOUNT"):l(u&&p!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Ht(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,f=h=>{const m=Vu(n.current).includes(h.animationName);if(h.target===t&&m&&(l("ANIMATION_END"),!i.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},p=h=>{h.target===t&&(a.current=Vu(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:S.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function Vu(e){return e?.animationName||"none"}function A8(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var O8=Z2[" useInsertionEffect ".trim().toString()]||Ht;function ri({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,a,o]=C8({defaultProp:t,onChange:r}),s=e!==void 0,l=s?e:i;{const u=S.useRef(e!==void 0);S.useEffect(()=>{const f=u.current;f!==s&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=s},[s,n])}const c=S.useCallback(u=>{if(s){const f=P8(u)?u(e):u;f!==e&&o.current?.(f)}else a(u)},[s,e,a,o]);return[l,c]}function C8({defaultProp:e,onChange:t}){const[r,n]=S.useState(e),i=S.useRef(r),a=S.useRef(t);return O8(()=>{a.current=t},[t]),S.useEffect(()=>{i.current!==r&&(a.current?.(r),i.current=r)},[r,i]),[r,n,a]}function P8(e){return typeof e=="function"}var oR=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),T8="VisuallyHidden",$h=S.forwardRef((e,t)=>d.jsx(Ee.span,{...e,ref:t,style:{...oR,...e.style}}));$h.displayName=T8;var N8=$h,d1="ToastProvider",[f1,R8,I8]=Ih("Toast"),[sR]=Or("Toast",[I8]),[D8,Lh]=sR(d1),lR=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[s,l]=S.useState(null),[c,u]=S.useState(0),f=S.useRef(!1),p=S.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${d1}\`. Expected non-empty \`string\`.`),d.jsx(f1.Provider,{scope:t,children:d.jsx(D8,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:c,viewport:s,onViewportChange:l,onToastAdd:S.useCallback(()=>u(h=>h+1),[]),onToastRemove:S.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};lR.displayName=d1;var cR="ToastViewport",M8=["F8"],S0="toast.viewportPause",j0="toast.viewportResume",uR=S.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=M8,label:i="Notifications ({hotkey})",...a}=e,o=Lh(cR,r),s=R8(r),l=S.useRef(null),c=S.useRef(null),u=S.useRef(null),f=S.useRef(null),p=$e(t,f,o.onViewportChange),h=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;S.useEffect(()=>{const g=y=>{n.length!==0&&n.every(x=>y[x]||y.code===x)&&f.current?.focus()};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),S.useEffect(()=>{const g=l.current,y=f.current;if(v&&g&&y){const b=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(S0);y.dispatchEvent(j),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(j0);y.dispatchEvent(j),o.isClosePausedRef.current=!1}},_=j=>{!g.contains(j.relatedTarget)&&x()},w=()=>{g.contains(document.activeElement)||x()};return g.addEventListener("focusin",b),g.addEventListener("focusout",_),g.addEventListener("pointermove",b),g.addEventListener("pointerleave",w),window.addEventListener("blur",b),window.addEventListener("focus",x),()=>{g.removeEventListener("focusin",b),g.removeEventListener("focusout",_),g.removeEventListener("pointermove",b),g.removeEventListener("pointerleave",w),window.removeEventListener("blur",b),window.removeEventListener("focus",x)}}},[v,o.isClosePausedRef]);const m=S.useCallback(({tabbingDirection:g})=>{const b=s().map(x=>{const _=x.ref.current,w=[_,...Y8(_)];return g==="forwards"?w:w.reverse()});return(g==="forwards"?b.reverse():b).flat()},[s]);return S.useEffect(()=>{const g=f.current;if(g){const y=b=>{const x=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!x){const w=document.activeElement,j=b.shiftKey;if(b.target===g&&j){c.current?.focus();return}const P=m({tabbingDirection:j?"backwards":"forwards"}),O=P.findIndex(T=>T===w);xm(P.slice(O+1))?b.preventDefault():j?c.current?.focus():u.current?.focus()}};return g.addEventListener("keydown",y),()=>g.removeEventListener("keydown",y)}},[s,m]),d.jsxs(S8,{ref:l,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&d.jsx(k0,{ref:c,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"forwards"});xm(g)}}),d.jsx(f1.Slot,{scope:r,children:d.jsx(Ee.ol,{tabIndex:-1,...a,ref:p})}),v&&d.jsx(k0,{ref:u,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"backwards"});xm(g)}})]})});uR.displayName=cR;var dR="ToastFocusProxy",k0=S.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,a=Lh(dR,r);return d.jsx($h,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{const s=o.relatedTarget;!a.viewport?.contains(s)&&n()}})});k0.displayName=dR;var Su="Toast",$8="toast.swipeStart",L8="toast.swipeMove",F8="toast.swipeCancel",B8="toast.swipeEnd",fR=S.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...o}=e,[s,l]=ri({prop:n,defaultProp:i??!0,onChange:a,caller:Su});return d.jsx(Mi,{present:r||s,children:d.jsx(U8,{open:s,...o,ref:t,onClose:()=>l(!1),onPause:Lt(e.onPause),onResume:Lt(e.onResume),onSwipeStart:ke(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ke(e.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ke(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ke(e.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});fR.displayName=Su;var[z8,q8]=sR(Su,{onClose(){}}),U8=S.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:s,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:h,...v}=e,m=Lh(Su,r),[g,y]=S.useState(null),b=$e(t,E=>y(E)),x=S.useRef(null),_=S.useRef(null),w=i||m.duration,j=S.useRef(0),k=S.useRef(w),C=S.useRef(0),{onToastAdd:P,onToastRemove:O}=m,T=Lt(()=>{g?.contains(document.activeElement)&&m.viewport?.focus(),o()}),N=S.useCallback(E=>{!E||E===1/0||(window.clearTimeout(C.current),j.current=new Date().getTime(),C.current=window.setTimeout(T,E))},[T]);S.useEffect(()=>{const E=m.viewport;if(E){const R=()=>{N(k.current),c?.()},B=()=>{const F=new Date().getTime()-j.current;k.current=k.current-F,window.clearTimeout(C.current),l?.()};return E.addEventListener(S0,B),E.addEventListener(j0,R),()=>{E.removeEventListener(S0,B),E.removeEventListener(j0,R)}}},[m.viewport,w,l,c,N]),S.useEffect(()=>{a&&!m.isClosePausedRef.current&&N(w)},[a,w,m.isClosePausedRef,N]),S.useEffect(()=>(P(),()=>O()),[P,O]);const D=S.useMemo(()=>g?bR(g):null,[g]);return m.viewport?d.jsxs(d.Fragment,{children:[D&&d.jsx(W8,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),d.jsx(z8,{scope:r,onClose:T,children:Kn.createPortal(d.jsx(f1.ItemSlot,{scope:r,children:d.jsx(_8,{asChild:!0,onEscapeKeyDown:ke(s,()=>{m.isFocusedToastEscapeKeyDownRef.current||T(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Ee.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...v,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ke(e.onKeyDown,E=>{E.key==="Escape"&&(s?.(E.nativeEvent),E.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:ke(e.onPointerDown,E=>{E.button===0&&(x.current={x:E.clientX,y:E.clientY})}),onPointerMove:ke(e.onPointerMove,E=>{if(!x.current)return;const R=E.clientX-x.current.x,B=E.clientY-x.current.y,F=!!_.current,U=["left","right"].includes(m.swipeDirection),L=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,M=U?L(0,R):0,H=U?0:L(0,B),z=E.pointerType==="touch"?10:2,$={x:M,y:H},Q={originalEvent:E,delta:$};F?(_.current=$,Ku(L8,f,Q,{discrete:!1})):QS($,m.swipeDirection,z)?(_.current=$,Ku($8,u,Q,{discrete:!1}),E.target.setPointerCapture(E.pointerId)):(Math.abs(R)>z||Math.abs(B)>z)&&(x.current=null)}),onPointerUp:ke(e.onPointerUp,E=>{const R=_.current,B=E.target;if(B.hasPointerCapture(E.pointerId)&&B.releasePointerCapture(E.pointerId),_.current=null,x.current=null,R){const F=E.currentTarget,U={originalEvent:E,delta:R};QS(R,m.swipeDirection,m.swipeThreshold)?Ku(B8,h,U,{discrete:!0}):Ku(F8,p,U,{discrete:!0}),F.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),W8=e=>{const{__scopeToast:t,children:r,...n}=e,i=Lh(Su,t),[a,o]=S.useState(!1),[s,l]=S.useState(!1);return K8(()=>o(!0)),S.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),s?null:d.jsx(Mh,{asChild:!0,children:d.jsx($h,{...n,children:a&&d.jsxs(d.Fragment,{children:[i.label," ",r]})})})},H8="ToastTitle",hR=S.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return d.jsx(Ee.div,{...n,ref:t})});hR.displayName=H8;var V8="ToastDescription",pR=S.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return d.jsx(Ee.div,{...n,ref:t})});pR.displayName=V8;var mR="ToastAction",gR=S.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?d.jsx(yR,{altText:r,asChild:!0,children:d.jsx(h1,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${mR}\`. Expected non-empty \`string\`.`),null)});gR.displayName=mR;var vR="ToastClose",h1=S.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=q8(vR,r);return d.jsx(yR,{asChild:!0,children:d.jsx(Ee.button,{type:"button",...n,ref:t,onClick:ke(e.onClick,i.onClose)})})});h1.displayName=vR;var yR=S.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return d.jsx(Ee.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function bR(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),G8(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...bR(n))}}),t}function Ku(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?u1(i,a):i.dispatchEvent(a)}var QS=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),a=n>i;return t==="left"||t==="right"?a&&n>r:!a&&i>r};function K8(e=()=>{}){const t=Lt(e);Ht(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function G8(e){return e.nodeType===e.ELEMENT_NODE}function Y8(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function xm(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var X8=lR,xR=uR,wR=fR,_R=hR,SR=pR,jR=gR,kR=h1;const Q8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ER=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();var J8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Z8=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...s},l)=>S.createElement("svg",{ref:l,...J8,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:ER("lucide",i),...s},[...o.map(([c,u])=>S.createElement(c,u)),...Array.isArray(a)?a:[a]]));const ye=(e,t)=>{const r=S.forwardRef(({className:n,...i},a)=>S.createElement(Z8,{ref:a,iconNode:t,className:ER(`lucide-${Q8(e)}`,n),...i}));return r.displayName=`${e}`,r};const JS=ye("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const e6=ye("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);const t6=ye("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);const r6=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const n6=ye("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);const ZS=ye("BatteryLow",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}]]);const i6=ye("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);const a6=ye("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const AR=ye("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const ej=ye("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);const uo=ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const o6=ye("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const OR=ye("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);const p1=ye("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);const Fh=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const CR=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const m1=ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Bh=ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const s6=ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const ts=ye("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const $d=ye("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Cl=ye("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const l6=ye("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);const c6=ye("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const u6=ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const d6=ye("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);const f6=ye("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);const tj=ye("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);const PR=ye("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const zh=ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const h6=ye("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const TR=ye("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const rj=ye("FileArchive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);const g1=ye("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const E0=ye("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);const nj=ye("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);const p6=ye("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const NR=ye("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);const m6=ye("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]);const g6=ye("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const v6=ye("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const y6=ye("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);const b6=ye("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);const RR=ye("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);const x6=ye("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);const Tn=ye("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const w6=ye("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const _6=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const S6=ye("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);const j6=ye("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);const Ld=ye("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const ij=ye("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);const k6=ye("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const E6=ye("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const A6=ye("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const A0=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const O6=ye("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);const IR=ye("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const C6=ye("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const P6=ye("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);const DR=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const T6=ye("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const N6=ye("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const MR=ye("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);const ki=ye("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const Gn=ye("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const v1=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Yn=ye("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const Er=ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const Jd=ye("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const la=ye("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const $R=ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const R6=ye("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const I6=ye("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);const Qs=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const ju=ye("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function ae(...e){return Yz(Me(e))}const D6=X8,LR=S.forwardRef(({className:e,...t},r)=>d.jsx(xR,{ref:r,className:ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));LR.displayName=xR.displayName;const M6=wu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),FR=S.forwardRef(({className:e,variant:t,...r},n)=>d.jsx(wR,{ref:n,className:ae(M6({variant:t}),e),...r}));FR.displayName=wR.displayName;const $6=S.forwardRef(({className:e,...t},r)=>d.jsx(jR,{ref:r,className:ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));$6.displayName=jR.displayName;const BR=S.forwardRef(({className:e,...t},r)=>d.jsx(kR,{ref:r,className:ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:d.jsx(Qs,{className:"h-4 w-4"})}));BR.displayName=kR.displayName;const zR=S.forwardRef(({className:e,...t},r)=>d.jsx(_R,{ref:r,className:ae("text-sm font-semibold",e),...t}));zR.displayName=_R.displayName;const qR=S.forwardRef(({className:e,...t},r)=>d.jsx(SR,{ref:r,className:ae("text-sm opacity-90",e),...t}));qR.displayName=SR.displayName;function L6(){const{toasts:e}=f8();return d.jsxs(D6,{children:[e.map(function({id:t,title:r,description:n,action:i,...a}){return d.jsxs(FR,{...a,children:[d.jsxs("div",{className:"grid gap-1",children:[r&&d.jsx(zR,{children:r}),n&&d.jsx(qR,{children:n})]}),i,d.jsx(BR,{})]},t)}),d.jsx(LR,{})]})}var aj=["light","dark"],F6="(prefers-color-scheme: dark)",B6=S.createContext(void 0),z6={setTheme:e=>{},themes:[]},y1=()=>{var e;return(e=S.useContext(B6))!=null?e:z6};S.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:a,value:o,attrs:s,nonce:l})=>{let c=a==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${s.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=i?aj.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(v,m=!1,g=!0)=>{let y=o?o[v]:v,b=m?v+"|| ''":`'${y}'`,x="";return i&&g&&!m&&aj.includes(v)&&(x+=`d.style.colorScheme = '${v}';`),r==="class"?m||y?x+=`c.add(${b})`:x+="null":y&&(x+=`d[s](n,${b})`),x},h=e?`!function(){${u}${p(e)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${F6}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(a,!1,!1)};}${f}}catch(t){}}();`;return S.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:h}})});var q6=e=>{switch(e){case"success":return H6;case"info":return K6;case"warning":return V6;case"error":return G6;default:return null}},U6=Array(12).fill(0),W6=({visible:e,className:t})=>I.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},I.createElement("div",{className:"sonner-spinner"},U6.map((r,n)=>I.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),H6=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),V6=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),K6=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),G6=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Y6=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},I.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),I.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),X6=()=>{let[e,t]=I.useState(document.hidden);return I.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},O0=1,Q6=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,i=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:O0++,a=this.toasts.find(s=>s.id===i),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(s=>s.id===i?(this.publish({...s,...e,id:i,title:r}),{...s,...e,id:i,dismissible:o,title:r}):s):this.addToast({title:r,...n,dismissible:o,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),i=r!==void 0,a,o=n.then(async l=>{if(a=["resolve",l],I.isValidElement(l))i=!1,this.create({id:r,type:"default",message:l});else if(Z6(l)&&!l.ok){i=!1;let c=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:r,type:"error",message:c,description:u})}else if(t.success!==void 0){i=!1;let c=typeof t.success=="function"?await t.success(l):t.success,u=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"success",message:c,description:u})}}).catch(async l=>{if(a=["reject",l],t.error!==void 0){i=!1;let c=typeof t.error=="function"?await t.error(l):t.error,u=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"error",message:c,description:u})}}).finally(()=>{var l;i&&(this.dismiss(r),r=void 0),(l=t.finally)==null||l.call(t)}),s=()=>new Promise((l,c)=>o.then(()=>a[0]==="reject"?c(a[1]):l(a[1])).catch(c));return typeof r!="string"&&typeof r!="number"?{unwrap:s}:Object.assign(r,{unwrap:s})},this.custom=(e,t)=>{let r=t?.id||O0++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Tr=new Q6,J6=(e,t)=>{let r=t?.id||O0++;return Tr.addToast({title:e,...t,id:r}),r},Z6=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",eq=J6,tq=()=>Tr.toasts,rq=()=>Tr.getActiveToasts(),Ue=Object.assign(eq,{success:Tr.success,info:Tr.info,warning:Tr.warning,error:Tr.error,custom:Tr.custom,message:Tr.message,promise:Tr.promise,dismiss:Tr.dismiss,loading:Tr.loading},{getHistory:tq,getToasts:rq});function nq(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}nq(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Gu(e){return e.label!==void 0}var iq=3,aq="32px",oq="16px",oj=4e3,sq=356,lq=14,cq=20,uq=200;function bn(...e){return e.filter(Boolean).join(" ")}function dq(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var fq=e=>{var t,r,n,i,a,o,s,l,c,u,f;let{invert:p,toast:h,unstyled:v,interacting:m,setHeights:g,visibleToasts:y,heights:b,index:x,toasts:_,expanded:w,removeToast:j,defaultRichColors:k,closeButton:C,style:P,cancelButtonStyle:O,actionButtonStyle:T,className:N="",descriptionClassName:D="",duration:E,position:R,gap:B,loadingIcon:F,expandByDefault:U,classNames:L,icons:M,closeButtonAriaLabel:H="Close toast",pauseWhenPageIsHidden:z}=e,[$,Q]=I.useState(null),[Z,fe]=I.useState(null),[le,ue]=I.useState(!1),[ee,te]=I.useState(!1),[ce,J]=I.useState(!1),[ne,A]=I.useState(!1),[K,V]=I.useState(!1),[W,q]=I.useState(0),[G,ie]=I.useState(0),re=I.useRef(h.duration||E||oj),X=I.useRef(null),de=I.useRef(null),ve=x===0,he=x+1<=y,Y=h.type,oe=h.dismissible!==!1,ge=h.className||"",Oe=h.descriptionClassName||"",ze=I.useMemo(()=>b.findIndex(we=>we.toastId===h.id)||0,[b,h.id]),Ve=I.useMemo(()=>{var we;return(we=h.closeButton)!=null?we:C},[h.closeButton,C]),Tt=I.useMemo(()=>h.duration||E||oj,[h.duration,E]),Ke=I.useRef(0),It=I.useRef(0),rr=I.useRef(0),et=I.useRef(null),[yr,je]=R.split("-"),tt=I.useMemo(()=>b.reduce((we,Ne,Le)=>Le>=ze?we:we+Ne.height,0),[b,ze]),at=X6(),st=h.invert||p,Ce=Y==="loading";It.current=I.useMemo(()=>ze*B+tt,[ze,tt]),I.useEffect(()=>{re.current=Tt},[Tt]),I.useEffect(()=>{ue(!0)},[]),I.useEffect(()=>{let we=de.current;if(we){let Ne=we.getBoundingClientRect().height;return ie(Ne),g(Le=>[{toastId:h.id,height:Ne,position:h.position},...Le]),()=>g(Le=>Le.filter(ct=>ct.toastId!==h.id))}},[g,h.id]),I.useLayoutEffect(()=>{if(!le)return;let we=de.current,Ne=we.style.height;we.style.height="auto";let Le=we.getBoundingClientRect().height;we.style.height=Ne,ie(Le),g(ct=>ct.find(pt=>pt.toastId===h.id)?ct.map(pt=>pt.toastId===h.id?{...pt,height:Le}:pt):[{toastId:h.id,height:Le,position:h.position},...ct])},[le,h.title,h.description,g,h.id]);let He=I.useCallback(()=>{te(!0),q(It.current),g(we=>we.filter(Ne=>Ne.toastId!==h.id)),setTimeout(()=>{j(h)},uq)},[h,j,g,It]);I.useEffect(()=>{if(h.promise&&Y==="loading"||h.duration===1/0||h.type==="loading")return;let we;return w||m||z&&at?(()=>{if(rr.current<Ke.current){let Ne=new Date().getTime()-Ke.current;re.current=re.current-Ne}rr.current=new Date().getTime()})():re.current!==1/0&&(Ke.current=new Date().getTime(),we=setTimeout(()=>{var Ne;(Ne=h.onAutoClose)==null||Ne.call(h,h),He()},re.current)),()=>clearTimeout(we)},[w,m,h,Y,z,at,He]),I.useEffect(()=>{h.delete&&He()},[He,h.delete]);function lt(){var we,Ne,Le;return M!=null&&M.loading?I.createElement("div",{className:bn(L?.loader,(we=h?.classNames)==null?void 0:we.loader,"sonner-loader"),"data-visible":Y==="loading"},M.loading):F?I.createElement("div",{className:bn(L?.loader,(Ne=h?.classNames)==null?void 0:Ne.loader,"sonner-loader"),"data-visible":Y==="loading"},F):I.createElement(W6,{className:bn(L?.loader,(Le=h?.classNames)==null?void 0:Le.loader),visible:Y==="loading"})}return I.createElement("li",{tabIndex:0,ref:de,className:bn(N,ge,L?.toast,(t=h?.classNames)==null?void 0:t.toast,L?.default,L?.[Y],(r=h?.classNames)==null?void 0:r[Y]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:k,"data-styled":!(h.jsx||h.unstyled||v),"data-mounted":le,"data-promise":!!h.promise,"data-swiped":K,"data-removed":ee,"data-visible":he,"data-y-position":yr,"data-x-position":je,"data-index":x,"data-front":ve,"data-swiping":ce,"data-dismissible":oe,"data-type":Y,"data-invert":st,"data-swipe-out":ne,"data-swipe-direction":Z,"data-expanded":!!(w||U&&le),style:{"--index":x,"--toasts-before":x,"--z-index":_.length-x,"--offset":`${ee?W:It.current}px`,"--initial-height":U?"auto":`${G}px`,...P,...h.style},onDragEnd:()=>{J(!1),Q(null),et.current=null},onPointerDown:we=>{Ce||!oe||(X.current=new Date,q(It.current),we.target.setPointerCapture(we.pointerId),we.target.tagName!=="BUTTON"&&(J(!0),et.current={x:we.clientX,y:we.clientY}))},onPointerUp:()=>{var we,Ne,Le,ct;if(ne||!oe)return;et.current=null;let pt=Number(((we=de.current)==null?void 0:we.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ut=Number(((Ne=de.current)==null?void 0:Ne.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Vt=new Date().getTime()-((Le=X.current)==null?void 0:Le.getTime()),Nt=$==="x"?pt:ut,nr=Math.abs(Nt)/Vt;if(Math.abs(Nt)>=cq||nr>.11){q(It.current),(ct=h.onDismiss)==null||ct.call(h,h),fe($==="x"?pt>0?"right":"left":ut>0?"down":"up"),He(),A(!0),V(!1);return}J(!1),Q(null)},onPointerMove:we=>{var Ne,Le,ct,pt;if(!et.current||!oe||((Ne=window.getSelection())==null?void 0:Ne.toString().length)>0)return;let ut=we.clientY-et.current.y,Vt=we.clientX-et.current.x,Nt=(Le=e.swipeDirections)!=null?Le:dq(R);!$&&(Math.abs(Vt)>1||Math.abs(ut)>1)&&Q(Math.abs(Vt)>Math.abs(ut)?"x":"y");let nr={x:0,y:0};$==="y"?(Nt.includes("top")||Nt.includes("bottom"))&&(Nt.includes("top")&&ut<0||Nt.includes("bottom")&&ut>0)&&(nr.y=ut):$==="x"&&(Nt.includes("left")||Nt.includes("right"))&&(Nt.includes("left")&&Vt<0||Nt.includes("right")&&Vt>0)&&(nr.x=Vt),(Math.abs(nr.x)>0||Math.abs(nr.y)>0)&&V(!0),(ct=de.current)==null||ct.style.setProperty("--swipe-amount-x",`${nr.x}px`),(pt=de.current)==null||pt.style.setProperty("--swipe-amount-y",`${nr.y}px`)}},Ve&&!h.jsx?I.createElement("button",{"aria-label":H,"data-disabled":Ce,"data-close-button":!0,onClick:Ce||!oe?()=>{}:()=>{var we;He(),(we=h.onDismiss)==null||we.call(h,h)},className:bn(L?.closeButton,(i=h?.classNames)==null?void 0:i.closeButton)},(a=M?.close)!=null?a:Y6):null,h.jsx||S.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:I.createElement(I.Fragment,null,Y||h.icon||h.promise?I.createElement("div",{"data-icon":"",className:bn(L?.icon,(o=h?.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||lt():null,h.type!=="loading"?h.icon||M?.[Y]||q6(Y):null):null,I.createElement("div",{"data-content":"",className:bn(L?.content,(s=h?.classNames)==null?void 0:s.content)},I.createElement("div",{"data-title":"",className:bn(L?.title,(l=h?.classNames)==null?void 0:l.title)},typeof h.title=="function"?h.title():h.title),h.description?I.createElement("div",{"data-description":"",className:bn(D,Oe,L?.description,(c=h?.classNames)==null?void 0:c.description)},typeof h.description=="function"?h.description():h.description):null),S.isValidElement(h.cancel)?h.cancel:h.cancel&&Gu(h.cancel)?I.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||O,onClick:we=>{var Ne,Le;Gu(h.cancel)&&oe&&((Le=(Ne=h.cancel).onClick)==null||Le.call(Ne,we),He())},className:bn(L?.cancelButton,(u=h?.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,S.isValidElement(h.action)?h.action:h.action&&Gu(h.action)?I.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||T,onClick:we=>{var Ne,Le;Gu(h.action)&&((Le=(Ne=h.action).onClick)==null||Le.call(Ne,we),!we.defaultPrevented&&He())},className:bn(L?.actionButton,(f=h?.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function sj(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function hq(e,t){let r={};return[e,t].forEach((n,i)=>{let a=i===1,o=a?"--mobile-offset":"--offset",s=a?oq:aq;function l(c){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?r[`${o}-${c}`]=s:r[`${o}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):l(s)}),r}var pq=S.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:s,offset:l,mobileOffset:c,theme:u="light",richColors:f,duration:p,style:h,visibleToasts:v=iq,toastOptions:m,dir:g=sj(),gap:y=lq,loadingIcon:b,icons:x,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:w}=e,[j,k]=I.useState([]),C=I.useMemo(()=>Array.from(new Set([n].concat(j.filter(z=>z.position).map(z=>z.position)))),[j,n]),[P,O]=I.useState([]),[T,N]=I.useState(!1),[D,E]=I.useState(!1),[R,B]=I.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=I.useRef(null),U=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=I.useRef(null),M=I.useRef(!1),H=I.useCallback(z=>{k($=>{var Q;return(Q=$.find(Z=>Z.id===z.id))!=null&&Q.delete||Tr.dismiss(z.id),$.filter(({id:Z})=>Z!==z.id)})},[]);return I.useEffect(()=>Tr.subscribe(z=>{if(z.dismiss){k($=>$.map(Q=>Q.id===z.id?{...Q,delete:!0}:Q));return}setTimeout(()=>{J2.flushSync(()=>{k($=>{let Q=$.findIndex(Z=>Z.id===z.id);return Q!==-1?[...$.slice(0,Q),{...$[Q],...z},...$.slice(Q+1)]:[z,...$]})})})}),[]),I.useEffect(()=>{if(u!=="system"){B(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window>"u")return;let z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:$})=>{B($?"dark":"light")})}catch{z.addListener(({matches:Q})=>{try{B(Q?"dark":"light")}catch(Z){console.error(Z)}})}},[u]),I.useEffect(()=>{j.length<=1&&N(!1)},[j]),I.useEffect(()=>{let z=$=>{var Q,Z;i.every(fe=>$[fe]||$.code===fe)&&(N(!0),(Q=F.current)==null||Q.focus()),$.code==="Escape"&&(document.activeElement===F.current||(Z=F.current)!=null&&Z.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[i]),I.useEffect(()=>{if(F.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,M.current=!1)}},[F.current]),I.createElement("section",{ref:t,"aria-label":`${_} ${U}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((z,$)=>{var Q;let[Z,fe]=z.split("-");return j.length?I.createElement("ol",{key:z,dir:g==="auto"?sj():g,tabIndex:-1,ref:F,className:s,"data-sonner-toaster":!0,"data-theme":R,"data-y-position":Z,"data-lifted":T&&j.length>1&&!a,"data-x-position":fe,style:{"--front-toast-height":`${((Q=P[0])==null?void 0:Q.height)||0}px`,"--width":`${sq}px`,"--gap":`${y}px`,...h,...hq(l,c)},onBlur:le=>{M.current&&!le.currentTarget.contains(le.relatedTarget)&&(M.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||M.current||(M.current=!0,L.current=le.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{D||N(!1)},onDragEnd:()=>N(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||E(!0)},onPointerUp:()=>E(!1)},j.filter(le=>!le.position&&$===0||le.position===z).map((le,ue)=>{var ee,te;return I.createElement(fq,{key:le.id,icons:x,index:ue,toast:le,defaultRichColors:f,duration:(ee=m?.duration)!=null?ee:p,className:m?.className,descriptionClassName:m?.descriptionClassName,invert:r,visibleToasts:v,closeButton:(te=m?.closeButton)!=null?te:o,interacting:D,position:z,style:m?.style,unstyled:m?.unstyled,classNames:m?.classNames,cancelButtonStyle:m?.cancelButtonStyle,actionButtonStyle:m?.actionButtonStyle,removeToast:H,toasts:j.filter(ce=>ce.position==le.position),heights:P.filter(ce=>ce.position==le.position),setHeights:O,expandByDefault:a,gap:y,loadingIcon:b,expanded:T,pauseWhenPageIsHidden:w,swipeDirections:e.swipeDirections})})):null}))});const mq=({...e})=>{const{theme:t="system"}=y1();return d.jsx(pq,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var gq=Z2[" useId ".trim().toString()]||(()=>{}),vq=0;function Ei(e){const[t,r]=S.useState(gq());return Ht(()=>{r(n=>n??String(vq++))},[e]),t?`radix-${t}`:""}const yq=["top","right","bottom","left"],ba=Math.min,qr=Math.max,Zd=Math.round,Yu=Math.floor,Zn=e=>({x:e,y:e}),bq={left:"right",right:"left",bottom:"top",top:"bottom"},xq={start:"end",end:"start"};function C0(e,t,r){return qr(e,ba(t,r))}function Ci(e,t){return typeof e=="function"?e(t):e}function Pi(e){return e.split("-")[0]}function Js(e){return e.split("-")[1]}function b1(e){return e==="x"?"y":"x"}function x1(e){return e==="y"?"height":"width"}const wq=new Set(["top","bottom"]);function Xn(e){return wq.has(Pi(e))?"y":"x"}function w1(e){return b1(Xn(e))}function _q(e,t,r){r===void 0&&(r=!1);const n=Js(e),i=w1(e),a=x1(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=ef(o)),[o,ef(o)]}function Sq(e){const t=ef(e);return[P0(e),t,P0(t)]}function P0(e){return e.replace(/start|end/g,t=>xq[t])}const lj=["left","right"],cj=["right","left"],jq=["top","bottom"],kq=["bottom","top"];function Eq(e,t,r){switch(e){case"top":case"bottom":return r?t?cj:lj:t?lj:cj;case"left":case"right":return t?jq:kq;default:return[]}}function Aq(e,t,r,n){const i=Js(e);let a=Eq(Pi(e),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(P0)))),a}function ef(e){return e.replace(/left|right|bottom|top/g,t=>bq[t])}function Oq(e){return{top:0,right:0,bottom:0,left:0,...e}}function UR(e){return typeof e!="number"?Oq(e):{top:e,right:e,bottom:e,left:e}}function tf(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function uj(e,t,r){let{reference:n,floating:i}=e;const a=Xn(t),o=w1(t),s=x1(o),l=Pi(t),c=a==="y",u=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,p=n[s]/2-i[s]/2;let h;switch(l){case"top":h={x:u,y:n.y-i.height};break;case"bottom":h={x:u,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:f};break;case"left":h={x:n.x-i.width,y:f};break;default:h={x:n.x,y:n.y}}switch(Js(t)){case"start":h[o]-=p*(r&&c?-1:1);break;case"end":h[o]+=p*(r&&c?-1:1);break}return h}const Cq=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,s=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:f}=uj(c,n,l),p=n,h={},v=0;for(let m=0;m<s.length;m++){const{name:g,fn:y}=s[m],{x:b,y:x,data:_,reset:w}=await y({x:u,y:f,initialPlacement:n,placement:p,strategy:i,middlewareData:h,rects:c,platform:o,elements:{reference:e,floating:t}});u=b??u,f=x??f,h={...h,[g]:{...h[g],..._}},w&&v<=50&&(v++,typeof w=="object"&&(w.placement&&(p=w.placement),w.rects&&(c=w.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):w.rects),{x:u,y:f}=uj(c,p,l)),m=-1)}return{x:u,y:f,placement:p,strategy:i,middlewareData:h}};async function _c(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:o,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:p=!1,padding:h=0}=Ci(t,e),v=UR(h),g=s[p?f==="floating"?"reference":"floating":f],y=tf(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(g)))==null||r?g:g.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),b=f==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,x=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),_=await(a.isElement==null?void 0:a.isElement(x))?await(a.getScale==null?void 0:a.getScale(x))||{x:1,y:1}:{x:1,y:1},w=tf(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:b,offsetParent:x,strategy:l}):b);return{top:(y.top-w.top+v.top)/_.y,bottom:(w.bottom-y.bottom+v.bottom)/_.y,left:(y.left-w.left+v.left)/_.x,right:(w.right-y.right+v.right)/_.x}}const Pq=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=t,{element:c,padding:u=0}=Ci(e,t)||{};if(c==null)return{};const f=UR(u),p={x:r,y:n},h=w1(i),v=x1(h),m=await o.getDimensions(c),g=h==="y",y=g?"top":"left",b=g?"bottom":"right",x=g?"clientHeight":"clientWidth",_=a.reference[v]+a.reference[h]-p[h]-a.floating[v],w=p[h]-a.reference[h],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let k=j?j[x]:0;(!k||!await(o.isElement==null?void 0:o.isElement(j)))&&(k=s.floating[x]||a.floating[v]);const C=_/2-w/2,P=k/2-m[v]/2-1,O=ba(f[y],P),T=ba(f[b],P),N=O,D=k-m[v]-T,E=k/2-m[v]/2+C,R=C0(N,E,D),B=!l.arrow&&Js(i)!=null&&E!==R&&a.reference[v]/2-(E<N?O:T)-m[v]/2<0,F=B?E<N?E-N:E-D:0;return{[h]:p[h]+F,data:{[h]:R,centerOffset:E-R-F,...B&&{alignmentOffset:F}},reset:B}}}),Tq=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...g}=Ci(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const y=Pi(i),b=Xn(s),x=Pi(s)===s,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),w=p||(x||!m?[ef(s)]:Sq(s)),j=v!=="none";!p&&j&&w.push(...Aq(s,m,v,_));const k=[s,...w],C=await _c(t,g),P=[];let O=((n=a.flip)==null?void 0:n.overflows)||[];if(u&&P.push(C[y]),f){const E=_q(i,o,_);P.push(C[E[0]],C[E[1]])}if(O=[...O,{placement:i,overflows:P}],!P.every(E=>E<=0)){var T,N;const E=(((T=a.flip)==null?void 0:T.index)||0)+1,R=k[E];if(R&&(!(f==="alignment"?b!==Xn(R):!1)||O.every(U=>U.overflows[0]>0&&Xn(U.placement)===b)))return{data:{index:E,overflows:O},reset:{placement:R}};let B=(N=O.filter(F=>F.overflows[0]<=0).sort((F,U)=>F.overflows[1]-U.overflows[1])[0])==null?void 0:N.placement;if(!B)switch(h){case"bestFit":{var D;const F=(D=O.filter(U=>{if(j){const L=Xn(U.placement);return L===b||L==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(L=>L>0).reduce((L,M)=>L+M,0)]).sort((U,L)=>U[1]-L[1])[0])==null?void 0:D[0];F&&(B=F);break}case"initialPlacement":B=s;break}if(i!==B)return{reset:{placement:B}}}return{}}}};function dj(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function fj(e){return yq.some(t=>e[t]>=0)}const Nq=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=Ci(e,t);switch(n){case"referenceHidden":{const a=await _c(t,{...i,elementContext:"reference"}),o=dj(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:fj(o)}}}case"escaped":{const a=await _c(t,{...i,altBoundary:!0}),o=dj(a,r.floating);return{data:{escapedOffsets:o,escaped:fj(o)}}}default:return{}}}}},WR=new Set(["left","top"]);async function Rq(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Pi(r),s=Js(r),l=Xn(r)==="y",c=WR.has(o)?-1:1,u=a&&l?-1:1,f=Ci(t,e);let{mainAxis:p,crossAxis:h,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof v=="number"&&(h=s==="end"?v*-1:v),l?{x:h*u,y:p*c}:{x:p*c,y:h*u}}const Iq=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:o,middlewareData:s}=t,l=await Rq(t,e);return o===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},Dq=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:g=>{let{x:y,y:b}=g;return{x:y,y:b}}},...l}=Ci(e,t),c={x:r,y:n},u=await _c(t,l),f=Xn(Pi(i)),p=b1(f);let h=c[p],v=c[f];if(a){const g=p==="y"?"top":"left",y=p==="y"?"bottom":"right",b=h+u[g],x=h-u[y];h=C0(b,h,x)}if(o){const g=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=v+u[g],x=v-u[y];v=C0(b,v,x)}const m=s.fn({...t,[p]:h,[f]:v});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[p]:a,[f]:o}}}}}},Mq=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=Ci(e,t),u={x:r,y:n},f=Xn(i),p=b1(f);let h=u[p],v=u[f];const m=Ci(s,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const x=p==="y"?"height":"width",_=a.reference[p]-a.floating[x]+g.mainAxis,w=a.reference[p]+a.reference[x]-g.mainAxis;h<_?h=_:h>w&&(h=w)}if(c){var y,b;const x=p==="y"?"width":"height",_=WR.has(Pi(i)),w=a.reference[f]-a.floating[x]+(_&&((y=o.offset)==null?void 0:y[f])||0)+(_?0:g.crossAxis),j=a.reference[f]+a.reference[x]+(_?0:((b=o.offset)==null?void 0:b[f])||0)-(_?g.crossAxis:0);v<w?v=w:v>j&&(v=j)}return{[p]:h,[f]:v}}}},$q=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:o,elements:s}=t,{apply:l=()=>{},...c}=Ci(e,t),u=await _c(t,c),f=Pi(i),p=Js(i),h=Xn(i)==="y",{width:v,height:m}=a.floating;let g,y;f==="top"||f==="bottom"?(g=f,y=p===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(y=f,g=p==="end"?"top":"bottom");const b=m-u.top-u.bottom,x=v-u.left-u.right,_=ba(m-u[g],b),w=ba(v-u[y],x),j=!t.middlewareData.shift;let k=_,C=w;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=b),j&&!p){const O=qr(u.left,0),T=qr(u.right,0),N=qr(u.top,0),D=qr(u.bottom,0);h?C=v-2*(O!==0||T!==0?O+T:qr(u.left,u.right)):k=m-2*(N!==0||D!==0?N+D:qr(u.top,u.bottom))}await l({...t,availableWidth:C,availableHeight:k});const P=await o.getDimensions(s.floating);return v!==P.width||m!==P.height?{reset:{rects:!0}}:{}}}};function qh(){return typeof window<"u"}function Zs(e){return HR(e)?(e.nodeName||"").toLowerCase():"#document"}function Kr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function li(e){var t;return(t=(HR(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function HR(e){return qh()?e instanceof Node||e instanceof Kr(e).Node:!1}function In(e){return qh()?e instanceof Element||e instanceof Kr(e).Element:!1}function ni(e){return qh()?e instanceof HTMLElement||e instanceof Kr(e).HTMLElement:!1}function hj(e){return!qh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Kr(e).ShadowRoot}const Lq=new Set(["inline","contents"]);function ku(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Dn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Lq.has(i)}const Fq=new Set(["table","td","th"]);function Bq(e){return Fq.has(Zs(e))}const zq=[":popover-open",":modal"];function Uh(e){return zq.some(t=>{try{return e.matches(t)}catch{return!1}})}const qq=["transform","translate","scale","rotate","perspective"],Uq=["transform","translate","scale","rotate","perspective","filter"],Wq=["paint","layout","strict","content"];function _1(e){const t=S1(),r=In(e)?Dn(e):e;return qq.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Uq.some(n=>(r.willChange||"").includes(n))||Wq.some(n=>(r.contain||"").includes(n))}function Hq(e){let t=xa(e);for(;ni(t)&&!ps(t);){if(_1(t))return t;if(Uh(t))return null;t=xa(t)}return null}function S1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Vq=new Set(["html","body","#document"]);function ps(e){return Vq.has(Zs(e))}function Dn(e){return Kr(e).getComputedStyle(e)}function Wh(e){return In(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function xa(e){if(Zs(e)==="html")return e;const t=e.assignedSlot||e.parentNode||hj(e)&&e.host||li(e);return hj(t)?t.host:t}function VR(e){const t=xa(e);return ps(t)?e.ownerDocument?e.ownerDocument.body:e.body:ni(t)&&ku(t)?t:VR(t)}function Sc(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=VR(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),o=Kr(i);if(a){const s=T0(o);return t.concat(o,o.visualViewport||[],ku(i)?i:[],s&&r?Sc(s):[])}return t.concat(i,Sc(i,[],r))}function T0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function KR(e){const t=Dn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=ni(e),a=i?e.offsetWidth:r,o=i?e.offsetHeight:n,s=Zd(r)!==a||Zd(n)!==o;return s&&(r=a,n=o),{width:r,height:n,$:s}}function j1(e){return In(e)?e:e.contextElement}function rs(e){const t=j1(e);if(!ni(t))return Zn(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=KR(t);let o=(a?Zd(r.width):r.width)/n,s=(a?Zd(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const Kq=Zn(0);function GR(e){const t=Kr(e);return!S1()||!t.visualViewport?Kq:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Gq(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Kr(e)?!1:t}function fo(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=j1(e);let o=Zn(1);t&&(n?In(n)&&(o=rs(n)):o=rs(e));const s=Gq(a,r,n)?GR(a):Zn(0);let l=(i.left+s.x)/o.x,c=(i.top+s.y)/o.y,u=i.width/o.x,f=i.height/o.y;if(a){const p=Kr(a),h=n&&In(n)?Kr(n):n;let v=p,m=T0(v);for(;m&&n&&h!==v;){const g=rs(m),y=m.getBoundingClientRect(),b=Dn(m),x=y.left+(m.clientLeft+parseFloat(b.paddingLeft))*g.x,_=y.top+(m.clientTop+parseFloat(b.paddingTop))*g.y;l*=g.x,c*=g.y,u*=g.x,f*=g.y,l+=x,c+=_,v=Kr(m),m=T0(v)}}return tf({width:u,height:f,x:l,y:c})}function k1(e,t){const r=Wh(e).scrollLeft;return t?t.left+r:fo(li(e)).left+r}function YR(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:k1(e,n)),a=n.top+t.scrollTop;return{x:i,y:a}}function Yq(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",o=li(n),s=t?Uh(t.floating):!1;if(n===o||s&&a)return r;let l={scrollLeft:0,scrollTop:0},c=Zn(1);const u=Zn(0),f=ni(n);if((f||!f&&!a)&&((Zs(n)!=="body"||ku(o))&&(l=Wh(n)),ni(n))){const h=fo(n);c=rs(n),u.x=h.x+n.clientLeft,u.y=h.y+n.clientTop}const p=o&&!f&&!a?YR(o,l,!0):Zn(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:r.y*c.y-l.scrollTop*c.y+u.y+p.y}}function Xq(e){return Array.from(e.getClientRects())}function Qq(e){const t=li(e),r=Wh(e),n=e.ownerDocument.body,i=qr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=qr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+k1(e);const s=-r.scrollTop;return Dn(n).direction==="rtl"&&(o+=qr(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:s}}function Jq(e,t){const r=Kr(e),n=li(e),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const c=S1();(!c||c&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s,y:l}}const Zq=new Set(["absolute","fixed"]);function eU(e,t){const r=fo(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=ni(e)?rs(e):Zn(1),o=e.clientWidth*a.x,s=e.clientHeight*a.y,l=i*a.x,c=n*a.y;return{width:o,height:s,x:l,y:c}}function pj(e,t,r){let n;if(t==="viewport")n=Jq(e,r);else if(t==="document")n=Qq(li(e));else if(In(t))n=eU(t,r);else{const i=GR(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return tf(n)}function XR(e,t){const r=xa(e);return r===t||!In(r)||ps(r)?!1:Dn(r).position==="fixed"||XR(r,t)}function tU(e,t){const r=t.get(e);if(r)return r;let n=Sc(e,[],!1).filter(s=>In(s)&&Zs(s)!=="body"),i=null;const a=Dn(e).position==="fixed";let o=a?xa(e):e;for(;In(o)&&!ps(o);){const s=Dn(o),l=_1(o);!l&&s.position==="fixed"&&(i=null),(a?!l&&!i:!l&&s.position==="static"&&!!i&&Zq.has(i.position)||ku(o)&&!l&&XR(e,o))?n=n.filter(u=>u!==o):i=s,o=xa(o)}return t.set(e,n),n}function rU(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const o=[...r==="clippingAncestors"?Uh(t)?[]:tU(t,this._c):[].concat(r),n],s=o[0],l=o.reduce((c,u)=>{const f=pj(t,u,i);return c.top=qr(f.top,c.top),c.right=ba(f.right,c.right),c.bottom=ba(f.bottom,c.bottom),c.left=qr(f.left,c.left),c},pj(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function nU(e){const{width:t,height:r}=KR(e);return{width:t,height:r}}function iU(e,t,r){const n=ni(t),i=li(t),a=r==="fixed",o=fo(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const l=Zn(0);function c(){l.x=k1(i)}if(n||!n&&!a)if((Zs(t)!=="body"||ku(i))&&(s=Wh(t)),n){const h=fo(t,!0,a,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&c();a&&!n&&i&&c();const u=i&&!n&&!a?YR(i,s):Zn(0),f=o.left+s.scrollLeft-l.x-u.x,p=o.top+s.scrollTop-l.y-u.y;return{x:f,y:p,width:o.width,height:o.height}}function wm(e){return Dn(e).position==="static"}function mj(e,t){if(!ni(e)||Dn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return li(e)===r&&(r=r.ownerDocument.body),r}function QR(e,t){const r=Kr(e);if(Uh(e))return r;if(!ni(e)){let i=xa(e);for(;i&&!ps(i);){if(In(i)&&!wm(i))return i;i=xa(i)}return r}let n=mj(e,t);for(;n&&Bq(n)&&wm(n);)n=mj(n,t);return n&&ps(n)&&wm(n)&&!_1(n)?r:n||Hq(e)||r}const aU=async function(e){const t=this.getOffsetParent||QR,r=this.getDimensions,n=await r(e.floating);return{reference:iU(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function oU(e){return Dn(e).direction==="rtl"}const sU={convertOffsetParentRelativeRectToViewportRelativeRect:Yq,getDocumentElement:li,getClippingRect:rU,getOffsetParent:QR,getElementRects:aU,getClientRects:Xq,getDimensions:nU,getScale:rs,isElement:In,isRTL:oU};function JR(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function lU(e,t){let r=null,n;const i=li(e);function a(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const c=e.getBoundingClientRect(),{left:u,top:f,width:p,height:h}=c;if(s||t(),!p||!h)return;const v=Yu(f),m=Yu(i.clientWidth-(u+p)),g=Yu(i.clientHeight-(f+h)),y=Yu(u),x={rootMargin:-v+"px "+-m+"px "+-g+"px "+-y+"px",threshold:qr(0,ba(1,l))||1};let _=!0;function w(j){const k=j[0].intersectionRatio;if(k!==l){if(!_)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!JR(c,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(w,{...x,root:i.ownerDocument})}catch{r=new IntersectionObserver(w,x)}r.observe(e)}return o(!0),a}function cU(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=j1(e),u=i||a?[...c?Sc(c):[],...Sc(t)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),a&&y.addEventListener("resize",r)});const f=c&&s?lU(c,r):null;let p=-1,h=null;o&&(h=new ResizeObserver(y=>{let[b]=y;b&&b.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=h)==null||x.observe(t)})),r()}),c&&!l&&h.observe(c),h.observe(t));let v,m=l?fo(e):null;l&&g();function g(){const y=fo(e);m&&!JR(m,y)&&r(),m=y,v=requestAnimationFrame(g)}return r(),()=>{var y;u.forEach(b=>{i&&b.removeEventListener("scroll",r),a&&b.removeEventListener("resize",r)}),f?.(),(y=h)==null||y.disconnect(),h=null,l&&cancelAnimationFrame(v)}}const uU=Iq,dU=Dq,fU=Tq,hU=$q,pU=Nq,gj=Pq,mU=Mq,gU=(e,t,r)=>{const n=new Map,i={platform:sU,...r},a={...i.platform,_c:n};return Cq(e,t,{...i,platform:a})};var vU=typeof document<"u",yU=function(){},Fd=vU?S.useLayoutEffect:yU;function rf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!rf(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!rf(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function ZR(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function vj(e,t){const r=ZR(e);return Math.round(t*r)/r}function _m(e){const t=S.useRef(e);return Fd(()=>{t.current=e}),t}function bU(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:l,open:c}=e,[u,f]=S.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,h]=S.useState(n);rf(p,n)||h(n);const[v,m]=S.useState(null),[g,y]=S.useState(null),b=S.useCallback(U=>{U!==j.current&&(j.current=U,m(U))},[]),x=S.useCallback(U=>{U!==k.current&&(k.current=U,y(U))},[]),_=a||v,w=o||g,j=S.useRef(null),k=S.useRef(null),C=S.useRef(u),P=l!=null,O=_m(l),T=_m(i),N=_m(c),D=S.useCallback(()=>{if(!j.current||!k.current)return;const U={placement:t,strategy:r,middleware:p};T.current&&(U.platform=T.current),gU(j.current,k.current,U).then(L=>{const M={...L,isPositioned:N.current!==!1};E.current&&!rf(C.current,M)&&(C.current=M,Kn.flushSync(()=>{f(M)}))})},[p,t,r,T,N]);Fd(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(U=>({...U,isPositioned:!1})))},[c]);const E=S.useRef(!1);Fd(()=>(E.current=!0,()=>{E.current=!1}),[]),Fd(()=>{if(_&&(j.current=_),w&&(k.current=w),_&&w){if(O.current)return O.current(_,w,D);D()}},[_,w,D,O,P]);const R=S.useMemo(()=>({reference:j,floating:k,setReference:b,setFloating:x}),[b,x]),B=S.useMemo(()=>({reference:_,floating:w}),[_,w]),F=S.useMemo(()=>{const U={position:r,left:0,top:0};if(!B.floating)return U;const L=vj(B.floating,u.x),M=vj(B.floating,u.y);return s?{...U,transform:"translate("+L+"px, "+M+"px)",...ZR(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:L,top:M}},[r,s,B.floating,u.x,u.y]);return S.useMemo(()=>({...u,update:D,refs:R,elements:B,floatingStyles:F}),[u,D,R,B,F])}const xU=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?gj({element:n.current,padding:i}).fn(r):{}:n?gj({element:n,padding:i}).fn(r):{}}}},wU=(e,t)=>({...uU(e),options:[e,t]}),_U=(e,t)=>({...dU(e),options:[e,t]}),SU=(e,t)=>({...mU(e),options:[e,t]}),jU=(e,t)=>({...fU(e),options:[e,t]}),kU=(e,t)=>({...hU(e),options:[e,t]}),EU=(e,t)=>({...pU(e),options:[e,t]}),AU=(e,t)=>({...xU(e),options:[e,t]});var OU="Arrow",eI=S.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...a}=e;return d.jsx(Ee.svg,{...a,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});eI.displayName=OU;var CU=eI;function Hh(e){const[t,r]=S.useState(void 0);return Ht(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,s;if("borderBoxSize"in a){const l=a.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,s=c.blockSize}else o=e.offsetWidth,s=e.offsetHeight;r({width:o,height:s})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var E1="Popper",[tI,Vh]=Or(E1),[PU,rI]=tI(E1),nI=e=>{const{__scopePopper:t,children:r}=e,[n,i]=S.useState(null);return d.jsx(PU,{scope:t,anchor:n,onAnchorChange:i,children:r})};nI.displayName=E1;var iI="PopperAnchor",aI=S.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,a=rI(iI,r),o=S.useRef(null),s=$e(t,o);return S.useEffect(()=>{a.onAnchorChange(n?.current||o.current)}),n?null:d.jsx(Ee.div,{...i,ref:s})});aI.displayName=iI;var A1="PopperContent",[TU,NU]=tI(A1),oI=S.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:v,...m}=e,g=rI(A1,r),[y,b]=S.useState(null),x=$e(t,le=>b(le)),[_,w]=S.useState(null),j=Hh(_),k=j?.width??0,C=j?.height??0,P=n+(a!=="center"?"-"+a:""),O=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},T=Array.isArray(c)?c:[c],N=T.length>0,D={padding:O,boundary:T.filter(IU),altBoundary:N},{refs:E,floatingStyles:R,placement:B,isPositioned:F,middlewareData:U}=bU({strategy:"fixed",placement:P,whileElementsMounted:(...le)=>cU(...le,{animationFrame:h==="always"}),elements:{reference:g.anchor},middleware:[wU({mainAxis:i+C,alignmentAxis:o}),l&&_U({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?SU():void 0,...D}),l&&jU({...D}),kU({...D,apply:({elements:le,rects:ue,availableWidth:ee,availableHeight:te})=>{const{width:ce,height:J}=ue.reference,ne=le.floating.style;ne.setProperty("--radix-popper-available-width",`${ee}px`),ne.setProperty("--radix-popper-available-height",`${te}px`),ne.setProperty("--radix-popper-anchor-width",`${ce}px`),ne.setProperty("--radix-popper-anchor-height",`${J}px`)}}),_&&AU({element:_,padding:s}),DU({arrowWidth:k,arrowHeight:C}),p&&EU({strategy:"referenceHidden",...D})]}),[L,M]=cI(B),H=Lt(v);Ht(()=>{F&&H?.()},[F,H]);const z=U.arrow?.x,$=U.arrow?.y,Q=U.arrow?.centerOffset!==0,[Z,fe]=S.useState();return Ht(()=>{y&&fe(window.getComputedStyle(y).zIndex)},[y]),d.jsx("div",{ref:E.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:F?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[U.transformOrigin?.x,U.transformOrigin?.y].join(" "),...U.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:d.jsx(TU,{scope:r,placedSide:L,onArrowChange:w,arrowX:z,arrowY:$,shouldHideArrow:Q,children:d.jsx(Ee.div,{"data-side":L,"data-align":M,...m,ref:x,style:{...m.style,animation:F?void 0:"none"}})})})});oI.displayName=A1;var sI="PopperArrow",RU={top:"bottom",right:"left",bottom:"top",left:"right"},lI=S.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,a=NU(sI,n),o=RU[a.placedSide];return d.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:d.jsx(CU,{...i,ref:r,style:{...i.style,display:"block"}})})});lI.displayName=sI;function IU(e){return e!==null}var DU=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,s=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,u]=cI(r),f={start:"0%",center:"50%",end:"100%"}[u],p=(i.arrow?.x??0)+s/2,h=(i.arrow?.y??0)+l/2;let v="",m="";return c==="bottom"?(v=o?f:`${p}px`,m=`${-l}px`):c==="top"?(v=o?f:`${p}px`,m=`${n.floating.height+l}px`):c==="right"?(v=`${-l}px`,m=o?f:`${h}px`):c==="left"&&(v=`${n.floating.width+l}px`,m=o?f:`${h}px`),{data:{x:v,y:m}}}});function cI(e){const[t,r="center"]=e.split("-");return[t,r]}var uI=nI,dI=aI,fI=oI,hI=lI,[Kh]=Or("Tooltip",[Vh]),Gh=Vh(),pI="TooltipProvider",MU=700,N0="tooltip.open",[$U,O1]=Kh(pI),mI=e=>{const{__scopeTooltip:t,delayDuration:r=MU,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=e,o=S.useRef(!0),s=S.useRef(!1),l=S.useRef(0);return S.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),d.jsx($U,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:S.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:s,onPointerInTransitChange:S.useCallback(c=>{s.current=c},[]),disableHoverableContent:i,children:a})};mI.displayName=pI;var jc="Tooltip",[LU,Yh]=Kh(jc),gI=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:s}=e,l=O1(jc,e.__scopeTooltip),c=Gh(t),[u,f]=S.useState(null),p=Ei(),h=S.useRef(0),v=o??l.disableHoverableContent,m=s??l.delayDuration,g=S.useRef(!1),[y,b]=ri({prop:n,defaultProp:i??!1,onChange:k=>{k?(l.onOpen(),document.dispatchEvent(new CustomEvent(N0))):l.onClose(),a?.(k)},caller:jc}),x=S.useMemo(()=>y?g.current?"delayed-open":"instant-open":"closed",[y]),_=S.useCallback(()=>{window.clearTimeout(h.current),h.current=0,g.current=!1,b(!0)},[b]),w=S.useCallback(()=>{window.clearTimeout(h.current),h.current=0,b(!1)},[b]),j=S.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{g.current=!0,b(!0),h.current=0},m)},[m,b]);return S.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),d.jsx(uI,{...c,children:d.jsx(LU,{scope:t,contentId:p,open:y,stateAttribute:x,trigger:u,onTriggerChange:f,onTriggerEnter:S.useCallback(()=>{l.isOpenDelayedRef.current?j():_()},[l.isOpenDelayedRef,j,_]),onTriggerLeave:S.useCallback(()=>{v?w():(window.clearTimeout(h.current),h.current=0)},[w,v]),onOpen:_,onClose:w,disableHoverableContent:v,children:r})})};gI.displayName=jc;var R0="TooltipTrigger",vI=S.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=Yh(R0,r),a=O1(R0,r),o=Gh(r),s=S.useRef(null),l=$e(t,s,i.onTriggerChange),c=S.useRef(!1),u=S.useRef(!1),f=S.useCallback(()=>c.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),d.jsx(dI,{asChild:!0,...o,children:d.jsx(Ee.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:l,onPointerMove:ke(e.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:ke(e.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:ke(e.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ke(e.onFocus,()=>{c.current||i.onOpen()}),onBlur:ke(e.onBlur,i.onClose),onClick:ke(e.onClick,i.onClose)})})});vI.displayName=R0;var FU="TooltipPortal",[RSe,BU]=Kh(FU,{forceMount:void 0}),ms="TooltipContent",yI=S.forwardRef((e,t)=>{const r=BU(ms,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=e,o=Yh(ms,e.__scopeTooltip);return d.jsx(Mi,{present:n||o.open,children:o.disableHoverableContent?d.jsx(bI,{side:i,...a,ref:t}):d.jsx(zU,{side:i,...a,ref:t})})}),zU=S.forwardRef((e,t)=>{const r=Yh(ms,e.__scopeTooltip),n=O1(ms,e.__scopeTooltip),i=S.useRef(null),a=$e(t,i),[o,s]=S.useState(null),{trigger:l,onClose:c}=r,u=i.current,{onPointerInTransitChange:f}=n,p=S.useCallback(()=>{s(null),f(!1)},[f]),h=S.useCallback((v,m)=>{const g=v.currentTarget,y={x:v.clientX,y:v.clientY},b=VU(y,g.getBoundingClientRect()),x=KU(y,b),_=GU(m.getBoundingClientRect()),w=XU([...x,..._]);s(w),f(!0)},[f]);return S.useEffect(()=>()=>p(),[p]),S.useEffect(()=>{if(l&&u){const v=g=>h(g,u),m=g=>h(g,l);return l.addEventListener("pointerleave",v),u.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",m)}}},[l,u,h,p]),S.useEffect(()=>{if(o){const v=m=>{const g=m.target,y={x:m.clientX,y:m.clientY},b=l?.contains(g)||u?.contains(g),x=!YU(y,o);b?p():x&&(p(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,u,o,c,p]),d.jsx(bI,{...e,ref:a})}),[qU,UU]=Kh(jc,{isInside:!1}),WU=Q2("TooltipContent"),bI=S.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...s}=e,l=Yh(ms,r),c=Gh(r),{onClose:u}=l;return S.useEffect(()=>(document.addEventListener(N0,u),()=>document.removeEventListener(N0,u)),[u]),S.useEffect(()=>{if(l.trigger){const f=p=>{p.target?.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),d.jsx(Dh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:d.jsxs(fI,{"data-state":l.stateAttribute,...c,...s,ref:t,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(WU,{children:n}),d.jsx(qU,{scope:r,isInside:!0,children:d.jsx(N8,{id:l.contentId,role:"tooltip",children:i||n})})]})})});yI.displayName=ms;var xI="TooltipArrow",HU=S.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=Gh(r);return UU(xI,r).isInside?null:d.jsx(hI,{...i,...n,ref:t})});HU.displayName=xI;function VU(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function KU(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function GU(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function YU(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const s=t[a],l=t[o],c=s.x,u=s.y,f=l.x,p=l.y;u>n!=p>n&&r<(f-c)*(n-u)/(p-u)+c&&(i=!i)}return i}function XU(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),QU(t)}function QU(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var JU=mI,ZU=gI,eW=vI,wI=yI;const Zi=JU,Ka=ZU,Ga=eW,ea=S.forwardRef(({className:e,sideOffset:t=4,...r},n)=>d.jsx(wI,{ref:n,sideOffset:t,className:ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));ea.displayName=wI.displayName;var el=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ho=typeof window>"u"||"Deno"in globalThis;function wr(){}function tW(e,t){return typeof e=="function"?e(t):e}function I0(e){return typeof e=="number"&&e>=0&&e!==1/0}function _I(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ca(e,t){return typeof e=="function"?e(t):e}function rn(e,t){return typeof e=="function"?e(t):e}function yj(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:s}=e;if(o){if(n){if(t.queryHash!==C1(o,t.options))return!1}else if(!kc(t.queryKey,o))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof s=="boolean"&&t.isStale()!==s||i&&i!==t.state.fetchStatus||a&&!a(t))}function bj(e,t){const{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(po(t.options.mutationKey)!==po(a))return!1}else if(!kc(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function C1(e,t){return(t?.queryKeyHashFn||po)(e)}function po(e){return JSON.stringify(e,(t,r)=>D0(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function kc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>kc(e[r],t[r])):!1}function SI(e,t){if(e===t)return e;const r=xj(e)&&xj(t);if(r||D0(e)&&D0(t)){const n=r?e:Object.keys(e),i=n.length,a=r?t:Object.keys(t),o=a.length,s=r?[]:{},l=new Set(n);let c=0;for(let u=0;u<o;u++){const f=r?u:a[u];(!r&&l.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(s[f]=void 0,c++):(s[f]=SI(e[f],t[f]),s[f]===e[f]&&e[f]!==void 0&&c++)}return i===o&&c===i?e:s}return t}function nf(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function xj(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function D0(e){if(!wj(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!wj(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function wj(e){return Object.prototype.toString.call(e)==="[object Object]"}function rW(e){return new Promise(t=>{setTimeout(t,e)})}function M0(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?SI(e,t):t}function nW(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function iW(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var P1=Symbol();function jI(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===P1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function kI(e,t){return typeof e=="function"?e(...t):!!e}var aW=class extends el{#t;#e;#r;constructor(){super(),this.#r=e=>{if(!ho&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},T1=new aW,oW=class extends el{#t=!0;#e;#r;constructor(){super(),this.#r=e=>{if(!ho&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#t}},af=new oW;function $0(){let e,t;const r=new Promise((i,a)=>{e=i,t=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function sW(e){return Math.min(1e3*2**e,3e4)}function EI(e){return(e??"online")==="online"?af.isOnline():!0}var AI=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Sm(e){return e instanceof AI}function OI(e){let t=!1,r=0,n=!1,i;const a=$0(),o=m=>{n||(p(new AI(m)),e.abort?.())},s=()=>{t=!0},l=()=>{t=!1},c=()=>T1.isFocused()&&(e.networkMode==="always"||af.isOnline())&&e.canRun(),u=()=>EI(e.networkMode)&&e.canRun(),f=m=>{n||(n=!0,e.onSuccess?.(m),i?.(),a.resolve(m))},p=m=>{n||(n=!0,e.onError?.(m),i?.(),a.reject(m))},h=()=>new Promise(m=>{i=g=>{(n||c())&&m(g)},e.onPause?.()}).then(()=>{i=void 0,n||e.onContinue?.()}),v=()=>{if(n)return;let m;const g=r===0?e.initialPromise:void 0;try{m=g??e.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(f).catch(y=>{if(n)return;const b=e.retry??(ho?0:3),x=e.retryDelay??sW,_=typeof x=="function"?x(r,y):x,w=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,y);if(t||!w){p(y);return}r++,e.onFail?.(r,y),rW(_).then(()=>c()?void 0:h()).then(()=>{t?p(y):v()})})};return{promise:a,cancel:o,continue:()=>(i?.(),a),cancelRetry:s,continueRetry:l,canStart:u,start:()=>(u()?v():h().then(v),a)}}var lW=e=>setTimeout(e,0);function cW(){let e=[],t=0,r=s=>{s()},n=s=>{s()},i=lW;const a=s=>{t?e.push(s):i(()=>{r(s)})},o=()=>{const s=e;e=[],s.length&&i(()=>{n(()=>{s.forEach(l=>{r(l)})})})};return{batch:s=>{let l;t++;try{l=s()}finally{t--,t||o()}return l},batchCalls:s=>(...l)=>{a(()=>{s(...l)})},schedule:a,setNotifyFunction:s=>{r=s},setBatchNotifyFunction:s=>{n=s},setScheduler:s=>{i=s}}}var Zt=cW(),CI=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),I0(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ho?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},uW=class extends CI{#t;#e;#r;#n;#i;#o;#s;constructor(e){super(),this.#s=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#r=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=dW(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=M0(this.state.data,e,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(wr).catch(wr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>rn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===P1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ca(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!_I(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#s?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const r=new AbortController,n=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#s=!0,r.signal)})},i=()=>{const l=jI(this.options,t),u=(()=>{const f={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(f),f})();return this.#s=!1,this.options.persister?this.options.persister(l,u,this):l(u)},o=(()=>{const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:i};return n(l),l})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#a({type:"fetch",meta:o.fetchOptions?.meta});const s=l=>{Sm(l)&&l.silent||this.#a({type:"error",error:l}),Sm(l)||(this.#r.config.onError?.(l,this),this.#r.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#i=OI({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:l=>{if(l===void 0){s(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){s(c);return}this.#r.config.onSuccess?.(l,this),this.#r.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:s,onFail:(l,c)=>{this.#a({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#i.start()}#a(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...PI(r.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return Sm(n)&&n.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Zt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function PI(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:EI(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function dW(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var fW=class extends el{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,r){const n=t.queryKey,i=t.queryHash??C1(n,t);let a=this.get(i);return a||(a=new uW({client:e,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(a)),a}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Zt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>yj(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>yj(e,r)):t}notify(e){Zt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Zt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Zt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},hW=class extends CI{#t;#e;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||TI(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})};this.#r=OI({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,a)=>{this.#n({type:"failed",failureCount:i,error:a})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)t();else{this.#n({type:"pending",variables:e,isPaused:n}),await this.#e.config.onMutate?.(e,this);const a=await this.options.onMutate?.(e);a!==this.state.context&&this.#n({type:"pending",context:a,variables:e,isPaused:n})}const i=await this.#r.start();return await this.#e.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#n({type:"error",error:i})}}finally{this.#e.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Zt.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function TI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var pW=class extends el{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(e,t,r){const n=new hW({mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#t.add(e);const t=Xu(e);if(typeof t=="string"){const r=this.#e.get(t);r?r.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=Xu(e);if(typeof t=="string"){const r=this.#e.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Xu(e);if(typeof t=="string"){const n=this.#e.get(t)?.find(i=>i.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=Xu(e);return typeof t=="string"?this.#e.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Zt.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>bj(t,r))}findAll(e={}){return this.getAll().filter(t=>bj(e,t))}notify(e){Zt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Zt.batch(()=>Promise.all(e.map(t=>t.continue().catch(wr))))}};function Xu(e){return e.options.scope?.id}function _j(e){return{onFetch:(t,r)=>{const n=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,a=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let s={pages:[],pageParams:[]},l=0;const c=async()=>{let u=!1;const f=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?u=!0:t.signal.addEventListener("abort",()=>{u=!0}),t.signal)})},p=jI(t.options,t.fetchOptions),h=async(v,m,g)=>{if(u)return Promise.reject();if(m==null&&v.pages.length)return Promise.resolve(v);const b=(()=>{const j={client:t.client,queryKey:t.queryKey,pageParam:m,direction:g?"backward":"forward",meta:t.options.meta};return f(j),j})(),x=await p(b),{maxPages:_}=t.options,w=g?iW:nW;return{pages:w(v.pages,x,_),pageParams:w(v.pageParams,m,_)}};if(i&&a.length){const v=i==="backward",m=v?mW:Sj,g={pages:a,pageParams:o},y=m(n,g);s=await h(g,y,v)}else{const v=e??a.length;do{const m=l===0?o[0]??n.initialPageParam:Sj(n,s);if(l>0&&m==null)break;s=await h(s,m),l++}while(l<v)}return s};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=c}}}function Sj(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function mW(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var gW=class{#t;#e;#r;#n;#i;#o;#s;#a;constructor(e={}){this.#t=e.queryCache||new fW,this.#e=e.mutationCache||new pW,this.#r=e.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#s=T1.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#a=af.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#s?.(),this.#s=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#t.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(ca(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=this.#t.get(n.queryHash)?.state.data,o=tW(t,a);if(o!==void 0)return this.#t.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Zt.batch(()=>this.#t.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;Zt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#t;return Zt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Zt.batch(()=>this.#t.findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(wr).catch(wr)}invalidateQueries(e,t={}){return Zt.batch(()=>(this.#t.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Zt.batch(()=>this.#t.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(wr)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(wr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#t.build(this,t);return r.isStaleByTime(ca(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(wr).catch(wr)}fetchInfiniteQuery(e){return e.behavior=_j(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(wr).catch(wr)}ensureInfiniteQueryData(e){return e.behavior=_j(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return af.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(po(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{kc(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#i.set(po(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()],r={};return t.forEach(n=>{kc(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=C1(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===P1&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},vW=class extends el{constructor(e,t){super(),this.options=t,this.#t=e,this.#a=null,this.#s=$0(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#r=void 0;#n=void 0;#i;#o;#s;#a;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),jj(this.#e,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return L0(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return L0(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof rn(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),t._defaulted&&!nf(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&kj(this.#e,r,this.options,t)&&this.#d(),this.updateResult(),n&&(this.#e!==r||rn(this.options.enabled,this.#e)!==rn(t.enabled,this.#e)||ca(this.options.staleTime,this.#e)!==ca(t.staleTime,this.#e))&&this.#g();const i=this.#v();n&&(this.#e!==r||rn(this.options.enabled,this.#e)!==rn(t.enabled,this.#e)||i!==this.#l)&&this.#y(i)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),r=this.createResult(t,e);return bW(this,r)&&(this.#n=r,this.#o=this.options,this.#i=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),Reflect.get(r,n))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),r=this.#t.getQueryCache().build(this.#t,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(e){this.#_();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(wr)),t}#g(){this.#x();const e=ca(this.options.staleTime,this.#e);if(ho||this.#n.isStale||!I0(e))return;const r=_I(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#y(e){this.#w(),this.#l=e,!(ho||rn(this.options.enabled,this.#e)===!1||!I0(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||T1.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#y(this.#v())}#x(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#e,n=this.options,i=this.#n,a=this.#i,o=this.#o,l=e!==r?e.state:this.#r,{state:c}=e;let u={...c},f=!1,p;if(t._optimisticResults){const C=this.hasListeners(),P=!C&&jj(e,t),O=C&&kj(e,r,t,n);(P||O)&&(u={...u,...PI(c.data,e.options)}),t._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:h,errorUpdatedAt:v,status:m}=u;p=u.data;let g=!1;if(t.placeholderData!==void 0&&p===void 0&&m==="pending"){let C;i?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(C=i.data,g=!0):C=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,C!==void 0&&(m="success",p=M0(i?.data,C,t),f=!0)}if(t.select&&p!==void 0&&!g)if(i&&p===a?.data&&t.select===this.#m)p=this.#f;else try{this.#m=t.select,p=t.select(p),p=M0(i?.data,p,t),this.#f=p,this.#a=null}catch(C){this.#a=C}this.#a&&(h=this.#a,p=this.#f,v=Date.now(),m="error");const y=u.fetchStatus==="fetching",b=m==="pending",x=m==="error",_=b&&y,w=p!==void 0,k={status:m,fetchStatus:u.fetchStatus,isPending:b,isSuccess:m==="success",isError:x,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:u.dataUpdatedAt,error:h,errorUpdatedAt:v,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>l.dataUpdateCount||u.errorUpdateCount>l.errorUpdateCount,isFetching:y,isRefetching:y&&!b,isLoadingError:x&&!w,isPaused:u.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:x&&w,isStale:N1(e,t),refetch:this.refetch,promise:this.#s,isEnabled:rn(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const C=T=>{k.status==="error"?T.reject(k.error):k.data!==void 0&&T.resolve(k.data)},P=()=>{const T=this.#s=k.promise=$0();C(T)},O=this.#s;switch(O.status){case"pending":e.queryHash===r.queryHash&&C(O);break;case"fulfilled":(k.status==="error"||k.data!==O.value)&&P();break;case"rejected":(k.status!=="error"||k.error!==O.reason)&&P();break}}return k}updateResult(){const e=this.#n,t=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#o=this.options,this.#i.data!==void 0&&(this.#h=this.#e),nf(t,e))return;this.#n=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!this.#p.size)return!0;const a=new Set(i??this.#p);return this.options.throwOnError&&a.add("error"),Object.keys(this.#n).some(o=>{const s=o;return this.#n[s]!==e[s]&&a.has(s)})};this.#S({listeners:r()})}#_(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(e){Zt.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function yW(e,t){return rn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function jj(e,t){return yW(e,t)||e.state.data!==void 0&&L0(e,t,t.refetchOnMount)}function L0(e,t,r){if(rn(t.enabled,e)!==!1&&ca(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&N1(e,t)}return!1}function kj(e,t,r,n){return(e!==t||rn(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&N1(e,r)}function N1(e,t){return rn(t.enabled,e)!==!1&&e.isStaleByTime(ca(t.staleTime,e))}function bW(e,t){return!nf(e.getCurrentResult(),t)}var xW=class extends el{#t;#e=void 0;#r;#n;constructor(t,r){super(),this.#t=t,this.setOptions(r),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#t.defaultMutationOptions(t),nf(this.options,r)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&po(r.mutationKey)!==po(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#o(t)}getCurrentResult(){return this.#e}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#o()}mutate(t,r){return this.#n=r,this.#r?.removeObserver(this),this.#r=this.#t.getMutationCache().build(this.#t,this.options),this.#r.addObserver(this),this.#r.execute(t)}#i(){const t=this.#r?.state??TI();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#o(t){Zt.batch(()=>{if(this.#n&&this.hasListeners()){const r=this.#e.variables,n=this.#e.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,r,n),this.#n.onSettled?.(t.data,null,r,n)):t?.type==="error"&&(this.#n.onError?.(t.error,r,n),this.#n.onSettled?.(void 0,t.error,r,n))}this.listeners.forEach(r=>{r(this.#e)})})}},NI=S.createContext(void 0),ja=e=>{const t=S.useContext(NI);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},wW=({client:e,children:t})=>(S.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),d.jsx(NI.Provider,{value:e,children:t})),RI=S.createContext(!1),_W=()=>S.useContext(RI);RI.Provider;function SW(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var jW=S.createContext(SW()),kW=()=>S.useContext(jW),EW=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},AW=e=>{S.useEffect(()=>{e.clearReset()},[e])},OW=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(i&&e.data===void 0||kI(r,[e.error,n])),CW=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},PW=(e,t)=>e.isLoading&&e.isFetching&&!t,TW=(e,t)=>e?.suspense&&t.isPending,Ej=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function NW(e,t,r){const n=_W(),i=kW(),a=ja(),o=a.defaultQueryOptions(e);a.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",CW(o),EW(o,i),AW(i);const s=!a.getQueryCache().get(o.queryHash),[l]=S.useState(()=>new t(a,o)),c=l.getOptimisticResult(o),u=!n&&e.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(f=>{const p=u?l.subscribe(Zt.batchCalls(f)):wr;return l.updateResult(),p},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),S.useEffect(()=>{l.setOptions(o)},[o,l]),TW(o,c))throw Ej(o,l,i);if(OW({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;return a.getDefaultOptions().queries?._experimental_afterQuery?.(o,c),o.experimental_prefetchInRender&&!ho&&PW(c,n)&&(s?Ej(o,l,i):a.getQueryCache().get(o.queryHash)?.promise)?.catch(wr).finally(()=>{l.updateResult()}),o.notifyOnChangeProps?c:l.trackResult(c)}function ii(e,t){return NW(e,vW)}function an(e,t){const r=ja(),[n]=S.useState(()=>new xW(r,e));S.useEffect(()=>{n.setOptions(e)},[n,e]);const i=S.useSyncExternalStore(S.useCallback(o=>n.subscribe(Zt.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=S.useCallback((o,s)=>{n.mutate(o,s).catch(wr)},[n]);if(i.error&&kI(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const II=S.createContext(void 0),RW=({children:e})=>{const[t,r]=S.useState(!1),n=()=>{r(i=>!i)};return d.jsx(II.Provider,{value:{isAIEnabled:t,setIsAIEnabled:r,toggleAI:n},children:e})},Xh=()=>{const e=S.useContext(II);if(e===void 0)throw new Error("useAI must be used within an AIProvider");return e},IW=[{to:"/stats",label:"Statistiche",icon:OR},{to:"/ai-coach",label:"AI Coach",icon:ki},{to:"/macro-goals",label:"Macro Obiettivi",icon:p1}];function DW(){const{isAIEnabled:e}=Xh(),t=IW.filter(r=>!(r.to==="/ai-coach"&&!e));return d.jsx("nav",{className:"flex items-center justify-center gap-1 sm:gap-2",children:t.map(({to:r,label:n,icon:i})=>d.jsxs(eR,{to:r,className:({isActive:a})=>ae("flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all","hover:bg-accent",a?"bg-primary text-primary-foreground hover:bg-primary/90":"text-muted-foreground"),children:[d.jsx(i,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden xs:inline sm:inline",children:n})]},r))})}const MW=[{to:"/",label:"Home",icon:g6},{to:"/stats",label:"Stats",icon:OR},{to:"/macro-goals",label:"Obiettivi",icon:p1}];function $W(){return d.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-[#0a0a0a]/80 backdrop-blur-xl border-t border-white/10 pb-6 pt-2 px-6 lg:hidden",children:d.jsx("div",{className:"flex items-center justify-around max-w-md mx-auto",children:MW.map(({to:e,label:t,icon:r})=>d.jsx(eR,{to:e,className:({isActive:n})=>ae("flex flex-col items-center justify-center gap-1 p-2 rounded-2xl transition-all duration-300 w-16 group active:scale-95",n?"text-primary":"text-muted-foreground hover:text-foreground"),children:({isActive:n})=>d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:ae("relative p-1.5 rounded-xl transition-all duration-300",n?"bg-primary/20":"group-hover:bg-white/5"),children:[d.jsx(r,{className:ae("w-6 h-6")}),n&&d.jsx("span",{className:"absolute inset-0 rounded-xl ring-2 ring-primary/20 animate-pulse-success"})]}),d.jsx("span",{className:"text-[10px] font-medium tracking-wide",children:t})]})},e))})})}function LW(){return d.jsxs("div",{className:"h-dvh lg:min-h-screen bg-background flex flex-col relative w-full overflow-x-hidden selection:bg-primary/20",children:[d.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-md sticky top-0 z-50 transition-all duration-300",children:d.jsxs("div",{className:"h-16 flex items-center justify-between px-4 sm:px-8 max-w-[2400px] mx-auto w-full relative",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-transparent to-primary/5 pointer-events-none lg:hidden"}),d.jsxs(Jz,{to:"/",className:"flex items-center gap-2 sm:gap-3 group relative z-10 active:scale-95 transition-transform",children:[d.jsxs("div",{className:"relative",children:[d.jsx(d6,{className:"h-6 w-6 sm:h-6 sm:w-6 text-primary animate-pulse"}),d.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-lg rounded-full opacity-50"})]}),d.jsx("span",{className:"font-display font-bold text-lg sm:text-lg tracking-tight group-hover:text-primary transition-colors",children:"Mattioli.OS"})]}),d.jsx("div",{className:"hidden lg:block",children:d.jsx(DW,{})})]})}),d.jsx("main",{className:"flex-1 min-h-0 pb-28 lg:pb-0",children:d.jsx(Zz,{})}),d.jsx($W,{})]})}var mi={},Qu={},F0=function(e,t){return F0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},F0(e,t)};function DI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");F0(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var sn=function(){return sn=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},sn.apply(this,arguments)};function ka(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function MI(e,t,r,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function $I(e,t){return function(r,n){t(r,n,e)}}function LI(e,t,r,n,i,a){function o(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var s=n.kind,l=s==="getter"?"get":s==="setter"?"set":"value",c=!t&&e?n.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),f,p=!1,h=r.length-1;h>=0;h--){var v={};for(var m in n)v[m]=m==="access"?{}:n[m];for(var m in n.access)v.access[m]=n.access[m];v.addInitializer=function(y){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(y||null))};var g=(0,r[h])(s==="accessor"?{get:u.get,set:u.set}:u[l],v);if(s==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(f=o(g.get))&&(u.get=f),(f=o(g.set))&&(u.set=f),(f=o(g.init))&&i.unshift(f)}else(f=o(g))&&(s==="field"?i.unshift(f):u[l]=f)}c&&Object.defineProperty(c,n.name,u),p=!0}function FI(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function BI(e){return typeof e=="symbol"?e:"".concat(e)}function zI(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function qI(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function _e(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((n=n.apply(e,t||[])).next())})}function UI(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(u){c=[6,u],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Qh=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function WI(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Qh(t,e,r)}function of(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function R1(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function HI(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(R1(arguments[t]));return e}function VI(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function I1(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function gs(e){return this instanceof gs?(this.v=e,this):new gs(e)}function KI(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(h){return function(v){return Promise.resolve(v).then(h,f)}}function s(h,v){n[h]&&(i[h]=function(m){return new Promise(function(g,y){a.push([h,m,g,y])>1||l(h,m)})},v&&(i[h]=v(i[h])))}function l(h,v){try{c(n[h](v))}catch(m){p(a[0][3],m)}}function c(h){h.value instanceof gs?Promise.resolve(h.value.v).then(u,f):p(a[0][2],h)}function u(h){l("next",h)}function f(h){l("throw",h)}function p(h,v){h(v),a.shift(),a.length&&l(a[0][0],a[0][1])}}function GI(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,a){t[i]=e[i]?function(o){return(r=!r)?{value:gs(e[i](o)),done:!1}:a?a(o):o}:a}}function YI(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof of=="function"?of(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(o){return new Promise(function(s,l){o=e[a](o),i(s,l,o.done,o.value)})}}function i(a,o,s,l){Promise.resolve(l).then(function(c){a({value:c,done:s})},o)}}function XI(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var FW=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},B0=function(e){return B0=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},B0(e)};function QI(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=B0(e),n=0;n<r.length;n++)r[n]!=="default"&&Qh(t,e,r[n]);return FW(t,e),t}function JI(e){return e&&e.__esModule?e:{default:e}}function ZI(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function eD(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function tD(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function rD(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var BW=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function nD(e){function t(a){e.error=e.hasError?new BW(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(o){return t(o),i()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function iD(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,o){return n?t?".jsx":".js":i&&(!a||!o)?r:i+a+"."+o.toLowerCase()+"js"}):e}const zW={__extends:DI,__assign:sn,__rest:ka,__decorate:MI,__param:$I,__esDecorate:LI,__runInitializers:FI,__propKey:BI,__setFunctionName:zI,__metadata:qI,__awaiter:_e,__generator:UI,__createBinding:Qh,__exportStar:WI,__values:of,__read:R1,__spread:HI,__spreadArrays:VI,__spreadArray:I1,__await:gs,__asyncGenerator:KI,__asyncDelegator:GI,__asyncValues:YI,__makeTemplateObject:XI,__importStar:QI,__importDefault:JI,__classPrivateFieldGet:ZI,__classPrivateFieldSet:eD,__classPrivateFieldIn:tD,__addDisposableResource:rD,__disposeResources:nD,__rewriteRelativeImportExtension:iD},qW=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:rD,get __assign(){return sn},__asyncDelegator:GI,__asyncGenerator:KI,__asyncValues:YI,__await:gs,__awaiter:_e,__classPrivateFieldGet:ZI,__classPrivateFieldIn:tD,__classPrivateFieldSet:eD,__createBinding:Qh,__decorate:MI,__disposeResources:nD,__esDecorate:LI,__exportStar:WI,__extends:DI,__generator:UI,__importDefault:JI,__importStar:QI,__makeTemplateObject:XI,__metadata:qI,__param:$I,__propKey:BI,__read:R1,__rest:ka,__rewriteRelativeImportExtension:iD,__runInitializers:FI,__setFunctionName:zI,__spread:HI,__spreadArray:I1,__spreadArrays:VI,__values:of,default:zW},Symbol.toStringTag,{value:"Module"})),UW=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let Jh=class extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}},aD=class extends Jh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},z0=class extends Jh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},q0=class extends Jh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var sf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(sf||(sf={}));class WW{constructor(t,{headers:r={},customFetch:n,region:i=sf.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=UW(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return _e(this,arguments,void 0,function*(r,n={}){var i;let a,o;try{const{headers:s,method:l,body:c,signal:u,timeout:f}=n;let p={},{region:h}=n;h||(h=this.region);const v=new URL(`${this.url}/${r}`);h&&h!=="any"&&(p["x-region"]=h,v.searchParams.set("forceFunctionRegion",h));let m;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(p["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(p["Content-Type"]="application/json",m=JSON.stringify(c)):m=c;let g=u;f&&(o=new AbortController,a=setTimeout(()=>o.abort(),f),u?(g=o.signal,u.addEventListener("abort",()=>o.abort())):g=o.signal);const y=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),s),body:m,signal:g}).catch(w=>{throw new aD(w)}),b=y.headers.get("x-relay-error");if(b&&b==="true")throw new z0(y);if(!y.ok)throw new q0(y);let x=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return x==="application/json"?_=yield y.json():x==="application/octet-stream"||x==="application/pdf"?_=yield y.blob():x==="text/event-stream"?_=y:x==="multipart/form-data"?_=yield y.formData():_=yield y.text(),{data:_,error:null,response:y}}catch(s){return{data:null,error:s,response:s instanceof q0||s instanceof z0?s.context:void 0}}finally{a&&clearTimeout(a)}})}}const HW=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return sf},FunctionsClient:WW,FunctionsError:Jh,FunctionsFetchError:aD,FunctionsHttpError:q0,FunctionsRelayError:z0},Symbol.toStringTag,{value:"Module"})),oD=_u(HW);var hr={};const tl=_u(qW);var Ju={},Zu={},ed={},td={},rd={},nd={},Aj;function sD(){if(Aj)return nd;Aj=1,Object.defineProperty(nd,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return nd.default=e,nd}var Oj;function lD(){if(Oj)return rd;Oj=1,Object.defineProperty(rd,"__esModule",{value:!0});const t=tl.__importDefault(sD());let r=class{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let s=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,u,f,p;let h=null,v=null,m=null,g=l.status,y=l.statusText;if(l.ok){if(this.method!=="HEAD"){const w=await l.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?v=w:v=JSON.parse(w))}const x=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),_=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");x&&_&&_.length>1&&(m=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(h={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,m=null,g=406,y="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const x=await l.text();try{h=JSON.parse(x),Array.isArray(h)&&l.status===404&&(v=[],h=null,g=200,y="OK")}catch{l.status===404&&x===""?(g=204,y="No Content"):h={message:x}}if(h&&this.isMaybeSingle&&(!((p=h?.details)===null||p===void 0)&&p.includes("0 rows"))&&(h=null,g=200,y="OK"),h&&this.shouldThrowOnError)throw new t.default(h)}return{error:h,data:v,count:m,status:g,statusText:y}});return this.shouldThrowOnError||(s=s.catch(l=>{var c,u,f,p,h,v;let m="";const g=l?.cause;if(g){const y=(c=g?.message)!==null&&c!==void 0?c:"",b=(u=g?.code)!==null&&u!==void 0?u:"";m=`${(f=l?.name)!==null&&f!==void 0?f:"FetchError"}: ${l?.message}`,m+=`

Caused by: ${(p=g?.name)!==null&&p!==void 0?p:"Error"}: ${y}`,b&&(m+=` (${b})`),g?.stack&&(m+=`
${g.stack}`)}else m=(h=l?.stack)!==null&&h!==void 0?h:"";return{error:{message:`${(v=l?.name)!==null&&v!==void 0?v:"FetchError"}: ${l?.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(i,a)}returns(){return this}overrideTypes(){return this}};return rd.default=r,rd}var Cj;function cD(){if(Cj)return td;Cj=1,Object.defineProperty(td,"__esModule",{value:!0});const t=tl.__importDefault(lD());let r=class extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:s,referencedTable:l=s}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:s=o}={}){const l=typeof s>"u"?"offset":`${s}.offset`,c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:s=!1,wal:l=!1,format:c="text"}={}){var u;const f=[i?"analyze":null,a?"verbose":null,o?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${p}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return td.default=r,td}var Pj;function D1(){if(Pj)return ed;Pj=1,Object.defineProperty(ed,"__esModule",{value:!0});const t=tl.__importDefault(cD()),r=new RegExp("[,()]");let n=class extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}regexMatch(a,o){return this.url.searchParams.append(a,`match.${o}`),this}regexIMatch(a,o){return this.url.searchParams.append(a,`imatch.${o}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}isDistinct(a,o){return this.url.searchParams.append(a,`isdistinct.${o}`),this}in(a,o){const s=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:s,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${c}fts${u}.${o}`),this}match(a){return Object.entries(a).forEach(([o,s])=>{this.url.searchParams.append(o,`eq.${s}`)}),this}not(a,o,s){return this.url.searchParams.append(a,`not.${o}.${s}`),this}or(a,{foreignTable:o,referencedTable:s=o}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,o,s){return this.url.searchParams.append(a,`${o}.${s}`),this}};return ed.default=n,ed}var Tj;function uD(){if(Tj)return Zu;Tj=1,Object.defineProperty(Zu,"__esModule",{value:!0});const t=tl.__importDefault(D1());let r=class{constructor(i,{headers:a={},schema:o,fetch:s}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=s}select(i,a){const{head:o=!1,count:s}=a??{},l=o?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",u),s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var s;const l="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:s,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((p,h)=>p.concat(Object.keys(h)),[]);if(f.length>0){const p=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:a}={}){var o;const s="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return Zu.default=r,Zu}var Nj;function VW(){if(Nj)return Ju;Nj=1,Object.defineProperty(Ju,"__esModule",{value:!0});const e=tl,t=e.__importDefault(uD()),r=e.__importDefault(D1());let n=class dD{constructor(a,{headers:o={},schema:s,fetch:l}={}){this.url=a,this.headers=new Headers(o),this.schemaName=s,this.fetch=l}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new dD(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:s=!1,get:l=!1,count:c}={}){var u;let f;const p=new URL(`${this.url}/rpc/${a}`);let h;s||l?(f=s?"HEAD":"GET",Object.entries(o).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{p.searchParams.append(m,g)})):(f="POST",h=o);const v=new Headers(this.headers);return c&&v.set("Prefer",`count=${c}`),new r.default({method:f,url:p,headers:v,schema:this.schemaName,body:h,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};return Ju.default=n,Ju}var Rj;function fD(){if(Rj)return hr;Rj=1,Object.defineProperty(hr,"__esModule",{value:!0}),hr.PostgrestError=hr.PostgrestBuilder=hr.PostgrestTransformBuilder=hr.PostgrestFilterBuilder=hr.PostgrestQueryBuilder=hr.PostgrestClient=void 0;const e=tl,t=e.__importDefault(VW());hr.PostgrestClient=t.default;const r=e.__importDefault(uD());hr.PostgrestQueryBuilder=r.default;const n=e.__importDefault(D1());hr.PostgrestFilterBuilder=n.default;const i=e.__importDefault(cD());hr.PostgrestTransformBuilder=i.default;const a=e.__importDefault(lD());hr.PostgrestBuilder=a.default;const o=e.__importDefault(sD());return hr.PostgrestError=o.default,hr.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},hr}class hD{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const KW="2.87.1",GW=`realtime-js/${KW}`,pD="1.0.0",YW="2.0.0",Ij=pD,U0=1e4,XW=1e3,QW=100;var Ya;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ya||(Ya={}));var Ft;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ft||(Ft={}));var jn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(jn||(jn={}));var W0;(function(e){e.websocket="websocket"})(W0||(W0={}));var Xa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Xa||(Xa={}));class JW{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var i,a;const o=t.topic,s=(i=t.ref)!==null&&i!==void 0?i:"",l=(a=t.join_ref)!==null&&a!==void 0?a:"",c=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+o.length+c.length+f.length,h=new ArrayBuffer(this.HEADER_LENGTH+p);let v=new DataView(h),m=0;v.setUint8(m++,this.KINDS.userBroadcastPush),v.setUint8(m++,l.length),v.setUint8(m++,s.length),v.setUint8(m++,o.length),v.setUint8(m++,c.length),v.setUint8(m++,f.length),v.setUint8(m++,r),Array.from(l,y=>v.setUint8(m++,y.charCodeAt(0))),Array.from(s,y=>v.setUint8(m++,y.charCodeAt(0))),Array.from(o,y=>v.setUint8(m++,y.charCodeAt(0))),Array.from(c,y=>v.setUint8(m++,y.charCodeAt(0))),Array.from(f,y=>v.setUint8(m++,y.charCodeAt(0)));var g=new Uint8Array(h.byteLength+n.byteLength);return g.set(new Uint8Array(h),0),g.set(new Uint8Array(n),h.byteLength),g.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,o,s,l]=n;return r({join_ref:i,ref:a,topic:o,event:s,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,r,i)}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),s=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(t.slice(l,l+i));l=l+i;const u=n.decode(t.slice(l,l+a));l=l+a;const f=n.decode(t.slice(l,l+o));l=l+o;const p=t.slice(l,t.byteLength),h=s===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,v={type:this.BROADCAST_EVENT,event:u,payload:h};return o>0&&(v.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class mD{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _t;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(_t||(_t={}));const Dj=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=ZW(o,e,t,i),a),{}):{}},ZW=(e,t,r,n)=>{const i=t.find(s=>s.name===e),a=i?.type,o=r[e];return a&&!n.includes(a)?gD(a,o):H0(o)},gD=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return nH(t,r)}switch(e){case _t.bool:return eH(t);case _t.float4:case _t.float8:case _t.int2:case _t.int4:case _t.int8:case _t.numeric:case _t.oid:return tH(t);case _t.json:case _t.jsonb:return rH(t);case _t.timestamp:return iH(t);case _t.abstime:case _t.date:case _t.daterange:case _t.int4range:case _t.int8range:case _t.money:case _t.reltime:case _t.text:case _t.time:case _t.timestamptz:case _t.timetz:case _t.tsrange:case _t.tstzrange:return H0(t);default:return H0(t)}},H0=e=>e,eH=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},tH=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},rH=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},nH=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>gD(t,s))}return e},iH=e=>typeof e=="string"?e.replace(" ","T"):e,vD=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class jm{constructor(t,r,n={},i=U0){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var V0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(V0||(V0={}));let yD=class Bd{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bd.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=Bd.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Bd.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),o=this.transformState(r),s={},l={};return this.map(a,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const f=a[c];if(f){const p=u.map(g=>g.presence_ref),h=f.map(g=>g.presence_ref),v=u.filter(g=>h.indexOf(g.presence_ref)<0),m=f.filter(g=>p.indexOf(g.presence_ref)<0);v.length>0&&(s[c]=v),m.length>0&&(l[c]=m)}else s[c]=u}),this.syncDiff(a,{joins:s,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var c;const u=(c=t[s])!==null&&c!==void 0?c:[];if(t[s]=this.cloneDeep(l),u.length>0){const f=t[s].map(h=>h.presence_ref),p=u.filter(h=>f.indexOf(h.presence_ref)<0);t[s].unshift(...p)}n(s,u,l)}),this.map(o,(s,l)=>{let c=t[s];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),t[s]=c,i(s,c,l),c.length===0&&delete t[s]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var K0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(K0||(K0={}));var ns;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ns||(ns={}));var qn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(qn||(qn={}));const aH=Ft;let bD=class Yl{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new jm(this,jn.join,this.params,this.timeout),this.rejoinTimer=new mD(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ft.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jn.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new yD(this),this.broadcastEndpointURL=vD(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ft.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[ns.PRESENCE]&&this.bindings[ns.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},p={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>t?.(qn.CHANNEL_ERROR,h)),this._onClose(()=>t?.(qn.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){t?.(qn.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,g=(v=m?.length)!==null&&v!==void 0?v:0,y=[];for(let b=0;b<g;b++){const x=m[b],{filter:{event:_,schema:w,table:j,filter:k}}=x,C=h&&h[b];if(C&&C.event===_&&Yl.isFilterValueEqual(C.schema,w)&&Yl.isFilterValueEqual(C.table,j)&&Yl.isFilterValueEqual(C.filter,k))y.push(Object.assign(Object.assign({},x),{id:C.id}));else{this.unsubscribe(),this.state=Ft.errored,t?.(qn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(qn.SUBSCRIBED);return}}).receive("error",h=>{this.state=Ft.errored,t?.(qn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t?.(qn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ft.joined&&t===ns.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const c=await s.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ft.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new jm(this,jn.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ft.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new jm(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>QW){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const o=t.toLocaleLowerCase(),{close:s,error:l,leave:c,join:u}=jn;if(n&&[s,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var v,m,g;return((v=h.filter)===null||v===void 0?void 0:v.event)==="*"||((g=(m=h.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(h=>h.callback(p,n)):(a=this.bindings[o])===null||a===void 0||a.filter(h=>{var v,m,g,y,b,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const _=h.id,w=(v=h.filter)===null||v===void 0?void 0:v.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(w==="*"||w?.toLocaleLowerCase()===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const _=(b=(y=h?.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return _==="*"||_===((x=r?.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:m,table:g,commit_timestamp:y,type:b,errors:x}=v;p=Object.assign(Object.assign({},{schema:m,table:g,commit_timestamp:y,eventType:b,new:{},old:{},errors:x}),this._getPayloadRecords(v))}h.callback(p,n)})}_isClosed(){return this.state===Ft.closed}_isJoined(){return this.state===Ft.joined}_isJoining(){return this.state===Ft.joining}_isLeaving(){return this.state===Ft.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Yl.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(jn.close,{},t)}_onError(t){this._on(jn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ft.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Dj(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Dj(t.columns,t.old_record)),r}};const km=()=>{},id={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},oH=[1e3,2e3,5e3,1e4],sH=1e4,lH=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let cH=class{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=U0,this.transport=null,this.heartbeatIntervalMs=id.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=km,this.ref=0,this.reconnectTimer=null,this.vsn=Ij,this.logger=km,this.conn=null,this.sendBuffer=[],this.serializer=new JW,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${W0.websocket}`,this.httpEndpoint=vD(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=hD.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ya.connecting:return Xa.Connecting;case Ya.open:return Xa.Open;case Ya.closing:return Xa.Closing;default:return Xa.Closed}}isConnected(){return this.connectionState()===Xa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new bD(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,o=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(XW,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},id.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${s}`.trim(),a),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ya.open||this.conn.readyState===Ya.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(jn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([lH],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:GW};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(jn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new mD(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},id.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,o,s,l,c,u,f,p,h;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:U0,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:id.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t?.heartbeatCallback)!==null&&s!==void 0?s:km,this.vsn=(l=t?.vsn)!==null&&l!==void 0?l:Ij,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:(v=>oH[v-1]||sH),this.vsn){case pD:this.encode=(u=t?.encode)!==null&&u!==void 0?u:((v,m)=>m(JSON.stringify(v))),this.decode=(f=t?.decode)!==null&&f!==void 0?f:((v,m)=>m(JSON.parse(v)));break;case YW:this.encode=(p=t?.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(h=t?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const uH=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:aH,get REALTIME_LISTEN_TYPES(){return ns},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return K0},get REALTIME_PRESENCE_LISTEN_EVENTS(){return V0},get REALTIME_SUBSCRIBE_STATES(){return qn},RealtimeChannel:bD,RealtimeClient:cH,RealtimePresence:yD,WebSocketFactory:hD},Symbol.toStringTag,{value:"Module"})),xD=_u(uH);class Eu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ot(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class wD extends Eu{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class lf extends Eu{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const M1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),dH=()=>Response,G0=e=>{if(Array.isArray(e))return e.map(r=>G0(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=G0(n)}),t},fH=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},hH=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Em=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},pH=(e,t,r)=>_e(void 0,void 0,void 0,function*(){const n=yield dH();e instanceof n&&!r?.noResolveJson?e.json().then(i=>{const a=e.status||500,o=i?.statusCode||a+"";t(new wD(Em(i),a,o))}).catch(i=>{t(new lf(Em(i),i))}):t(new lf(Em(e),e))}),mH=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!n?i:(fH(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function Au(e,t,r,n,i,a){return _e(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,mH(t,n,i,a)).then(l=>{if(!l.ok)throw l;return n?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>pH(l,s,n))})})}function Ec(e,t,r,n){return _e(this,void 0,void 0,function*(){return Au(e,"GET",t,r,n)})}function Sn(e,t,r,n,i){return _e(this,void 0,void 0,function*(){return Au(e,"POST",t,n,i,r)})}function Y0(e,t,r,n,i){return _e(this,void 0,void 0,function*(){return Au(e,"PUT",t,n,i,r)})}function gH(e,t,r,n){return _e(this,void 0,void 0,function*(){return Au(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function $1(e,t,r,n,i){return _e(this,void 0,void 0,function*(){return Au(e,"DELETE",t,n,i,r)})}class vH{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return _e(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ot(t))return{data:null,error:t};throw t}})}}var _D;class yH{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[_D]="BlobDownloadBuilder",this.promise=null}asStream(){return new vH(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return _e(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ot(t))return{data:null,error:t};throw t}})}}_D=Symbol.toStringTag;const bH={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Mj={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class xH{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=M1(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return _e(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},Mj),i);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),l&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(l))):(a=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(s=Object.assign(Object.assign({},s),i.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),f=yield(t=="PUT"?Y0:Sn)(this.fetch,`${this.url}/object/${u}`,a,Object.assign({headers:s},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ot(a))return{data:null,error:a};throw a}})}upload(t,r,n){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return _e(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Mj.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield Y0(this.fetch,s.toString(),l,{headers:u});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ot(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return _e(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const a=yield Sn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new Eu("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}})}update(t,r,n){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return _e(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ot(i))return{data:null,error:i};throw i}})}copy(t,r,n){return _e(this,void 0,void 0,function*(){try{return{data:{path:(yield Sn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ot(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return _e(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Sn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ot(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return _e(this,void 0,void 0,function*(){try{const i=yield Sn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ot(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(r?.transform||{}),o=a?`?${a}`:"",s=this._getFinalPath(t),l=()=>Ec(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new yH(l,this.shouldThrowOnError)}info(t){return _e(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ec(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:G0(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}})}exists(t){return _e(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield gH(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ot(n)&&n instanceof lf){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r?.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const s=typeof r?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(r?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${c}`)}}}remove(t){return _e(this,void 0,void 0,function*(){try{return{data:yield $1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}list(t,r,n){return _e(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},bH),r),{prefix:t||""});return{data:yield Sn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ot(i))return{data:null,error:i};throw i}})}listV2(t,r){return _e(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Sn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const SD="2.87.1",jD={"X-Client-Info":`storage-js/${SD}`};class wH{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jD),r),this.fetch=M1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return _e(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Ec(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}getBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:yield Ec(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}createBucket(t){return _e(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Sn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ot(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return _e(this,void 0,void 0,function*(){try{return{data:yield Y0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}})}emptyBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}deleteBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:yield $1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Ac=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function _H(e,t,r){const n=new URL(t,e);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function SH(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function jH(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:o}){const s=_H(e.baseUrl,n,i),l=await SH(e.auth),c=await t(s,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...l,...o},body:a?JSON.stringify(a):void 0}),u=await c.text(),f=(c.headers.get("content-type")||"").includes("application/json"),p=f&&u?JSON.parse(u):u;if(!c.ok){const h=f?p:void 0,v=h?.error;throw new Ac(v?.message??`Request failed with status ${c.status}`,{status:c.status,icebergType:v?.type,icebergCode:v?.code,details:h})}return{status:c.status,headers:c.headers,data:p}}}}function ad(e){return e.join("")}var kH=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:ad(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ad(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ad(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ad(e.namespace)}`}),!0}catch(t){if(t instanceof Ac&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Ac&&r.status===409)return;throw r}}};function No(e){return e.join("")}var EH=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${No(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${No(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${No(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${No(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${No(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${No(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Ac&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Ac&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},AH=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=jH({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new kH(this.client,t),this.tableOps=new EH(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class kD{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jD),r),this.fetch=M1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}listBuckets(t){return _e(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Ec(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}deleteBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:yield $1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ot(r))return{data:null,error:r};throw r}})}from(t){if(!hH(t))throw new Eu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new AH({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>_e(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,o){const s=a[o];return typeof s!="function"?s:(...l)=>_e(this,void 0,void 0,function*(){try{return{data:yield s.apply(a,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}})}})}}const L1={"X-Client-Info":`storage-js/${SD}`,"Content-Type":"application/json"};class F1 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Nr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class zd extends F1{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ED extends F1{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var X0;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(X0||(X0={}));const Zh=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),OH=()=>Response,AD=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},CH=e=>Array.from(new Float32Array(e)),PH=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},$j=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),TH=(e,t,r)=>_e(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const s=o?.statusCode||o?.code||i+"";t(new zd($j(o),i,s))}).catch(()=>{const o=i+"",s=a.statusText||`HTTP ${i} error`;t(new zd(s,i,o))});else{const o=i+"",s=a.statusText||`HTTP ${i} error`;t(new zd(s,i,o))}}else t(new ED($j(e),e))}),NH=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return n?(AD(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function RH(e,t,r,n,i,a){return _e(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,NH(t,n,i,a)).then(l=>{if(!l.ok)throw l;if(n?.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>TH(l,s,n))})})}function Wr(e,t,r,n,i){return _e(this,void 0,void 0,function*(){return RH(e,"POST",t,n,i,r)})}class OD{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},L1),r),this.fetch=Zh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return _e(this,void 0,void 0,function*(){try{return{data:(yield Wr(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return _e(this,void 0,void 0,function*(){try{return{data:yield Wr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nr(n))return{data:null,error:n};throw n}})}listIndexes(t){return _e(this,void 0,void 0,function*(){try{return{data:yield Wr(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return _e(this,void 0,void 0,function*(){try{return{data:(yield Wr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nr(n))return{data:null,error:n};throw n}})}}class CD{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},L1),r),this.fetch=Zh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return _e(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Wr(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}getVectors(t){return _e(this,void 0,void 0,function*(){try{return{data:yield Wr(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}listVectors(t){return _e(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Wr(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}queryVectors(t){return _e(this,void 0,void 0,function*(){try{return{data:yield Wr(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return _e(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Wr(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}}class PD{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},L1),r),this.fetch=Zh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:(yield Wr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}getBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:yield Wr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}listBuckets(){return _e(this,arguments,void 0,function*(t={}){try{return{data:yield Wr(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:(yield Wr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}}class TD extends PD{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new ND(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return _e(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return _e(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return _e(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return _e(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class ND extends OD{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return _e(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return _e(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return _e(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return _e(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new RD(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class RD extends CD{constructor(t,r,n,i,a){super(t,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return _e(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return _e(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return _e(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return _e(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return _e(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class IH extends wH{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new xH(this.url,this.headers,t,this.fetch)}get vectors(){return new TD(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new kD(this.url+"/iceberg",this.headers,this.fetch)}}const DH=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:kD,StorageApiError:wD,StorageClient:IH,StorageError:Eu,StorageUnknownError:lf,StorageVectorsApiError:zd,StorageVectorsClient:TD,StorageVectorsError:F1,get StorageVectorsErrorCode(){return X0},StorageVectorsUnknownError:ED,VectorBucketApi:PD,VectorBucketScope:ND,VectorDataApi:CD,VectorIndexApi:OD,VectorIndexScope:RD,isPlainObject:AD,isStorageError:Ot,isStorageVectorsError:Nr,normalizeToFloat32:CH,resolveFetch:Zh,resolveResponse:OH,validateVectorDimension:PH},Symbol.toStringTag,{value:"Module"})),MH=_u(DH);var Am={},Pl={},Lj;function $H(){return Lj||(Lj=1,Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.version=void 0,Pl.version="2.87.1"),Pl}var Fj;function LH(){return Fj||(Fj=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=$H();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(Am)),Am}var Om={},Bj;function FH(){return Bj||(Bj=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);e.resolveFetch=t;const r=()=>Headers;e.resolveHeadersConstructor=r;const n=(i,a,o)=>{const s=(0,e.resolveFetch)(o),l=(0,e.resolveHeadersConstructor)();return async(c,u)=>{var f;const p=(f=await a())!==null&&f!==void 0?f:i;let h=new l(u?.headers);return h.has("apikey")||h.set("apikey",i),h.has("Authorization")||h.set("Authorization",`Bearer ${p}`),s(c,Object.assign(Object.assign({},u),{headers:h}))}};e.fetchWithAuth=n})(Om)),Om}var gi={},zj;function BH(){if(zj)return gi;zj=1,Object.defineProperty(gi,"__esModule",{value:!0}),gi.isBrowser=void 0,gi.uuid=e,gi.ensureTrailingSlash=t,gi.applySettingDefaults=n,gi.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var o=Math.random()*16|0,s=a=="x"?o:o&3|8;return s.toString(16)})}function t(a){return a.endsWith("/")?a:a+"/"}const r=()=>typeof window<"u";gi.isBrowser=r;function n(a,o){var s,l;const{db:c,auth:u,realtime:f,global:p}=a,{db:h,auth:v,realtime:m,global:g}=o,y={db:Object.assign(Object.assign({},h),c),auth:Object.assign(Object.assign({},v),u),realtime:Object.assign(Object.assign({},m),f),storage:{},global:Object.assign(Object.assign(Object.assign({},g),p),{headers:Object.assign(Object.assign({},(s=g?.headers)!==null&&s!==void 0?s:{}),(l=p?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return a.accessToken?y.accessToken=a.accessToken:delete y.accessToken,y}function i(a){const o=a?.trim();if(!o)throw new Error("supabaseUrl is required.");if(!o.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(o))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return gi}var Tl={};const ID="2.87.1",Ko=30*1e3,Q0=3,Cm=Q0*Ko,zH="http://localhost:9999",qH="supabase.auth.token",UH={"X-Client-Info":`gotrue-js/${ID}`},J0="X-Supabase-Api-Version",DD={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},WH=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,HH=600*1e3;let vs=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function Ae(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let MD=class extends vs{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function $D(e){return Ae(e)&&e.name==="AuthApiError"}let ta=class extends vs{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},$i=class extends vs{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}},Pr=class extends $i{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function LD(e){return Ae(e)&&e.name==="AuthSessionMissingError"}let za=class extends $i{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Xl=class extends $i{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Ql=class extends $i{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function FD(e){return Ae(e)&&e.name==="AuthImplicitGrantRedirectError"}let Z0=class extends $i{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},cf=class extends $i{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function qd(e){return Ae(e)&&e.name==="AuthRetryableFetchError"}let ex=class extends $i{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function VH(e){return Ae(e)&&e.name==="AuthWeakPasswordError"}let uf=class extends $i{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const df="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qj=` 	
\r=`.split(""),KH=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<qj.length;t+=1)e[qj[t].charCodeAt(0)]=-2;for(let t=0;t<df.length;t+=1)e[df[t].charCodeAt(0)]=t;return e})();function Uj(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(df[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(df[n]),t.queuedBits-=6}}function BD(e,t,r){const n=KH[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Wj(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{XH(o,n,r)};for(let o=0;o<e.length;o+=1)BD(e.charCodeAt(o),i,a);return t.join("")}function GH(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function YH(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}GH(n,t)}}function XH(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function is(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)BD(e.charCodeAt(i),r,n);return new Uint8Array(t)}function QH(e){const t=[];return YH(e,r=>t.push(r)),new Uint8Array(t)}function Ja(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>Uj(i,r,n)),Uj(null,r,n),t.join("")}function JH(e){return Math.round(Date.now()/1e3)+e}function ZH(){return Symbol("auth-callback")}const cr=()=>typeof window<"u"&&typeof document<"u",Ia={tested:!1,writable:!1},zD=()=>{if(!cr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ia.tested)return Ia.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ia.tested=!0,Ia.writable=!0}catch{Ia.tested=!0,Ia.writable=!1}return Ia.writable};function e9(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const qD=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),t9=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Go=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Da=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},lr=async(e,t)=>{await e.removeItem(t)};class ep{constructor(){this.promise=new ep.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ep.promiseConstructor=Promise;function Pm(e){const t=e.split(".");if(t.length!==3)throw new uf("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!WH.test(t[n]))throw new uf("JWT not in base64url format");return{header:JSON.parse(Wj(t[0])),payload:JSON.parse(Wj(t[1])),signature:is(t[2]),raw:{header:t[0],payload:t[1]}}}async function r9(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function n9(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function i9(e){return("0"+e.toString(16)).substr(-2)}function a9(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,i9).join("")}async function o9(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function s9(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await o9(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ro(e,t,r=!1){const n=a9();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Go(e,`${t}-code-verifier`,i);const a=await s9(n);return[a,n===a?"plain":"s256"]}const l9=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function c9(e){const t=e.headers.get(J0);if(!t||!t.match(l9))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function u9(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function d9(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const f9=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Io(e){if(!f9.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Tm(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function h9(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function Hj(e){return JSON.parse(JSON.stringify(e))}const qa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),p9=[502,503,504];async function Vj(e){var t;if(!t9(e))throw new cf(qa(e),0);if(p9.includes(e.status))throw new cf(qa(e),e.status);let r;try{r=await e.json()}catch(a){throw new ta(qa(a),a)}let n;const i=c9(e);if(i&&i.getTime()>=DD["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new ex(qa(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Pr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new ex(qa(r),e.status,r.weak_password.reasons);throw new MD(qa(r),e.status||500,n)}const m9=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function De(e,t,r,n){var i;const a=Object.assign({},n?.headers);a[J0]||(a[J0]=DD["2024-01-01"].name),n?.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await g9(e,t,r+s,{headers:a,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(l):{data:Object.assign({},l),error:null}}async function g9(e,t,r,n,i,a){const o=m9(t,n,i,a);let s;try{s=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new cf(qa(l),0)}if(s.ok||await Vj(s),n?.noResolveJson)return s;try{return await s.json()}catch(l){await Vj(l)}}function wn(e){var t;let r=null;b9(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=JH(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Kj(e){const t=wn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ra(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function v9(e){return{data:e,error:null}}function y9(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,o=ka(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function Gj(e){return e}function b9(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ud=["global","local","others"];let B1=class{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=qD(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Ud[0]){if(Ud.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ud.join(", ")}`);try{return await De(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await De(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ra})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ka(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await De(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:y9,redirectTo:r?.redirectTo})}catch(r){if(Ae(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await De(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ra})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},u=await De(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Gj});if(u.error)throw u.error;const f=await u.json(),p=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);c[`${g}Page`]=m}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Ae(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Io(t);try{return await De(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ra})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Io(t);try{return await De(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ra})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Io(t);try{return await De(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ra})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Io(t.userId);try{const{data:r,error:n}=await De(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Io(t.userId),Io(t.id);try{return{data:await De(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},u=await De(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Gj});if(u.error)throw u.error;const f=await u.json(),p=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);c[`${g}Page`]=m}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Ae(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await De(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await De(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await De(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}};function Yj(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ua={debug:!!(globalThis&&zD()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class z1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let UD=class extends z1{};class x9 extends z1{}async function WD(e,t,r){Ua.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ua.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Ua.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Ua.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ua.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new UD(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ua.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const Xj={};async function w9(e,t,r){var n;const i=(n=Xj[e])!==null&&n!==void 0?n:Promise.resolve(),a=Promise.race([i.catch(()=>null),t>=0?new Promise((o,s)=>{setTimeout(()=>{s(new x9(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await r());return Xj[e]=a.catch(async o=>{if(o&&o.isAcquireTimeout)return await i,null;throw o}),await a}function _9(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function HD(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function S9(e){return parseInt(e,16)}function j9(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function k9(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:c,scheme:u,uri:f,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const h=HD(e.address),v=u?`${u}://${n}`:n,m=e.statement?`${e.statement}
`:"",g=`${v} wants you to sign in with your Ethereum account:
${h}

${m}`;let y=`URI: ${f}
Version: ${p}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),s&&(y+=`
Not Before: ${s.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let b=`
Resources:`;for(const x of c){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);b+=`
- ${x}`}y+=b}return`${g}
${y}`}class qt extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class ff extends qt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function E9({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new qt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new qt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new qt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new qt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new qt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new qt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new qt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new qt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(VD(o)){if(a.rp.id!==o)return new qt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new qt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new qt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new qt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new qt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function A9({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new qt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new qt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(VD(n)){if(r.rpId!==n)return new qt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new qt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new qt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new qt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class O9{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const C9=new O9;function P9(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=ka(e,["challenge","user","excludeCredentials"]),a=is(t).buffer,o=Object.assign(Object.assign({},r),{id:is(r.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];s.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:is(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function T9(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ka(e,["challenge","allowCredentials"]),i=is(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const s=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},s),{id:is(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return a}function N9(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ja(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ja(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function R9(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ja(new Uint8Array(i.authenticatorData)),clientDataJSON:Ja(new Uint8Array(i.clientDataJSON)),signature:Ja(new Uint8Array(i.signature)),userHandle:i.userHandle?Ja(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function VD(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Qj(){var e,t;return!!(cr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function I9(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ff("Browser returned unexpected credential type",t)}:{data:null,error:new ff("Empty credential response",t)}}catch(t){return{data:null,error:E9({error:t,options:e})}}}async function D9(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ff("Browser returned unexpected credential type",t)}:{data:null,error:new ff("Empty credential response",t)}}catch(t){return{data:null,error:A9({error:t,options:e})}}}const M9={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},$9={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function hf(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(t(o)){const s=n[a];t(s)?n[a]=hf(s,o):n[a]=hf(o)}else n[a]=o}return n}function L9(e,t){return hf(M9,e,t||{})}function F9(e,t){return hf($9,e,t||{})}class B9{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:s};const l=i??C9.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=L9(o.webauthn.credential_options.publicKey,a?.create),{data:u,error:f}=await I9({publicKey:c,signal:l});return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}case"request":{const c=F9(o.webauthn.credential_options.publicKey,a?.request),{data:u,error:f}=await D9(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}}}catch(o){return Ae(o)?{data:null,error:o}:{data:null,error:new ta("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new vs("rpId is required for WebAuthn authentication")};try{if(!Qj())return{data:null,error:new ta("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!o)return{data:null,error:s};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return Ae(o)?{data:null,error:o}:{data:null,error:new ta("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new vs("rpId is required for WebAuthn registration")};try{if(!Qj())return{data:null,error:new ta("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var f;return(f=u.data)===null||f===void 0?void 0:f.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:s};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return Ae(o)?{data:null,error:o}:{data:null,error:new ta("Unexpected error in register",o)}}}}_9();const z9={url:zH,storageKey:qH,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:UH,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Jj(e,t,r){return await r()}const Do={};let q1=class tx{get jwks(){var t,r;return(r=(t=Do[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Do[this.storageKey]=Object.assign(Object.assign({},Do[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Do[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Do[this.storageKey]=Object.assign(Object.assign({},Do[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},z9),t);if(this.storageKey=a.storageKey,this.instanceID=(r=tx.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,tx.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&cr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new B1({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=qD(a.fetch),this.lock=a.lock||Jj,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&cr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=WD:this.lock=Jj,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new B9(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:zD()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Yj(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Yj(this.memoryStorage)),cr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ID}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(cr()&&(r=e9(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),cr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),FD(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ae(r)?this._returnResult({error:r}):this._returnResult({error:new ta("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:wn}),{data:o,error:s}=a;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(Ae(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:u,password:f,options:p}=t;let h=null,v=null;this.flowType==="pkce"&&([h,v]=await Ro(this.storage,this.storageKey)),a=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p?.emailRedirectTo,body:{email:u,password:f,data:(r=p?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:h,code_challenge_method:v},xform:wn})}else if("phone"in t){const{phone:u,password:f,options:p}=t;a=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=p?.data)!==null&&n!==void 0?n:{},channel:(i=p?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:wn})}else throw new Xl("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return await lr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(await lr(this.storage,`${this.storageKey}-code-verifier`),Ae(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:s}=t;r=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Kj})}else if("phone"in t){const{phone:a,password:o,options:s}=t;r=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Kj})}else throw new Xl("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new za;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,o,s,l,c,u,f,p;let h,v;if("message"in t)h=t.message,v=t.signature;else{const{chain:m,wallet:g,statement:y,options:b}=t;let x;if(cr())if(typeof g=="object")x=g;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")x=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=g}const _=new URL((r=b?.url)!==null&&r!==void 0?r:window.location.href),w=await x.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!w||w.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=HD(w[0]);let k=(n=b?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const P=await x.request({method:"eth_chainId"});k=S9(P)}const C={domain:_.host,address:j,statement:y,uri:_.href,version:"1",chainId:k,nonce:(i=b?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=b?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=b?.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=b?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=b?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=b?.signInWithEthereum)===null||u===void 0?void 0:u.resources};h=k9(C),v=await x.request({method:"personal_sign",params:[j9(h),j]})}try{const{data:m,error:g}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:v},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:wn});if(g)throw g;if(!m||!m.session||!m.user){const y=new za;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:g})}catch(m){if(Ae(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,i,a,o,s,l,c,u,f,p,h;let v,m;if("message"in t)v=t.message,m=t.signature;else{const{chain:g,wallet:y,statement:b,options:x}=t;let _;if(cr())if(typeof y=="object")_=y;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))_=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!x?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const w=new URL((r=x?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const j=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x?.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),b?{statement:b}:null));let k;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")k=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)k=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)v=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),m=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${w.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(i=(n=x?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=x?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((s=x?.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((c=x?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(u=x?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const j=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=j}}try{const{data:g,error:y}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Ja(m)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:wn});if(y)throw y;if(!g||!g.session||!g.user){const b=new za;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:y})}catch(g){if(Ae(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(t){const r=await Da(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:o}=await De(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:wn});if(await lr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const s=new za;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await lr(this.storage,`${this.storageKey}-code-verifier`),Ae(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=t,s=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:wn}),{data:l,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new za;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(Ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,o;try{if("email"in t){const{email:s,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Ro(this.storage,this.storageKey));const{error:f}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(n=l?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:s,options:l}=t,{data:c,error:u}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(a=l?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:u})}throw new Xl("You must provide either an email or phone number.")}catch(s){if(await lr(this.storage,`${this.storageKey}-code-verifier`),Ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await De(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:wn});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(Ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,a,o;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await Ro(this.storage,this.storageKey));const c=await De(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:v9});return!((a=c.data)===null||a===void 0)&&a.url&&cr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(s){if(await lr(this.storage,`${this.storageKey}-code-verifier`),Ae(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Pr;const{error:i}=await De(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Ae(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:o}=await De(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:o,error:s}=await De(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:s})}throw new Xl("You must provide either an email or phone number and a type")}catch(r){if(Ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Da(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Cm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Da(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=Tm()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=h9(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ra}):await this._useSession(async r=>{var n,i,a;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pr}:await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:ra})})}catch(r){if(Ae(r))return LD(r)&&(await this._removeSession(),await lr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Pr;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await Ro(this.storage,this.storageKey));const{data:c,error:u}=await De(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:ra});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await lr(this.storage,`${this.storageKey}-code-verifier`),Ae(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Pr;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=Pm(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(Ae(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:s}=r;if(s)throw s;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Pr;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!cr())throw new Ql("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ql(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Z0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ql("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Z0("No code detected.");const{data:b,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:c}=t;if(!a||!s||!o||!c)throw new Ql("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(s);let p=u+f;l&&(p=parseInt(l));const h=p-u;h*1e3<=Ko&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const v=p-f;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,u);const{data:m,error:g}=await this._getUser(a);if(g)throw g;const y={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:p,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(n){if(Ae(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Da(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!($D(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return t!=="others"&&(await this._removeSession(),await lr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=ZH(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Ro(this.storage,this.storageKey,!0));try{return await De(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await lr(this.storage,`${this.storageKey}-code-verifier`),Ae(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,s,l,c,u;const{data:f,error:p}=a;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await De(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return cr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(Ae(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:o,provider:s,token:l,access_token:c,nonce:u}=t,f=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:wn}),{data:p,error:h}=f;return h?this._returnResult({data:{user:null,session:null},error:h}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new za}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:h}))}catch(i){if(await lr(this.storage,`${this.storageKey}-code-verifier`),Ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await De(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await n9(async i=>(i>0&&await r9(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await De(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:wn})),(i,a)=>{const o=200*Math.pow(2,i);return a&&qd(a)&&Date.now()+o-n<Ko})}catch(n){if(this._debug(r,"error",n),Ae(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),cr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Da(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Da(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Go(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:Tm()}else if(i&&!i.user&&!i.user){const o=await Da(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await lr(this.storage,this.storageKey+"-user"),await Go(this.storage,this.storageKey,i)):i.user=Tm()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Cm;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Cm}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),qd(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Pr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ep;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Pr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={data:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),Ae(a)){const o={data:null,error:a};return qd(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,r)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await lr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Go(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=Hj(i);await Go(this.storage,this.storageKey,a)}else{const i=Hj(r);await Go(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await lr(this.storage,this.storageKey),await lr(this.storage,this.storageKey+"-code-verifier"),await lr(this.storage,this.storageKey+"-user"),this.userStorage&&await lr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&cr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ko);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Ko);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ko}ms, refresh threshold is ${Q0} ticks`),i<=Q0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof z1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!cr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await Ro(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(n?.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await De(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await De(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?N9(t.webauthn.credential_response):R9(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:l}=await De(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await De(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:P9(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:T9(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Pm(n.access_token);let o=null;a.aal&&(o=a.aal);let s=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(s="aal2");const c=a.amr||[];return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await De(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Pr})})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Pr});const o=await De(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&cr()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Pr});const o=await De(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&cr()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await De(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Pr})})}catch(t){if(Ae(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await De(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Pr})})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(s=>s.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+HH>i)return n;const{data:a,error:o}=await De(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(s=>s.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:h,error:v}=await this.getSession();if(v||!h.session)return this._returnResult({data:null,error:v});n=h.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=Pm(n);r?.allowExpired||u9(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!c){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:a,header:i,signature:o},error:null}}const u=d9(i.alg),f=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,QH(`${s}.${l}`)))throw new uf("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}};q1.nextInstanceID={};const q9=B1,U9=q1,W9=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:q9,AuthApiError:MD,AuthClient:U9,AuthError:vs,AuthImplicitGrantRedirectError:Ql,AuthInvalidCredentialsError:Xl,AuthInvalidJwtError:uf,AuthInvalidTokenResponseError:za,AuthPKCEGrantCodeExchangeError:Z0,AuthRetryableFetchError:cf,AuthSessionMissingError:Pr,AuthUnknownError:ta,AuthWeakPasswordError:ex,CustomAuthError:$i,GoTrueAdminApi:B1,GoTrueClient:q1,NavigatorLockAcquireTimeoutError:UD,SIGN_OUT_SCOPES:Ud,isAuthApiError:$D,isAuthError:Ae,isAuthImplicitGrantRedirectError:FD,isAuthRetryableFetchError:qd,isAuthSessionMissingError:LD,isAuthWeakPasswordError:VH,lockInternals:Ua,navigatorLock:WD,processLock:w9},Symbol.toStringTag,{value:"Module"})),KD=_u(W9);var Zj;function H9(){if(Zj)return Tl;Zj=1,Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.SupabaseAuthClient=void 0;const e=KD;let t=class extends e.AuthClient{constructor(n){super(n)}};return Tl.SupabaseAuthClient=t,Tl}var ek;function tk(){if(ek)return Qu;ek=1,Object.defineProperty(Qu,"__esModule",{value:!0});const e=oD,t=fD(),r=xD,n=MH,i=LH(),a=FH(),o=BH(),s=H9();class l{constructor(u,f,p){var h,v,m;this.supabaseUrl=u,this.supabaseKey=f;const g=(0,o.validateSupabaseUrl)(u);if(!f)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const y=`sb-${g.hostname.split(".")[0]}-auth-token`,b={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:y}),global:i.DEFAULT_GLOBAL_OPTIONS},x=(0,o.applySettingDefaults)(p??{},b);this.storageKey=(h=x.auth.storageKey)!==null&&h!==void 0?h:"",this.headers=(v=x.global.headers)!==null&&v!==void 0?v:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(_,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((m=x.auth)!==null&&m!==void 0?m:{},this.headers,x.global.fetch),this.fetch=(0,a.fetchWithAuth)(f,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new t.PostgrestClient(new URL("rest/v1",g).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new n.StorageClient(this.storageUrl.href,this.headers,this.fetch,p?.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(u){return this.rest.from(u)}schema(u){return this.rest.schema(u)}rpc(u,f={},p={head:!1,get:!1,count:void 0}){return this.rest.rpc(u,f,p)}channel(u,f={config:{}}){return this.realtime.channel(u,f)}getChannels(){return this.realtime.getChannels()}removeChannel(u){return this.realtime.removeChannel(u)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var u,f;if(this.accessToken)return await this.accessToken();const{data:p}=await this.auth.getSession();return(f=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:u,persistSession:f,detectSessionInUrl:p,storage:h,userStorage:v,storageKey:m,flowType:g,lock:y,debug:b,throwOnError:x},_,w){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new s.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},j),_),storageKey:m,autoRefreshToken:u,persistSession:f,detectSessionInUrl:p,storage:h,userStorage:v,flowType:g,lock:y,debug:b,throwOnError:x,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(k=>k.toLowerCase()==="authorization")})}_initRealtimeClient(u){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},u),{params:Object.assign({apikey:this.supabaseKey},u?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((f,p)=>{this._handleTokenChanged(f,"CLIENT",p?.access_token)})}_handleTokenChanged(u,f,p){(u==="TOKEN_REFRESHED"||u==="SIGNED_IN")&&this.changedAccessToken!==p?(this.changedAccessToken=p,this.realtime.setAuth(p)):u==="SIGNED_OUT"&&(this.realtime.setAuth(),f=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Qu.default=l,Qu}var rk;function V9(){return rk||(rk=1,(function(e){var t=mi&&mi.__createBinding||(Object.create?(function(u,f,p,h){h===void 0&&(h=p);var v=Object.getOwnPropertyDescriptor(f,p);(!v||("get"in v?!f.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return f[p]}}),Object.defineProperty(u,h,v)}):(function(u,f,p,h){h===void 0&&(h=p),u[h]=f[p]})),r=mi&&mi.__exportStar||function(u,f){for(var p in u)p!=="default"&&!Object.prototype.hasOwnProperty.call(f,p)&&t(f,u,p)},n=mi&&mi.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=n(tk());r(KD,e);var a=fD();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var o=oD;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),r(xD,e);var s=tk();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return n(s).default}});const l=(u,f,p)=>new i.default(u,f,p);e.createClient=l;function c(){if(typeof window<"u"||typeof process>"u")return!1;const u=process.version;if(u==null)return!1;const f=u.match(/^v(\d+)\./);return f?parseInt(f[1],10)<=18:!1}c()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(mi)),mi}var GD=V9();const YD=it(GD),K9=i8({__proto__:null,default:YD},[GD]),{PostgrestError:aje,FunctionsHttpError:oje,FunctionsFetchError:sje,FunctionsRelayError:lje,FunctionsError:cje,FunctionRegion:uje,SupabaseClient:dje,createClient:G9,GoTrueAdminApi:fje,GoTrueClient:hje,AuthAdminApi:pje,AuthClient:mje,navigatorLock:gje,NavigatorLockAcquireTimeoutError:vje,lockInternals:yje,processLock:bje,SIGN_OUT_SCOPES:xje,AuthError:wje,AuthApiError:_je,AuthUnknownError:Sje,CustomAuthError:jje,AuthSessionMissingError:kje,AuthInvalidTokenResponseError:Eje,AuthInvalidCredentialsError:Aje,AuthImplicitGrantRedirectError:Oje,AuthPKCEGrantCodeExchangeError:Cje,AuthRetryableFetchError:Pje,AuthWeakPasswordError:Tje,AuthInvalidJwtError:Nje,isAuthError:Rje,isAuthApiError:Ije,isAuthSessionMissingError:Dje,isAuthImplicitGrantRedirectError:Mje,isAuthRetryableFetchError:$je,isAuthWeakPasswordError:Lje,RealtimePresence:Fje,RealtimeChannel:Bje,RealtimeClient:zje,REALTIME_LISTEN_TYPES:qje,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:Uje,REALTIME_PRESENCE_LISTEN_EVENTS:Wje,REALTIME_SUBSCRIBE_STATES:Hje,REALTIME_CHANNEL_STATES:Vje}=YD||K9,Y9="https://vestbasnnejekdhiuydr.supabase.co",X9="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZlc3RiYXNubmVqZWtkaGl1eWRyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU2NTQ0NTIsImV4cCI6MjA4MTIzMDQ1Mn0.U170a90MkIIO2yTfmPiqhWpAuUc4eZbUpY1DF0hoRu8",Q9=Y9,J9=X9,be=G9(Q9,J9,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});function Ye(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ai(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function pf(e,t){const r=Ye(e);return isNaN(t)?ai(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function U1(e,t){const r=Ye(e);if(isNaN(t))return ai(e,NaN);if(!t)return r;const n=r.getDate(),i=ai(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const a=i.getDate();return n>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const W1=6048e5,Z9=864e5,XD=6e4,QD=36e5;let eV={};function tp(){return eV}function pn(e,t){const r=tp(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=Ye(e),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function mf(e){return pn(e,{weekStartsOn:1})}function JD(e){const t=Ye(e),r=t.getFullYear(),n=ai(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=mf(n),a=ai(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=mf(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Un(e){const t=Ye(e);return t.setHours(0,0,0,0),t}function gf(e){const t=Ye(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Oc(e,t){const r=Un(e),n=Un(t),i=+r-gf(r),a=+n-gf(n);return Math.round((i-a)/Z9)}function tV(e){const t=JD(e),r=ai(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),mf(r)}function rV(e,t){const r=t*7;return pf(e,r)}function nV(e,t){return U1(e,t*12)}function Nm(e,t){const r=Ye(e),n=Ye(t),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function xi(e,t){const r=Un(e),n=Un(t);return+r==+n}function iV(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function aV(e){if(!iV(e)&&typeof e!="number")return!1;const t=Ye(e);return!isNaN(Number(t))}function oV(e,t){const r=Ye(e),n=Ye(t),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function sV(e){const t=Ye(e);return Math.trunc(t.getMonth()/3)+1}function lV(e,t,r){const n=pn(e,r),i=pn(t,r),a=+n-gf(n),o=+i-gf(i);return Math.round((a-o)/W1)}function cV(e,t){const r=Ye(e),n=Ye(t),i=nk(r,n),a=Math.abs(Oc(r,n));r.setDate(r.getDate()-i*a);const o=+(nk(r,n)===-i),s=i*(a-o);return s===0?0:s}function nk(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function uV(e){const t=Ye(e);return t.setHours(23,59,59,999),t}function rp(e){const t=Ye(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function dV(e){const t=Ye(e);return+uV(t)==+rp(t)}function fV(e,t){const r=Ye(e),n=Ye(t),i=Nm(r,n),a=Math.abs(oV(r,n));let o;if(a<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*a);let s=Nm(r,n)===-i;dV(Ye(e))&&a===1&&Nm(e,n)===1&&(s=!1),o=i*(a-Number(s))}return o===0?0:o}function ln(e,t){const r=Ye(e.start),n=Ye(e.end);let i=+r>+n;const a=i?+r:+n,o=i?n:r;o.setHours(0,0,0,0);let s=1;const l=[];for(;+o<=a;)l.push(Ye(o)),o.setDate(o.getDate()+s),o.setHours(0,0,0,0);return i?l.reverse():l}function wi(e){const t=Ye(e);return t.setDate(1),t.setHours(0,0,0,0),t}function hV(e){const t=Ye(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function np(e){const t=Ye(e),r=ai(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function pV(e,t){const r=t?.weekStartsOn,n=Ye(e),i=n.getDay(),a=(i<r?-7:0)+6-(i-r);return n.setDate(n.getDate()+a),n.setHours(23,59,59,999),n}const mV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},gV=(e,t,r)=>{let n;const i=mV[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function as(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const vV={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},yV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},bV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xV={date:as({formats:vV,defaultWidth:"full"}),time:as({formats:yV,defaultWidth:"full"}),dateTime:as({formats:bV,defaultWidth:"full"})},wV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},_V=(e,t,r,n)=>wV[e];function Hn(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,s=r?.width?String(r.width):o;i=e.formattingValues[s]||e.formattingValues[o]}else{const o=e.defaultWidth,s=r?.width?String(r.width):e.defaultWidth;i=e.values[s]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const SV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},jV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},EV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},AV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},OV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},CV=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},PV={ordinalNumber:CV,era:Hn({values:SV,defaultWidth:"wide"}),quarter:Hn({values:jV,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Hn({values:kV,defaultWidth:"wide"}),day:Hn({values:EV,defaultWidth:"wide"}),dayPeriod:Hn({values:AV,defaultWidth:"wide",formattingValues:OV,defaultFormattingWidth:"wide"})};function Vn(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?NV(s,f=>f.test(o)):TV(s,f=>f.test(o));let c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const u=t.slice(o.length);return{value:c,rest:u}}}function TV(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function NV(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function ZD(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const s=t.slice(i.length);return{value:o,rest:s}}}const RV=/^(\d+)(th|st|nd|rd)?/i,IV=/\d+/i,DV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},MV={any:[/^b/i,/^(a|c)/i]},$V={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},LV={any:[/1/i,/2/i,/3/i,/4/i]},FV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},BV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},zV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},UV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},WV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},HV={ordinalNumber:ZD({matchPattern:RV,parsePattern:IV,valueCallback:e=>parseInt(e,10)}),era:Vn({matchPatterns:DV,defaultMatchWidth:"wide",parsePatterns:MV,defaultParseWidth:"any"}),quarter:Vn({matchPatterns:$V,defaultMatchWidth:"wide",parsePatterns:LV,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Vn({matchPatterns:FV,defaultMatchWidth:"wide",parsePatterns:BV,defaultParseWidth:"any"}),day:Vn({matchPatterns:zV,defaultMatchWidth:"wide",parsePatterns:qV,defaultParseWidth:"any"}),dayPeriod:Vn({matchPatterns:UV,defaultMatchWidth:"any",parsePatterns:WV,defaultParseWidth:"any"})},VV={code:"en-US",formatDistance:gV,formatLong:xV,formatRelative:_V,localize:PV,match:HV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function KV(e){const t=Ye(e);return Oc(t,np(t))+1}function GV(e){const t=Ye(e),r=+mf(t)-+tV(t);return Math.round(r/W1)+1}function eM(e,t){const r=Ye(e),n=r.getFullYear(),i=tp(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=ai(e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const s=pn(o,t),l=ai(e,0);l.setFullYear(n,0,a),l.setHours(0,0,0,0);const c=pn(l,t);return r.getTime()>=s.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function YV(e,t){const r=tp(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=eM(e,t),a=ai(e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),pn(a,t)}function XV(e,t){const r=Ye(e),n=+pn(r,t)-+YV(r,t);return Math.round(n/W1)+1}function mt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Vi={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return mt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):mt(r+1,2)},d(e,t){return mt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(e,t){return mt(e.getHours()%12||12,t.length)},H(e,t){return mt(e.getHours(),t.length)},m(e,t){return mt(e.getMinutes(),t.length)},s(e,t){return mt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return mt(i,t.length)}},Mo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ik={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Vi.y(e,t)},Y:function(e,t,r,n){const i=eM(e,n),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return mt(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):mt(a,t.length)},R:function(e,t){const r=JD(e);return mt(r,t.length)},u:function(e,t){const r=e.getFullYear();return mt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return mt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return mt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Vi.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return mt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=XV(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):mt(i,t.length)},I:function(e,t,r){const n=GV(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):mt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Vi.d(e,t)},D:function(e,t,r){const n=KV(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):mt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return mt(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return mt(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return mt(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=Mo.noon:n===0?i=Mo.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=Mo.evening:n>=12?i=Mo.afternoon:n>=4?i=Mo.morning:i=Mo.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Vi.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Vi.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):mt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):mt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Vi.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Vi.s(e,t)},S:function(e,t){return Vi.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return ok(n);case"XXXX":case"XX":return Wa(n);default:return Wa(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return ok(n);case"xxxx":case"xx":return Wa(n);default:return Wa(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ak(n,":");default:return"GMT"+Wa(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ak(n,":");default:return"GMT"+Wa(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return mt(n,t.length)},T:function(e,t,r){const n=e.getTime();return mt(n,t.length)}};function ak(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+mt(a,2)}function ok(e,t){return e%60===0?(e>0?"-":"+")+mt(Math.abs(e)/60,2):Wa(e,t)}function Wa(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=mt(Math.trunc(n/60),2),a=mt(n%60,2);return r+i+t+a}const sk=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},tM=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},QV=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return sk(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",sk(n,t)).replace("{{time}}",tM(i,t))},JV={p:tM,P:QV},ZV=/^D+$/,e7=/^Y+$/,t7=["D","DD","YY","YYYY"];function r7(e){return ZV.test(e)}function n7(e){return e7.test(e)}function i7(e,t,r){const n=a7(e,t,r);if(console.warn(n),t7.includes(e))throw new RangeError(n)}function a7(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const o7=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,s7=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,l7=/^'([^]*?)'?$/,c7=/''/g,u7=/[a-zA-Z]/;function Ge(e,t,r){const n=tp(),i=r?.locale??n.locale??VV,a=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=Ye(e);if(!aV(s))throw new RangeError("Invalid time value");let l=t.match(s7).map(u=>{const f=u[0];if(f==="p"||f==="P"){const p=JV[f];return p(u,i.formatLong)}return u}).join("").match(o7).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const f=u[0];if(f==="'")return{isToken:!1,value:d7(u)};if(ik[f])return{isToken:!0,value:u};if(f.match(u7))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:u}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const c={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return l.map(u=>{if(!u.isToken)return u.value;const f=u.value;(!r?.useAdditionalWeekYearTokens&&n7(f)||!r?.useAdditionalDayOfYearTokens&&r7(f))&&i7(f,t,String(e));const p=ik[f[0]];return p(s,f,i.localize,c)}).join("")}function d7(e){const t=e.match(l7);return t?t[1].replace(c7,"'"):e}function f7(e){return Ye(e).getDate()}function h7(e){return Ye(e).getDay()}function p7(e,t){const r=t?.weekStartsOn,n=f7(e);if(isNaN(n))return NaN;const i=h7(wi(e));let a=r-i;a<=0&&(a+=7);const o=n-a;return Math.ceil(o/7)+1}function m7(e){const t=Ye(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function g7(e,t){return lV(m7(e),wi(e),t)+1}function Xi(e,t){const r=Ye(e),n=Ye(t);return r.getTime()>n.getTime()}function Bn(e,t){const r=Ye(e),n=Ye(t);return+r<+n}function lk(e,t,r){const n=pn(e,r),i=pn(t,r);return+n==+i}function Ut(e,t){return pf(e,-t)}function v7(e,t){const n=w7(e);let i;if(n.date){const l=_7(n.date,2);i=S7(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const a=i.getTime();let o=0,s;if(n.time&&(o=j7(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(s=k7(n.timezone),isNaN(s))return new Date(NaN)}else{const l=new Date(a+o),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(a+o+s)}const od={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},y7=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,b7=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,x7=/^([+-])(\d{2})(?::?(\d{2}))?$/;function w7(e){const t={},r=e.split(od.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],od.timeZoneDelimiter.test(t.date)&&(t.date=e.split(od.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const i=od.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function _7(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((n[1]||n[2]).length)}}function S7(e,t){if(t===null)return new Date(NaN);const r=e.match(y7);if(!r)return new Date(NaN);const n=!!r[4],i=Nl(r[1]),a=Nl(r[2])-1,o=Nl(r[3]),s=Nl(r[4]),l=Nl(r[5])-1;if(n)return P7(t,s,l)?E7(t,s,l):new Date(NaN);{const c=new Date(0);return!O7(t,a,o)||!C7(t,i)?new Date(NaN):(c.setUTCFullYear(t,a,Math.max(i,o)),c)}}function Nl(e){return e?parseInt(e):1}function j7(e){const t=e.match(b7);if(!t)return NaN;const r=Rm(t[1]),n=Rm(t[2]),i=Rm(t[3]);return T7(r,n,i)?r*QD+n*XD+i*1e3:NaN}function Rm(e){return e&&parseFloat(e.replace(",","."))||0}function k7(e){if(e==="Z")return 0;const t=e.match(x7);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return N7(n,i)?r*(n*QD+i*XD):NaN}function E7(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,a=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}const A7=[31,null,31,30,31,30,31,31,30,31,30,31];function rM(e){return e%400===0||e%4===0&&e%100!==0}function O7(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(A7[t]||(rM(e)?29:28))}function C7(e,t){return t>=1&&t<=(rM(e)?366:365)}function P7(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function T7(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function N7(e,t){return t>=0&&t<=59}function ck(e,t){return U1(e,-t)}function R7(e,t){return rV(e,-1)}function I7(e,t){return nV(e,-1)}function $o(e=new Date){return Ge(e,"yyyy-MM-dd")}function D7(e,t,r){return!(e<t||r&&e>r)}function H1(){const e=ja(),{data:t,isLoading:r,refetch:n}=ii({queryKey:["goals"],queryFn:async()=>{const{data:m,error:g}=await be.from("goals").select("*").order("display_order",{ascending:!0,nullsFirst:!1}).order("created_at",{ascending:!0});if(g)throw Ue.error("Errore caricamento obiettivi"),g;return m}}),{data:i,isLoading:a}=ii({queryKey:["goal_logs"],queryFn:async()=>{let m=[],g=0;const y=1e3;let b=!0;for(;b;){const{data:x,error:_}=await be.from("goal_logs").select("*").range(g,g+y-1);if(_)throw console.error(_),_;x&&x.length>0?(m=[...m,...x],x.length<y?b=!1:g+=y):b=!1}return m}}),o={};i&&i.forEach(m=>{o[m.date]||(o[m.date]={}),o[m.date][m.goal_id]=m.status});const s=an({mutationFn:async m=>{const{data:{session:g}}=await be.auth.getSession();if(!g)throw new Error("Non sei autenticato. Effettua il login.");const{data:y}=await be.from("goals").select("display_order").eq("user_id",g.user.id).order("display_order",{ascending:!1,nullsFirst:!1}).limit(1),b=y&&y.length>0&&y[0].display_order?y[0].display_order+1:1,{data:x,error:_}=await be.from("goals").insert([{title:m.title,color:m.color,start_date:m.start_date||$o(new Date),user_id:g.user.id,display_order:b}]).select().single();if(_)throw _;return x},onSuccess:()=>{e.invalidateQueries({queryKey:["goals"]}),Ue.success("Obiettivo creato")},onError:m=>{Ue.error("Errore creazione: "+m.message)}}),l=an({mutationFn:async({id:m,title:g,color:y})=>{const{data:{session:b}}=await be.auth.getSession();if(!b)throw new Error("Non sei autenticato. Effettua il login.");const{error:x}=await be.from("goals").update({title:g,color:y}).eq("id",m).eq("user_id",b.user.id);if(x)throw x},onSuccess:()=>{e.invalidateQueries({queryKey:["goals"]}),Ue.success("Abitudine aggiornata")},onError:m=>{Ue.error("Errore aggiornamento: "+m.message)}}),c=async m=>{const g=new Date;g.setDate(g.getDate()-1);const{error:y}=await be.from("goals").update({end_date:$o(g)}).eq("id",m);if(y)throw console.error("Soft delete failed:",y),y},u=an({mutationFn:async m=>{const{count:g,error:y}=await be.from("goal_logs").select("*",{count:"exact",head:!0}).eq("goal_id",m);if(y)throw y;if(g&&g>0)await c(m);else try{const{error:b}=await be.from("goals").delete().eq("id",m);b&&(console.warn("Hard delete failed, falling back to soft delete",b),await c(m))}catch(b){console.warn("Hard delete exception, falling back to soft delete",b),await c(m)}},onSuccess:()=>{e.invalidateQueries({queryKey:["goals"]}),Ue.success("Obiettivo eliminato")},onError:m=>{Ue.error("Errore eliminazione: "+m.message)}}),f=an({mutationFn:async()=>{const{data:{session:m}}=await be.auth.getSession();if(!m)throw new Error("Not authenticated");const{error:g}=await be.from("goal_logs").delete().eq("user_id",m.user.id);if(g)throw g;const{error:y}=await be.from("goals").delete().eq("user_id",m.user.id);if(y)throw y},onSuccess:()=>{e.invalidateQueries({queryKey:["goals"]}),e.invalidateQueries({queryKey:["goal_logs"]}),Ue.success("Reset completo effettuato")},onError:m=>{Ue.error("Errore reset: "+m.message)}}),p=(t||[]).filter(m=>!m.end_date||m.end_date>=$o(new Date)),h=an({mutationFn:async({goalId:m,date:g,currentStatus:y})=>{const b=$o(g),{data:{session:x}}=await be.auth.getSession(),{data:_,error:w}=await be.from("goals").select("start_date, end_date").eq("id",m).single();if(w||!_)throw w||new Error("Goal not found");const j=_;if(!D7(b,j.start_date,j.end_date))throw new Error("Impossibile modificare un obiettivo fuori dal suo periodo di validit.");let k="done";if(y==="done"?k="missed":y==="missed"&&(k=null),k===null){const{error:C}=await be.from("goal_logs").delete().eq("goal_id",m).eq("date",b);if(C)throw C}else{const{error:C}=await be.from("goal_logs").upsert({goal_id:m,date:b,status:k,user_id:x?.user.id},{onConflict:"goal_id, date"});if(C)throw C}return{goalId:m,dateStr:b,nextStatus:k}},onMutate:async({goalId:m,date:g,currentStatus:y})=>{await e.cancelQueries({queryKey:["goal_logs"]});const b=e.getQueryData(["goal_logs"]),x=$o(g);let _="done";return y==="done"?_="missed":y==="missed"&&(_=null),e.setQueryData(["goal_logs"],w=>{if(!w)return[];const j=w.filter(k=>!(k.goal_id===m&&k.date===x));return _?[...j,{id:"temp-"+Date.now(),goal_id:m,date:x,status:_,created_at:"",updated_at:""}]:j}),{previousLogs:b}},onError:(m,g,y)=>{e.setQueryData(["goal_logs"],y?.previousLogs),Ue.error("Errore aggiornamento")},onSettled:()=>{e.invalidateQueries({queryKey:["goal_logs"]})}}),v=an({mutationFn:async m=>{const{data:{session:g}}=await be.auth.getSession();if(!g)throw new Error("Non sei autenticato. Effettua il login.");const y=m.map(async({id:b,display_order:x})=>{const{error:_}=await be.from("goals").update({display_order:x}).eq("id",b).eq("user_id",g.user.id);if(_)throw _;return{id:b,display_order:x}});await Promise.all(y)},onSuccess:async()=>{await e.invalidateQueries({queryKey:["goals"]}),setTimeout(()=>{e.refetchQueries({queryKey:["goals"]})},100),Ue.success("Ordine salvato")},onError:m=>{Ue.error("Errore salvataggio ordine: "+m.message)}});return{goals:p,allGoals:t||[],logs:o,rawLogs:i||[],isLoading:r||a,createGoal:s.mutate,updateGoal:l.mutate,isUpdating:l.isPending,updateOrder:v.mutate,isUpdatingOrder:v.isPending,deleteGoal:u.mutate,isDeleting:u.isPending,resetAllData:f.mutate,isResetting:f.isPending,toggleGoal:async(m,g)=>{const y=$o(m),b=o[y]?.[g]||null;h.mutate({goalId:g,date:m,currentStatus:b})}}}const nM=S.createContext(void 0),M7=({children:e})=>{const[t,r]=S.useState(!1),n=()=>{r(i=>!i)};return d.jsx(nM.Provider,{value:{isPrivacyMode:t,setIsPrivacyMode:r,togglePrivacyMode:n},children:e})},ip=()=>{const e=S.useContext(nM);if(e===void 0)throw new Error("usePrivacy must be used within a PrivacyProvider");return e},V1=wu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Xe=S.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},a)=>{const o=n?Xz:"button";return d.jsx(o,{className:ae(V1({variant:t,size:r,className:e})),ref:a,...i})});Xe.displayName="Button";const $7={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXWeeks:{one:"circa una settimana",other:"circa {{count}} settimane"},xWeeks:{one:"una settimana",other:"{{count}} settimane"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"pi di un anno",other:"pi di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}},L7=(e,t,r)=>{let n;const i=$7[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"tra "+n:n+" fa":n},F7={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},B7={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},z7={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},q7={date:as({formats:F7,defaultWidth:"full"}),time:as({formats:B7,defaultWidth:"full"}),dateTime:as({formats:z7,defaultWidth:"full"})},K1=["domenica","luned","marted","mercoled","gioved","venerd","sabato"];function U7(e){return e===0?"'domenica scorsa alle' p":"'"+K1[e]+" scorso alle' p"}function uk(e){return"'"+K1[e]+" alle' p"}function W7(e){return e===0?"'domenica prossima alle' p":"'"+K1[e]+" prossimo alle' p"}const H7={lastWeek:(e,t,r)=>{const n=e.getDay();return lk(e,t,r)?uk(n):U7(n)},yesterday:"'ieri alle' p",today:"'oggi alle' p",tomorrow:"'domani alle' p",nextWeek:(e,t,r)=>{const n=e.getDay();return lk(e,t,r)?uk(n):W7(n)},other:"P"},V7=(e,t,r,n)=>{const i=H7[e];return typeof i=="function"?i(t,r,n):i},K7={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["avanti Cristo","dopo Cristo"]},G7={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},Y7={narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},X7={narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],abbreviated:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","luned","marted","mercoled","gioved","venerd","sabato"]},Q7={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"}},J7={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"}},Z7=(e,t)=>{const r=Number(e);return String(r)},eK={ordinalNumber:Z7,era:Hn({values:K7,defaultWidth:"wide"}),quarter:Hn({values:G7,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Hn({values:Y7,defaultWidth:"wide"}),day:Hn({values:X7,defaultWidth:"wide"}),dayPeriod:Hn({values:Q7,defaultWidth:"wide",formattingValues:J7,defaultFormattingWidth:"wide"})},tK=/^(\d+)()?/i,rK=/\d+/i,nK={narrow:/^(aC|dC)/i,abbreviated:/^(a\.?\s?C\.?|a\.?\s?e\.?\s?v\.?|d\.?\s?C\.?|e\.?\s?v\.?)/i,wide:/^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i},iK={any:[/^a/i,/^(d|e)/i]},aK={narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234]()? trimestre/i},oK={any:[/1/i,/2/i,/3/i,/4/i]},sK={narrow:/^[gfmalsond]/i,abbreviated:/^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,wide:/^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i},lK={narrow:[/^g/i,/^f/i,/^m/i,/^a/i,/^m/i,/^g/i,/^l/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ge/i,/^f/i,/^mar/i,/^ap/i,/^mag/i,/^gi/i,/^l/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},cK={narrow:/^[dlmgvs]/i,short:/^(do|lu|ma|me|gi|ve|sa)/i,abbreviated:/^(dom|lun|mar|mer|gio|ven|sab)/i,wide:/^(domenica|luned[i|]|marted[i|]|mercoled[i|]|gioved[i|]|venerd[i|]|sabato)/i},uK={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^g/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^me/i,/^g/i,/^v/i,/^s/i]},dK={narrow:/^(a|m\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,any:/^([ap]\.?\s?m\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i},fK={any:{am:/^a/i,pm:/^p/i,midnight:/^mezza/i,noon:/^mezzo/i,morning:/mattina/i,afternoon:/pomeriggio/i,evening:/sera/i,night:/notte/i}},hK={ordinalNumber:ZD({matchPattern:tK,parsePattern:rK,valueCallback:e=>parseInt(e,10)}),era:Vn({matchPatterns:nK,defaultMatchWidth:"wide",parsePatterns:iK,defaultParseWidth:"any"}),quarter:Vn({matchPatterns:aK,defaultMatchWidth:"wide",parsePatterns:oK,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Vn({matchPatterns:sK,defaultMatchWidth:"wide",parsePatterns:lK,defaultParseWidth:"any"}),day:Vn({matchPatterns:cK,defaultMatchWidth:"wide",parsePatterns:uK,defaultParseWidth:"any"}),dayPeriod:Vn({matchPatterns:dK,defaultMatchWidth:"any",parsePatterns:fK,defaultParseWidth:"any"})},Rr={code:"it",formatDistance:L7,formatLong:q7,formatRelative:V7,localize:eK,match:hK,options:{weekStartsOn:1,firstWeekContainsDate:4}};function ua(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}var pK="DismissableLayer",rx="dismissableLayer.update",mK="dismissableLayer.pointerDownOutside",gK="dismissableLayer.focusOutside",dk,iM=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),aM=S.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=e,c=S.useContext(iM),[u,f]=S.useState(null),p=u?.ownerDocument??globalThis?.document,[,h]=S.useState({}),v=$e(t,k=>f(k)),m=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(g),b=u?m.indexOf(u):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,_=b>=y,w=bK(k=>{const C=k.target,P=[...c.branches].some(O=>O.contains(C));!_||P||(i?.(k),o?.(k),k.defaultPrevented||s?.())},p),j=xK(k=>{const C=k.target;[...c.branches].some(O=>O.contains(C))||(a?.(k),o?.(k),k.defaultPrevented||s?.())},p);return rR(k=>{b===c.layers.size-1&&(n?.(k),!k.defaultPrevented&&s&&(k.preventDefault(),s()))},p),S.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(dk=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),fk(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=dk)}},[u,p,r,c]),S.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),fk())},[u,c]),S.useEffect(()=>{const k=()=>h({});return document.addEventListener(rx,k),()=>document.removeEventListener(rx,k)},[]),d.jsx(Ee.div,{...l,ref:v,style:{pointerEvents:x?_?"auto":"none":void 0,...e.style},onFocusCapture:ua(e.onFocusCapture,j.onFocusCapture),onBlurCapture:ua(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:ua(e.onPointerDownCapture,w.onPointerDownCapture)})});aM.displayName=pK;var vK="DismissableLayerBranch",yK=S.forwardRef((e,t)=>{const r=S.useContext(iM),n=S.useRef(null),i=$e(t,n);return S.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),d.jsx(Ee.div,{...e,ref:i})});yK.displayName=vK;function bK(e,t=globalThis?.document){const r=Lt(e),n=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const a=s=>{if(s.target&&!n.current){let l=function(){oM(mK,r,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function xK(e,t=globalThis?.document){const r=Lt(e),n=S.useRef(!1);return S.useEffect(()=>{const i=a=>{a.target&&!n.current&&oM(gK,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function fk(){const e=new CustomEvent(rx);document.dispatchEvent(e)}function oM(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?u1(i,a):i.dispatchEvent(a)}var Im="focusScope.autoFocusOnMount",Dm="focusScope.autoFocusOnUnmount",hk={bubbles:!1,cancelable:!0},wK="FocusScope",G1=S.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[s,l]=S.useState(null),c=Lt(i),u=Lt(a),f=S.useRef(null),p=$e(t,m=>l(m)),h=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(n){let m=function(x){if(h.paused||!s)return;const _=x.target;s.contains(_)?f.current=_:Gi(f.current,{select:!0})},g=function(x){if(h.paused||!s)return;const _=x.relatedTarget;_!==null&&(s.contains(_)||Gi(f.current,{select:!0}))},y=function(x){if(document.activeElement===document.body)for(const w of x)w.removedNodes.length>0&&Gi(s)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const b=new MutationObserver(y);return s&&b.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),b.disconnect()}}},[n,s,h.paused]),S.useEffect(()=>{if(s){mk.add(h);const m=document.activeElement;if(!s.contains(m)){const y=new CustomEvent(Im,hk);s.addEventListener(Im,c),s.dispatchEvent(y),y.defaultPrevented||(_K(AK(sM(s)),{select:!0}),document.activeElement===m&&Gi(s))}return()=>{s.removeEventListener(Im,c),setTimeout(()=>{const y=new CustomEvent(Dm,hk);s.addEventListener(Dm,u),s.dispatchEvent(y),y.defaultPrevented||Gi(m??document.body,{select:!0}),s.removeEventListener(Dm,u),mk.remove(h)},0)}}},[s,c,u,h]);const v=S.useCallback(m=>{if(!r&&!n||h.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(g&&y){const b=m.currentTarget,[x,_]=SK(b);x&&_?!m.shiftKey&&y===_?(m.preventDefault(),r&&Gi(x,{select:!0})):m.shiftKey&&y===x&&(m.preventDefault(),r&&Gi(_,{select:!0})):y===b&&m.preventDefault()}},[r,n,h.paused]);return d.jsx(Ee.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});G1.displayName=wK;function _K(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Gi(n,{select:t}),document.activeElement!==r)return}function SK(e){const t=sM(e),r=pk(t,e),n=pk(t.reverse(),e);return[r,n]}function sM(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function pk(e,t){for(const r of e)if(!jK(r,{upTo:t}))return r}function jK(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function kK(e){return e instanceof HTMLInputElement&&"select"in e}function Gi(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&kK(e)&&t&&e.select()}}var mk=EK();function EK(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=gk(e,t),e.unshift(t)},remove(t){e=gk(e,t),e[0]?.resume()}}}function gk(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function AK(e){return e.filter(t=>t.tagName!=="A")}function OK(e,t){return S.useReducer((r,n)=>t[r][n]??r,e)}var ap=e=>{const{present:t,children:r}=e,n=CK(t),i=typeof r=="function"?r({present:n.isPresent}):S.Children.only(r),a=$e(n.ref,PK(i));return typeof r=="function"||n.isPresent?S.cloneElement(i,{ref:a}):null};ap.displayName="Presence";function CK(e){const[t,r]=S.useState(),n=S.useRef(null),i=S.useRef(e),a=S.useRef("none"),o=e?"mounted":"unmounted",[s,l]=OK(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const c=sd(n.current);a.current=s==="mounted"?c:"none"},[s]),Ht(()=>{const c=n.current,u=i.current;if(u!==e){const p=a.current,h=sd(c);e?l("MOUNT"):h==="none"||c?.display==="none"?l("UNMOUNT"):l(u&&p!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Ht(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,f=h=>{const m=sd(n.current).includes(CSS.escape(h.animationName));if(h.target===t&&m&&(l("ANIMATION_END"),!i.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},p=h=>{h.target===t&&(a.current=sd(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:S.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function sd(e){return e?.animationName||"none"}function PK(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Mm=0;function TK(){S.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??vk()),document.body.insertAdjacentElement("beforeend",e[1]??vk()),Mm++,()=>{Mm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Mm--}},[])}function vk(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Wd="right-scroll-bar-position",Hd="width-before-scroll-bar",NK="with-scroll-bars-hidden",RK="--removed-body-scroll-bar-size";function $m(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function IK(e,t){var r=S.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var DK=typeof window<"u"?S.useLayoutEffect:S.useEffect,yk=new WeakMap;function MK(e,t){var r=IK(null,function(n){return e.forEach(function(i){return $m(i,n)})});return DK(function(){var n=yk.get(r);if(n){var i=new Set(n),a=new Set(e),o=r.current;i.forEach(function(s){a.has(s)||$m(s,null)}),a.forEach(function(s){i.has(s)||$m(s,o)})}yk.set(r,e)},[e]),r}function $K(e){return e}function LK(e,t){t===void 0&&(t=$K);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(s){return a(s)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var s=r;r=[],s.forEach(a),o=r}var l=function(){var u=o;o=[],u.forEach(a)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),r}}}};return i}function FK(e){e===void 0&&(e={});var t=LK(null);return t.options=sn({async:!0,ssr:!1},e),t}var lM=function(e){var t=e.sideCar,r=ka(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return S.createElement(n,sn({},r))};lM.isSideCarExport=!0;function BK(e,t){return e.useMedium(t),lM}var cM=FK(),Lm=function(){},op=S.forwardRef(function(e,t){var r=S.useRef(null),n=S.useState({onScrollCapture:Lm,onWheelCapture:Lm,onTouchMoveCapture:Lm}),i=n[0],a=n[1],o=e.forwardProps,s=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,f=e.shards,p=e.sideCar,h=e.noRelative,v=e.noIsolation,m=e.inert,g=e.allowPinchZoom,y=e.as,b=y===void 0?"div":y,x=e.gapMode,_=ka(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=p,j=MK([r,t]),k=sn(sn({},_),i);return S.createElement(S.Fragment,null,u&&S.createElement(w,{sideCar:cM,removeScrollBar:c,shards:f,noRelative:h,noIsolation:v,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:r,gapMode:x}),o?S.cloneElement(S.Children.only(s),sn(sn({},k),{ref:j})):S.createElement(b,sn({},k,{className:l,ref:j}),s))});op.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};op.classNames={fullWidth:Hd,zeroRight:Wd};var zK=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function qK(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=zK();return t&&e.setAttribute("nonce",t),e}function UK(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function WK(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var HK=function(){var e=0,t=null;return{add:function(r){e==0&&(t=qK())&&(UK(t,r),WK(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},VK=function(){var e=HK();return function(t,r){S.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},uM=function(){var e=VK(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},KK={left:0,top:0,right:0,gap:0},Fm=function(e){return parseInt(e||"",10)||0},GK=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Fm(r),Fm(n),Fm(i)]},YK=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return KK;var t=GK(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},XK=uM(),os="data-scroll-locked",QK=function(e,t,r,n){var i=e.left,a=e.top,o=e.right,s=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(NK,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(os,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wd,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(Hd,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(Wd," .").concat(Wd,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Hd," .").concat(Hd,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(os,`] {
    `).concat(RK,": ").concat(s,`px;
  }
`)},bk=function(){var e=parseInt(document.body.getAttribute(os)||"0",10);return isFinite(e)?e:0},JK=function(){S.useEffect(function(){return document.body.setAttribute(os,(bk()+1).toString()),function(){var e=bk()-1;e<=0?document.body.removeAttribute(os):document.body.setAttribute(os,e.toString())}},[])},ZK=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;JK();var a=S.useMemo(function(){return YK(i)},[i]);return S.createElement(XK,{styles:QK(a,!t,i,r?"":"!important")})},nx=!1;if(typeof window<"u")try{var ld=Object.defineProperty({},"passive",{get:function(){return nx=!0,!0}});window.addEventListener("test",ld,ld),window.removeEventListener("test",ld,ld)}catch{nx=!1}var Lo=nx?{passive:!1}:!1,eG=function(e){return e.tagName==="TEXTAREA"},dM=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!eG(e)&&r[t]==="visible")},tG=function(e){return dM(e,"overflowY")},rG=function(e){return dM(e,"overflowX")},xk=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=fM(e,n);if(i){var a=hM(e,n),o=a[1],s=a[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},nG=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},iG=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},fM=function(e,t){return e==="v"?tG(t):rG(t)},hM=function(e,t){return e==="v"?nG(t):iG(t)},aG=function(e,t){return e==="h"&&t==="rtl"?-1:1},oG=function(e,t,r,n,i){var a=aG(e,window.getComputedStyle(t).direction),o=a*n,s=r.target,l=t.contains(s),c=!1,u=o>0,f=0,p=0;do{if(!s)break;var h=hM(e,s),v=h[0],m=h[1],g=h[2],y=m-g-a*v;(v||y)&&fM(e,s)&&(f+=y,p+=v);var b=s.parentNode;s=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(u&&Math.abs(f)<1||!u&&Math.abs(p)<1)&&(c=!0),c},cd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},wk=function(e){return[e.deltaX,e.deltaY]},_k=function(e){return e&&"current"in e?e.current:e},sG=function(e,t){return e[0]===t[0]&&e[1]===t[1]},lG=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},cG=0,Fo=[];function uG(e){var t=S.useRef([]),r=S.useRef([0,0]),n=S.useRef(),i=S.useState(cG++)[0],a=S.useState(uM)[0],o=S.useRef(e);S.useEffect(function(){o.current=e},[e]),S.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=I1([e.lockRef.current],(e.shards||[]).map(_k),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=S.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var y=cd(m),b=r.current,x="deltaX"in m?m.deltaX:b[0]-y[0],_="deltaY"in m?m.deltaY:b[1]-y[1],w,j=m.target,k=Math.abs(x)>Math.abs(_)?"h":"v";if("touches"in m&&k==="h"&&j.type==="range")return!1;var C=xk(k,j);if(!C)return!0;if(C?w=k:(w=k==="v"?"h":"v",C=xk(k,j)),!C)return!1;if(!n.current&&"changedTouches"in m&&(x||_)&&(n.current=w),!w)return!0;var P=n.current||w;return oG(P,g,m,P==="h"?x:_)},[]),l=S.useCallback(function(m){var g=m;if(!(!Fo.length||Fo[Fo.length-1]!==a)){var y="deltaY"in g?wk(g):cd(g),b=t.current.filter(function(w){return w.name===g.type&&(w.target===g.target||g.target===w.shadowParent)&&sG(w.delta,y)})[0];if(b&&b.should){g.cancelable&&g.preventDefault();return}if(!b){var x=(o.current.shards||[]).map(_k).filter(Boolean).filter(function(w){return w.contains(g.target)}),_=x.length>0?s(g,x[0]):!o.current.noIsolation;_&&g.cancelable&&g.preventDefault()}}},[]),c=S.useCallback(function(m,g,y,b){var x={name:m,delta:g,target:y,should:b,shadowParent:dG(y)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(_){return _!==x})},1)},[]),u=S.useCallback(function(m){r.current=cd(m),n.current=void 0},[]),f=S.useCallback(function(m){c(m.type,wk(m),m.target,s(m,e.lockRef.current))},[]),p=S.useCallback(function(m){c(m.type,cd(m),m.target,s(m,e.lockRef.current))},[]);S.useEffect(function(){return Fo.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Lo),document.addEventListener("touchmove",l,Lo),document.addEventListener("touchstart",u,Lo),function(){Fo=Fo.filter(function(m){return m!==a}),document.removeEventListener("wheel",l,Lo),document.removeEventListener("touchmove",l,Lo),document.removeEventListener("touchstart",u,Lo)}},[]);var h=e.removeScrollBar,v=e.inert;return S.createElement(S.Fragment,null,v?S.createElement(a,{styles:lG(i)}):null,h?S.createElement(ZK,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function dG(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const fG=BK(cM,uG);var Y1=S.forwardRef(function(e,t){return S.createElement(op,sn({},e,{ref:t,sideCar:fG}))});Y1.classNames=op.classNames;var hG=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Bo=new WeakMap,ud=new WeakMap,dd={},Bm=0,pM=function(e){return e&&(e.host||pM(e.parentNode))},pG=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=pM(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},mG=function(e,t,r,n){var i=pG(t,Array.isArray(e)?e:[e]);dd[r]||(dd[r]=new WeakMap);var a=dd[r],o=[],s=new Set,l=new Set(i),c=function(f){!f||s.has(f)||(s.add(f),c(f.parentNode))};i.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(s.has(p))u(p);else try{var h=p.getAttribute(n),v=h!==null&&h!=="false",m=(Bo.get(p)||0)+1,g=(a.get(p)||0)+1;Bo.set(p,m),a.set(p,g),o.push(p),m===1&&v&&ud.set(p,!0),g===1&&p.setAttribute(r,"true"),v||p.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",p,y)}})};return u(t),s.clear(),Bm++,function(){o.forEach(function(f){var p=Bo.get(f)-1,h=a.get(f)-1;Bo.set(f,p),a.set(f,h),p||(ud.has(f)||f.removeAttribute(n),ud.delete(f)),h||f.removeAttribute(r)}),Bm--,Bm||(Bo=new WeakMap,Bo=new WeakMap,ud=new WeakMap,dd={})}},mM=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=hG(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),mG(n,i,r,"aria-hidden")):function(){return null}},sp="Dialog",[gM,vM]=Or(sp),[gG,Ln]=gM(sp),yM=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,s=S.useRef(null),l=S.useRef(null),[c,u]=ri({prop:n,defaultProp:i??!1,onChange:a,caller:sp});return d.jsx(gG,{scope:t,triggerRef:s,contentRef:l,contentId:Ei(),titleId:Ei(),descriptionId:Ei(),open:c,onOpenChange:u,onOpenToggle:S.useCallback(()=>u(f=>!f),[u]),modal:o,children:r})};yM.displayName=sp;var bM="DialogTrigger",xM=S.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ln(bM,r),a=$e(t,i.triggerRef);return d.jsx(Ee.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":J1(i.open),...n,ref:a,onClick:ua(e.onClick,i.onOpenToggle)})});xM.displayName=bM;var X1="DialogPortal",[vG,wM]=gM(X1,{forceMount:void 0}),_M=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=Ln(X1,t);return d.jsx(vG,{scope:t,forceMount:r,children:S.Children.map(n,o=>d.jsx(ap,{present:r||a.open,children:d.jsx(Mh,{asChild:!0,container:i,children:o})}))})};_M.displayName=X1;var vf="DialogOverlay",SM=S.forwardRef((e,t)=>{const r=wM(vf,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=Ln(vf,e.__scopeDialog);return a.modal?d.jsx(ap,{present:n||a.open,children:d.jsx(bG,{...i,ref:t})}):null});SM.displayName=vf;var yG=wc("DialogOverlay.RemoveScroll"),bG=S.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ln(vf,r);return d.jsx(Y1,{as:yG,allowPinchZoom:!0,shards:[i.contentRef],children:d.jsx(Ee.div,{"data-state":J1(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),mo="DialogContent",jM=S.forwardRef((e,t)=>{const r=wM(mo,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=Ln(mo,e.__scopeDialog);return d.jsx(ap,{present:n||a.open,children:a.modal?d.jsx(xG,{...i,ref:t}):d.jsx(wG,{...i,ref:t})})});jM.displayName=mo;var xG=S.forwardRef((e,t)=>{const r=Ln(mo,e.__scopeDialog),n=S.useRef(null),i=$e(t,r.contentRef,n);return S.useEffect(()=>{const a=n.current;if(a)return mM(a)},[]),d.jsx(kM,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ua(e.onCloseAutoFocus,a=>{a.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:ua(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&a.preventDefault()}),onFocusOutside:ua(e.onFocusOutside,a=>a.preventDefault())})}),wG=S.forwardRef((e,t)=>{const r=Ln(mo,e.__scopeDialog),n=S.useRef(!1),i=S.useRef(!1);return d.jsx(kM,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(n.current||r.triggerRef.current?.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;r.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),kM=S.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,s=Ln(mo,r),l=S.useRef(null),c=$e(t,l);return TK(),d.jsxs(d.Fragment,{children:[d.jsx(G1,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:d.jsx(aM,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":J1(s.open),...o,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(SG,{titleId:s.titleId}),d.jsx(kG,{contentRef:l,descriptionId:s.descriptionId})]})]})}),Q1="DialogTitle",EM=S.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ln(Q1,r);return d.jsx(Ee.h2,{id:i.titleId,...n,ref:t})});EM.displayName=Q1;var AM="DialogDescription",OM=S.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ln(AM,r);return d.jsx(Ee.p,{id:i.descriptionId,...n,ref:t})});OM.displayName=AM;var CM="DialogClose",PM=S.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ln(CM,r);return d.jsx(Ee.button,{type:"button",...n,ref:t,onClick:ua(e.onClick,()=>i.onOpenChange(!1))})});PM.displayName=CM;function J1(e){return e?"open":"closed"}var TM="DialogTitleWarning",[_G,NM]=h8(TM,{contentName:mo,titleName:Q1,docsSlug:"dialog"}),SG=({titleId:e})=>{const t=NM(TM),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return S.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},jG="DialogDescriptionWarning",kG=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${NM(jG).contentName}}.`;return S.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},lp=yM,cp=xM,up=_M,rl=SM,nl=jM,il=EM,al=OM,dp=PM;const fp=lp,Z1=cp,EG=up,RM=S.forwardRef(({className:e,...t},r)=>d.jsx(rl,{ref:r,className:ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));RM.displayName=rl.displayName;const Ou=S.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(EG,{children:[d.jsx(RM,{}),d.jsxs(nl,{ref:n,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,d.jsxs(dp,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[d.jsx(Qs,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ou.displayName=nl.displayName;const hp=({className:e,...t})=>d.jsx("div",{className:ae("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});hp.displayName="DialogHeader";const IM=({className:e,...t})=>d.jsx("div",{className:ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});IM.displayName="DialogFooter";const Cu=S.forwardRef(({className:e,...t},r)=>d.jsx(il,{ref:r,className:ae("text-lg font-semibold leading-none tracking-tight",e),...t}));Cu.displayName=il.displayName;const Pu=S.forwardRef(({className:e,...t},r)=>d.jsx(al,{ref:r,className:ae("text-sm text-muted-foreground",e),...t}));Pu.displayName=al.displayName;function e_({date:e,isOpen:t,onClose:r,habits:n,records:i,onToggleHabit:a,isPrivacyMode:o=!1,readonly:s=!1}){if(!e)return null;const l=Ge(e,"yyyy-MM-dd"),c=n.filter(u=>{const f=u.start_date<=l,p=!u.end_date||u.end_date>=l;return f&&p});return d.jsx(fp,{open:t,onOpenChange:r,children:d.jsxs(Ou,{className:"sm:max-w-[400px]",children:[d.jsxs(hp,{children:[d.jsxs("div",{className:"flex items-center justify-between pr-8",children:[d.jsx(Cu,{className:"text-xl font-display capitalize",children:Ge(e,"EEEE d MMMM",{locale:Rr})}),s?d.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-muted text-muted-foreground border border-border",children:"Solo visualizzazione"}):d.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-primary/10 text-primary border border-primary/20",children:"Modifica abilitata"})]}),d.jsx(Pu,{className:"sr-only",children:"Dettagli delle attivit giornaliere"})]}),d.jsx("div",{className:"py-2",children:d.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:d.jsx("div",{className:"space-y-3 pr-4",children:c.map(u=>{const p=(i[l]||{})[u.id],h=p==="done",v=p==="missed";return d.jsxs("div",{onClick:()=>!s&&a(u.id),className:ae("flex items-center justify-between p-3 rounded-xl border transition-all",!s&&"cursor-pointer hover:shadow-md hover:scale-[1.02] active:scale-[0.98]",s&&"opacity-90",h&&"bg-success/15 border-success/30",v&&"bg-destructive/15 border-destructive/30",!p&&"bg-card border-border",!p&&!s&&"hover:bg-accent"),children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"h-3 w-3 rounded-full ring-2 ring-offset-2 ring-offset-background",style:{backgroundColor:u.color}}),d.jsx("span",{className:ae("font-medium transition-colors transition-all duration-300",(h||v)&&"text-foreground",o&&"blur-sm"),children:u.title})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[h&&d.jsx(Fh,{className:"h-5 w-5 text-success"}),v&&d.jsx(Qs,{className:"h-5 w-5 text-destructive"}),!p&&d.jsx("div",{className:"h-5 w-5 rounded-full border-2 border-muted-foreground/30"})]})]},u.id)})})})})]})})}const AG=["Lun","Mar","Mer","Gio","Ven","Sab","Dom"],OG=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"];function CG({habits:e,records:t,onToggleHabit:r,isPrivacyMode:n=!1}){const[i,a]=S.useState(new Date),[o,s]=S.useState(null),l=i.getFullYear(),c=i.getMonth(),u=new Date(l,c,1),f=new Date(l,c+1,0);let p=u.getDay()-1;p<0&&(p=6);const h=f.getDate(),v=new Date,m=()=>a(new Date(l,c-1,1)),g=()=>a(new Date(l,c+1,1)),y=()=>a(new Date),b=k=>v.getDate()===k&&v.getMonth()===c&&v.getFullYear()===l,x=k=>{const C=new Date(l,c,k),P=new Date(v.getFullYear(),v.getMonth(),v.getDate());return C>P},_=p+h,w=Math.ceil(_/7),j=()=>{const k=[];for(let C=0;C<p;C++)k.push(d.jsx("div",{className:"aspect-auto h-full"},`empty-${C}`));for(let C=1;C<=h;C++){const P=new Date(l,c,C),O=Ge(P,"yyyy-MM-dd"),T=t[O]||{},N=x(C),D=e.filter(H=>{const z=H.start_date<=O,$=!H.end_date||H.end_date>=O;return z&&$}),E=D.filter(H=>T[H.id]==="done").length,R=D.filter(H=>T[H.id]==="missed").length,B=E+R,F=D.length;let U=0;F>0&&(U=E/F);let L={};const M=B>0;if(M&&F>0){const H=Math.round(U*142);L={backgroundColor:`hsl(${H}, 70%, 10%, 0.3)`,borderColor:`hsl(${H}, 80%, 40%, 0.5)`,boxShadow:U===1?`0 0 10px hsl(${H}, 80%, 40%, 0.2)`:"none"}}k.push(d.jsxs("button",{onClick:()=>!N&&s(P),disabled:N,style:L,className:ae("w-full h-full rounded-xl flex flex-col items-center justify-start py-[clamp(4px,1vw,8px)] transition-all duration-300 relative border border-white/5 hover:border-white/20 hover:bg-white/5 group",N&&"opacity-30 cursor-not-allowed",b(C)&&!M&&"bg-white/5 ring-1 ring-primary/50",!N&&(xi(P,new Date)||xi(P,Ut(new Date,1))&&new Date().getHours()<12)&&"ring-1 ring-primary/30 bg-primary/5"),children:[d.jsx("span",{className:ae("text-[clamp(0.7rem,2.5vw,0.9rem)] font-medium mb-[2px] font-mono-nums transition-all duration-300",b(C)&&"text-primary font-bold",M&&"text-foreground",n&&"blur-[2px]"),children:C}),d.jsx("div",{className:ae("flex flex-wrap items-center justify-center gap-0.5 px-1 w-full max-w-[80%] transition-all duration-300",n&&"blur-[1px]"),children:D.map(H=>{const z=T[H.id];return z?d.jsx("div",{className:ae("w-1 h-1 rounded-sm",z==="done"?"opacity-80":"opacity-0"),style:{backgroundColor:z==="done"?H.color:void 0}},H.id):null})})]},C))}return k};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"w-full h-full p-2 sm:p-4 animate-scale-in flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-6 shrink-0",children:[d.jsx(Xe,{variant:"ghost",size:"icon",onClick:m,children:d.jsx(m1,{className:"h-5 w-5"})}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("h2",{className:"text-xl sm:text-2xl font-display font-bold",children:[OG[c]," ",d.jsx("span",{className:"text-muted-foreground font-light",children:l})]}),d.jsx(Xe,{variant:"ghost",size:"icon",onClick:y,className:"h-8 w-8 ml-2 opacity-0 hover:opacity-100 transition-opacity",children:d.jsx(IR,{className:"h-3 w-3"})})]}),d.jsx(Xe,{variant:"ghost",size:"icon",onClick:g,children:d.jsx(Bh,{className:"h-5 w-5"})})]}),d.jsx("div",{className:"grid grid-cols-7 gap-x-[clamp(4px,1.5vw,12px)] mb-2 shrink-0",children:AG.map(k=>d.jsx("div",{className:"text-center text-[10px] sm:text-xs font-semibold text-muted-foreground uppercase tracking-wider py-2",children:k},k))}),d.jsx("div",{className:"grid grid-cols-7 gap-[clamp(2px,1vw,8px)] flex-1 min-h-0",style:{gridTemplateRows:`repeat(${w}, 1fr)`},children:j()})]}),d.jsx(e_,{isOpen:!!o,onClose:()=>s(null),date:o,habits:e,records:t,onToggleHabit:k=>o&&r(o,k),isPrivacyMode:n,readonly:o?!(xi(o,new Date)||xi(o,Ut(new Date,1))&&new Date().getHours()<12):!0})]})}function PG({habits:e,records:t,onToggleHabit:r,isPrivacyMode:n=!1}){const i=S.useMemo(()=>new Date,[]),[a,o]=S.useState(new Date),s=S.useMemo(()=>pn(a,{weekStartsOn:1}),[a]),l=S.useMemo(()=>pV(a,{weekStartsOn:1}),[a]),[c,u]=S.useState(null),f=S.useMemo(()=>Array.from({length:7}).map((m,g)=>pf(s,g)),[s]),p=()=>{o(m=>Ut(m,7))},h=()=>{o(m=>pf(m,7))},v=S.useMemo(()=>{const m=Ge(s,"d",{locale:Rr}),g=Ge(l,"d MMMM",{locale:Rr});return`${m} - ${g}`},[s,l]);return xi(pn(i,{weekStartsOn:1}),s),d.jsxs("div",{className:"w-full h-full p-2 sm:p-4 animate-scale-in flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-6",children:[d.jsx("h2",{className:"text-xl font-display font-bold capitalize",children:v}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:p,className:"p-2 rounded-lg hover:bg-white/5 transition-colors active:scale-95",children:d.jsx(m1,{className:"w-5 h-5"})}),d.jsx("button",{onClick:h,className:"p-2 rounded-lg hover:bg-white/5 transition-colors active:scale-95",children:d.jsx(Bh,{className:"w-5 h-5"})})]})]}),d.jsx("div",{className:"grid grid-cols-7 gap-2 sm:gap-4 flex-1 h-full overflow-hidden",children:f.map(m=>{const g=Ge(m,"yyyy-MM-dd"),y=t[g]||{},b=xi(m,i),x=new Date(i);x.setHours(0,0,0,0);const _=m>x;return d.jsxs("div",{className:"flex flex-col gap-2 h-full overflow-hidden",children:[d.jsxs("button",{onClick:()=>!_&&u(m),disabled:_,className:ae("text-center py-2 rounded-xl border border-transparent transition-all w-full shrink-0",b&&"bg-primary/10 border-primary/20 text-primary",!_&&"hover:bg-white/5 hover:border-white/10 cursor-pointer active:scale-95",_&&"opacity-50 cursor-default"),children:[d.jsx("div",{className:"text-[10px] uppercase font-bold opacity-60",children:Ge(m,"EEE",{locale:Rr})}),d.jsx("div",{className:"text-lg font-mono font-bold",children:Ge(m,"d")})]}),d.jsx("div",{className:ae("flex flex-col gap-2 transition-all duration-300 flex-1 h-full",n&&"blur-[2px]"),children:e.map(w=>{const j=w.start_date<=g,k=w.end_date&&w.end_date<g;if(!j||k)return d.jsx("div",{className:"flex-1 rounded-xl invisible"},w.id);const C=y[w.id];return d.jsx("button",{disabled:_,onClick:()=>u(m),className:ae("flex-1 w-full rounded-xl border border-white/5 flex items-center justify-center transition-all hover:border-white/20 min-h-0",_&&"opacity-30 cursor-not-allowed",!_&&"cursor-pointer hover:bg-white/10",C==="done"&&"opacity-100 shadow-[0_0_10px_currentColor]",C==="missed"&&"opacity-50 grayscale",!C&&!_&&"bg-white/5"),style:{backgroundColor:C==="done"?w.color:void 0,color:w.color}},w.id)})})]},g)})}),d.jsx(e_,{isOpen:!!c,onClose:()=>u(null),date:c,habits:e,records:t,onToggleHabit:m=>c&&r(c,m),isPrivacyMode:n,readonly:!0})]})}const TG=["GEN","FEB","MAR","APR","MAG","GIU","LUG","AGO","SET","OTT","NOV","DIC"];function NG({habits:e,records:t,onToggleHabit:r,isPrivacyMode:n=!1}){const[i,a]=S.useState(new Date),[o,s]=S.useState(null),l=i.getFullYear(),c=new Date,u=()=>a(new Date(l-1,0,1)),f=()=>a(new Date(l+1,0,1)),p=()=>a(new Date),h=y=>xi(c,y),v=y=>y>c,m=S.useMemo(()=>Array.from({length:12},(y,b)=>{const x=new Date(l,b,1),_=ln({start:wi(x),end:rp(x)});return{monthIndex:b,days:_}}),[l]),g=y=>{const b=Ge(y,"yyyy-MM-dd"),x=t[b]||{},_=v(y),w=Ge(y,"d MMMM yyyy",{locale:Rr}),j=e.filter(E=>{const R=E.start_date<=b,B=!E.end_date||E.end_date>=b;return R&&B}),k=j.filter(E=>x[E.id]==="done").length,C=j.filter(E=>x[E.id]==="missed").length,P=k+C,O=j.length;let T=0;O>0&&(T=k/O);let N={};const D=P>0;if(D&&O>0){const E=Math.round(T*142);N={backgroundColor:`hsl(${E}, 70%, 25%)`,borderColor:`hsl(${E}, 80%, 50%)`}}return d.jsx(Zi,{children:d.jsxs(Ka,{delayDuration:0,children:[d.jsx(Ga,{asChild:!0,children:d.jsx("button",{onClick:()=>!_&&s(y),disabled:_,style:N,className:ae("w-full h-full rounded-[2px] flex items-center justify-center transition-all duration-200 relative border border-white/5 hover:border-white/40 hover:scale-110 hover:z-10",_&&"opacity-20 cursor-not-allowed border-none bg-white/5",!_&&!D&&"bg-white/5",h(y)&&!D&&"ring-1 ring-primary/50 bg-primary/10")})}),d.jsxs(ea,{className:"bg-background/90 backdrop-blur border-white/10 text-xs",children:[d.jsx("p",{className:"capitalize font-medium",children:w}),j.length>0&&d.jsxs("p",{className:"text-muted-foreground",children:[k,"/",j.length," completate"]})]})]})},b)};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"w-full h-full p-2 sm:p-6 animate-scale-in flex flex-col overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4 shrink-0",children:[d.jsx(Xe,{variant:"ghost",size:"icon",onClick:u,children:d.jsx(m1,{className:"h-5 w-5"})}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h2",{className:"text-xl sm:text-2xl font-display font-bold",children:d.jsx("span",{className:"text-foreground",children:l})}),d.jsx(Xe,{variant:"ghost",size:"icon",onClick:p,className:"h-8 w-8 ml-2 opacity-0 hover:opacity-100 transition-opacity",children:d.jsx(IR,{className:"h-3 w-3"})})]}),d.jsx(Xe,{variant:"ghost",size:"icon",onClick:f,children:d.jsx(Bh,{className:"h-5 w-5"})})]}),d.jsx("div",{className:"flex-1 min-h-0 grid grid-cols-2 gap-x-6 gap-y-2",children:m.map(({monthIndex:y,days:b})=>d.jsxs("div",{className:"flex items-center gap-2 min-h-0",children:[d.jsx("span",{className:"text-[10px] font-bold text-muted-foreground w-8 shrink-0",children:TG[y]}),d.jsx("div",{className:"flex-1 h-full grid gap-[2px]",style:{gridTemplateColumns:`repeat(${b.length}, 1fr)`},children:b.map(x=>g(x))})]},y))})]}),d.jsx(e_,{isOpen:!!o,onClose:()=>s(null),date:o,habits:e,records:t,onToggleHabit:y=>o&&r(o,y),isPrivacyMode:n,readonly:o?!(xi(o,new Date)||xi(o,Ut(new Date,1))&&new Date().getHours()<12):!0})]})}const Rl=2003,zm=2088,qm=29;function RG({habits:e,records:t,isPrivacyMode:r=!1}){const n=new Date,i=n.getFullYear(),a=wi(n),o=S.useMemo(()=>{if(!e||e.length===0)return n;const g=e.reduce((y,b)=>{const x=new Date(b.start_date);return x<y?x:y},n);return wi(g)},[e,n]),s=S.useMemo(()=>{const g=[];for(let y=Rl;y<=zm;y++){const b=np(new Date(y,0,1));for(let x=0;x<12;x++){const _=U1(b,x);g.push({date:_,year:y})}}return g},[]),l=S.useMemo(()=>{const g=[];for(let y=0;y<s.length;y+=qm)g.push(s.slice(y,y+qm));return g},[s]),c=S.useMemo(()=>{const g=new Map;return s.forEach(({date:y})=>{const b=y.getTime(),x=rp(y),_=ln({start:y,end:x});let w=0,j=0;_.forEach(C=>{const P=Ge(C,"yyyy-MM-dd"),O=t[P];if(!O)return;const T=e.filter(D=>{const E=D.start_date<=P,R=!D.end_date||D.end_date>=P;return E&&R}),N=T.filter(D=>O[D.id]==="done").length;w+=N,j+=T.length});const k=j>0?w/j:0;g.set(b,{completed:w,total:j,percentage:k})}),g},[s,t,e]),u=g=>{const y=g.getTime(),b=a.getTime(),x=y===b,_=g>n,w=g<o,j=c.get(y),k=j&&j.total>0;let C="rgba(255, 255, 255, 0.05)";_?C="rgba(255, 255, 255, 0.05)":w?C="hsl(200, 70%, 50%)":k&&(C=`hsl(${Math.round(j.percentage*142)}, 70%, 40%)`);const P=Ge(g,"MMMM yyyy",{locale:Rr});return d.jsx(Zi,{children:d.jsxs(Ka,{delayDuration:100,children:[d.jsx(Ga,{asChild:!0,children:d.jsx("div",{style:{backgroundColor:C},className:ae("rounded-sm transition-all duration-150 hover:scale-110 hover:z-10 border border-black/40",x&&"ring-2 ring-primary ring-offset-1 ring-offset-background shadow-[0_0_8px_rgba(255,255,255,0.4)]",!_&&"hover:brightness-125 hover:border-white/30",w&&!_&&"opacity-30",_&&"opacity-20",r&&k&&"blur-[1px]")})}),d.jsx(ea,{className:"bg-background/95 backdrop-blur border-white/10 text-xs",children:d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"font-bold capitalize",children:P}),x&&d.jsx("p",{className:"text-primary font-medium",children:"Mese corrente"}),_&&d.jsx("p",{className:"text-muted-foreground",children:"Futuro"}),w&&!_&&d.jsx("p",{className:"text-blue-400",children:"Pre-tracciamento"}),k&&d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-muted-foreground",children:[j.completed,"/",j.total," completati"]}),d.jsxs("p",{className:"text-muted-foreground",children:["Performance: ",Math.round(j.percentage*100),"%"]})]})]})})]})},y)},p=(zm-Rl+1)*12,h=i-Rl,v=fV(n,new Date(Rl,0,1)),m=1020-v;return d.jsxs("div",{className:"w-full h-full p-2 sm:p-4 animate-scale-in flex flex-col",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mb-2 sm:mb-3 shrink-0 gap-1",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-base sm:text-lg font-display font-bold",children:"La Mia Vita Produttiva"}),d.jsxs("p",{className:"text-[9px] sm:text-[10px] text-muted-foreground",children:[Rl," - ",zm,"  ",p.toLocaleString()," mesi"]})]}),d.jsxs("div",{className:"flex items-center gap-2 text-[9px] sm:text-[10px]",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-sm",style:{backgroundColor:"hsl(200, 70%, 50%)",opacity:.3}}),d.jsx("span",{className:"text-muted-foreground",children:"Pre-tracking"})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-sm ring-1 ring-primary",style:{backgroundColor:"hsl(71, 70%, 40%)"}}),d.jsx("span",{className:"text-muted-foreground",children:"Attuale"})]})]})]}),d.jsx("div",{className:"mb-2 sm:mb-3 shrink-0 glass-card p-2 rounded-lg",children:d.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm sm:text-base font-bold text-primary",children:v.toLocaleString()}),d.jsx("p",{className:"text-[8px] sm:text-[9px] text-muted-foreground uppercase",children:"Mesi Vissuti"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm sm:text-base font-bold text-foreground",children:h}),d.jsx("p",{className:"text-[8px] sm:text-[9px] text-muted-foreground uppercase",children:"Anni"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm sm:text-base font-bold text-muted-foreground/70",children:m.toLocaleString()}),d.jsx("p",{className:"text-[8px] sm:text-[9px] text-muted-foreground uppercase",children:"Mesi Rimanenti"})]})]})}),d.jsx("div",{className:"flex-1 min-h-0 grid gap-1.5 content-start overflow-hidden",style:{gridTemplateRows:`repeat(${l.length}, 1fr)`},children:l.map((g,y)=>{const b=y===0,x=y===l.length-1,_=b?"nato":x?"morto":"";return d.jsxs("div",{className:"flex items-center gap-1 min-h-0",children:[d.jsx("div",{className:"w-6 sm:w-8 shrink-0 text-[8px] sm:text-[9px] font-bold text-right text-muted-foreground",children:_}),d.jsx("div",{className:"flex-1 grid gap-1.5 h-full",style:{gridTemplateColumns:`repeat(${qm}, 1fr)`},children:g.map(({date:w})=>u(w))})]},y)})})]})}const wa=S.forwardRef(({className:e,type:t,...r},n)=>d.jsx("input",{type:t,className:ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));wa.displayName="Input";var IG="Label",DM=S.forwardRef((e,t)=>d.jsx(Ee.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));DM.displayName=IG;var MM=DM;const DG=wu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Mn=S.forwardRef(({className:e,...t},r)=>d.jsx(MM,{ref:r,className:ae(DG(),e),...t}));Mn.displayName=MM.displayName;function pp(){return(pp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function $M(e,t){if(e==null)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||(i[r]=e[r]);return i}function ix(e){var t=S.useRef(e),r=S.useRef(function(n){t.current&&t.current(n)});return t.current=e,r.current}var Cc=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=1),e>r?r:e<t?t:e},ac=function(e){return"touches"in e},ax=function(e){return e&&e.ownerDocument.defaultView||self},Sk=function(e,t,r){var n=e.getBoundingClientRect(),i=ac(t)?(function(a,o){for(var s=0;s<a.length;s++)if(a[s].identifier===o)return a[s];return a[0]})(t.touches,r):t;return{left:Cc((i.pageX-(n.left+ax(e).pageXOffset))/n.width),top:Cc((i.pageY-(n.top+ax(e).pageYOffset))/n.height)}},jk=function(e){!ac(e)&&e.preventDefault()},LM=I.memo(function(e){var t=e.onMove,r=e.onKey,n=$M(e,["onMove","onKey"]),i=S.useRef(null),a=ix(t),o=ix(r),s=S.useRef(null),l=S.useRef(!1),c=S.useMemo(function(){var h=function(g){jk(g),(ac(g)?g.touches.length>0:g.buttons>0)&&i.current?a(Sk(i.current,g,s.current)):m(!1)},v=function(){return m(!1)};function m(g){var y=l.current,b=ax(i.current),x=g?b.addEventListener:b.removeEventListener;x(y?"touchmove":"mousemove",h),x(y?"touchend":"mouseup",v)}return[function(g){var y=g.nativeEvent,b=i.current;if(b&&(jk(y),!(function(_,w){return w&&!ac(_)})(y,l.current)&&b)){if(ac(y)){l.current=!0;var x=y.changedTouches||[];x.length&&(s.current=x[0].identifier)}b.focus(),a(Sk(b,y,s.current)),m(!0)}},function(g){var y=g.which||g.keyCode;y<37||y>40||(g.preventDefault(),o({left:y===39?.05:y===37?-.05:0,top:y===40?.05:y===38?-.05:0}))},m]},[o,a]),u=c[0],f=c[1],p=c[2];return S.useEffect(function(){return p},[p]),I.createElement("div",pp({},n,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:i,onKeyDown:f,tabIndex:0,role:"slider"}))}),t_=function(e){return e.filter(Boolean).join(" ")},FM=function(e){var t=e.color,r=e.left,n=e.top,i=n===void 0?.5:n,a=t_(["react-colorful__pointer",e.className]);return I.createElement("div",{className:a,style:{top:100*i+"%",left:100*r+"%"}},I.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},fr=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=Math.pow(10,t)),Math.round(r*e)/r},MG=function(e){return zG(ox(e))},ox=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?fr(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?fr(parseInt(e.substring(6,8),16)/255,2):1}},$G=function(e){return BG(FG(e))},LG=function(e){var t=e.s,r=e.v,n=e.a,i=(200-t)*r/100;return{h:fr(e.h),s:fr(i>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0),l:fr(i/2),a:fr(n,2)}},sx=function(e){var t=LG(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},FG=function(e){var t=e.h,r=e.s,n=e.v,i=e.a;t=t/360*6,r/=100,n/=100;var a=Math.floor(t),o=n*(1-r),s=n*(1-(t-a)*r),l=n*(1-(1-t+a)*r),c=a%6;return{r:fr(255*[n,s,o,o,l,n][c]),g:fr(255*[l,n,n,s,o,o][c]),b:fr(255*[o,o,l,n,n,s][c]),a:fr(i,2)}},fd=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},BG=function(e){var t=e.r,r=e.g,n=e.b,i=e.a,a=i<1?fd(fr(255*i)):"";return"#"+fd(t)+fd(r)+fd(n)+a},zG=function(e){var t=e.r,r=e.g,n=e.b,i=e.a,a=Math.max(t,r,n),o=a-Math.min(t,r,n),s=o?a===t?(r-n)/o:a===r?2+(n-t)/o:4+(t-r)/o:0;return{h:fr(60*(s<0?s+6:s)),s:fr(a?o/a*100:0),v:fr(a/255*100),a:i}},qG=I.memo(function(e){var t=e.hue,r=e.onChange,n=t_(["react-colorful__hue",e.className]);return I.createElement("div",{className:n},I.createElement(LM,{onMove:function(i){r({h:360*i.left})},onKey:function(i){r({h:Cc(t+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":fr(t),"aria-valuemax":"360","aria-valuemin":"0"},I.createElement(FM,{className:"react-colorful__hue-pointer",left:t/360,color:sx({h:t,s:100,v:100,a:1})})))}),UG=I.memo(function(e){var t=e.hsva,r=e.onChange,n={backgroundColor:sx({h:t.h,s:100,v:100,a:1})};return I.createElement("div",{className:"react-colorful__saturation",style:n},I.createElement(LM,{onMove:function(i){r({s:100*i.left,v:100-100*i.top})},onKey:function(i){r({s:Cc(t.s+100*i.left,0,100),v:Cc(t.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+fr(t.s)+"%, Brightness "+fr(t.v)+"%"},I.createElement(FM,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:sx(t)})))}),BM=function(e,t){if(e===t)return!0;for(var r in e)if(e[r]!==t[r])return!1;return!0},WG=function(e,t){return e.toLowerCase()===t.toLowerCase()||BM(ox(e),ox(t))};function HG(e,t,r){var n=ix(r),i=S.useState(function(){return e.toHsva(t)}),a=i[0],o=i[1],s=S.useRef({color:t,hsva:a});S.useEffect(function(){if(!e.equal(t,s.current.color)){var c=e.toHsva(t);s.current={hsva:c,color:t},o(c)}},[t,e]),S.useEffect(function(){var c;BM(a,s.current.hsva)||e.equal(c=e.fromHsva(a),s.current.color)||(s.current={hsva:a,color:c},n(c))},[a,e,n]);var l=S.useCallback(function(c){o(function(u){return Object.assign({},u,c)})},[]);return[a,l]}var VG=typeof window<"u"?S.useLayoutEffect:S.useEffect,KG=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},kk=new Map,GG=function(e){VG(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!kk.has(t)){var r=t.createElement("style");r.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,kk.set(t,r);var n=KG();n&&r.setAttribute("nonce",n),t.head.appendChild(r)}},[])},YG=function(e){var t=e.className,r=e.colorModel,n=e.color,i=n===void 0?r.defaultColor:n,a=e.onChange,o=$M(e,["className","colorModel","color","onChange"]),s=S.useRef(null);GG(s);var l=HG(r,i,a),c=l[0],u=l[1],f=t_(["react-colorful",t]);return I.createElement("div",pp({},o,{ref:s,className:f}),I.createElement(UG,{hsva:c,onChange:u}),I.createElement(qG,{hue:c.h,onChange:u,className:"react-colorful__last-control"}))},XG={defaultColor:"000",toHsva:MG,fromHsva:function(e){return $G({h:e.h,s:e.s,v:e.v,a:1})},equal:WG},QG=function(e){return I.createElement(YG,pp({},e,{colorModel:XG}))};const JG=lp,ZG=cp,eY=up,zM=S.forwardRef(({className:e,...t},r)=>d.jsx(rl,{className:ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));zM.displayName=rl.displayName;const tY=wu("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),qM=S.forwardRef(({side:e="right",className:t,children:r,...n},i)=>d.jsxs(eY,{children:[d.jsx(zM,{}),d.jsxs(nl,{ref:i,className:ae(tY({side:e}),t),...n,children:[r,d.jsxs(dp,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[d.jsx(Qs,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));qM.displayName=nl.displayName;const UM=({className:e,...t})=>d.jsx("div",{className:ae("flex flex-col space-y-2 text-center sm:text-left",e),...t});UM.displayName="SheetHeader";const WM=S.forwardRef(({className:e,...t},r)=>d.jsx(il,{ref:r,className:ae("text-lg font-semibold text-foreground",e),...t}));WM.displayName=il.displayName;const rY=S.forwardRef(({className:e,...t},r)=>d.jsx(al,{ref:r,className:ae("text-sm text-muted-foreground",e),...t}));rY.displayName=al.displayName;const nY=[{name:"Green",hex:"#4ade80"},{name:"Blue",hex:"#3b82f6"},{name:"Purple",hex:"#a855f7"},{name:"Red",hex:"#ef4444"},{name:"Orange",hex:"#f97316"},{name:"Pink",hex:"#ec4899"},{name:"Teal",hex:"#14b8a6"},{name:"Yellow",hex:"#eab308"}];function Ek(e){const t=e.match(/hsl\((\d+)\s+(\d+)%\s+(\d+)%\)/);if(!t)return e.startsWith("#")?e:"#4ade80";const r=parseInt(t[1])/360,n=parseInt(t[2])/100,i=parseInt(t[3])/100,a=(u,f,p)=>(p<0&&(p+=1),p>1&&(p-=1),p<1/6?u+(f-u)*6*p:p<1/2?f:p<2/3?u+(f-u)*(2/3-p)*6:u);let o,s,l;if(n===0)o=s=l=i;else{const u=i<.5?i*(1+n):i+n-i*n,f=2*i-u;o=a(f,u,r+1/3),s=a(f,u,r),l=a(f,u,r-1/3)}const c=u=>{const f=Math.round(u*255).toString(16);return f.length===1?"0"+f:f};return`#${c(o)}${c(s)}${c(l)}`}function Ak(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(!t)return e;const r=parseInt(t[1],16)/255,n=parseInt(t[2],16)/255,i=parseInt(t[3],16)/255,a=Math.max(r,n,i),o=Math.min(r,n,i);let s=0,l=0;const c=(a+o)/2;if(a!==o){const u=a-o;switch(l=c>.5?u/(2-a-o):u/(a+o),a){case r:s=((n-i)/u+(n<i?6:0))/6;break;case n:s=((i-r)/u+2)/6;break;case i:s=((r-n)/u+4)/6;break}}return`hsl(${Math.round(s*360)} ${Math.round(l*100)}% ${Math.round(c*100)}%)`}function r_({value:e,onChange:t,className:r,showValueLabel:n=!0}){const[i,a]=S.useState(()=>Ek(e)),[o,s]=S.useState(!1);S.useEffect(()=>{a(Ek(e))},[e]);const l=u=>{a(u),t(Ak(u))},c=u=>{a(u),t(Ak(u))};return d.jsxs(JG,{open:o,onOpenChange:s,children:[d.jsx(ZG,{asChild:!0,children:d.jsxs(Xe,{type:"button",variant:"outline",className:ae("w-full justify-start gap-3 h-10 rounded-xl bg-black/20 border-white/10 hover:bg-white/5",!n&&"justify-center px-0 gap-0",r),children:[d.jsx("div",{className:"h-5 w-5 rounded-full shadow-[0_0_10px_currentColor] shrink-0",style:{backgroundColor:i,color:i}}),n&&d.jsx("span",{className:"font-mono text-sm uppercase tracking-wider",children:i})]})}),d.jsxs(qM,{side:"bottom",className:"bg-[#0a0a0a]/95 backdrop-blur-2xl border-white/10",children:[d.jsx(UM,{className:"pb-4",children:d.jsx(WM,{children:"Seleziona Colore"})}),d.jsxs("div",{className:"space-y-6 pb-6 max-w-md mx-auto",children:[d.jsx("div",{className:"flex justify-center",children:d.jsx(QG,{color:i,onChange:l,style:{width:"100%",height:"180px"}})}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Mn,{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Codice HEX"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"h-12 w-12 rounded-xl border border-white/10 shrink-0 shadow-[0_0_15px_currentColor]",style:{backgroundColor:i,color:i}}),d.jsxs("div",{className:"flex-1 relative",children:[d.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground font-mono text-lg",children:"#"}),d.jsx(wa,{value:i.replace("#",""),onChange:u=>{const f=u.target.value.replace(/[^a-fA-F0-9]/g,"").slice(0,6);f.length===6?l("#"+f):a("#"+f)},className:"pl-10 font-mono uppercase bg-black/30 border-white/10 h-12 rounded-xl text-lg",maxLength:6,placeholder:"4ade80"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Mn,{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Colori Rapidi"}),d.jsx("div",{className:"grid grid-cols-8 gap-2",children:nY.map(u=>d.jsx("button",{type:"button",onClick:()=>c(u.hex),className:ae("aspect-square w-full rounded-xl border-2 transition-all hover:scale-110 shadow-[0_0_8px_currentColor]",i.toLowerCase()===u.hex.toLowerCase()?"border-white scale-110":"border-transparent"),style:{backgroundColor:u.hex,color:u.hex},title:u.name},u.hex))})]}),d.jsx(Xe,{onClick:()=>s(!1),className:"w-full h-12 rounded-xl text-base",children:"Conferma Colore"})]})]})]})}function iY(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}var HM="AlertDialog",[aY]=Or(HM,[vM]),Li=vM(),VM=e=>{const{__scopeAlertDialog:t,...r}=e,n=Li(t);return d.jsx(lp,{...n,...r,modal:!0})};VM.displayName=HM;var oY="AlertDialogTrigger",KM=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Li(r);return d.jsx(cp,{...i,...n,ref:t})});KM.displayName=oY;var sY="AlertDialogPortal",GM=e=>{const{__scopeAlertDialog:t,...r}=e,n=Li(t);return d.jsx(up,{...n,...r})};GM.displayName=sY;var lY="AlertDialogOverlay",YM=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Li(r);return d.jsx(rl,{...i,...n,ref:t})});YM.displayName=lY;var ss="AlertDialogContent",[cY,uY]=aY(ss),dY=Q2("AlertDialogContent"),XM=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...i}=e,a=Li(r),o=S.useRef(null),s=$e(t,o),l=S.useRef(null);return d.jsx(_G,{contentName:ss,titleName:QM,docsSlug:"alert-dialog",children:d.jsx(cY,{scope:r,cancelRef:l,children:d.jsxs(nl,{role:"alertdialog",...a,...i,ref:s,onOpenAutoFocus:iY(i.onOpenAutoFocus,c=>{c.preventDefault(),l.current?.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[d.jsx(dY,{children:n}),d.jsx(hY,{contentRef:o})]})})})});XM.displayName=ss;var QM="AlertDialogTitle",JM=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Li(r);return d.jsx(il,{...i,...n,ref:t})});JM.displayName=QM;var ZM="AlertDialogDescription",e$=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Li(r);return d.jsx(al,{...i,...n,ref:t})});e$.displayName=ZM;var fY="AlertDialogAction",t$=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Li(r);return d.jsx(dp,{...i,...n,ref:t})});t$.displayName=fY;var r$="AlertDialogCancel",n$=S.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:i}=uY(r$,r),a=Li(r),o=$e(t,i);return d.jsx(dp,{...a,...n,ref:o})});n$.displayName=r$;var hY=({contentRef:e})=>{const t=`\`${ss}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ss}\` by passing a \`${ZM}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ss}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return S.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},pY=VM,mY=KM,gY=GM,i$=YM,a$=XM,o$=t$,s$=n$,l$=JM,c$=e$;const io=pY,ys=mY,vY=gY,u$=S.forwardRef(({className:e,...t},r)=>d.jsx(i$,{className:ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));u$.displayName=i$.displayName;const da=S.forwardRef(({className:e,...t},r)=>d.jsxs(vY,{children:[d.jsx(u$,{}),d.jsx(a$,{ref:r,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));da.displayName=a$.displayName;const fa=({className:e,...t})=>d.jsx("div",{className:ae("flex flex-col space-y-2 text-center sm:text-left",e),...t});fa.displayName="AlertDialogHeader";const ha=({className:e,...t})=>d.jsx("div",{className:ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ha.displayName="AlertDialogFooter";const pa=S.forwardRef(({className:e,...t},r)=>d.jsx(l$,{ref:r,className:ae("text-lg font-semibold",e),...t}));pa.displayName=l$.displayName;const ma=S.forwardRef(({className:e,...t},r)=>d.jsx(c$,{ref:r,className:ae("text-sm text-muted-foreground",e),...t}));ma.displayName=c$.displayName;const ga=S.forwardRef(({className:e,...t},r)=>d.jsx(o$,{ref:r,className:ae(V1(),e),...t}));ga.displayName=o$.displayName;const go=S.forwardRef(({className:e,...t},r)=>d.jsx(s$,{ref:r,className:ae(V1({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));go.displayName=s$.displayName;function yY(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return S.useMemo(()=>n=>{t.forEach(i=>i(n))},t)}const mp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ol(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function n_(e){return"nodeType"in e}function Dr(e){var t,r;return e?ol(e)?e:n_(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function i_(e){const{Document:t}=Dr(e);return e instanceof t}function Tu(e){return ol(e)?!1:e instanceof Dr(e).HTMLElement}function d$(e){return e instanceof Dr(e).SVGElement}function sl(e){return e?ol(e)?e.document:n_(e)?i_(e)?e:Tu(e)||d$(e)?e.ownerDocument:document:document:document}const oi=mp?S.useLayoutEffect:S.useEffect;function a_(e){const t=S.useRef(e);return oi(()=>{t.current=e}),S.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.current==null?void 0:t.current(...n)},[])}function bY(){const e=S.useRef(null),t=S.useCallback((n,i)=>{e.current=setInterval(n,i)},[]),r=S.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function Pc(e,t){t===void 0&&(t=[e]);const r=S.useRef(e);return oi(()=>{r.current!==e&&(r.current=e)},t),r}function Nu(e,t){const r=S.useRef();return S.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function yf(e){const t=a_(e),r=S.useRef(null),n=S.useCallback(i=>{i!==r.current&&t?.(i,r.current),r.current=i},[]);return[r,n]}function lx(e){const t=S.useRef();return S.useEffect(()=>{t.current=e},[e]),t.current}let Um={};function Ru(e,t){return S.useMemo(()=>{if(t)return t;const r=Um[e]==null?0:Um[e]+1;return Um[e]=r,e+"-"+r},[e,t])}function f$(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.reduce((a,o)=>{const s=Object.entries(o);for(const[l,c]of s){const u=a[l];u!=null&&(a[l]=u+e*c)}return a},{...t})}}const ls=f$(1),Tc=f$(-1);function xY(e){return"clientX"in e&&"clientY"in e}function o_(e){if(!e)return!1;const{KeyboardEvent:t}=Dr(e.target);return t&&e instanceof t}function wY(e){if(!e)return!1;const{TouchEvent:t}=Dr(e.target);return t&&e instanceof t}function cx(e){if(wY(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return xY(e)?{x:e.clientX,y:e.clientY}:null}const Nc=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Nc.Translate.toString(e),Nc.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),Ok="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function _Y(e){return e.matches(Ok)?e:e.querySelector(Ok)}const SY={display:"none"};function jY(e){let{id:t,value:r}=e;return I.createElement("div",{id:t,style:SY},r)}function kY(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return I.createElement("div",{id:t,style:i,role:"status","aria-live":n,"aria-atomic":!0},r)}function EY(){const[e,t]=S.useState("");return{announce:S.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const h$=S.createContext(null);function AY(e){const t=S.useContext(h$);S.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function OY(){const[e]=S.useState(()=>new Set),t=S.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[S.useCallback(n=>{let{type:i,event:a}=n;e.forEach(o=>{var s;return(s=o[i])==null?void 0:s.call(o,a)})},[e]),t]}const CY={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},PY={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function TY(e){let{announcements:t=PY,container:r,hiddenTextDescribedById:n,screenReaderInstructions:i=CY}=e;const{announce:a,announcement:o}=EY(),s=Ru("DndLiveRegion"),[l,c]=S.useState(!1);if(S.useEffect(()=>{c(!0)},[]),AY(S.useMemo(()=>({onDragStart(f){let{active:p}=f;a(t.onDragStart({active:p}))},onDragMove(f){let{active:p,over:h}=f;t.onDragMove&&a(t.onDragMove({active:p,over:h}))},onDragOver(f){let{active:p,over:h}=f;a(t.onDragOver({active:p,over:h}))},onDragEnd(f){let{active:p,over:h}=f;a(t.onDragEnd({active:p,over:h}))},onDragCancel(f){let{active:p,over:h}=f;a(t.onDragCancel({active:p,over:h}))}}),[a,t])),!l)return null;const u=I.createElement(I.Fragment,null,I.createElement(jY,{id:n,value:i.draggable}),I.createElement(kY,{id:s,announcement:o}));return r?Kn.createPortal(u,r):u}var Jt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Jt||(Jt={}));function bf(){}function Wm(e,t){return S.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function NY(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return S.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const $n=Object.freeze({x:0,y:0});function p$(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function m$(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function RY(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function Ck(e){let{left:t,top:r,height:n,width:i}=e;return[{x:t,y:r},{x:t+i,y:r},{x:t,y:r+n},{x:t+i,y:r+n}]}function g$(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function Pk(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const IY=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const i=Pk(t,t.left,t.top),a=[];for(const o of n){const{id:s}=o,l=r.get(s);if(l){const c=p$(Pk(l),i);a.push({id:s,data:{droppableContainer:o,value:c}})}}return a.sort(m$)},DY=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const i=Ck(t),a=[];for(const o of n){const{id:s}=o,l=r.get(s);if(l){const c=Ck(l),u=i.reduce((p,h,v)=>p+p$(c[v],h),0),f=Number((u/4).toFixed(4));a.push({id:s,data:{droppableContainer:o,value:f}})}}return a.sort(m$)};function MY(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=i-n,s=a-r;if(n<i&&r<a){const l=t.width*t.height,c=e.width*e.height,u=o*s,f=u/(l+c-u);return Number(f.toFixed(4))}return 0}const $Y=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const i=[];for(const a of n){const{id:o}=a,s=r.get(o);if(s){const l=MY(s,t);l>0&&i.push({id:o,data:{droppableContainer:a,value:l}})}}return i.sort(RY)};function LY(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function v$(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:$n}function FY(e){return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return i.reduce((o,s)=>({...o,top:o.top+e*s.y,bottom:o.bottom+e*s.y,left:o.left+e*s.x,right:o.right+e*s.x}),{...r})}}const BY=FY(1);function zY(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function qY(e,t,r){const n=zY(t);if(!n)return e;const{scaleX:i,scaleY:a,x:o,y:s}=n,l=e.left-o-(1-i)*parseFloat(r),c=e.top-s-(1-a)*parseFloat(r.slice(r.indexOf(" ")+1)),u=i?e.width/i:e.width,f=a?e.height/a:e.height;return{width:u,height:f,top:c,right:l+u,bottom:c+f,left:l}}const UY={ignoreTransform:!1};function ll(e,t){t===void 0&&(t=UY);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:c,transformOrigin:u}=Dr(e).getComputedStyle(e);c&&(r=qY(r,c,u))}const{top:n,left:i,width:a,height:o,bottom:s,right:l}=r;return{top:n,left:i,width:a,height:o,bottom:s,right:l}}function Tk(e){return ll(e,{ignoreTransform:!0})}function WY(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function HY(e,t){return t===void 0&&(t=Dr(e).getComputedStyle(e)),t.position==="fixed"}function VY(e,t){t===void 0&&(t=Dr(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=t[i];return typeof a=="string"?r.test(a):!1})}function gp(e,t){const r=[];function n(i){if(t!=null&&r.length>=t||!i)return r;if(i_(i)&&i.scrollingElement!=null&&!r.includes(i.scrollingElement))return r.push(i.scrollingElement),r;if(!Tu(i)||d$(i)||r.includes(i))return r;const a=Dr(e).getComputedStyle(i);return i!==e&&VY(i,a)&&r.push(i),HY(i,a)?r:n(i.parentNode)}return e?n(e):r}function y$(e){const[t]=gp(e,1);return t??null}function Hm(e){return!mp||!e?null:ol(e)?e:n_(e)?i_(e)||e===sl(e).scrollingElement?window:Tu(e)?e:null:null}function b$(e){return ol(e)?e.scrollX:e.scrollLeft}function x$(e){return ol(e)?e.scrollY:e.scrollTop}function ux(e){return{x:b$(e),y:x$(e)}}var ar;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(ar||(ar={}));function w$(e){return!mp||!e?!1:e===document.scrollingElement}function _$(e){const t={x:0,y:0},r=w$(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},i=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,o=e.scrollTop>=n.y,s=e.scrollLeft>=n.x;return{isTop:i,isLeft:a,isBottom:o,isRight:s,maxScroll:n,minScroll:t}}const KY={x:.2,y:.2};function GY(e,t,r,n,i){let{top:a,left:o,right:s,bottom:l}=r;n===void 0&&(n=10),i===void 0&&(i=KY);const{isTop:c,isBottom:u,isLeft:f,isRight:p}=_$(e),h={x:0,y:0},v={x:0,y:0},m={height:t.height*i.y,width:t.width*i.x};return!c&&a<=t.top+m.height?(h.y=ar.Backward,v.y=n*Math.abs((t.top+m.height-a)/m.height)):!u&&l>=t.bottom-m.height&&(h.y=ar.Forward,v.y=n*Math.abs((t.bottom-m.height-l)/m.height)),!p&&s>=t.right-m.width?(h.x=ar.Forward,v.x=n*Math.abs((t.right-m.width-s)/m.width)):!f&&o<=t.left+m.width&&(h.x=ar.Backward,v.x=n*Math.abs((t.left+m.width-o)/m.width)),{direction:h,speed:v}}function YY(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:o}=window;return{top:0,left:0,right:a,bottom:o,width:a,height:o}}const{top:t,left:r,right:n,bottom:i}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:i,width:e.clientWidth,height:e.clientHeight}}function S$(e){return e.reduce((t,r)=>ls(t,ux(r)),$n)}function XY(e){return e.reduce((t,r)=>t+b$(r),0)}function QY(e){return e.reduce((t,r)=>t+x$(r),0)}function JY(e,t){if(t===void 0&&(t=ll),!e)return;const{top:r,left:n,bottom:i,right:a}=t(e);y$(e)&&(i<=0||a<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const ZY=[["x",["left","right"],XY],["y",["top","bottom"],QY]];class s_{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=gp(r),i=S$(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,o,s]of ZY)for(const l of o)Object.defineProperty(this,l,{get:()=>{const c=s(n),u=i[a]-c;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class oc{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var i;(i=this.target)==null||i.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function eX(e){const{EventTarget:t}=Dr(e);return e instanceof t?e:sl(e)}function Vm(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var nn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(nn||(nn={}));function Nk(e){e.preventDefault()}function tX(e){e.stopPropagation()}var rt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(rt||(rt={}));const j$={start:[rt.Space,rt.Enter],cancel:[rt.Esc],end:[rt.Space,rt.Enter,rt.Tab]},rX=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case rt.Right:return{...r,x:r.x+25};case rt.Left:return{...r,x:r.x-25};case rt.Down:return{...r,y:r.y+25};case rt.Up:return{...r,y:r.y-25}}};class l_{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new oc(sl(r)),this.windowListeners=new oc(Dr(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(nn.Resize,this.handleCancel),this.windowListeners.add(nn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(nn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&JY(n),r($n)}handleKeyDown(t){if(o_(t)){const{active:r,context:n,options:i}=this.props,{keyboardCodes:a=j$,coordinateGetter:o=rX,scrollBehavior:s="smooth"}=i,{code:l}=t;if(a.end.includes(l)){this.handleEnd(t);return}if(a.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:c}=n.current,u=c?{x:c.left,y:c.top}:$n;this.referenceCoordinates||(this.referenceCoordinates=u);const f=o(t,{active:r,context:n.current,currentCoordinates:u});if(f){const p=Tc(f,u),h={x:0,y:0},{scrollableAncestors:v}=n.current;for(const m of v){const g=t.code,{isTop:y,isRight:b,isLeft:x,isBottom:_,maxScroll:w,minScroll:j}=_$(m),k=YY(m),C={x:Math.min(g===rt.Right?k.right-k.width/2:k.right,Math.max(g===rt.Right?k.left:k.left+k.width/2,f.x)),y:Math.min(g===rt.Down?k.bottom-k.height/2:k.bottom,Math.max(g===rt.Down?k.top:k.top+k.height/2,f.y))},P=g===rt.Right&&!b||g===rt.Left&&!x,O=g===rt.Down&&!_||g===rt.Up&&!y;if(P&&C.x!==f.x){const T=m.scrollLeft+p.x,N=g===rt.Right&&T<=w.x||g===rt.Left&&T>=j.x;if(N&&!p.y){m.scrollTo({left:T,behavior:s});return}N?h.x=m.scrollLeft-T:h.x=g===rt.Right?m.scrollLeft-w.x:m.scrollLeft-j.x,h.x&&m.scrollBy({left:-h.x,behavior:s});break}else if(O&&C.y!==f.y){const T=m.scrollTop+p.y,N=g===rt.Down&&T<=w.y||g===rt.Up&&T>=j.y;if(N&&!p.x){m.scrollTo({top:T,behavior:s});return}N?h.y=m.scrollTop-T:h.y=g===rt.Down?m.scrollTop-w.y:m.scrollTop-j.y,h.y&&m.scrollBy({top:-h.y,behavior:s});break}}this.handleMove(t,ls(Tc(f,this.referenceCoordinates),h))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}l_.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=j$,onActivation:i}=t,{active:a}=r;const{code:o}=e.nativeEvent;if(n.start.includes(o)){const s=a.activatorNode.current;return s&&e.target!==s?!1:(e.preventDefault(),i?.({event:e.nativeEvent}),!0)}return!1}}];function Rk(e){return!!(e&&"distance"in e)}function Ik(e){return!!(e&&"delay"in e)}class c_{constructor(t,r,n){var i;n===void 0&&(n=eX(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:a}=t,{target:o}=a;this.props=t,this.events=r,this.document=sl(o),this.documentListeners=new oc(this.document),this.listeners=new oc(n),this.windowListeners=new oc(Dr(o)),this.initialCoordinates=(i=cx(a))!=null?i:$n,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(nn.Resize,this.handleCancel),this.windowListeners.add(nn.DragStart,Nk),this.windowListeners.add(nn.VisibilityChange,this.handleCancel),this.windowListeners.add(nn.ContextMenu,Nk),this.documentListeners.add(nn.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Ik(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(Rk(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:i}=this.props;i(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(nn.Click,tX,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(nn.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:i,props:a}=this,{onMove:o,options:{activationConstraint:s}}=a;if(!i)return;const l=(r=cx(t))!=null?r:$n,c=Tc(i,l);if(!n&&s){if(Rk(s)){if(s.tolerance!=null&&Vm(c,s.tolerance))return this.handleCancel();if(Vm(c,s.distance))return this.handleStart()}if(Ik(s)&&Vm(c,s.tolerance))return this.handleCancel();this.handlePending(s,c);return}t.cancelable&&t.preventDefault(),o(l)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===rt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const nX={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class u_ extends c_{constructor(t){const{event:r}=t,n=sl(r.target);super(t,nX,n)}}u_.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n?.({event:r}),!0)}}];const iX={move:{name:"mousemove"},end:{name:"mouseup"}};var dx;(function(e){e[e.RightClick=2]="RightClick"})(dx||(dx={}));class aX extends c_{constructor(t){super(t,iX,sl(t.event.target))}}aX.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===dx.RightClick?!1:(n?.({event:r}),!0)}}];const Km={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class k$ extends c_{constructor(t){super(t,Km)}static setup(){return window.addEventListener(Km.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Km.move.name,t)};function t(){}}}k$.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:i}=r;return i.length>1?!1:(n?.({event:r}),!0)}}];var sc;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(sc||(sc={}));var xf;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(xf||(xf={}));function oX(e){let{acceleration:t,activator:r=sc.Pointer,canScroll:n,draggingRect:i,enabled:a,interval:o=5,order:s=xf.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,delta:f,threshold:p}=e;const h=lX({delta:f,disabled:!a}),[v,m]=bY(),g=S.useRef({x:0,y:0}),y=S.useRef({x:0,y:0}),b=S.useMemo(()=>{switch(r){case sc.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case sc.DraggableRect:return i}},[r,i,l]),x=S.useRef(null),_=S.useCallback(()=>{const j=x.current;if(!j)return;const k=g.current.x*y.current.x,C=g.current.y*y.current.y;j.scrollBy(k,C)},[]),w=S.useMemo(()=>s===xf.TreeOrder?[...c].reverse():c,[s,c]);S.useEffect(()=>{if(!a||!c.length||!b){m();return}for(const j of w){if(n?.(j)===!1)continue;const k=c.indexOf(j),C=u[k];if(!C)continue;const{direction:P,speed:O}=GY(j,C,b,t,p);for(const T of["x","y"])h[T][P[T]]||(O[T]=0,P[T]=0);if(O.x>0||O.y>0){m(),x.current=j,v(_,o),g.current=O,y.current=P;return}}g.current={x:0,y:0},y.current={x:0,y:0},m()},[t,_,n,m,a,o,JSON.stringify(b),JSON.stringify(h),v,c,w,u,JSON.stringify(p)])}const sX={x:{[ar.Backward]:!1,[ar.Forward]:!1},y:{[ar.Backward]:!1,[ar.Forward]:!1}};function lX(e){let{delta:t,disabled:r}=e;const n=lx(t);return Nu(i=>{if(r||!n||!i)return sX;const a={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[ar.Backward]:i.x[ar.Backward]||a.x===-1,[ar.Forward]:i.x[ar.Forward]||a.x===1},y:{[ar.Backward]:i.y[ar.Backward]||a.y===-1,[ar.Forward]:i.y[ar.Forward]||a.y===1}}},[r,t,n])}function cX(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return Nu(i=>{var a;return t==null?null:(a=n??i)!=null?a:null},[n,t])}function uX(e,t){return S.useMemo(()=>e.reduce((r,n)=>{const{sensor:i}=n,a=i.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,n)}));return[...r,...a]},[]),[e,t])}var Rc;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Rc||(Rc={}));var fx;(function(e){e.Optimized="optimized"})(fx||(fx={}));const Dk=new Map;function dX(e,t){let{dragging:r,dependencies:n,config:i}=t;const[a,o]=S.useState(null),{frequency:s,measure:l,strategy:c}=i,u=S.useRef(e),f=g(),p=Pc(f),h=S.useCallback(function(y){y===void 0&&(y=[]),!p.current&&o(b=>b===null?y:b.concat(y.filter(x=>!b.includes(x))))},[p]),v=S.useRef(null),m=Nu(y=>{if(f&&!r)return Dk;if(!y||y===Dk||u.current!==e||a!=null){const b=new Map;for(let x of e){if(!x)continue;if(a&&a.length>0&&!a.includes(x.id)&&x.rect.current){b.set(x.id,x.rect.current);continue}const _=x.node.current,w=_?new s_(l(_),_):null;x.rect.current=w,w&&b.set(x.id,w)}return b}return y},[e,a,r,f,l]);return S.useEffect(()=>{u.current=e},[e]),S.useEffect(()=>{f||h()},[r,f]),S.useEffect(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),S.useEffect(()=>{f||typeof s!="number"||v.current!==null||(v.current=setTimeout(()=>{h(),v.current=null},s))},[s,f,h,...n]),{droppableRects:m,measureDroppableContainers:h,measuringScheduled:a!=null};function g(){switch(c){case Rc.Always:return!1;case Rc.BeforeDragging:return r;default:return!r}}}function E$(e,t){return Nu(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function fX(e,t){return E$(e,t)}function hX(e){let{callback:t,disabled:r}=e;const n=a_(t),i=S.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(n)},[n,r]);return S.useEffect(()=>()=>i?.disconnect(),[i]),i}function vp(e){let{callback:t,disabled:r}=e;const n=a_(t),i=S.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(n)},[r]);return S.useEffect(()=>()=>i?.disconnect(),[i]),i}function pX(e){return new s_(ll(e),e)}function Mk(e,t,r){t===void 0&&(t=pX);const[n,i]=S.useState(null);function a(){i(l=>{if(!e)return null;if(e.isConnected===!1){var c;return(c=l??r)!=null?c:null}const u=t(e);return JSON.stringify(l)===JSON.stringify(u)?l:u})}const o=hX({callback(l){if(e)for(const c of l){const{type:u,target:f}=c;if(u==="childList"&&f instanceof HTMLElement&&f.contains(e)){a();break}}}}),s=vp({callback:a});return oi(()=>{a(),e?(s?.observe(e),o?.observe(document.body,{childList:!0,subtree:!0})):(s?.disconnect(),o?.disconnect())},[e]),n}function mX(e){const t=E$(e);return v$(e,t)}const $k=[];function gX(e){const t=S.useRef(e),r=Nu(n=>e?n&&n!==$k&&e&&t.current&&e.parentNode===t.current.parentNode?n:gp(e):$k,[e]);return S.useEffect(()=>{t.current=e},[e]),r}function vX(e){const[t,r]=S.useState(null),n=S.useRef(e),i=S.useCallback(a=>{const o=Hm(a.target);o&&r(s=>s?(s.set(o,ux(o)),new Map(s)):null)},[]);return S.useEffect(()=>{const a=n.current;if(e!==a){o(a);const s=e.map(l=>{const c=Hm(l);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,ux(c)]):null}).filter(l=>l!=null);r(s.length?new Map(s):null),n.current=e}return()=>{o(e),o(a)};function o(s){s.forEach(l=>{const c=Hm(l);c?.removeEventListener("scroll",i)})}},[i,e]),S.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,o)=>ls(a,o),$n):S$(e):$n,[e,t])}function Lk(e,t){t===void 0&&(t=[]);const r=S.useRef(null);return S.useEffect(()=>{r.current=null},t),S.useEffect(()=>{const n=e!==$n;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?Tc(e,r.current):$n}function yX(e){S.useEffect(()=>{if(!mp)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r?.()}},e.map(t=>{let{sensor:r}=t;return r}))}function bX(e,t){return S.useMemo(()=>e.reduce((r,n)=>{let{eventName:i,handler:a}=n;return r[i]=o=>{a(o,t)},r},{}),[e,t])}function A$(e){return S.useMemo(()=>e?WY(e):null,[e])}const Fk=[];function xX(e,t){t===void 0&&(t=ll);const[r]=e,n=A$(r?Dr(r):null),[i,a]=S.useState(Fk);function o(){a(()=>e.length?e.map(l=>w$(l)?n:new s_(t(l),l)):Fk)}const s=vp({callback:o});return oi(()=>{s?.disconnect(),o(),e.forEach(l=>s?.observe(l))},[e]),i}function wX(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Tu(t)?t:e}function _X(e){let{measure:t}=e;const[r,n]=S.useState(null),i=S.useCallback(c=>{for(const{target:u}of c)if(Tu(u)){n(f=>{const p=t(u);return f?{...f,width:p.width,height:p.height}:p});break}},[t]),a=vp({callback:i}),o=S.useCallback(c=>{const u=wX(c);a?.disconnect(),u&&a?.observe(u),n(u?t(u):null)},[t,a]),[s,l]=yf(o);return S.useMemo(()=>({nodeRef:s,rect:r,setRef:l}),[r,s,l])}const SX=[{sensor:u_,options:{}},{sensor:l_,options:{}}],jX={current:{}},Vd={draggable:{measure:Tk},droppable:{measure:Tk,strategy:Rc.WhileDragging,frequency:fx.Optimized},dragOverlay:{measure:ll}};class lc extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const kX={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new lc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:bf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Vd,measureDroppableContainers:bf,windowRect:null,measuringScheduled:!1},EX={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:bf,draggableNodes:new Map,over:null,measureDroppableContainers:bf},yp=S.createContext(EX),O$=S.createContext(kX);function AX(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new lc}}}function OX(e,t){switch(t.type){case Jt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Jt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Jt.DragEnd:case Jt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Jt.RegisterDroppable:{const{element:r}=t,{id:n}=r,i=new lc(e.droppable.containers);return i.set(n,r),{...e,droppable:{...e.droppable,containers:i}}}case Jt.SetDroppableDisabled:{const{id:r,key:n,disabled:i}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;const o=new lc(e.droppable.containers);return o.set(r,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case Jt.UnregisterDroppable:{const{id:r,key:n}=t,i=e.droppable.containers.get(r);if(!i||n!==i.key)return e;const a=new lc(e.droppable.containers);return a.delete(r),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function CX(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:i}=S.useContext(yp),a=lx(n),o=lx(r?.id);return S.useEffect(()=>{if(!t&&!n&&a&&o!=null){if(!o_(a)||document.activeElement===a.target)return;const s=i.get(o);if(!s)return;const{activatorNode:l,node:c}=s;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const u of[l.current,c.current]){if(!u)continue;const f=_Y(u);if(f){f.focus();break}}})}},[n,t,i,o,a]),null}function PX(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((i,a)=>a({transform:i,...n}),r):r}function TX(e){return S.useMemo(()=>({draggable:{...Vd.draggable,...e?.draggable},droppable:{...Vd.droppable,...e?.droppable},dragOverlay:{...Vd.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function NX(e){let{activeNode:t,measure:r,initialRect:n,config:i=!0}=e;const a=S.useRef(!1),{x:o,y:s}=typeof i=="boolean"?{x:i,y:i}:i;oi(()=>{if(!o&&!s||!t){a.current=!1;return}if(a.current||!n)return;const c=t?.node.current;if(!c||c.isConnected===!1)return;const u=r(c),f=v$(u,n);if(o||(f.x=0),s||(f.y=0),a.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const p=y$(c);p&&p.scrollBy({top:f.y,left:f.x})}},[t,o,s,n,r])}const C$=S.createContext({...$n,scaleX:1,scaleY:1});var Qi;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Qi||(Qi={}));const RX=S.memo(function(t){var r,n,i,a;let{id:o,accessibility:s,autoScroll:l=!0,children:c,sensors:u=SX,collisionDetection:f=$Y,measuring:p,modifiers:h,...v}=t;const m=S.useReducer(OX,void 0,AX),[g,y]=m,[b,x]=OY(),[_,w]=S.useState(Qi.Uninitialized),j=_===Qi.Initialized,{draggable:{active:k,nodes:C,translate:P},droppable:{containers:O}}=g,T=k!=null?C.get(k):null,N=S.useRef({initial:null,translated:null}),D=S.useMemo(()=>{var Ce;return k!=null?{id:k,data:(Ce=T?.data)!=null?Ce:jX,rect:N}:null},[k,T]),E=S.useRef(null),[R,B]=S.useState(null),[F,U]=S.useState(null),L=Pc(v,Object.values(v)),M=Ru("DndDescribedBy",o),H=S.useMemo(()=>O.getEnabled(),[O]),z=TX(p),{droppableRects:$,measureDroppableContainers:Q,measuringScheduled:Z}=dX(H,{dragging:j,dependencies:[P.x,P.y],config:z.droppable}),fe=cX(C,k),le=S.useMemo(()=>F?cx(F):null,[F]),ue=st(),ee=fX(fe,z.draggable.measure);NX({activeNode:k!=null?C.get(k):null,config:ue.layoutShiftCompensation,initialRect:ee,measure:z.draggable.measure});const te=Mk(fe,z.draggable.measure,ee),ce=Mk(fe?fe.parentElement:null),J=S.useRef({activatorEvent:null,active:null,activeNode:fe,collisionRect:null,collisions:null,droppableRects:$,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ne=O.getNodeFor((r=J.current.over)==null?void 0:r.id),A=_X({measure:z.dragOverlay.measure}),K=(n=A.nodeRef.current)!=null?n:fe,V=j?(i=A.rect)!=null?i:te:null,W=!!(A.nodeRef.current&&A.rect),q=mX(W?null:te),G=A$(K?Dr(K):null),ie=gX(j?ne??fe:null),re=xX(ie),X=PX(h,{transform:{x:P.x-q.x,y:P.y-q.y,scaleX:1,scaleY:1},activatorEvent:F,active:D,activeNodeRect:te,containerNodeRect:ce,draggingNodeRect:V,over:J.current.over,overlayNodeRect:A.rect,scrollableAncestors:ie,scrollableAncestorRects:re,windowRect:G}),de=le?ls(le,P):null,ve=vX(ie),he=Lk(ve),Y=Lk(ve,[te]),oe=ls(X,he),ge=V?BY(V,X):null,Oe=D&&ge?f({active:D,collisionRect:ge,droppableRects:$,droppableContainers:H,pointerCoordinates:de}):null,ze=g$(Oe,"id"),[Ve,Tt]=S.useState(null),Ke=W?X:ls(X,Y),It=LY(Ke,(a=Ve?.rect)!=null?a:null,te),rr=S.useRef(null),et=S.useCallback((Ce,He)=>{let{sensor:lt,options:we}=He;if(E.current==null)return;const Ne=C.get(E.current);if(!Ne)return;const Le=Ce.nativeEvent,ct=new lt({active:E.current,activeNode:Ne,event:Le,options:we,context:J,onAbort(ut){if(!C.get(ut))return;const{onDragAbort:Nt}=L.current,nr={id:ut};Nt?.(nr),b({type:"onDragAbort",event:nr})},onPending(ut,Vt,Nt,nr){if(!C.get(ut))return;const{onDragPending:Al}=L.current,Wi={id:ut,constraint:Vt,initialCoordinates:Nt,offset:nr};Al?.(Wi),b({type:"onDragPending",event:Wi})},onStart(ut){const Vt=E.current;if(Vt==null)return;const Nt=C.get(Vt);if(!Nt)return;const{onDragStart:nr}=L.current,El={activatorEvent:Le,active:{id:Vt,data:Nt.data,rect:N}};Kn.unstable_batchedUpdates(()=>{nr?.(El),w(Qi.Initializing),y({type:Jt.DragStart,initialCoordinates:ut,active:Vt}),b({type:"onDragStart",event:El}),B(rr.current),U(Le)})},onMove(ut){y({type:Jt.DragMove,coordinates:ut})},onEnd:pt(Jt.DragEnd),onCancel:pt(Jt.DragCancel)});rr.current=ct;function pt(ut){return async function(){const{active:Nt,collisions:nr,over:El,scrollAdjustedTranslate:Al}=J.current;let Wi=null;if(Nt&&Al){const{cancelDrop:Ol}=L.current;Wi={activatorEvent:Le,active:Nt,collisions:nr,delta:Al,over:El},ut===Jt.DragEnd&&typeof Ol=="function"&&await Promise.resolve(Ol(Wi))&&(ut=Jt.DragCancel)}E.current=null,Kn.unstable_batchedUpdates(()=>{y({type:ut}),w(Qi.Uninitialized),Tt(null),B(null),U(null),rr.current=null;const Ol=ut===Jt.DragEnd?"onDragEnd":"onDragCancel";if(Wi){const vm=L.current[Ol];vm?.(Wi),b({type:Ol,event:Wi})}})}}},[C]),yr=S.useCallback((Ce,He)=>(lt,we)=>{const Ne=lt.nativeEvent,Le=C.get(we);if(E.current!==null||!Le||Ne.dndKit||Ne.defaultPrevented)return;const ct={active:Le};Ce(lt,He.options,ct)===!0&&(Ne.dndKit={capturedBy:He.sensor},E.current=we,et(lt,He))},[C,et]),je=uX(u,yr);yX(u),oi(()=>{te&&_===Qi.Initializing&&w(Qi.Initialized)},[te,_]),S.useEffect(()=>{const{onDragMove:Ce}=L.current,{active:He,activatorEvent:lt,collisions:we,over:Ne}=J.current;if(!He||!lt)return;const Le={active:He,activatorEvent:lt,collisions:we,delta:{x:oe.x,y:oe.y},over:Ne};Kn.unstable_batchedUpdates(()=>{Ce?.(Le),b({type:"onDragMove",event:Le})})},[oe.x,oe.y]),S.useEffect(()=>{const{active:Ce,activatorEvent:He,collisions:lt,droppableContainers:we,scrollAdjustedTranslate:Ne}=J.current;if(!Ce||E.current==null||!He||!Ne)return;const{onDragOver:Le}=L.current,ct=we.get(ze),pt=ct&&ct.rect.current?{id:ct.id,rect:ct.rect.current,data:ct.data,disabled:ct.disabled}:null,ut={active:Ce,activatorEvent:He,collisions:lt,delta:{x:Ne.x,y:Ne.y},over:pt};Kn.unstable_batchedUpdates(()=>{Tt(pt),Le?.(ut),b({type:"onDragOver",event:ut})})},[ze]),oi(()=>{J.current={activatorEvent:F,active:D,activeNode:fe,collisionRect:ge,collisions:Oe,droppableRects:$,draggableNodes:C,draggingNode:K,draggingNodeRect:V,droppableContainers:O,over:Ve,scrollableAncestors:ie,scrollAdjustedTranslate:oe},N.current={initial:V,translated:ge}},[D,fe,Oe,ge,C,K,V,$,O,Ve,ie,oe]),oX({...ue,delta:P,draggingRect:ge,pointerCoordinates:de,scrollableAncestors:ie,scrollableAncestorRects:re});const tt=S.useMemo(()=>({active:D,activeNode:fe,activeNodeRect:te,activatorEvent:F,collisions:Oe,containerNodeRect:ce,dragOverlay:A,draggableNodes:C,droppableContainers:O,droppableRects:$,over:Ve,measureDroppableContainers:Q,scrollableAncestors:ie,scrollableAncestorRects:re,measuringConfiguration:z,measuringScheduled:Z,windowRect:G}),[D,fe,te,F,Oe,ce,A,C,O,$,Ve,Q,ie,re,z,Z,G]),at=S.useMemo(()=>({activatorEvent:F,activators:je,active:D,activeNodeRect:te,ariaDescribedById:{draggable:M},dispatch:y,draggableNodes:C,over:Ve,measureDroppableContainers:Q}),[F,je,D,te,y,M,C,Ve,Q]);return I.createElement(h$.Provider,{value:x},I.createElement(yp.Provider,{value:at},I.createElement(O$.Provider,{value:tt},I.createElement(C$.Provider,{value:It},c)),I.createElement(CX,{disabled:s?.restoreFocus===!1})),I.createElement(TY,{...s,hiddenTextDescribedById:M}));function st(){const Ce=R?.autoScrollEnabled===!1,He=typeof l=="object"?l.enabled===!1:l===!1,lt=j&&!Ce&&!He;return typeof l=="object"?{...l,enabled:lt}:{enabled:lt}}}),IX=S.createContext(null),Bk="button",DX="Draggable";function MX(e){let{id:t,data:r,disabled:n=!1,attributes:i}=e;const a=Ru(DX),{activators:o,activatorEvent:s,active:l,activeNodeRect:c,ariaDescribedById:u,draggableNodes:f,over:p}=S.useContext(yp),{role:h=Bk,roleDescription:v="draggable",tabIndex:m=0}=i??{},g=l?.id===t,y=S.useContext(g?C$:IX),[b,x]=yf(),[_,w]=yf(),j=bX(o,t),k=Pc(r);oi(()=>(f.set(t,{id:t,key:a,node:b,activatorNode:_,data:k}),()=>{const P=f.get(t);P&&P.key===a&&f.delete(t)}),[f,t]);const C=S.useMemo(()=>({role:h,tabIndex:m,"aria-disabled":n,"aria-pressed":g&&h===Bk?!0:void 0,"aria-roledescription":v,"aria-describedby":u.draggable}),[n,h,m,g,v,u.draggable]);return{active:l,activatorEvent:s,activeNodeRect:c,attributes:C,isDragging:g,listeners:n?void 0:j,node:b,over:p,setNodeRef:x,setActivatorNodeRef:w,transform:y}}function $X(){return S.useContext(O$)}const LX="Droppable",FX={timeout:25};function BX(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:i}=e;const a=Ru(LX),{active:o,dispatch:s,over:l,measureDroppableContainers:c}=S.useContext(yp),u=S.useRef({disabled:r}),f=S.useRef(!1),p=S.useRef(null),h=S.useRef(null),{disabled:v,updateMeasurementsFor:m,timeout:g}={...FX,...i},y=Pc(m??n),b=S.useCallback(()=>{if(!f.current){f.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{c(Array.isArray(y.current)?y.current:[y.current]),h.current=null},g)},[g]),x=vp({callback:b,disabled:v||!o}),_=S.useCallback((C,P)=>{x&&(P&&(x.unobserve(P),f.current=!1),C&&x.observe(C))},[x]),[w,j]=yf(_),k=Pc(t);return S.useEffect(()=>{!x||!w.current||(x.disconnect(),f.current=!1,x.observe(w.current))},[w,x]),S.useEffect(()=>(s({type:Jt.RegisterDroppable,element:{id:n,key:a,disabled:r,node:w,rect:p,data:k}}),()=>s({type:Jt.UnregisterDroppable,key:a,id:n})),[n]),S.useEffect(()=>{r!==u.current.disabled&&(s({type:Jt.SetDroppableDisabled,id:n,key:a,disabled:r}),u.current.disabled=r)},[n,a,r,s]),{active:o,rect:p,isOver:l?.id===n,node:w,over:l,setNodeRef:j}}function d_(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function zX(e,t){return e.reduce((r,n,i)=>{const a=t.get(n);return a&&(r[i]=a),r},Array(e.length))}function hd(e){return e!==null&&e>=0}function qX(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function UX(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const P$=e=>{let{rects:t,activeIndex:r,overIndex:n,index:i}=e;const a=d_(t,n,r),o=t[i],s=a[i];return!s||!o?null:{x:s.left-o.left,y:s.top-o.top,scaleX:s.width/o.width,scaleY:s.height/o.height}},pd={scaleX:1,scaleY:1},WX=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:i,rects:a,overIndex:o}=e;const s=(t=a[r])!=null?t:n;if(!s)return null;if(i===r){const c=a[o];return c?{x:0,y:r<o?c.top+c.height-(s.top+s.height):c.top-s.top,...pd}:null}const l=HX(a,i,r);return i>r&&i<=o?{x:0,y:-s.height-l,...pd}:i<r&&i>=o?{x:0,y:s.height+l,...pd}:{x:0,y:0,...pd}};function HX(e,t,r){const n=e[t],i=e[t-1],a=e[t+1];return n?r<t?i?n.top-(i.top+i.height):a?a.top-(n.top+n.height):0:a?a.top-(n.top+n.height):i?n.top-(i.top+i.height):0:0}const T$="Sortable",N$=I.createContext({activeIndex:-1,containerId:T$,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:P$,disabled:{draggable:!1,droppable:!1}});function VX(e){let{children:t,id:r,items:n,strategy:i=P$,disabled:a=!1}=e;const{active:o,dragOverlay:s,droppableRects:l,over:c,measureDroppableContainers:u}=$X(),f=Ru(T$,r),p=s.rect!==null,h=S.useMemo(()=>n.map(j=>typeof j=="object"&&"id"in j?j.id:j),[n]),v=o!=null,m=o?h.indexOf(o.id):-1,g=c?h.indexOf(c.id):-1,y=S.useRef(h),b=!qX(h,y.current),x=g!==-1&&m===-1||b,_=UX(a);oi(()=>{b&&v&&u(h)},[b,h,v,u]),S.useEffect(()=>{y.current=h},[h]);const w=S.useMemo(()=>({activeIndex:m,containerId:f,disabled:_,disableTransforms:x,items:h,overIndex:g,useDragOverlay:p,sortedRects:zX(h,l),strategy:i}),[m,f,_.draggable,_.droppable,x,h,g,l,p,i]);return I.createElement(N$.Provider,{value:w},t)}const KX=e=>{let{id:t,items:r,activeIndex:n,overIndex:i}=e;return d_(r,n,i).indexOf(t)},GX=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:i,items:a,newIndex:o,previousItems:s,previousContainerId:l,transition:c}=e;return!c||!n||s!==a&&i===o?!1:r?!0:o!==i&&t===l},YX={duration:200,easing:"ease"},R$="transform",XX=Nc.Transition.toString({property:R$,duration:0,easing:"linear"}),QX={roleDescription:"sortable"};function JX(e){let{disabled:t,index:r,node:n,rect:i}=e;const[a,o]=S.useState(null),s=S.useRef(r);return oi(()=>{if(!t&&r!==s.current&&n.current){const l=i.current;if(l){const c=ll(n.current,{ignoreTransform:!0}),u={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(u.x||u.y)&&o(u)}}r!==s.current&&(s.current=r)},[t,r,n,i]),S.useEffect(()=>{a&&o(null)},[a]),a}function ZX(e){let{animateLayoutChanges:t=GX,attributes:r,disabled:n,data:i,getNewIndex:a=KX,id:o,strategy:s,resizeObserverConfig:l,transition:c=YX}=e;const{items:u,containerId:f,activeIndex:p,disabled:h,disableTransforms:v,sortedRects:m,overIndex:g,useDragOverlay:y,strategy:b}=S.useContext(N$),x=eQ(n,h),_=u.indexOf(o),w=S.useMemo(()=>({sortable:{containerId:f,index:_,items:u},...i}),[f,i,_,u]),j=S.useMemo(()=>u.slice(u.indexOf(o)),[u,o]),{rect:k,node:C,isOver:P,setNodeRef:O}=BX({id:o,data:w,disabled:x.droppable,resizeObserverConfig:{updateMeasurementsFor:j,...l}}),{active:T,activatorEvent:N,activeNodeRect:D,attributes:E,setNodeRef:R,listeners:B,isDragging:F,over:U,setActivatorNodeRef:L,transform:M}=MX({id:o,data:w,attributes:{...QX,...r},disabled:x.draggable}),H=yY(O,R),z=!!T,$=z&&!v&&hd(p)&&hd(g),Q=!y&&F,Z=Q&&$?M:null,le=$?Z??(s??b)({rects:m,activeNodeRect:D,activeIndex:p,overIndex:g,index:_}):null,ue=hd(p)&&hd(g)?a({id:o,items:u,activeIndex:p,overIndex:g}):_,ee=T?.id,te=S.useRef({activeId:ee,items:u,newIndex:ue,containerId:f}),ce=u!==te.current.items,J=t({active:T,containerId:f,isDragging:F,isSorting:z,id:o,index:_,items:u,newIndex:te.current.newIndex,previousItems:te.current.items,previousContainerId:te.current.containerId,transition:c,wasDragging:te.current.activeId!=null}),ne=JX({disabled:!J,index:_,node:C,rect:k});return S.useEffect(()=>{z&&te.current.newIndex!==ue&&(te.current.newIndex=ue),f!==te.current.containerId&&(te.current.containerId=f),u!==te.current.items&&(te.current.items=u)},[z,ue,f,u]),S.useEffect(()=>{if(ee===te.current.activeId)return;if(ee!=null&&te.current.activeId==null){te.current.activeId=ee;return}const K=setTimeout(()=>{te.current.activeId=ee},50);return()=>clearTimeout(K)},[ee]),{active:T,activeIndex:p,attributes:E,data:w,rect:k,index:_,newIndex:ue,items:u,isOver:P,isSorting:z,isDragging:F,listeners:B,node:C,overIndex:g,over:U,setNodeRef:H,setActivatorNodeRef:L,setDroppableNodeRef:O,setDraggableNodeRef:R,transform:ne??le,transition:A()};function A(){if(ne||ce&&te.current.newIndex===_)return XX;if(!(Q&&!o_(N)||!c)&&(z||J))return Nc.Transition.toString({...c,property:R$})}}function eQ(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e?.draggable)!=null?r:t.draggable,droppable:(n=e?.droppable)!=null?n:t.droppable}}function wf(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const tQ=[rt.Down,rt.Right,rt.Up,rt.Left],rQ=(e,t)=>{let{context:{active:r,collisionRect:n,droppableRects:i,droppableContainers:a,over:o,scrollableAncestors:s}}=t;if(tQ.includes(e.code)){if(e.preventDefault(),!r||!n)return;const l=[];a.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const p=i.get(f.id);if(p)switch(e.code){case rt.Down:n.top<p.top&&l.push(f);break;case rt.Up:n.top>p.top&&l.push(f);break;case rt.Left:n.left>p.left&&l.push(f);break;case rt.Right:n.left<p.left&&l.push(f);break}});const c=DY({collisionRect:n,droppableRects:i,droppableContainers:l});let u=g$(c,"id");if(u===o?.id&&c.length>1&&(u=c[1].id),u!=null){const f=a.get(r.id),p=a.get(u),h=p?i.get(p.id):null,v=p?.node.current;if(v&&h&&f&&p){const g=gp(v).some((j,k)=>s[k]!==j),y=I$(f,p),b=nQ(f,p),x=g||!y?{x:0,y:0}:{x:b?n.width-h.width:0,y:b?n.height-h.height:0},_={x:h.left,y:h.top};return x.x&&x.y?_:Tc(_,x)}}}};function I$(e,t){return!wf(e)||!wf(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function nQ(e,t){return!wf(e)||!wf(t)||!I$(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function iQ({habit:e,isEditing:t,editTitle:r,editColor:n,isPrivacyMode:i,isDeleting:a,isUpdating:o,onStartEdit:s,onCancelEdit:l,onSaveEdit:c,onRemove:u,setEditTitle:f,setEditColor:p}){const{attributes:h,listeners:v,setNodeRef:m,transform:g,transition:y,isDragging:b}=ZX({id:e.id}),x={transform:Nc.Transform.toString(g),transition:y,opacity:b?.5:1};return d.jsx("div",{ref:m,style:x,children:t?d.jsxs("div",{className:"rounded-xl p-3 bg-primary/10 border border-primary/30 space-y-3",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Mn,{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Nome"}),d.jsx(wa,{value:r,onChange:_=>f(_.target.value),className:"bg-black/30 border-white/10 h-9 rounded-lg",autoFocus:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Mn,{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Colore"}),d.jsx(r_,{value:n,onChange:p})]}),d.jsxs("div",{className:"flex gap-2 pt-1",children:[d.jsxs(Xe,{size:"sm",variant:"ghost",onClick:l,className:"flex-1 h-8 rounded-lg",children:[d.jsx(Qs,{className:"h-4 w-4 mr-1"}),"Annulla"]}),d.jsxs(Xe,{size:"sm",onClick:c,disabled:!r.trim()||o,className:"flex-1 h-8 rounded-lg",children:[d.jsx(Fh,{className:"h-4 w-4 mr-1"}),o?"Salvando...":"Salva"]})]})]}):d.jsxs("div",{className:"group flex items-center gap-2 rounded-xl p-3 bg-white/5 border border-transparent hover:border-white/10 hover:bg-white/10 transition-all",children:[d.jsx("div",{...h,...v,className:"cursor-grab active:cursor-grabbing opacity-40 group-hover:opacity-100 transition-opacity touch-none",children:d.jsx(p6,{className:"h-4 w-4 text-muted-foreground"})}),d.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[d.jsx("div",{className:"h-3 w-3 rounded-full shadow-[0_0_8px_currentColor] shrink-0",style:{backgroundColor:e.color,color:e.color}}),d.jsx("span",{className:ae("text-sm font-medium transition-all duration-300 truncate",i&&"blur-sm"),children:e.title})]}),d.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[d.jsx(Xe,{variant:"ghost",size:"icon",onClick:()=>s(e),className:"h-8 w-8 text-muted-foreground opacity-60 group-hover:opacity-100 group-hover:text-primary hover:bg-primary/10 transition-all rounded-lg",children:d.jsx(A6,{className:"h-4 w-4"})}),d.jsxs(io,{children:[d.jsx(ys,{asChild:!0,children:d.jsx(Xe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground opacity-60 group-hover:opacity-100 group-hover:text-destructive hover:bg-destructive/10 transition-all rounded-lg",children:d.jsx(v1,{className:"h-4 w-4"})})}),d.jsxs(da,{children:[d.jsxs(fa,{children:[d.jsx(pa,{children:"Sei sicuro?"}),d.jsx(ma,{children:"Stai per rimuovere questa abitudine. Se ha dei dati associati, verr archiviata per preservare lo storico. Altrimenti verr eliminata definitivamente."})]}),d.jsxs(ha,{children:[d.jsx(go,{children:"Annulla"}),d.jsx(ga,{onClick:()=>u(e.id),className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",disabled:a,children:a?"Eliminazione...":"Conferma elimina"})]})]})]})]})]})})}function aQ({habits:e,onAddHabit:t,onRemoveHabit:r,onUpdateHabit:n,onUpdateOrder:i,isDeleting:a,isUpdating:o,isPrivacyMode:s=!1}){const[l,c]=S.useState(!1),u=S.useMemo(()=>[...e].sort((D,E)=>{const R=D.display_order??999999,B=E.display_order??999999;return R!==B?R-B:new Date(D.created_at).getTime()-new Date(E.created_at).getTime()}),[e]),[f,p]=S.useState(u);S.useEffect(()=>{p(u)},[u]);const[h,v]=S.useState(""),[m,g]=S.useState("hsl(145 55% 42%)"),[y,b]=S.useState(null),[x,_]=S.useState(""),[w,j]=S.useState(""),k=NY(Wm(u_),Wm(k$),Wm(l_,{coordinateGetter:rQ})),C=()=>{h.trim()&&(t({title:h,color:m}),v(""),g("hsl(145 55% 42%)"))},P=D=>{b(D),_(D.title),j(D.color)},O=()=>{b(null),_(""),j("")},T=()=>{y&&x.trim()&&n&&(n({id:y.id,title:x.trim(),color:w}),O())},N=D=>{const{active:E,over:R}=D;!R||E.id===R.id||p(B=>{const F=B.findIndex(M=>M.id===E.id),U=B.findIndex(M=>M.id===R.id),L=d_(B,F,U);if(i){const M=L.map((H,z)=>({id:H.id,display_order:z+1}));i(M)}return L})};return d.jsxs(fp,{open:l,onOpenChange:c,children:[d.jsx(Z1,{asChild:!0,children:d.jsx(Xe,{variant:"outline",size:"icon",className:"h-10 w-10 sm:h-9 sm:w-9",children:d.jsx(DR,{className:"h-4 w-4"})})}),d.jsxs(Ou,{className:"sm:max-w-[425px] max-h-[85vh] flex flex-col bg-[#0a0a0a]/90 backdrop-blur-2xl border-white/10 text-foreground p-0 gap-0",children:[d.jsxs(hp,{className:"p-6 pb-2 shrink-0",children:[d.jsx(Cu,{children:"Gestisci Abitudini"}),d.jsx(Pu,{children:"Aggiungi, modifica o riordina le abitudini che vuoi tracciare. Trascina per riordinare."})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-6 pt-2 space-y-8",children:[d.jsxs("div",{className:"space-y-4 p-4 rounded-2xl bg-white/5 border border-white/10 backdrop-blur-md",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/20 flex items-center justify-center text-primary",children:d.jsx(A0,{className:"h-4 w-4"})}),d.jsx("h4",{className:"text-sm font-display font-bold",children:"Nuova Abitudine"})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"space-y-1.5",children:[d.jsx(Mn,{className:"text-xs uppercase tracking-wider text-muted-foreground ml-1",children:"Nome"}),d.jsx(wa,{placeholder:"Es. Bere acqua, Leggere...",value:h,onChange:D=>v(D.target.value),className:"bg-black/30 border-white/10 h-10 rounded-xl"})]}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsx(Mn,{className:"text-xs uppercase tracking-wider text-muted-foreground ml-1",children:"Colore"}),d.jsx(r_,{value:m,onChange:g})]}),d.jsx(Xe,{onClick:C,disabled:!h.trim(),className:"w-full rounded-xl",children:"Aggiungi al Protocollo"})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("h4",{className:"text-sm font-display font-bold px-1",children:"Le tue Abitudini"}),d.jsx(RX,{sensors:k,collisionDetection:IY,onDragEnd:N,children:d.jsx(VX,{items:f.map(D=>D.id),strategy:WX,children:d.jsxs("div",{className:"space-y-2",children:[f.map(D=>d.jsx(iQ,{habit:D,isEditing:y?.id===D.id,editTitle:x,editColor:w,isPrivacyMode:s,isDeleting:a,isUpdating:o,onStartEdit:P,onCancelEdit:O,onSaveEdit:T,onRemove:r,setEditTitle:_,setEditColor:j},D.id)),e.length===0&&d.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center text-muted-foreground space-y-2",children:[d.jsx("div",{className:"h-10 w-10 rounded-full bg-white/5 flex items-center justify-center",children:d.jsx(A0,{className:"h-5 w-5 opacity-50"})}),d.jsx("p",{className:"text-sm",children:"Nessuna abitudine definita."})]})]})})})]})]})]})]})}const D$=S.forwardRef(({className:e,...t},r)=>d.jsx("textarea",{className:ae("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));D$.displayName="Textarea";var oQ=S.createContext(void 0);function cl(e){const t=S.useContext(oQ);return e||t||"ltr"}function Ic(e,[t,r]){return Math.min(r,Math.max(t,e))}function sQ(e,t){return S.useReducer((r,n)=>t[r][n]??r,e)}var f_="ScrollArea",[M$]=Or(f_),[lQ,vn]=M$(f_),$$=S.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:a=600,...o}=e,[s,l]=S.useState(null),[c,u]=S.useState(null),[f,p]=S.useState(null),[h,v]=S.useState(null),[m,g]=S.useState(null),[y,b]=S.useState(0),[x,_]=S.useState(0),[w,j]=S.useState(!1),[k,C]=S.useState(!1),P=$e(t,T=>l(T)),O=cl(i);return d.jsx(lQ,{scope:r,type:n,dir:O,scrollHideDelay:a,scrollArea:s,viewport:c,onViewportChange:u,content:f,onContentChange:p,scrollbarX:h,onScrollbarXChange:v,scrollbarXEnabled:w,onScrollbarXEnabledChange:j,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:k,onScrollbarYEnabledChange:C,onCornerWidthChange:b,onCornerHeightChange:_,children:d.jsx(Ee.div,{dir:O,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});$$.displayName=f_;var L$="ScrollAreaViewport",F$=S.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:i,...a}=e,o=vn(L$,r),s=S.useRef(null),l=$e(t,s,o.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),d.jsx(Ee.div,{"data-radix-scroll-area-viewport":"",...a,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:d.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});F$.displayName=L$;var ci="ScrollAreaScrollbar",h_=S.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=vn(ci,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,s=e.orientation==="horizontal";return S.useEffect(()=>(s?a(!0):o(!0),()=>{s?a(!1):o(!1)}),[s,a,o]),i.type==="hover"?d.jsx(cQ,{...n,ref:t,forceMount:r}):i.type==="scroll"?d.jsx(uQ,{...n,ref:t,forceMount:r}):i.type==="auto"?d.jsx(B$,{...n,ref:t,forceMount:r}):i.type==="always"?d.jsx(p_,{...n,ref:t}):null});h_.displayName=ci;var cQ=S.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=vn(ci,e.__scopeScrollArea),[a,o]=S.useState(!1);return S.useEffect(()=>{const s=i.scrollArea;let l=0;if(s){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return s.addEventListener("pointerenter",c),s.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),s.removeEventListener("pointerenter",c),s.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),d.jsx(Mi,{present:r||a,children:d.jsx(B$,{"data-state":a?"visible":"hidden",...n,ref:t})})}),uQ=S.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=vn(ci,e.__scopeScrollArea),a=e.orientation==="horizontal",o=xp(()=>l("SCROLL_END"),100),[s,l]=sQ("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(s==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[s,i.scrollHideDelay,l]),S.useEffect(()=>{const c=i.viewport,u=a?"scrollLeft":"scrollTop";if(c){let f=c[u];const p=()=>{const h=c[u];f!==h&&(l("SCROLL"),o()),f=h};return c.addEventListener("scroll",p),()=>c.removeEventListener("scroll",p)}},[i.viewport,a,l,o]),d.jsx(Mi,{present:r||s!=="hidden",children:d.jsx(p_,{"data-state":s==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:ke(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:ke(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),B$=S.forwardRef((e,t)=>{const r=vn(ci,e.__scopeScrollArea),{forceMount:n,...i}=e,[a,o]=S.useState(!1),s=e.orientation==="horizontal",l=xp(()=>{if(r.viewport){const c=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(s?c:u)}},10);return bs(r.viewport,l),bs(r.content,l),d.jsx(Mi,{present:n||a,children:d.jsx(p_,{"data-state":a?"visible":"hidden",...i,ref:t})})}),p_=S.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,i=vn(ci,e.__scopeScrollArea),a=S.useRef(null),o=S.useRef(0),[s,l]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=H$(s.viewport,s.content),u={...n,sizes:s,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:p=>a.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function f(p,h){return gQ(p,o.current,s,h)}return r==="horizontal"?d.jsx(dQ,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const p=i.viewport.scrollLeft,h=zk(p,s,i.dir);a.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollLeft=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollLeft=f(p,i.dir))}}):r==="vertical"?d.jsx(fQ,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const p=i.viewport.scrollTop,h=zk(p,s);a.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollTop=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollTop=f(p))}}):null}),dQ=S.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,a=vn(ci,e.__scopeScrollArea),[o,s]=S.useState(),l=S.useRef(null),c=$e(t,l,a.onScrollbarXChange);return S.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),d.jsx(q$,{"data-orientation":"horizontal",...i,ref:c,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":bp(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(a.viewport){const p=a.viewport.scrollLeft+u.deltaX;e.onWheelScroll(p),K$(p,f)&&u.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Sf(o.paddingLeft),paddingEnd:Sf(o.paddingRight)}})}})}),fQ=S.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,a=vn(ci,e.__scopeScrollArea),[o,s]=S.useState(),l=S.useRef(null),c=$e(t,l,a.onScrollbarYChange);return S.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),d.jsx(q$,{"data-orientation":"vertical",...i,ref:c,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":bp(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(a.viewport){const p=a.viewport.scrollTop+u.deltaY;e.onWheelScroll(p),K$(p,f)&&u.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Sf(o.paddingTop),paddingEnd:Sf(o.paddingBottom)}})}})}),[hQ,z$]=M$(ci),q$=S.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:f,...p}=e,h=vn(ci,r),[v,m]=S.useState(null),g=$e(t,P=>m(P)),y=S.useRef(null),b=S.useRef(""),x=h.viewport,_=n.content-n.viewport,w=Lt(u),j=Lt(l),k=xp(f,10);function C(P){if(y.current){const O=P.clientX-y.current.left,T=P.clientY-y.current.top;c({x:O,y:T})}}return S.useEffect(()=>{const P=O=>{const T=O.target;v?.contains(T)&&w(O,_)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[x,v,_,w]),S.useEffect(j,[n,j]),bs(v,k),bs(h.content,k),d.jsx(hQ,{scope:r,scrollbar:v,hasThumb:i,onThumbChange:Lt(a),onThumbPointerUp:Lt(o),onThumbPositionChange:j,onThumbPointerDown:Lt(s),children:d.jsx(Ee.div,{...p,ref:g,style:{position:"absolute",...p.style},onPointerDown:ke(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),y.current=v.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),C(P))}),onPointerMove:ke(e.onPointerMove,C),onPointerUp:ke(e.onPointerUp,P=>{const O=P.target;O.hasPointerCapture(P.pointerId)&&O.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=b.current,h.viewport&&(h.viewport.style.scrollBehavior=""),y.current=null})})})}),_f="ScrollAreaThumb",U$=S.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=z$(_f,e.__scopeScrollArea);return d.jsx(Mi,{present:r||i.hasThumb,children:d.jsx(pQ,{ref:t,...n})})}),pQ=S.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...i}=e,a=vn(_f,r),o=z$(_f,r),{onThumbPositionChange:s}=o,l=$e(t,f=>o.onThumbChange(f)),c=S.useRef(void 0),u=xp(()=>{c.current&&(c.current(),c.current=void 0)},100);return S.useEffect(()=>{const f=a.viewport;if(f){const p=()=>{if(u(),!c.current){const h=vQ(f,s);c.current=h,s()}};return s(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[a.viewport,u,s]),d.jsx(Ee.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ke(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),v=f.clientX-h.left,m=f.clientY-h.top;o.onThumbPointerDown({x:v,y:m})}),onPointerUp:ke(e.onPointerUp,o.onThumbPointerUp)})});U$.displayName=_f;var m_="ScrollAreaCorner",W$=S.forwardRef((e,t)=>{const r=vn(m_,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?d.jsx(mQ,{...e,ref:t}):null});W$.displayName=m_;var mQ=S.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,i=vn(m_,r),[a,o]=S.useState(0),[s,l]=S.useState(0),c=!!(a&&s);return bs(i.scrollbarX,()=>{const u=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(u),l(u)}),bs(i.scrollbarY,()=>{const u=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(u),o(u)}),c?d.jsx(Ee.div,{...n,ref:t,style:{width:a,height:s,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Sf(e){return e?parseInt(e,10):0}function H$(e,t){const r=e/t;return isNaN(r)?0:r}function bp(e){const t=H$(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function gQ(e,t,r,n="ltr"){const i=bp(r),a=i/2,o=t||a,s=i-o,l=r.scrollbar.paddingStart+o,c=r.scrollbar.size-r.scrollbar.paddingEnd-s,u=r.content-r.viewport,f=n==="ltr"?[0,u]:[u*-1,0];return V$([l,c],f)(e)}function zk(e,t,r="ltr"){const n=bp(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,o=t.content-t.viewport,s=a-n,l=r==="ltr"?[0,o]:[o*-1,0],c=Ic(e,l);return V$([0,o],[0,s])(c)}function V$(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function K$(e,t){return e>0&&e<t}var vQ=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function i(){const a={left:e.scrollLeft,top:e.scrollTop},o=r.left!==a.left,s=r.top!==a.top;(o||s)&&t(),r=a,n=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(n)};function xp(e,t){const r=Lt(e),n=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(n.current),[]),S.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function bs(e,t){const r=Lt(t);Ht(()=>{let n=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(n),i.unobserve(e)}}},[e,r])}var G$=$$,yQ=F$,bQ=W$;const g_=S.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(G$,{ref:n,className:ae("relative overflow-hidden",e),...r,children:[d.jsx(yQ,{className:"h-full w-full rounded-[inherit]",children:t}),d.jsx(Y$,{}),d.jsx(bQ,{})]}));g_.displayName=G$.displayName;const Y$=S.forwardRef(({className:e,orientation:t="vertical",...r},n)=>d.jsx(h_,{ref:n,orientation:t,className:ae("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:d.jsx(U$,{className:"relative flex-1 rounded-full bg-border"})}));Y$.displayName=h_.displayName;function xQ(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const wQ=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,_Q=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,SQ={};function qk(e,t){return(SQ.jsx?_Q:wQ).test(e)}const jQ=/[ \t\n\f\r]/g;function kQ(e){return typeof e=="object"?e.type==="text"?Uk(e.value):!1:Uk(e)}function Uk(e){return e.replace(jQ,"")===""}class Iu{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}Iu.prototype.normal={};Iu.prototype.property={};Iu.prototype.space=void 0;function X$(e,t){const r={},n={};for(const i of e)Object.assign(r,i.property),Object.assign(n,i.normal);return new Iu(r,n,t)}function hx(e){return e.toLowerCase()}class Mr{constructor(t,r){this.attribute=r,this.property=t}}Mr.prototype.attribute="";Mr.prototype.booleanish=!1;Mr.prototype.boolean=!1;Mr.prototype.commaOrSpaceSeparated=!1;Mr.prototype.commaSeparated=!1;Mr.prototype.defined=!1;Mr.prototype.mustUseProperty=!1;Mr.prototype.number=!1;Mr.prototype.overloadedBoolean=!1;Mr.prototype.property="";Mr.prototype.spaceSeparated=!1;Mr.prototype.space=void 0;let EQ=0;const We=Ao(),Bt=Ao(),px=Ao(),me=Ao(),St=Ao(),cs=Ao(),Lr=Ao();function Ao(){return 2**++EQ}const mx=Object.freeze(Object.defineProperty({__proto__:null,boolean:We,booleanish:Bt,commaOrSpaceSeparated:Lr,commaSeparated:cs,number:me,overloadedBoolean:px,spaceSeparated:St},Symbol.toStringTag,{value:"Module"})),Gm=Object.keys(mx);class v_ extends Mr{constructor(t,r,n,i){let a=-1;if(super(t,r),Wk(this,"space",i),typeof n=="number")for(;++a<Gm.length;){const o=Gm[a];Wk(this,Gm[a],(n&mx[o])===mx[o])}}}v_.prototype.defined=!0;function Wk(e,t,r){r&&(e[t]=r)}function ul(e){const t={},r={};for(const[n,i]of Object.entries(e.properties)){const a=new v_(n,e.transform(e.attributes||{},n),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(a.mustUseProperty=!0),t[n]=a,r[hx(n)]=n,r[hx(a.attribute)]=n}return new Iu(t,r,e.space)}const Q$=ul({properties:{ariaActiveDescendant:null,ariaAtomic:Bt,ariaAutoComplete:null,ariaBusy:Bt,ariaChecked:Bt,ariaColCount:me,ariaColIndex:me,ariaColSpan:me,ariaControls:St,ariaCurrent:null,ariaDescribedBy:St,ariaDetails:null,ariaDisabled:Bt,ariaDropEffect:St,ariaErrorMessage:null,ariaExpanded:Bt,ariaFlowTo:St,ariaGrabbed:Bt,ariaHasPopup:null,ariaHidden:Bt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:St,ariaLevel:me,ariaLive:null,ariaModal:Bt,ariaMultiLine:Bt,ariaMultiSelectable:Bt,ariaOrientation:null,ariaOwns:St,ariaPlaceholder:null,ariaPosInSet:me,ariaPressed:Bt,ariaReadOnly:Bt,ariaRelevant:null,ariaRequired:Bt,ariaRoleDescription:St,ariaRowCount:me,ariaRowIndex:me,ariaRowSpan:me,ariaSelected:Bt,ariaSetSize:me,ariaSort:null,ariaValueMax:me,ariaValueMin:me,ariaValueNow:me,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function J$(e,t){return t in e?e[t]:t}function Z$(e,t){return J$(e,t.toLowerCase())}const AQ=ul({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:cs,acceptCharset:St,accessKey:St,action:null,allow:null,allowFullScreen:We,allowPaymentRequest:We,allowUserMedia:We,alt:null,as:null,async:We,autoCapitalize:null,autoComplete:St,autoFocus:We,autoPlay:We,blocking:St,capture:null,charSet:null,checked:We,cite:null,className:St,cols:me,colSpan:null,content:null,contentEditable:Bt,controls:We,controlsList:St,coords:me|cs,crossOrigin:null,data:null,dateTime:null,decoding:null,default:We,defer:We,dir:null,dirName:null,disabled:We,download:px,draggable:Bt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:We,formTarget:null,headers:St,height:me,hidden:px,high:me,href:null,hrefLang:null,htmlFor:St,httpEquiv:St,id:null,imageSizes:null,imageSrcSet:null,inert:We,inputMode:null,integrity:null,is:null,isMap:We,itemId:null,itemProp:St,itemRef:St,itemScope:We,itemType:St,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:We,low:me,manifest:null,max:null,maxLength:me,media:null,method:null,min:null,minLength:me,multiple:We,muted:We,name:null,nonce:null,noModule:We,noValidate:We,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:We,optimum:me,pattern:null,ping:St,placeholder:null,playsInline:We,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:We,referrerPolicy:null,rel:St,required:We,reversed:We,rows:me,rowSpan:me,sandbox:St,scope:null,scoped:We,seamless:We,selected:We,shadowRootClonable:We,shadowRootDelegatesFocus:We,shadowRootMode:null,shape:null,size:me,sizes:null,slot:null,span:me,spellCheck:Bt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:me,step:null,style:null,tabIndex:me,target:null,title:null,translate:null,type:null,typeMustMatch:We,useMap:null,value:Bt,width:me,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:St,axis:null,background:null,bgColor:null,border:me,borderColor:null,bottomMargin:me,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:We,declare:We,event:null,face:null,frame:null,frameBorder:null,hSpace:me,leftMargin:me,link:null,longDesc:null,lowSrc:null,marginHeight:me,marginWidth:me,noResize:We,noHref:We,noShade:We,noWrap:We,object:null,profile:null,prompt:null,rev:null,rightMargin:me,rules:null,scheme:null,scrolling:Bt,standby:null,summary:null,text:null,topMargin:me,valueType:null,version:null,vAlign:null,vLink:null,vSpace:me,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:We,disableRemotePlayback:We,prefix:null,property:null,results:me,security:null,unselectable:null},space:"html",transform:Z$}),OQ=ul({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Lr,accentHeight:me,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:me,amplitude:me,arabicForm:null,ascent:me,attributeName:null,attributeType:null,azimuth:me,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:me,by:null,calcMode:null,capHeight:me,className:St,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:me,diffuseConstant:me,direction:null,display:null,dur:null,divisor:me,dominantBaseline:null,download:We,dx:null,dy:null,edgeMode:null,editable:null,elevation:me,enableBackground:null,end:null,event:null,exponent:me,externalResourcesRequired:null,fill:null,fillOpacity:me,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:cs,g2:cs,glyphName:cs,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:me,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:me,horizOriginX:me,horizOriginY:me,id:null,ideographic:me,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:me,k:me,k1:me,k2:me,k3:me,k4:me,kernelMatrix:Lr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:me,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:me,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:me,overlineThickness:me,paintOrder:null,panose1:null,path:null,pathLength:me,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:St,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:me,pointsAtY:me,pointsAtZ:me,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Lr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Lr,rev:Lr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Lr,requiredFeatures:Lr,requiredFonts:Lr,requiredFormats:Lr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:me,specularExponent:me,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:me,strikethroughThickness:me,string:null,stroke:null,strokeDashArray:Lr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:me,strokeOpacity:me,strokeWidth:null,style:null,surfaceScale:me,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Lr,tabIndex:me,tableValues:null,target:null,targetX:me,targetY:me,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Lr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:me,underlineThickness:me,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:me,values:null,vAlphabetic:me,vMathematical:me,vectorEffect:null,vHanging:me,vIdeographic:me,version:null,vertAdvY:me,vertOriginX:me,vertOriginY:me,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:me,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:J$}),e5=ul({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),t5=ul({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Z$}),r5=ul({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),CQ={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},PQ=/[A-Z]/g,Hk=/-[a-z]/g,TQ=/^data[-\w.:]+$/i;function NQ(e,t){const r=hx(t);let n=t,i=Mr;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&TQ.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(Hk,IQ);n="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!Hk.test(a)){let o=a.replace(PQ,RQ);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=v_}return new i(n,t)}function RQ(e){return"-"+e.toLowerCase()}function IQ(e){return e.charAt(1).toUpperCase()}const DQ=X$([Q$,AQ,e5,t5,r5],"html"),y_=X$([Q$,OQ,e5,t5,r5],"svg");function MQ(e){return e.join(" ").trim()}var zo={},Ym,Vk;function $Q(){if(Vk)return Ym;Vk=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,r=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,s=/^\s+|\s+$/g,l=`
`,c="/",u="*",f="",p="comment",h="declaration";function v(g,y){if(typeof g!="string")throw new TypeError("First argument must be a string");if(!g)return[];y=y||{};var b=1,x=1;function _(E){var R=E.match(t);R&&(b+=R.length);var B=E.lastIndexOf(l);x=~B?E.length-B:x+E.length}function w(){var E={line:b,column:x};return function(R){return R.position=new j(E),P(),R}}function j(E){this.start=E,this.end={line:b,column:x},this.source=y.source}j.prototype.content=g;function k(E){var R=new Error(y.source+":"+b+":"+x+": "+E);if(R.reason=E,R.filename=y.source,R.line=b,R.column=x,R.source=g,!y.silent)throw R}function C(E){var R=E.exec(g);if(R){var B=R[0];return _(B),g=g.slice(B.length),R}}function P(){C(r)}function O(E){var R;for(E=E||[];R=T();)R!==!1&&E.push(R);return E}function T(){var E=w();if(!(c!=g.charAt(0)||u!=g.charAt(1))){for(var R=2;f!=g.charAt(R)&&(u!=g.charAt(R)||c!=g.charAt(R+1));)++R;if(R+=2,f===g.charAt(R-1))return k("End of comment missing");var B=g.slice(2,R-2);return x+=2,_(B),g=g.slice(R),x+=2,E({type:p,comment:B})}}function N(){var E=w(),R=C(n);if(R){if(T(),!C(i))return k("property missing ':'");var B=C(a),F=E({type:h,property:m(R[0].replace(e,f)),value:B?m(B[0].replace(e,f)):f});return C(o),F}}function D(){var E=[];O(E);for(var R;R=N();)R!==!1&&(E.push(R),O(E));return E}return P(),D()}function m(g){return g?g.replace(s,f):f}return Ym=v,Ym}var Kk;function LQ(){if(Kk)return zo;Kk=1;var e=zo&&zo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(zo,"__esModule",{value:!0}),zo.default=r;const t=e($Q());function r(n,i){let a=null;if(!n||typeof n!="string")return a;const o=(0,t.default)(n),s=typeof i=="function";return o.forEach(l=>{if(l.type!=="declaration")return;const{property:c,value:u}=l;s?i(c,u,l):u&&(a=a||{},a[c]=u)}),a}return zo}var Il={},Gk;function FQ(){if(Gk)return Il;Gk=1,Object.defineProperty(Il,"__esModule",{value:!0}),Il.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,r=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,a=function(c){return!c||r.test(c)||e.test(c)},o=function(c,u){return u.toUpperCase()},s=function(c,u){return"".concat(u,"-")},l=function(c,u){return u===void 0&&(u={}),a(c)?c:(c=c.toLowerCase(),u.reactCompat?c=c.replace(i,s):c=c.replace(n,s),c.replace(t,o))};return Il.camelCase=l,Il}var Dl,Yk;function BQ(){if(Yk)return Dl;Yk=1;var e=Dl&&Dl.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(LQ()),r=FQ();function n(i,a){var o={};return!i||typeof i!="string"||(0,t.default)(i,function(s,l){s&&l&&(o[(0,r.camelCase)(s,a)]=l)}),o}return n.default=n,Dl=n,Dl}var zQ=BQ();const qQ=it(zQ),n5=i5("end"),b_=i5("start");function i5(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function UQ(e){const t=b_(e),r=n5(e);if(t&&r)return{start:t,end:r}}function cc(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Xk(e.position):"start"in e||"end"in e?Xk(e):"line"in e||"column"in e?gx(e):""}function gx(e){return Qk(e&&e.line)+":"+Qk(e&&e.column)}function Xk(e){return gx(e&&e.start)+"-"+gx(e&&e.end)}function Qk(e){return e&&typeof e=="number"?e:1}class vr extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",a={},o=!1;if(r&&("line"in r&&"column"in r?a={place:r}:"start"in r&&"end"in r?a={place:r}:"type"in r?a={ancestors:[r],place:r.position}:a={...r}),typeof t=="string"?i=t:!a.cause&&t&&(o=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof n=="string"){const l=n.indexOf(":");l===-1?a.ruleId=n:(a.source=n.slice(0,l),a.ruleId=n.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const s=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=cc(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}vr.prototype.file="";vr.prototype.name="";vr.prototype.reason="";vr.prototype.message="";vr.prototype.stack="";vr.prototype.column=void 0;vr.prototype.line=void 0;vr.prototype.ancestors=void 0;vr.prototype.cause=void 0;vr.prototype.fatal=void 0;vr.prototype.place=void 0;vr.prototype.ruleId=void 0;vr.prototype.source=void 0;const x_={}.hasOwnProperty,WQ=new Map,HQ=/[A-Z]/g,VQ=new Set(["table","tbody","thead","tfoot","tr"]),KQ=new Set(["td","th"]),a5="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function GQ(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=rJ(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=tJ(r,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?y_:DQ,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=o5(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function o5(e,t,r){if(t.type==="element")return YQ(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return XQ(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return JQ(e,t,r);if(t.type==="mdxjsEsm")return QQ(e,t);if(t.type==="root")return ZQ(e,t,r);if(t.type==="text")return eJ(e,t)}function YQ(e,t,r){const n=e.schema;let i=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=y_,e.schema=i),e.ancestors.push(t);const a=l5(e,t.tagName,!1),o=nJ(e,t);let s=__(e,t);return VQ.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!kQ(l):!0})),s5(e,o,a,t),w_(o,s),e.ancestors.pop(),e.schema=n,e.create(t,a,o,r)}function XQ(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Dc(e,t.position)}function QQ(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Dc(e,t.position)}function JQ(e,t,r){const n=e.schema;let i=n;t.name==="svg"&&n.space==="html"&&(i=y_,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:l5(e,t.name,!0),o=iJ(e,t),s=__(e,t);return s5(e,o,a,t),w_(o,s),e.ancestors.pop(),e.schema=n,e.create(t,a,o,r)}function ZQ(e,t,r){const n={};return w_(n,__(e,t)),e.create(t,e.Fragment,n,r)}function eJ(e,t){return t.value}function s5(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function w_(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function tJ(e,t,r){return n;function n(i,a,o,s){const c=Array.isArray(o.children)?r:t;return s?c(a,o,s):c(a,o)}}function rJ(e,t){return r;function r(n,i,a,o){const s=Array.isArray(a.children),l=b_(n);return t(i,a,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function nJ(e,t){const r={};let n,i;for(i in t.properties)if(i!=="children"&&x_.call(t.properties,i)){const a=aJ(e,i,t.properties[i]);if(a){const[o,s]=a;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&KQ.has(t.tagName)?n=s:r[o]=s}}if(n){const a=r.style||(r.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function iJ(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const a=n.data.estree.body[0];a.type;const o=a.expression;o.type;const s=o.properties[0];s.type,Object.assign(r,e.evaluater.evaluateExpression(s.argument))}else Dc(e,t.position);else{const i=n.name;let a;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const s=n.value.data.estree.body[0];s.type,a=e.evaluater.evaluateExpression(s.expression)}else Dc(e,t.position);else a=n.value===null?!0:n.value;r[i]=a}return r}function __(e,t){const r=[];let n=-1;const i=e.passKeys?new Map:WQ;for(;++n<t.children.length;){const a=t.children[n];let o;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const s=o5(e,a,o);s!==void 0&&r.push(s)}return r}function aJ(e,t,r){const n=NQ(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?xQ(r):MQ(r)),n.property==="style"){let i=typeof r=="object"?r:oJ(e,String(r));return e.stylePropertyNameCase==="css"&&(i=sJ(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&n.space?CQ[n.property]||n.property:n.attribute,r]}}function oJ(e,t){try{return qQ(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,i=new vr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=a5+"#cannot-parse-style-attribute",i}}function l5(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,o;for(;++a<i.length;){const s=qk(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(a&&s.type==="Literal"),optional:!1}:s}n=o}else n=qk(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const i=n.value;return x_.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(n);Dc(e)}function Dc(e,t){const r=new vr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=a5+"#cannot-handle-mdx-estrees-without-createevaluater",r}function sJ(e){const t={};let r;for(r in e)x_.call(e,r)&&(t[lJ(r)]=e[r]);return t}function lJ(e){let t=e.replace(HQ,cJ);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function cJ(e){return"-"+e.toLowerCase()}const Xm={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},uJ={};function S_(e,t){const r=uJ,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return c5(e,n,i)}function c5(e,t,r){if(dJ(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Jk(e.children,t,r)}return Array.isArray(e)?Jk(e,t,r):""}function Jk(e,t,r){const n=[];let i=-1;for(;++i<e.length;)n[i]=c5(e[i],t,r);return n.join("")}function dJ(e){return!!(e&&typeof e=="object")}const Zk=document.createElement("i");function j_(e){const t="&"+e+";";Zk.innerHTML=t;const r=Zk.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function Gr(e,t,r,n){const i=e.length;let a=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,r=r>0?r:0,n.length<1e4)o=Array.from(n),o.unshift(t,r),e.splice(...o);else for(r&&e.splice(t,r);a<n.length;)o=n.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function on(e,t){return e.length>0?(Gr(e,e.length,0,t),e):t}const eE={}.hasOwnProperty;function u5(e){const t={};let r=-1;for(;++r<e.length;)fJ(t,e[r]);return t}function fJ(e,t){let r;for(r in t){const i=(eE.call(e,r)?e[r]:void 0)||(e[r]={}),a=t[r];let o;if(a)for(o in a){eE.call(i,o)||(i[o]=[]);const s=a[o];hJ(i[o],Array.isArray(s)?s:s?[s]:[])}}}function hJ(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);Gr(e,0,0,n)}function d5(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function Nn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const _r=Ea(/[A-Za-z]/),gr=Ea(/[\dA-Za-z]/),pJ=Ea(/[#-'*+\--9=?A-Z^-~]/);function jf(e){return e!==null&&(e<32||e===127)}const vx=Ea(/\d/),mJ=Ea(/[\dA-Fa-f]/),gJ=Ea(/[!-/:-@[-`{-~]/);function Re(e){return e!==null&&e<-2}function wt(e){return e!==null&&(e<0||e===32)}function Qe(e){return e===-2||e===-1||e===32}const wp=Ea(new RegExp("\\p{P}|\\p{S}","u")),vo=Ea(/\s/);function Ea(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function dl(e){const t=[];let r=-1,n=0,i=0;for(;++r<e.length;){const a=e.charCodeAt(r);let o="";if(a===37&&gr(e.charCodeAt(r+1))&&gr(e.charCodeAt(r+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const s=e.charCodeAt(r+1);a<56320&&s>56319&&s<57344?(o=String.fromCharCode(a,s),i=1):o=""}else o=String.fromCharCode(a);o&&(t.push(e.slice(n,r),encodeURIComponent(o)),n=r+i+1,o=""),i&&(r+=i,i=0)}return t.join("")+e.slice(n)}function nt(e,t,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(l){return Qe(l)?(e.enter(r),s(l)):t(l)}function s(l){return Qe(l)&&a++<i?(e.consume(l),s):(e.exit(r),t(l))}}const vJ={tokenize:yJ};function yJ(e){const t=e.attempt(this.parser.constructs.contentInitial,n,i);let r;return t;function n(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),nt(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),a(s)}function a(s){const l=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=l),r=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return Re(s)?(e.consume(s),e.exit("chunkText"),a):(e.consume(s),o)}}const bJ={tokenize:xJ},tE={tokenize:wJ};function xJ(e){const t=this,r=[];let n=0,i,a,o;return s;function s(x){if(n<r.length){const _=r[n];return t.containerState=_[1],e.attempt(_[0].continuation,l,c)(x)}return c(x)}function l(x){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const _=t.events.length;let w=_,j;for(;w--;)if(t.events[w][0]==="exit"&&t.events[w][1].type==="chunkFlow"){j=t.events[w][1].end;break}y(n);let k=_;for(;k<t.events.length;)t.events[k][1].end={...j},k++;return Gr(t.events,w+1,0,t.events.slice(_)),t.events.length=k,c(x)}return s(x)}function c(x){if(n===r.length){if(!i)return p(x);if(i.currentConstruct&&i.currentConstruct.concrete)return v(x);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(tE,u,f)(x)}function u(x){return i&&b(),y(n),p(x)}function f(x){return t.parser.lazy[t.now().line]=n!==r.length,o=t.now().offset,v(x)}function p(x){return t.containerState={},e.attempt(tE,h,v)(x)}function h(x){return n++,r.push([t.currentConstruct,t.containerState]),p(x)}function v(x){if(x===null){i&&b(),y(0),e.consume(x);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),m(x)}function m(x){if(x===null){g(e.exit("chunkFlow"),!0),y(0),e.consume(x);return}return Re(x)?(e.consume(x),g(e.exit("chunkFlow")),n=0,t.interrupt=void 0,s):(e.consume(x),m)}function g(x,_){const w=t.sliceStream(x);if(_&&w.push(null),x.previous=a,a&&(a.next=x),a=x,i.defineSkip(x.start),i.write(w),t.parser.lazy[x.start.line]){let j=i.events.length;for(;j--;)if(i.events[j][1].start.offset<o&&(!i.events[j][1].end||i.events[j][1].end.offset>o))return;const k=t.events.length;let C=k,P,O;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){if(P){O=t.events[C][1].end;break}P=!0}for(y(n),j=k;j<t.events.length;)t.events[j][1].end={...O},j++;Gr(t.events,C+1,0,t.events.slice(k)),t.events.length=j}}function y(x){let _=r.length;for(;_-- >x;){const w=r[_];t.containerState=w[1],w[0].exit.call(t,e)}r.length=x}function b(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function wJ(e,t,r){return nt(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function xs(e){if(e===null||wt(e)||vo(e))return 1;if(wp(e))return 2}function _p(e,t,r){const n=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!n.includes(a)&&(t=a(t,r),n.push(a))}return t}const yx={name:"attention",resolveAll:_J,tokenize:SJ};function _J(e,t){let r=-1,n,i,a,o,s,l,c,u;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;l=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const f={...e[n][1].end},p={...e[r][1].start};rE(f,-l),rE(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[n][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:p},a={type:l>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[n][1].end={...o.start},e[r][1].start={...s.end},c=[],e[n][1].end.offset-e[n][1].start.offset&&(c=on(c,[["enter",e[n][1],t],["exit",e[n][1],t]])),c=on(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",a,t]]),c=on(c,_p(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),c=on(c,[["exit",a,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(u=2,c=on(c,[["enter",e[r][1],t],["exit",e[r][1],t]])):u=0,Gr(e,n-1,r-n+3,c),r=n+c.length-u-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function SJ(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=xs(n);let a;return o;function o(l){return a=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===a)return e.consume(l),s;const c=e.exit("attentionSequence"),u=xs(l),f=!u||u===2&&i||r.includes(l),p=!i||i===2&&u||r.includes(n);return c._open=!!(a===42?f:f&&(i||!p)),c._close=!!(a===42?p:p&&(u||!f)),t(l)}}function rE(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const jJ={name:"autolink",tokenize:kJ};function kJ(e,t,r){let n=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(h){return _r(h)?(e.consume(h),o):h===64?r(h):c(h)}function o(h){return h===43||h===45||h===46||gr(h)?(n=1,s(h)):c(h)}function s(h){return h===58?(e.consume(h),n=0,l):(h===43||h===45||h===46||gr(h))&&n++<32?(e.consume(h),s):(n=0,c(h))}function l(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||jf(h)?r(h):(e.consume(h),l)}function c(h){return h===64?(e.consume(h),u):pJ(h)?(e.consume(h),c):r(h)}function u(h){return gr(h)?f(h):r(h)}function f(h){return h===46?(e.consume(h),n=0,u):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):p(h)}function p(h){if((h===45||gr(h))&&n++<63){const v=h===45?p:f;return e.consume(h),v}return r(h)}}const Du={partial:!0,tokenize:EJ};function EJ(e,t,r){return n;function n(a){return Qe(a)?nt(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||Re(a)?t(a):r(a)}}const f5={continuation:{tokenize:OJ},exit:CJ,name:"blockQuote",tokenize:AJ};function AJ(e,t,r){const n=this;return i;function i(o){if(o===62){const s=n.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),a}return r(o)}function a(o){return Qe(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function OJ(e,t,r){const n=this;return i;function i(o){return Qe(o)?nt(e,a,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return e.attempt(f5,t,r)(o)}}function CJ(e){e.exit("blockQuote")}const h5={name:"characterEscape",tokenize:PJ};function PJ(e,t,r){return n;function n(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return gJ(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(a)}}const p5={name:"characterReference",tokenize:TJ};function TJ(e,t,r){const n=this;let i=0,a,o;return s;function s(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),a=31,o=gr,u(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,o=mJ,u):(e.enter("characterReferenceValue"),a=7,o=vx,u(f))}function u(f){if(f===59&&i){const p=e.exit("characterReferenceValue");return o===gr&&!j_(n.sliceSerialize(p))?r(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&i++<a?(e.consume(f),u):r(f)}}const nE={partial:!0,tokenize:RJ},iE={concrete:!0,name:"codeFenced",tokenize:NJ};function NJ(e,t,r){const n=this,i={partial:!0,tokenize:w};let a=0,o=0,s;return l;function l(j){return c(j)}function c(j){const k=n.events[n.events.length-1];return a=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,s=j,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u(j)}function u(j){return j===s?(o++,e.consume(j),u):o<3?r(j):(e.exit("codeFencedFenceSequence"),Qe(j)?nt(e,f,"whitespace")(j):f(j))}function f(j){return j===null||Re(j)?(e.exit("codeFencedFence"),n.interrupt?t(j):e.check(nE,m,_)(j)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(j))}function p(j){return j===null||Re(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(j)):Qe(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),nt(e,h,"whitespace")(j)):j===96&&j===s?r(j):(e.consume(j),p)}function h(j){return j===null||Re(j)?f(j):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),v(j))}function v(j){return j===null||Re(j)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(j)):j===96&&j===s?r(j):(e.consume(j),v)}function m(j){return e.attempt(i,_,g)(j)}function g(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),y}function y(j){return a>0&&Qe(j)?nt(e,b,"linePrefix",a+1)(j):b(j)}function b(j){return j===null||Re(j)?e.check(nE,m,_)(j):(e.enter("codeFlowValue"),x(j))}function x(j){return j===null||Re(j)?(e.exit("codeFlowValue"),b(j)):(e.consume(j),x)}function _(j){return e.exit("codeFenced"),t(j)}function w(j,k,C){let P=0;return O;function O(R){return j.enter("lineEnding"),j.consume(R),j.exit("lineEnding"),T}function T(R){return j.enter("codeFencedFence"),Qe(R)?nt(j,N,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):N(R)}function N(R){return R===s?(j.enter("codeFencedFenceSequence"),D(R)):C(R)}function D(R){return R===s?(P++,j.consume(R),D):P>=o?(j.exit("codeFencedFenceSequence"),Qe(R)?nt(j,E,"whitespace")(R):E(R)):C(R)}function E(R){return R===null||Re(R)?(j.exit("codeFencedFence"),k(R)):C(R)}}}function RJ(e,t,r){const n=this;return i;function i(o){return o===null?r(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a)}function a(o){return n.parser.lazy[n.now().line]?r(o):t(o)}}const Qm={name:"codeIndented",tokenize:DJ},IJ={partial:!0,tokenize:MJ};function DJ(e,t,r){const n=this;return i;function i(c){return e.enter("codeIndented"),nt(e,a,"linePrefix",5)(c)}function a(c){const u=n.events[n.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?o(c):r(c)}function o(c){return c===null?l(c):Re(c)?e.attempt(IJ,o,l)(c):(e.enter("codeFlowValue"),s(c))}function s(c){return c===null||Re(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),s)}function l(c){return e.exit("codeIndented"),t(c)}}function MJ(e,t,r){const n=this;return i;function i(o){return n.parser.lazy[n.now().line]?r(o):Re(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):nt(e,a,"linePrefix",5)(o)}function a(o){const s=n.events[n.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):Re(o)?i(o):r(o)}}const $J={name:"codeText",previous:FJ,resolve:LJ,tokenize:BJ};function LJ(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="codeTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}function FJ(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function BJ(e,t,r){let n=0,i,a;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),s(f)}function s(f){return f===96?(e.consume(f),n++,s):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?r(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(a=e.enter("codeTextSequence"),i=0,u(f)):Re(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||Re(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),c)}function u(f){return f===96?(e.consume(f),i++,u):i===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",c(f))}}class zJ{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const i=r||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&Ml(this.left,n),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ml(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ml(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);Ml(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ml(this.left,r.reverse())}}}function Ml(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function m5(e){const t={};let r=-1,n,i,a,o,s,l,c;const u=new zJ(e);for(;++r<u.length;){for(;r in t;)r=t[r];if(n=u.get(r),r&&n[1].type==="chunkFlow"&&u.get(r-1)[1].type==="listItemPrefix"&&(l=n[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,qJ(u,r)),r=t[r],c=!0);else if(n[1]._container){for(a=r,i=void 0;a--;)if(o=u.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(n[1].end={...u.get(i)[1].start},s=u.slice(i,r),s.unshift(n),u.splice(i,r-i+1,s))}}return Gr(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function qJ(e,t){const r=e.get(t)[1],n=e.get(t)[2];let i=t-1;const a=[];let o=r._tokenizer;o||(o=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,l=[],c={};let u,f,p=-1,h=r,v=0,m=0;const g=[m];for(;h;){for(;e.get(++i)[1]!==h;);a.push(i),h._tokenizer||(u=n.sliceStream(h),h.next||u.push(null),f&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(u),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=r;++p<s.length;)s[p][0]==="exit"&&s[p-1][0]==="enter"&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(m=p+1,g.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):g.pop(),p=g.length;p--;){const y=s.slice(g[p],g[p+1]),b=a.pop();l.push([b,b+y.length-1]),e.splice(b,2,y)}for(l.reverse(),p=-1;++p<l.length;)c[v+l[p][0]]=v+l[p][1],v+=l[p][1]-l[p][0]-1;return c}const UJ={resolve:HJ,tokenize:VJ},WJ={partial:!0,tokenize:KJ};function HJ(e){return m5(e),e}function VJ(e,t){let r;return n;function n(s){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?a(s):Re(s)?e.check(WJ,o,a)(s):(e.consume(s),i)}function a(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function KJ(e,t,r){const n=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),nt(e,a,"linePrefix")}function a(o){if(o===null||Re(o))return r(o);const s=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(n.parser.constructs.flow,r,t)(o)}}function g5(e,t,r,n,i,a,o,s,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return f;function f(y){return y===60?(e.enter(n),e.enter(i),e.enter(a),e.consume(y),e.exit(a),p):y===null||y===32||y===41||jf(y)?r(y):(e.enter(n),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),m(y))}function p(y){return y===62?(e.enter(a),e.consume(y),e.exit(a),e.exit(i),e.exit(n),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===62?(e.exit("chunkString"),e.exit(s),p(y)):y===null||y===60||Re(y)?r(y):(e.consume(y),y===92?v:h)}function v(y){return y===60||y===62||y===92?(e.consume(y),h):h(y)}function m(y){return!u&&(y===null||y===41||wt(y))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(n),t(y)):u<c&&y===40?(e.consume(y),u++,m):y===41?(e.consume(y),u--,m):y===null||y===32||y===40||jf(y)?r(y):(e.consume(y),y===92?g:m)}function g(y){return y===40||y===41||y===92?(e.consume(y),m):m(y)}}function v5(e,t,r,n,i,a){const o=this;let s=0,l;return c;function c(h){return e.enter(n),e.enter(i),e.consume(h),e.exit(i),e.enter(a),u}function u(h){return s>999||h===null||h===91||h===93&&!l||h===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?r(h):h===93?(e.exit(a),e.enter(i),e.consume(h),e.exit(i),e.exit(n),t):Re(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||Re(h)||s++>999?(e.exit("chunkString"),u(h)):(e.consume(h),l||(l=!Qe(h)),h===92?p:f)}function p(h){return h===91||h===92||h===93?(e.consume(h),s++,f):f(h)}}function y5(e,t,r,n,i,a){let o;return s;function s(p){return p===34||p===39||p===40?(e.enter(n),e.enter(i),e.consume(p),e.exit(i),o=p===40?41:p,l):r(p)}function l(p){return p===o?(e.enter(i),e.consume(p),e.exit(i),e.exit(n),t):(e.enter(a),c(p))}function c(p){return p===o?(e.exit(a),l(o)):p===null?r(p):Re(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),nt(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(p))}function u(p){return p===o||p===null||Re(p)?(e.exit("chunkString"),c(p)):(e.consume(p),p===92?f:u)}function f(p){return p===o||p===92?(e.consume(p),u):u(p)}}function uc(e,t){let r;return n;function n(i){return Re(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,n):Qe(i)?nt(e,n,r?"linePrefix":"lineSuffix")(i):t(i)}}const GJ={name:"definition",tokenize:XJ},YJ={partial:!0,tokenize:QJ};function XJ(e,t,r){const n=this;let i;return a;function a(h){return e.enter("definition"),o(h)}function o(h){return v5.call(n,e,s,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function s(h){return i=Nn(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),l):r(h)}function l(h){return wt(h)?uc(e,c)(h):c(h)}function c(h){return g5(e,u,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function u(h){return e.attempt(YJ,f,f)(h)}function f(h){return Qe(h)?nt(e,p,"whitespace")(h):p(h)}function p(h){return h===null||Re(h)?(e.exit("definition"),n.parser.defined.push(i),t(h)):r(h)}}function QJ(e,t,r){return n;function n(s){return wt(s)?uc(e,i)(s):r(s)}function i(s){return y5(e,a,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function a(s){return Qe(s)?nt(e,o,"whitespace")(s):o(s)}function o(s){return s===null||Re(s)?t(s):r(s)}}const JJ={name:"hardBreakEscape",tokenize:ZJ};function ZJ(e,t,r){return n;function n(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return Re(a)?(e.exit("hardBreakEscape"),t(a)):r(a)}}const eZ={name:"headingAtx",resolve:tZ,tokenize:rZ};function tZ(e,t){let r=e.length-2,n=3,i,a;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},a={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},Gr(e,n,r-n+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function rZ(e,t,r){let n=0;return i;function i(u){return e.enter("atxHeading"),a(u)}function a(u){return e.enter("atxHeadingSequence"),o(u)}function o(u){return u===35&&n++<6?(e.consume(u),o):u===null||wt(u)?(e.exit("atxHeadingSequence"),s(u)):r(u)}function s(u){return u===35?(e.enter("atxHeadingSequence"),l(u)):u===null||Re(u)?(e.exit("atxHeading"),t(u)):Qe(u)?nt(e,s,"whitespace")(u):(e.enter("atxHeadingText"),c(u))}function l(u){return u===35?(e.consume(u),l):(e.exit("atxHeadingSequence"),s(u))}function c(u){return u===null||u===35||wt(u)?(e.exit("atxHeadingText"),s(u)):(e.consume(u),c)}}const nZ=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],aE=["pre","script","style","textarea"],iZ={concrete:!0,name:"htmlFlow",resolveTo:sZ,tokenize:lZ},aZ={partial:!0,tokenize:uZ},oZ={partial:!0,tokenize:cZ};function sZ(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function lZ(e,t,r){const n=this;let i,a,o,s,l;return c;function c($){return u($)}function u($){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume($),f}function f($){return $===33?(e.consume($),p):$===47?(e.consume($),a=!0,m):$===63?(e.consume($),i=3,n.interrupt?t:M):_r($)?(e.consume($),o=String.fromCharCode($),g):r($)}function p($){return $===45?(e.consume($),i=2,h):$===91?(e.consume($),i=5,s=0,v):_r($)?(e.consume($),i=4,n.interrupt?t:M):r($)}function h($){return $===45?(e.consume($),n.interrupt?t:M):r($)}function v($){const Q="CDATA[";return $===Q.charCodeAt(s++)?(e.consume($),s===Q.length?n.interrupt?t:N:v):r($)}function m($){return _r($)?(e.consume($),o=String.fromCharCode($),g):r($)}function g($){if($===null||$===47||$===62||wt($)){const Q=$===47,Z=o.toLowerCase();return!Q&&!a&&aE.includes(Z)?(i=1,n.interrupt?t($):N($)):nZ.includes(o.toLowerCase())?(i=6,Q?(e.consume($),y):n.interrupt?t($):N($)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r($):a?b($):x($))}return $===45||gr($)?(e.consume($),o+=String.fromCharCode($),g):r($)}function y($){return $===62?(e.consume($),n.interrupt?t:N):r($)}function b($){return Qe($)?(e.consume($),b):O($)}function x($){return $===47?(e.consume($),O):$===58||$===95||_r($)?(e.consume($),_):Qe($)?(e.consume($),x):O($)}function _($){return $===45||$===46||$===58||$===95||gr($)?(e.consume($),_):w($)}function w($){return $===61?(e.consume($),j):Qe($)?(e.consume($),w):x($)}function j($){return $===null||$===60||$===61||$===62||$===96?r($):$===34||$===39?(e.consume($),l=$,k):Qe($)?(e.consume($),j):C($)}function k($){return $===l?(e.consume($),l=null,P):$===null||Re($)?r($):(e.consume($),k)}function C($){return $===null||$===34||$===39||$===47||$===60||$===61||$===62||$===96||wt($)?w($):(e.consume($),C)}function P($){return $===47||$===62||Qe($)?x($):r($)}function O($){return $===62?(e.consume($),T):r($)}function T($){return $===null||Re($)?N($):Qe($)?(e.consume($),T):r($)}function N($){return $===45&&i===2?(e.consume($),B):$===60&&i===1?(e.consume($),F):$===62&&i===4?(e.consume($),H):$===63&&i===3?(e.consume($),M):$===93&&i===5?(e.consume($),L):Re($)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(aZ,z,D)($)):$===null||Re($)?(e.exit("htmlFlowData"),D($)):(e.consume($),N)}function D($){return e.check(oZ,E,z)($)}function E($){return e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),R}function R($){return $===null||Re($)?D($):(e.enter("htmlFlowData"),N($))}function B($){return $===45?(e.consume($),M):N($)}function F($){return $===47?(e.consume($),o="",U):N($)}function U($){if($===62){const Q=o.toLowerCase();return aE.includes(Q)?(e.consume($),H):N($)}return _r($)&&o.length<8?(e.consume($),o+=String.fromCharCode($),U):N($)}function L($){return $===93?(e.consume($),M):N($)}function M($){return $===62?(e.consume($),H):$===45&&i===2?(e.consume($),M):N($)}function H($){return $===null||Re($)?(e.exit("htmlFlowData"),z($)):(e.consume($),H)}function z($){return e.exit("htmlFlow"),t($)}}function cZ(e,t,r){const n=this;return i;function i(o){return Re(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):r(o)}function a(o){return n.parser.lazy[n.now().line]?r(o):t(o)}}function uZ(e,t,r){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Du,t,r)}}const dZ={name:"htmlText",tokenize:fZ};function fZ(e,t,r){const n=this;let i,a,o;return s;function s(M){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(M),l}function l(M){return M===33?(e.consume(M),c):M===47?(e.consume(M),w):M===63?(e.consume(M),x):_r(M)?(e.consume(M),C):r(M)}function c(M){return M===45?(e.consume(M),u):M===91?(e.consume(M),a=0,v):_r(M)?(e.consume(M),b):r(M)}function u(M){return M===45?(e.consume(M),h):r(M)}function f(M){return M===null?r(M):M===45?(e.consume(M),p):Re(M)?(o=f,F(M)):(e.consume(M),f)}function p(M){return M===45?(e.consume(M),h):f(M)}function h(M){return M===62?B(M):M===45?p(M):f(M)}function v(M){const H="CDATA[";return M===H.charCodeAt(a++)?(e.consume(M),a===H.length?m:v):r(M)}function m(M){return M===null?r(M):M===93?(e.consume(M),g):Re(M)?(o=m,F(M)):(e.consume(M),m)}function g(M){return M===93?(e.consume(M),y):m(M)}function y(M){return M===62?B(M):M===93?(e.consume(M),y):m(M)}function b(M){return M===null||M===62?B(M):Re(M)?(o=b,F(M)):(e.consume(M),b)}function x(M){return M===null?r(M):M===63?(e.consume(M),_):Re(M)?(o=x,F(M)):(e.consume(M),x)}function _(M){return M===62?B(M):x(M)}function w(M){return _r(M)?(e.consume(M),j):r(M)}function j(M){return M===45||gr(M)?(e.consume(M),j):k(M)}function k(M){return Re(M)?(o=k,F(M)):Qe(M)?(e.consume(M),k):B(M)}function C(M){return M===45||gr(M)?(e.consume(M),C):M===47||M===62||wt(M)?P(M):r(M)}function P(M){return M===47?(e.consume(M),B):M===58||M===95||_r(M)?(e.consume(M),O):Re(M)?(o=P,F(M)):Qe(M)?(e.consume(M),P):B(M)}function O(M){return M===45||M===46||M===58||M===95||gr(M)?(e.consume(M),O):T(M)}function T(M){return M===61?(e.consume(M),N):Re(M)?(o=T,F(M)):Qe(M)?(e.consume(M),T):P(M)}function N(M){return M===null||M===60||M===61||M===62||M===96?r(M):M===34||M===39?(e.consume(M),i=M,D):Re(M)?(o=N,F(M)):Qe(M)?(e.consume(M),N):(e.consume(M),E)}function D(M){return M===i?(e.consume(M),i=void 0,R):M===null?r(M):Re(M)?(o=D,F(M)):(e.consume(M),D)}function E(M){return M===null||M===34||M===39||M===60||M===61||M===96?r(M):M===47||M===62||wt(M)?P(M):(e.consume(M),E)}function R(M){return M===47||M===62||wt(M)?P(M):r(M)}function B(M){return M===62?(e.consume(M),e.exit("htmlTextData"),e.exit("htmlText"),t):r(M)}function F(M){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),U}function U(M){return Qe(M)?nt(e,L,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):L(M)}function L(M){return e.enter("htmlTextData"),o(M)}}const k_={name:"labelEnd",resolveAll:gZ,resolveTo:vZ,tokenize:yZ},hZ={tokenize:bZ},pZ={tokenize:xZ},mZ={tokenize:wZ};function gZ(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",t+=i}}return e.length!==r.length&&Gr(e,0,e.length,r),e}function vZ(e,t){let r=e.length,n=0,i,a,o,s;for(;r--;)if(i=e[r][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(o=r);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[a][1].start},end:{...e[o][1].end}},u={type:"labelText",start:{...e[a+n+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",l,t],["enter",c,t]],s=on(s,e.slice(a+1,a+n+3)),s=on(s,[["enter",u,t]]),s=on(s,_p(t.parser.constructs.insideSpan.null,e.slice(a+n+4,o-3),t)),s=on(s,[["exit",u,t],e[o-2],e[o-1],["exit",c,t]]),s=on(s,e.slice(o+1)),s=on(s,[["exit",l,t]]),Gr(e,a,e.length,s),e}function yZ(e,t,r){const n=this;let i=n.events.length,a,o;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){a=n.events[i][1];break}return s;function s(p){return a?a._inactive?f(p):(o=n.parser.defined.includes(Nn(n.sliceSerialize({start:a.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):r(p)}function l(p){return p===40?e.attempt(hZ,u,o?u:f)(p):p===91?e.attempt(pZ,u,o?c:f)(p):o?u(p):f(p)}function c(p){return e.attempt(mZ,u,f)(p)}function u(p){return t(p)}function f(p){return a._balanced=!0,r(p)}}function bZ(e,t,r){return n;function n(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return wt(f)?uc(e,a)(f):a(f)}function a(f){return f===41?u(f):g5(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return wt(f)?uc(e,l)(f):u(f)}function s(f){return r(f)}function l(f){return f===34||f===39||f===40?y5(e,c,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):u(f)}function c(f){return wt(f)?uc(e,u)(f):u(f)}function u(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):r(f)}}function xZ(e,t,r){const n=this;return i;function i(s){return v5.call(n,e,a,o,"reference","referenceMarker","referenceString")(s)}function a(s){return n.parser.defined.includes(Nn(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(s):r(s)}function o(s){return r(s)}}function wZ(e,t,r){return n;function n(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):r(a)}}const _Z={name:"labelStartImage",resolveAll:k_.resolveAll,tokenize:SZ};function SZ(e,t,r){const n=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),a}function a(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):r(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(s):t(s)}}const jZ={name:"labelStartLink",resolveAll:k_.resolveAll,tokenize:kZ};function kZ(e,t,r){const n=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}const Jm={name:"lineEnding",tokenize:EZ};function EZ(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),nt(e,t,"linePrefix")}}const Kd={name:"thematicBreak",tokenize:AZ};function AZ(e,t,r){let n=0,i;return a;function a(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,s(c)}function s(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):n>=3&&(c===null||Re(c))?(e.exit("thematicBreak"),t(c)):r(c)}function l(c){return c===i?(e.consume(c),n++,l):(e.exit("thematicBreakSequence"),Qe(c)?nt(e,s,"whitespace")(c):s(c))}}const Cr={continuation:{tokenize:TZ},exit:RZ,name:"list",tokenize:PZ},OZ={partial:!0,tokenize:IZ},CZ={partial:!0,tokenize:NZ};function PZ(e,t,r){const n=this,i=n.events[n.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(h){const v=n.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!n.containerState.marker||h===n.containerState.marker:vx(h)){if(n.containerState.type||(n.containerState.type=v,e.enter(v,{_container:!0})),v==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(Kd,r,c)(h):c(h);if(!n.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return r(h)}function l(h){return vx(h)&&++o<10?(e.consume(h),l):(!n.interrupt||o<2)&&(n.containerState.marker?h===n.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),c(h)):r(h)}function c(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||h,e.check(Du,n.interrupt?r:u,e.attempt(OZ,p,f))}function u(h){return n.containerState.initialBlankLine=!0,a++,p(h)}function f(h){return Qe(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),p):r(h)}function p(h){return n.containerState.size=a+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function TZ(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(Du,i,a);function i(s){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,nt(e,t,"listItemIndent",n.containerState.size+1)(s)}function a(s){return n.containerState.furtherBlankLines||!Qe(s)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,o(s)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(CZ,t,o)(s))}function o(s){return n.containerState._closeFlow=!0,n.interrupt=void 0,nt(e,e.attempt(Cr,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function NZ(e,t,r){const n=this;return nt(e,i,"listItemIndent",n.containerState.size+1);function i(a){const o=n.events[n.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===n.containerState.size?t(a):r(a)}}function RZ(e){e.exit(this.containerState.type)}function IZ(e,t,r){const n=this;return nt(e,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=n.events[n.events.length-1];return!Qe(a)&&o&&o[1].type==="listItemPrefixWhitespace"?t(a):r(a)}}const oE={name:"setextUnderline",resolveTo:DZ,tokenize:MZ};function DZ(e,t){let r=e.length,n,i,a;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!a&&e[r][1].type==="definition"&&(a=r);const o={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",o,t]),e.splice(a+1,0,["exit",e[n][1],t]),e[n][1].end={...e[a][1].end}):e[n][1]=o,e.push(["exit",o,t]),e}function MZ(e,t,r){const n=this;let i;return a;function a(c){let u=n.events.length,f;for(;u--;)if(n.events[u][1].type!=="lineEnding"&&n.events[u][1].type!=="linePrefix"&&n.events[u][1].type!=="content"){f=n.events[u][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||f)?(e.enter("setextHeadingLine"),i=c,o(c)):r(c)}function o(c){return e.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===i?(e.consume(c),s):(e.exit("setextHeadingLineSequence"),Qe(c)?nt(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Re(c)?(e.exit("setextHeadingLine"),t(c)):r(c)}}const $Z={tokenize:LZ};function LZ(e){const t=this,r=e.attempt(Du,n,e.attempt(this.parser.constructs.flowInitial,i,nt(e,e.attempt(this.parser.constructs.flow,i,e.attempt(UJ,i)),"linePrefix")));return r;function n(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const FZ={resolveAll:x5()},BZ=b5("string"),zZ=b5("text");function b5(e){return{resolveAll:x5(e==="text"?qZ:void 0),tokenize:t};function t(r){const n=this,i=this.parser.constructs[e],a=r.attempt(i,o,s);return o;function o(u){return c(u)?a(u):s(u)}function s(u){if(u===null){r.consume(u);return}return r.enter("data"),r.consume(u),l}function l(u){return c(u)?(r.exit("data"),a(u)):(r.consume(u),l)}function c(u){if(u===null)return!0;const f=i[u];let p=-1;if(f)for(;++p<f.length;){const h=f[p];if(!h.previous||h.previous.call(n,n.previous))return!0}return!1}}}function x5(e){return t;function t(r,n){let i=-1,a;for(;++i<=r.length;)a===void 0?r[i]&&r[i][1].type==="data"&&(a=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==a+2&&(r[a][1].end=r[i-1][1].end,r.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(r,n):r}}function qZ(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],i=t.sliceStream(n);let a=i.length,o=-1,s=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(c===-2)l=!0,s++;else if(c!==-1){a++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(s=0),s){const c={type:r===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:n.start._bufferIndex+o,_index:n.start._index+a,line:n.end.line,column:n.end.column-s,offset:n.end.offset-s},end:{...n.end}};n.end={...c.start},n.start.offset===n.end.offset?Object.assign(n,c):(e.splice(r,0,["enter",c,t],["exit",c,t]),r+=2)}r++}return e}const UZ={42:Cr,43:Cr,45:Cr,48:Cr,49:Cr,50:Cr,51:Cr,52:Cr,53:Cr,54:Cr,55:Cr,56:Cr,57:Cr,62:f5},WZ={91:GJ},HZ={[-2]:Qm,[-1]:Qm,32:Qm},VZ={35:eZ,42:Kd,45:[oE,Kd],60:iZ,61:oE,95:Kd,96:iE,126:iE},KZ={38:p5,92:h5},GZ={[-5]:Jm,[-4]:Jm,[-3]:Jm,33:_Z,38:p5,42:yx,60:[jJ,dZ],91:jZ,92:[JJ,h5],93:k_,95:yx,96:$J},YZ={null:[yx,FZ]},XZ={null:[42,95]},QZ={null:[]},JZ=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:XZ,contentInitial:WZ,disable:QZ,document:UZ,flow:VZ,flowInitial:HZ,insideSpan:YZ,string:KZ,text:GZ},Symbol.toStringTag,{value:"Module"}));function ZZ(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},a=[];let o=[],s=[];const l={attempt:k(w),check:k(j),consume:b,enter:x,exit:_,interrupt:k(j,{interrupt:!0})},c={code:null,containerState:{},defineSkip:m,events:[],now:v,parser:e,previous:null,sliceSerialize:p,sliceStream:h,write:f};let u=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function f(T){return o=on(o,T),g(),o[o.length-1]!==null?[]:(C(t,0),c.events=_p(a,c.events,c),c.events)}function p(T,N){return tee(h(T),N)}function h(T){return eee(o,T)}function v(){const{_bufferIndex:T,_index:N,line:D,column:E,offset:R}=n;return{_bufferIndex:T,_index:N,line:D,column:E,offset:R}}function m(T){i[T.line]=T.column,O()}function g(){let T;for(;n._index<o.length;){const N=o[n._index];if(typeof N=="string")for(T=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===T&&n._bufferIndex<N.length;)y(N.charCodeAt(n._bufferIndex));else y(N)}}function y(T){u=u(T)}function b(T){Re(T)?(n.line++,n.column=1,n.offset+=T===-3?2:1,O()):T!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===o[n._index].length&&(n._bufferIndex=-1,n._index++)),c.previous=T}function x(T,N){const D=N||{};return D.type=T,D.start=v(),c.events.push(["enter",D,c]),s.push(D),D}function _(T){const N=s.pop();return N.end=v(),c.events.push(["exit",N,c]),N}function w(T,N){C(T,N.from)}function j(T,N){N.restore()}function k(T,N){return D;function D(E,R,B){let F,U,L,M;return Array.isArray(E)?z(E):"tokenize"in E?z([E]):H(E);function H(fe){return le;function le(ue){const ee=ue!==null&&fe[ue],te=ue!==null&&fe.null,ce=[...Array.isArray(ee)?ee:ee?[ee]:[],...Array.isArray(te)?te:te?[te]:[]];return z(ce)(ue)}}function z(fe){return F=fe,U=0,fe.length===0?B:$(fe[U])}function $(fe){return le;function le(ue){return M=P(),L=fe,fe.partial||(c.currentConstruct=fe),fe.name&&c.parser.constructs.disable.null.includes(fe.name)?Z():fe.tokenize.call(N?Object.assign(Object.create(c),N):c,l,Q,Z)(ue)}}function Q(fe){return T(L,M),R}function Z(fe){return M.restore(),++U<F.length?$(F[U]):B}}}function C(T,N){T.resolveAll&&!a.includes(T)&&a.push(T),T.resolve&&Gr(c.events,N,c.events.length-N,T.resolve(c.events.slice(N),c)),T.resolveTo&&(c.events=T.resolveTo(c.events,c))}function P(){const T=v(),N=c.previous,D=c.currentConstruct,E=c.events.length,R=Array.from(s);return{from:E,restore:B};function B(){n=T,c.previous=N,c.currentConstruct=D,c.events.length=E,s=R,O()}}function O(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function eee(e,t){const r=t.start._index,n=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let o;if(r===i)o=[e[r].slice(n,a)];else{if(o=e.slice(r,i),n>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(n):o.shift()}a>0&&o.push(e[i].slice(0,a))}return o}function tee(e,t){let r=-1;const n=[];let i;for(;++r<e.length;){const a=e[r];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,n.push(o)}return n.join("")}function ree(e){const n={constructs:u5([JZ,...(e||{}).extensions||[]]),content:i(vJ),defined:[],document:i(bJ),flow:i($Z),lazy:{},string:i(BZ),text:i(zZ)};return n;function i(a){return o;function o(s){return ZZ(n,a,s)}}}function nee(e){for(;!m5(e););return e}const sE=/[\0\t\n\r]/g;function iee(){let e=1,t="",r=!0,n;return i;function i(a,o,s){const l=[];let c,u,f,p,h;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),f=0,t="",r&&(a.charCodeAt(0)===65279&&f++,r=void 0);f<a.length;){if(sE.lastIndex=f,c=sE.exec(a),p=c&&c.index!==void 0?c.index:a.length,h=a.charCodeAt(p),!c){t=a.slice(f);break}if(h===10&&f===p&&n)l.push(-3),n=void 0;else switch(n&&(l.push(-5),n=void 0),f<p&&(l.push(a.slice(f,p)),e+=p-f),h){case 0:{l.push(65533),e++;break}case 9:{for(u=Math.ceil(e/4)*4,l.push(-2);e++<u;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:n=!0,e=1}f=p+1}return s&&(n&&l.push(-5),t&&l.push(t),l.push(null)),l}}const aee=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function oee(e){return e.replace(aee,see)}function see(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),a=i===120||i===88;return d5(r.slice(a?2:1),a?16:10)}return j_(r)||e}const w5={}.hasOwnProperty;function lee(e,t,r){return typeof t!="string"&&(r=t,t=void 0),cee(r)(nee(ree(r).document().write(iee()(e,t,!0))))}function cee(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(G),autolinkProtocol:P,autolinkEmail:P,atxHeading:a(K),blockQuote:a(te),characterEscape:P,characterReference:P,codeFenced:a(ce),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(ce,o),codeText:a(J,o),codeTextData:P,data:P,codeFlowValue:P,definition:a(ne),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(A),hardBreakEscape:a(V),hardBreakTrailing:a(V),htmlFlow:a(W,o),htmlFlowData:P,htmlText:a(W,o),htmlTextData:P,image:a(q),label:o,link:a(G),listItem:a(re),listItemValue:p,listOrdered:a(ie,f),listUnordered:a(ie),paragraph:a(X),reference:$,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(K),strong:a(de),thematicBreak:a(he)},exit:{atxHeading:l(),atxHeadingSequence:w,autolink:l(),autolinkEmail:ee,autolinkProtocol:ue,blockQuote:l(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:Z,characterReferenceMarkerNumeric:Z,characterReferenceValue:fe,characterReference:le,codeFenced:l(g),codeFencedFence:m,codeFencedFenceInfo:h,codeFencedFenceMeta:v,codeFlowValue:O,codeIndented:l(y),codeText:l(R),codeTextData:O,data:O,definition:l(),definitionDestinationString:_,definitionLabelString:b,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(N),hardBreakTrailing:l(N),htmlFlow:l(D),htmlFlowData:O,htmlText:l(E),htmlTextData:O,image:l(F),label:L,labelText:U,lineEnding:T,link:l(B),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Q,resourceDestinationString:M,resourceTitleString:H,resource:z,setextHeading:l(C),setextHeadingLineSequence:k,setextHeadingText:j,strong:l(),thematicBreak:l()}};_5(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(Y){let oe={type:"root",children:[]};const ge={stack:[oe],tokenStack:[],config:t,enter:s,exit:c,buffer:o,resume:u,data:r},Oe=[];let ze=-1;for(;++ze<Y.length;)if(Y[ze][1].type==="listOrdered"||Y[ze][1].type==="listUnordered")if(Y[ze][0]==="enter")Oe.push(ze);else{const Ve=Oe.pop();ze=i(Y,Ve,ze)}for(ze=-1;++ze<Y.length;){const Ve=t[Y[ze][0]];w5.call(Ve,Y[ze][1].type)&&Ve[Y[ze][1].type].call(Object.assign({sliceSerialize:Y[ze][2].sliceSerialize},ge),Y[ze][1])}if(ge.tokenStack.length>0){const Ve=ge.tokenStack[ge.tokenStack.length-1];(Ve[1]||lE).call(ge,void 0,Ve[0])}for(oe.position={start:Ki(Y.length>0?Y[0][1].start:{line:1,column:1,offset:0}),end:Ki(Y.length>0?Y[Y.length-2][1].end:{line:1,column:1,offset:0})},ze=-1;++ze<t.transforms.length;)oe=t.transforms[ze](oe)||oe;return oe}function i(Y,oe,ge){let Oe=oe-1,ze=-1,Ve=!1,Tt,Ke,It,rr;for(;++Oe<=ge;){const et=Y[Oe];switch(et[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{et[0]==="enter"?ze++:ze--,rr=void 0;break}case"lineEndingBlank":{et[0]==="enter"&&(Tt&&!rr&&!ze&&!It&&(It=Oe),rr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:rr=void 0}if(!ze&&et[0]==="enter"&&et[1].type==="listItemPrefix"||ze===-1&&et[0]==="exit"&&(et[1].type==="listUnordered"||et[1].type==="listOrdered")){if(Tt){let yr=Oe;for(Ke=void 0;yr--;){const je=Y[yr];if(je[1].type==="lineEnding"||je[1].type==="lineEndingBlank"){if(je[0]==="exit")continue;Ke&&(Y[Ke][1].type="lineEndingBlank",Ve=!0),je[1].type="lineEnding",Ke=yr}else if(!(je[1].type==="linePrefix"||je[1].type==="blockQuotePrefix"||je[1].type==="blockQuotePrefixWhitespace"||je[1].type==="blockQuoteMarker"||je[1].type==="listItemIndent"))break}It&&(!Ke||It<Ke)&&(Tt._spread=!0),Tt.end=Object.assign({},Ke?Y[Ke][1].start:et[1].end),Y.splice(Ke||Oe,0,["exit",Tt,et[2]]),Oe++,ge++}if(et[1].type==="listItemPrefix"){const yr={type:"listItem",_spread:!1,start:Object.assign({},et[1].start),end:void 0};Tt=yr,Y.splice(Oe,0,["enter",yr,et[2]]),Oe++,ge++,It=void 0,rr=!0}}}return Y[oe][1]._spread=Ve,ge}function a(Y,oe){return ge;function ge(Oe){s.call(this,Y(Oe),Oe),oe&&oe.call(this,Oe)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(Y,oe,ge){this.stack[this.stack.length-1].children.push(Y),this.stack.push(Y),this.tokenStack.push([oe,ge||void 0]),Y.position={start:Ki(oe.start),end:void 0}}function l(Y){return oe;function oe(ge){Y&&Y.call(this,ge),c.call(this,ge)}}function c(Y,oe){const ge=this.stack.pop(),Oe=this.tokenStack.pop();if(Oe)Oe[0].type!==Y.type&&(oe?oe.call(this,Y,Oe[0]):(Oe[1]||lE).call(this,Y,Oe[0]));else throw new Error("Cannot close `"+Y.type+"` ("+cc({start:Y.start,end:Y.end})+"): its not open");ge.position.end=Ki(Y.end)}function u(){return S_(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(Y){if(this.data.expectingFirstListItemValue){const oe=this.stack[this.stack.length-2];oe.start=Number.parseInt(this.sliceSerialize(Y),10),this.data.expectingFirstListItemValue=void 0}}function h(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.lang=Y}function v(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.meta=Y}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Y.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Y.replace(/(\r?\n|\r)$/g,"")}function b(Y){const oe=this.resume(),ge=this.stack[this.stack.length-1];ge.label=oe,ge.identifier=Nn(this.sliceSerialize(Y)).toLowerCase()}function x(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.title=Y}function _(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.url=Y}function w(Y){const oe=this.stack[this.stack.length-1];if(!oe.depth){const ge=this.sliceSerialize(Y).length;oe.depth=ge}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function k(Y){const oe=this.stack[this.stack.length-1];oe.depth=this.sliceSerialize(Y).codePointAt(0)===61?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function P(Y){const ge=this.stack[this.stack.length-1].children;let Oe=ge[ge.length-1];(!Oe||Oe.type!=="text")&&(Oe=ve(),Oe.position={start:Ki(Y.start),end:void 0},ge.push(Oe)),this.stack.push(Oe)}function O(Y){const oe=this.stack.pop();oe.value+=this.sliceSerialize(Y),oe.position.end=Ki(Y.end)}function T(Y){const oe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ge=oe.children[oe.children.length-1];ge.position.end=Ki(Y.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(oe.type)&&(P.call(this,Y),O.call(this,Y))}function N(){this.data.atHardBreak=!0}function D(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Y}function E(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Y}function R(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Y}function B(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=oe,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function F(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=oe,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function U(Y){const oe=this.sliceSerialize(Y),ge=this.stack[this.stack.length-2];ge.label=oee(oe),ge.identifier=Nn(oe).toLowerCase()}function L(){const Y=this.stack[this.stack.length-1],oe=this.resume(),ge=this.stack[this.stack.length-1];if(this.data.inReference=!0,ge.type==="link"){const Oe=Y.children;ge.children=Oe}else ge.alt=oe}function M(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.url=Y}function H(){const Y=this.resume(),oe=this.stack[this.stack.length-1];oe.title=Y}function z(){this.data.inReference=void 0}function $(){this.data.referenceType="collapsed"}function Q(Y){const oe=this.resume(),ge=this.stack[this.stack.length-1];ge.label=oe,ge.identifier=Nn(this.sliceSerialize(Y)).toLowerCase(),this.data.referenceType="full"}function Z(Y){this.data.characterReferenceType=Y.type}function fe(Y){const oe=this.sliceSerialize(Y),ge=this.data.characterReferenceType;let Oe;ge?(Oe=d5(oe,ge==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Oe=j_(oe);const ze=this.stack[this.stack.length-1];ze.value+=Oe}function le(Y){const oe=this.stack.pop();oe.position.end=Ki(Y.end)}function ue(Y){O.call(this,Y);const oe=this.stack[this.stack.length-1];oe.url=this.sliceSerialize(Y)}function ee(Y){O.call(this,Y);const oe=this.stack[this.stack.length-1];oe.url="mailto:"+this.sliceSerialize(Y)}function te(){return{type:"blockquote",children:[]}}function ce(){return{type:"code",lang:null,meta:null,value:""}}function J(){return{type:"inlineCode",value:""}}function ne(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function A(){return{type:"emphasis",children:[]}}function K(){return{type:"heading",depth:0,children:[]}}function V(){return{type:"break"}}function W(){return{type:"html",value:""}}function q(){return{type:"image",title:null,url:"",alt:null}}function G(){return{type:"link",title:null,url:"",children:[]}}function ie(Y){return{type:"list",ordered:Y.type==="listOrdered",start:null,spread:Y._spread,children:[]}}function re(Y){return{type:"listItem",spread:Y._spread,checked:null,children:[]}}function X(){return{type:"paragraph",children:[]}}function de(){return{type:"strong",children:[]}}function ve(){return{type:"text",value:""}}function he(){return{type:"thematicBreak"}}}function Ki(e){return{line:e.line,column:e.column,offset:e.offset}}function _5(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?_5(e,n):uee(e,n)}}function uee(e,t){let r;for(r in t)if(w5.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function lE(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+cc({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+cc({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+cc({start:t.start,end:t.end})+") is still open")}function dee(e){const t=this;t.parser=r;function r(n){return lee(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function fee(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function hee(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function pee(e,t){const r=t.value?t.value+`
`:"",n={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(n.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function mee(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function gee(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function vee(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),i=dl(n.toLowerCase()),a=e.footnoteOrder.indexOf(n);let o,s=e.footnoteCounts.get(n);s===void 0?(s=0,e.footnoteOrder.push(n),o=e.footnoteOrder.length):o=a+1,s+=1,e.footnoteCounts.set(n,s);const l={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function yee(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function bee(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function S5(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=n:i.push({type:"text",value:n}),i}function xee(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return S5(e,t);const i={src:dl(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function wee(e,t){const r={src:dl(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function _ee(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function See(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return S5(e,t);const i={href:dl(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function jee(e,t){const r={href:dl(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function kee(e,t,r){const n=e.all(t),i=r?Eee(r):j5(t),a={},o=[];if(typeof t.checked=="boolean"){const u=n[0];let f;u&&u.type==="element"&&u.tagName==="p"?f=u:(f={type:"element",tagName:"p",properties:{},children:[]},n.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let s=-1;for(;++s<n.length;){const u=n[s];(i||s!==0||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?o.push(...u.children):o.push(u)}const l=n[n.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:o};return e.patch(t,c),e.applyData(t,c)}function Eee(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=j5(r[n])}return t}function j5(e){const t=e.spread;return t??e.children.length>1}function Aee(e,t){const r={},n=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++i<n.length;){const o=n[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,a),e.applyData(t,a)}function Oee(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Cee(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function Pee(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Tee(e,t){const r=e.all(t),n=r.shift(),i=[];if(n){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],o),i.push(o)}if(r.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},s=b_(t.children[1]),l=n5(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function Nee(e,t,r){const n=r?r.children:void 0,a=(n?n.indexOf(t):1)===0?"th":"td",o=r&&r.type==="table"?r.align:void 0,s=o?o.length:t.children.length;let l=-1;const c=[];for(;++l<s;){const f=t.children[l],p={},h=o?o[l]:void 0;h&&(p.align=h);let v={type:"element",tagName:a,properties:p,children:[]};f&&(v.children=e.all(f),e.patch(f,v),v=e.applyData(f,v)),c.push(v)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,u),e.applyData(t,u)}function Ree(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const cE=9,uE=32;function Iee(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),i=0;const a=[];for(;n;)a.push(dE(t.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(t);return a.push(dE(t.slice(i),i>0,!1)),a.join("")}function dE(e,t,r){let n=0,i=e.length;if(t){let a=e.codePointAt(n);for(;a===cE||a===uE;)n++,a=e.codePointAt(n)}if(r){let a=e.codePointAt(i-1);for(;a===cE||a===uE;)i--,a=e.codePointAt(i-1)}return i>n?e.slice(n,i):""}function Dee(e,t){const r={type:"text",value:Iee(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function Mee(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const $ee={blockquote:fee,break:hee,code:pee,delete:mee,emphasis:gee,footnoteReference:vee,heading:yee,html:bee,imageReference:xee,image:wee,inlineCode:_ee,linkReference:See,link:jee,listItem:kee,list:Aee,paragraph:Oee,root:Cee,strong:Pee,table:Tee,tableCell:Ree,tableRow:Nee,text:Dee,thematicBreak:Mee,toml:md,yaml:md,definition:md,footnoteDefinition:md};function md(){}const k5=-1,Sp=0,dc=1,kf=2,E_=3,A_=4,O_=5,C_=6,E5=7,A5=8,fE=typeof self=="object"?self:globalThis,Lee=(e,t)=>{const r=(i,a)=>(e.set(a,i),i),n=i=>{if(e.has(i))return e.get(i);const[a,o]=t[i];switch(a){case Sp:case k5:return r(o,i);case dc:{const s=r([],i);for(const l of o)s.push(n(l));return s}case kf:{const s=r({},i);for(const[l,c]of o)s[n(l)]=n(c);return s}case E_:return r(new Date(o),i);case A_:{const{source:s,flags:l}=o;return r(new RegExp(s,l),i)}case O_:{const s=r(new Map,i);for(const[l,c]of o)s.set(n(l),n(c));return s}case C_:{const s=r(new Set,i);for(const l of o)s.add(n(l));return s}case E5:{const{name:s,message:l}=o;return r(new fE[s](l),i)}case A5:return r(BigInt(o),i);case"BigInt":return r(Object(BigInt(o)),i);case"ArrayBuffer":return r(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return r(new DataView(s),o)}}return r(new fE[a](o),i)};return n},hE=e=>Lee(new Map,e)(0),qo="",{toString:Fee}={},{keys:Bee}=Object,$l=e=>{const t=typeof e;if(t!=="object"||!e)return[Sp,t];const r=Fee.call(e).slice(8,-1);switch(r){case"Array":return[dc,qo];case"Object":return[kf,qo];case"Date":return[E_,qo];case"RegExp":return[A_,qo];case"Map":return[O_,qo];case"Set":return[C_,qo];case"DataView":return[dc,r]}return r.includes("Array")?[dc,r]:r.includes("Error")?[E5,r]:[kf,r]},gd=([e,t])=>e===Sp&&(t==="function"||t==="symbol"),zee=(e,t,r,n)=>{const i=(o,s)=>{const l=n.push(o)-1;return r.set(s,l),l},a=o=>{if(r.has(o))return r.get(o);let[s,l]=$l(o);switch(s){case Sp:{let u=o;switch(l){case"bigint":s=A5,u=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([k5],o)}return i([s,u],o)}case dc:{if(l){let p=o;return l==="DataView"?p=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(o)),i([l,[...p]],o)}const u=[],f=i([s,u],o);for(const p of o)u.push(a(p));return f}case kf:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return a(o.toJSON());const u=[],f=i([s,u],o);for(const p of Bee(o))(e||!gd($l(o[p])))&&u.push([a(p),a(o[p])]);return f}case E_:return i([s,o.toISOString()],o);case A_:{const{source:u,flags:f}=o;return i([s,{source:u,flags:f}],o)}case O_:{const u=[],f=i([s,u],o);for(const[p,h]of o)(e||!(gd($l(p))||gd($l(h))))&&u.push([a(p),a(h)]);return f}case C_:{const u=[],f=i([s,u],o);for(const p of o)(e||!gd($l(p)))&&u.push(a(p));return f}}const{message:c}=o;return i([s,{name:l,message:c}],o)};return a},pE=(e,{json:t,lossy:r}={})=>{const n=[];return zee(!(t||r),!!t,new Map,n)(e),n},Ef=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?hE(pE(e,t)):structuredClone(e):(e,t)=>hE(pE(e,t));function qee(e,t){const r=[{type:"text",value:""}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function Uee(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Wee(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||qee,n=e.options.footnoteBackLabel||Uee,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const u=e.all(c),f=String(c.identifier).toUpperCase(),p=dl(f.toLowerCase());let h=0;const v=[],m=e.footnoteCounts.get(f);for(;m!==void 0&&++h<=m;){v.length>0&&v.push({type:"text",value:" "});let b=typeof r=="string"?r:r(l,h);typeof b=="string"&&(b={type:"text",value:b}),v.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(l,h),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const g=u[u.length-1];if(g&&g.type==="element"&&g.tagName==="p"){const b=g.children[g.children.length-1];b&&b.type==="text"?b.value+=" ":g.children.push({type:"text",value:" "}),g.children.push(...v)}else u.push(...v);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(u,!0)};e.patch(c,y),s.push(y)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Ef(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const jp=(function(e){if(e==null)return Gee;if(typeof e=="function")return kp(e);if(typeof e=="object")return Array.isArray(e)?Hee(e):Vee(e);if(typeof e=="string")return Kee(e);throw new Error("Expected function, string, or object as test")});function Hee(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=jp(e[r]);return kp(n);function n(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function Vee(e){const t=e;return kp(r);function r(n){const i=n;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function Kee(e){return kp(t);function t(r){return r&&r.type===e}}function kp(e){return t;function t(r,n,i){return!!(Yee(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function Gee(){return!0}function Yee(e){return e!==null&&typeof e=="object"&&"type"in e}const O5=[],Xee=!0,bx=!1,Qee="skip";function C5(e,t,r,n){let i;typeof t=="function"&&typeof r!="function"?(n=r,r=t):i=t;const a=jp(i),o=n?-1:1;s(e,void 0,[])();function s(l,c,u){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return p;function p(){let h=O5,v,m,g;if((!t||a(l,c,u[u.length-1]||void 0))&&(h=Jee(r(l,u)),h[0]===bx))return h;if("children"in l&&l.children){const y=l;if(y.children&&h[0]!==Qee)for(m=(n?y.children.length:-1)+o,g=u.concat(y);m>-1&&m<y.children.length;){const b=y.children[m];if(v=s(b,m,g)(),v[0]===bx)return v;m=typeof v[1]=="number"?v[1]:m+o}}return h}}}function Jee(e){return Array.isArray(e)?e:typeof e=="number"?[Xee,e]:e==null?O5:[e]}function P_(e,t,r,n){let i,a,o;typeof t=="function"&&typeof r!="function"?(a=void 0,o=t,i=r):(a=t,o=r,i=n),C5(e,a,s,i);function s(l,c){const u=c[c.length-1],f=u?u.children.indexOf(l):void 0;return o(l,f,u)}}const xx={}.hasOwnProperty,Zee={};function ete(e,t){const r=t||Zee,n=new Map,i=new Map,a=new Map,o={...$ee,...r.handlers},s={all:c,applyData:rte,definitionById:n,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:l,options:r,patch:tte,wrap:ite};return P_(e,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const f=u.type==="definition"?n:i,p=String(u.identifier).toUpperCase();f.has(p)||f.set(p,u)}}),s;function l(u,f){const p=u.type,h=s.handlers[p];if(xx.call(s.handlers,p)&&h)return h(s,u,f);if(s.options.passThrough&&s.options.passThrough.includes(p)){if("children"in u){const{children:m,...g}=u,y=Ef(g);return y.children=s.all(u),y}return Ef(u)}return(s.options.unknownHandler||nte)(s,u,f)}function c(u){const f=[];if("children"in u){const p=u.children;let h=-1;for(;++h<p.length;){const v=s.one(p[h],u);if(v){if(h&&p[h-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=mE(v.value)),!Array.isArray(v)&&v.type==="element")){const m=v.children[0];m&&m.type==="text"&&(m.value=mE(m.value))}Array.isArray(v)?f.push(...v):f.push(v)}}}return f}}function tte(e,t){e.position&&(t.position=UQ(e))}function rte(e,t){let r=t;if(e&&e.data){const n=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const o="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:o}}r.type==="element"&&a&&Object.assign(r.properties,Ef(a)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function nte(e,t){const r=t.data||{},n="value"in t&&!(xx.call(r,"hProperties")||xx.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ite(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function mE(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function gE(e,t){const r=ete(e,t),n=r.one(e,void 0),i=Wee(r),a=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function ate(e,t){return e&&"run"in e?async function(r,n){const i=gE(r,{file:n,...t});await e.run(i,n)}:function(r,n){return gE(r,{file:n,...e||t})}}function vE(e){if(e)throw e}var Zm,yE;function ote(){if(yE)return Zm;yE=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},a=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var u=e.call(c,"constructor"),f=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!u&&!f)return!1;var p;for(p in c);return typeof p>"u"||e.call(c,p)},o=function(c,u){r&&u.name==="__proto__"?r(c,u.name,{enumerable:!0,configurable:!0,value:u.newValue,writable:!0}):c[u.name]=u.newValue},s=function(c,u){if(u==="__proto__")if(e.call(c,u)){if(n)return n(c,u).value}else return;return c[u]};return Zm=function l(){var c,u,f,p,h,v,m=arguments[0],g=1,y=arguments.length,b=!1;for(typeof m=="boolean"&&(b=m,m=arguments[1]||{},g=2),(m==null||typeof m!="object"&&typeof m!="function")&&(m={});g<y;++g)if(c=arguments[g],c!=null)for(u in c)f=s(m,u),p=s(c,u),m!==p&&(b&&p&&(a(p)||(h=i(p)))?(h?(h=!1,v=f&&i(f)?f:[]):v=f&&a(f)?f:{},o(m,{name:u,newValue:l(b,v,p)})):typeof p<"u"&&o(m,{name:u,newValue:p}));return m},Zm}var ste=ote();const eg=it(ste);function wx(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function lte(){const e=[],t={run:r,use:n};return t;function r(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(l,...c){const u=e[++a];let f=-1;if(l){o(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,u?cte(u,s)(...c):o(null,...c)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function cte(e,t){let r;return n;function n(...o){const s=e.length>o.length;let l;s&&o.push(i);try{l=e.apply(this,o)}catch(c){const u=c;if(s&&r)throw u;return i(u)}s||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(o,...s){r||(r=!0,t(o,...s))}function a(o){i(null,o)}}const zn={basename:ute,dirname:dte,extname:fte,join:hte,sep:"/"};function ute(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Mu(e);let r=0,n=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){r=i+1;break}}else n<0&&(a=!0,n=i+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let o=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){r=i+1;break}}else o<0&&(a=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(n=i):(s=-1,n=o));return r===n?n=o:n<0&&(n=e.length),e.slice(r,n)}function dte(e){if(Mu(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function fte(e){Mu(e);let t=e.length,r=-1,n=0,i=-1,a=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){n=t+1;break}continue}r<0&&(o=!0,r=t+1),s===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||r<0||a===0||a===1&&i===r-1&&i===n+1?"":e.slice(i,r)}function hte(...e){let t=-1,r;for(;++t<e.length;)Mu(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":pte(r)}function pte(e){Mu(e);const t=e.codePointAt(0)===47;let r=mte(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function mte(e,t){let r="",n=0,i=-1,a=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(l=r.lastIndexOf("/"),l!==r.length-1){l<0?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=o,a=0;continue}}else if(r.length>0){r="",n=0,i=o,a=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(i+1,o):r=e.slice(i+1,o),n=o-i-1;i=o,a=0}else s===46&&a>-1?a++:a=-1}return r}function Mu(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const gte={cwd:vte};function vte(){return"/"}function _x(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function yte(e){if(typeof e=="string")e=new URL(e);else if(!_x(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return bte(e)}function bte(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const tg=["history","path","basename","stem","extname","dirname"];class P5{constructor(t){let r;t?_x(t)?r={path:t}:typeof t=="string"||xte(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":gte.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<tg.length;){const a=tg[n];a in r&&r[a]!==void 0&&r[a]!==null&&(this[a]=a==="history"?[...r[a]]:r[a])}let i;for(i in r)tg.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?zn.basename(this.path):void 0}set basename(t){ng(t,"basename"),rg(t,"basename"),this.path=zn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?zn.dirname(this.path):void 0}set dirname(t){bE(this.basename,"dirname"),this.path=zn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?zn.extname(this.path):void 0}set extname(t){if(rg(t,"extname"),bE(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=zn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){_x(t)&&(t=yte(t)),ng(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?zn.basename(this.path,this.extname):void 0}set stem(t){ng(t,"stem"),rg(t,"stem"),this.path=zn.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const i=this.message(t,r,n);throw i.fatal=!0,i}info(t,r,n){const i=this.message(t,r,n);return i.fatal=void 0,i}message(t,r,n){const i=new vr(t,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function rg(e,t){if(e&&e.includes(zn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+zn.sep+"`")}function ng(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function bE(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function xte(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const wte=(function(e){const n=this.constructor.prototype,i=n[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,n),a}),_te={}.hasOwnProperty;class T_ extends wte{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=lte()}copy(){const t=new T_;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(eg(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(og("data",this.frozen),this.namespace[t]=r,this):_te.call(this.namespace,t)&&this.namespace[t]||void 0:t?(og("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(t,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=vd(t),n=this.parser||this.Parser;return ig("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),ig("process",this.parser||this.Parser),ag("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(a,o){const s=vd(t),l=n.parse(s);n.run(l,s,function(u,f,p){if(u||!f||!p)return c(u);const h=f,v=n.stringify(h,p);kte(v)?p.value=v:p.result=v,c(u,p)});function c(u,f){u||!f?o(u):a?a(f):r(void 0,f)}}}processSync(t){let r=!1,n;return this.freeze(),ig("processSync",this.parser||this.Parser),ag("processSync",this.compiler||this.Compiler),this.process(t,i),wE("processSync","process",r),n;function i(a,o){r=!0,vE(a),n=o}}run(t,r,n){xE(t),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?a(void 0,n):new Promise(a);function a(o,s){const l=vd(r);i.run(t,l,c);function c(u,f,p){const h=f||t;u?s(u):o?o(h):n(void 0,h,p)}}}runSync(t,r){let n=!1,i;return this.run(t,r,a),wE("runSync","run",n),i;function a(o,s){vE(o),i=s,n=!0}}stringify(t,r){this.freeze();const n=vd(r),i=this.compiler||this.Compiler;return ag("stringify",i),xE(t),i(t,n)}use(t,...r){const n=this.attachers,i=this.namespace;if(og("use",this.frozen),t!=null)if(typeof t=="function")l(t,r);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...f]=c;l(u,f)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(i.settings=eg(!0,i.settings,c.settings))}function s(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const f=c[u];a(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let f=-1,p=-1;for(;++f<n.length;)if(n[f][0]===c){p=f;break}if(p===-1)n.push([c,...u]);else if(u.length>0){let[h,...v]=u;const m=n[p][1];wx(m)&&wx(h)&&(h=eg(!0,m,h)),n[p]=[c,h,...v]}}}}const Ste=new T_().freeze();function ig(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function ag(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function og(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function xE(e){if(!wx(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function wE(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function vd(e){return jte(e)?e:new P5(e)}function jte(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function kte(e){return typeof e=="string"||Ete(e)}function Ete(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Ate="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",_E=[],SE={allowDangerousHtml:!0},Ote=/^(https?|ircs?|mailto|xmpp)$/i,Cte=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function T5(e){const t=Pte(e),r=Tte(e);return Nte(t.runSync(t.parse(r),r),e)}function Pte(e){const t=e.rehypePlugins||_E,r=e.remarkPlugins||_E,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...SE}:SE;return Ste().use(dee).use(r).use(ate,n).use(t)}function Tte(e){const t=e.children||"",r=new P5;return typeof t=="string"&&(r.value=t),r}function Nte(e,t){const r=t.allowedElements,n=t.allowElement,i=t.components,a=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||Rte;for(const u of Cte)Object.hasOwn(t,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+Ate+u.id,void 0);return P_(e,c),GQ(e,{Fragment:d.Fragment,components:i,ignoreInvalidStyle:!0,jsx:d.jsx,jsxs:d.jsxs,passKeys:!0,passNode:!0});function c(u,f,p){if(u.type==="raw"&&p&&typeof f=="number")return o?p.children.splice(f,1):p.children[f]={type:"text",value:u.value},f;if(u.type==="element"){let h;for(h in Xm)if(Object.hasOwn(Xm,h)&&Object.hasOwn(u.properties,h)){const v=u.properties[h],m=Xm[h];(m===null||m.includes(u.tagName))&&(u.properties[h]=l(String(v||""),h,u))}}if(u.type==="element"){let h=r?!r.includes(u.tagName):a?a.includes(u.tagName):!1;if(!h&&n&&typeof f=="number"&&(h=!n(u,f,p)),h&&p&&typeof f=="number")return s&&u.children?p.children.splice(f,1,...u.children):p.children.splice(f,1),f}}}function Rte(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||r!==-1&&t>r||n!==-1&&t>n||Ote.test(e.slice(0,t))?e:""}function jE(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let n=0,i=r.indexOf(t);for(;i!==-1;)n++,i=r.indexOf(t,i+t.length);return n}function Ite(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Dte(e,t,r){const i=jp((r||{}).ignore||[]),a=Mte(t);let o=-1;for(;++o<a.length;)C5(e,"text",s);function s(c,u){let f=-1,p;for(;++f<u.length;){const h=u[f],v=p?p.children:void 0;if(i(h,v?v.indexOf(h):void 0,p))return;p=h}if(p)return l(c,u)}function l(c,u){const f=u[u.length-1],p=a[o][0],h=a[o][1];let v=0;const g=f.children.indexOf(c);let y=!1,b=[];p.lastIndex=0;let x=p.exec(c.value);for(;x;){const _=x.index,w={index:x.index,input:x.input,stack:[...u,c]};let j=h(...x,w);if(typeof j=="string"&&(j=j.length>0?{type:"text",value:j}:void 0),j===!1?p.lastIndex=_+1:(v!==_&&b.push({type:"text",value:c.value.slice(v,_)}),Array.isArray(j)?b.push(...j):j&&b.push(j),v=_+x[0].length,y=!0),!p.global)break;x=p.exec(c.value)}return y?(v<c.value.length&&b.push({type:"text",value:c.value.slice(v)}),f.children.splice(g,1,...b)):b=[c],g+b.length}}function Mte(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let n=-1;for(;++n<r.length;){const i=r[n];t.push([$te(i[0]),Lte(i[1])])}return t}function $te(e){return typeof e=="string"?new RegExp(Ite(e),"g"):e}function Lte(e){return typeof e=="function"?e:function(){return e}}const sg="phrasing",lg=["autolink","link","image","label"];function Fte(){return{transforms:[Vte],enter:{literalAutolink:zte,literalAutolinkEmail:cg,literalAutolinkHttp:cg,literalAutolinkWww:cg},exit:{literalAutolink:Hte,literalAutolinkEmail:Wte,literalAutolinkHttp:qte,literalAutolinkWww:Ute}}}function Bte(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:sg,notInConstruct:lg},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:sg,notInConstruct:lg},{character:":",before:"[ps]",after:"\\/",inConstruct:sg,notInConstruct:lg}]}}function zte(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function cg(e){this.config.enter.autolinkProtocol.call(this,e)}function qte(e){this.config.exit.autolinkProtocol.call(this,e)}function Ute(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Wte(e){this.config.exit.autolinkEmail.call(this,e)}function Hte(e){this.exit(e)}function Vte(e){Dte(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Kte],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Gte]],{ignore:["link","linkReference"]})}function Kte(e,t,r,n,i){let a="";if(!N5(i)||(/^w/i.test(t)&&(r=t+r,t="",a="http://"),!Yte(r)))return!1;const o=Xte(r+n);if(!o[0])return!1;const s={type:"link",title:null,url:a+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function Gte(e,t,r,n){return!N5(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function Yte(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Xte(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],n=r.indexOf(")");const i=jE(e,"(");let a=jE(e,")");for(;n!==-1&&i>a;)e+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),a++;return[e,r]}function N5(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||vo(r)||wp(r))&&(!t||r!==47)}R5.peek=are;function Qte(){this.buffer()}function Jte(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Zte(){this.buffer()}function ere(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function tre(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Nn(this.sliceSerialize(e)).toLowerCase(),r.label=t}function rre(e){this.exit(e)}function nre(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Nn(this.sliceSerialize(e)).toLowerCase(),r.label=t}function ire(e){this.exit(e)}function are(){return"["}function R5(e,t,r,n){const i=r.createTracker(n);let a=i.move("[^");const o=r.enter("footnoteReference"),s=r.enter("reference");return a+=i.move(r.safe(r.associationId(e),{after:"]",before:a})),s(),o(),a+=i.move("]"),a}function ore(){return{enter:{gfmFootnoteCallString:Qte,gfmFootnoteCall:Jte,gfmFootnoteDefinitionLabelString:Zte,gfmFootnoteDefinition:ere},exit:{gfmFootnoteCallString:tre,gfmFootnoteCall:rre,gfmFootnoteDefinitionLabelString:nre,gfmFootnoteDefinition:ire}}}function sre(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:R5},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,i,a,o){const s=a.createTracker(o);let l=s.move("[^");const c=a.enter("footnoteDefinition"),u=a.enter("label");return l+=s.move(a.safe(a.associationId(n),{before:l,after:"]"})),u(),l+=s.move("]:"),n.children&&n.children.length>0&&(s.shift(4),l+=s.move((t?`
`:" ")+a.indentLines(a.containerFlow(n,s.current()),t?I5:lre))),c(),l}}function lre(e,t,r){return t===0?e:I5(e,t,r)}function I5(e,t,r){return(r?"":"    ")+e}const cre=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];D5.peek=pre;function ure(){return{canContainEols:["delete"],enter:{strikethrough:fre},exit:{strikethrough:hre}}}function dre(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:cre}],handlers:{delete:D5}}}function fre(e){this.enter({type:"delete",children:[]},e)}function hre(e){this.exit(e)}function D5(e,t,r,n){const i=r.createTracker(n),a=r.enter("strikethrough");let o=i.move("~~");return o+=r.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),a(),o}function pre(){return"~"}function mre(e){return e.length}function gre(e,t){const r=t||{},n=(r.align||[]).concat(),i=r.stringLength||mre,a=[],o=[],s=[],l=[];let c=0,u=-1;for(;++u<e.length;){const m=[],g=[];let y=-1;for(e[u].length>c&&(c=e[u].length);++y<e[u].length;){const b=vre(e[u][y]);if(r.alignDelimiters!==!1){const x=i(b);g[y]=x,(l[y]===void 0||x>l[y])&&(l[y]=x)}m.push(b)}o[u]=m,s[u]=g}let f=-1;if(typeof n=="object"&&"length"in n)for(;++f<c;)a[f]=kE(n[f]);else{const m=kE(n);for(;++f<c;)a[f]=m}f=-1;const p=[],h=[];for(;++f<c;){const m=a[f];let g="",y="";m===99?(g=":",y=":"):m===108?g=":":m===114&&(y=":");let b=r.alignDelimiters===!1?1:Math.max(1,l[f]-g.length-y.length);const x=g+"-".repeat(b)+y;r.alignDelimiters!==!1&&(b=g.length+b+y.length,b>l[f]&&(l[f]=b),h[f]=b),p[f]=x}o.splice(1,0,p),s.splice(1,0,h),u=-1;const v=[];for(;++u<o.length;){const m=o[u],g=s[u];f=-1;const y=[];for(;++f<c;){const b=m[f]||"";let x="",_="";if(r.alignDelimiters!==!1){const w=l[f]-(g[f]||0),j=a[f];j===114?x=" ".repeat(w):j===99?w%2?(x=" ".repeat(w/2+.5),_=" ".repeat(w/2-.5)):(x=" ".repeat(w/2),_=x):_=" ".repeat(w)}r.delimiterStart!==!1&&!f&&y.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&b==="")&&(r.delimiterStart!==!1||f)&&y.push(" "),r.alignDelimiters!==!1&&y.push(x),y.push(b),r.alignDelimiters!==!1&&y.push(_),r.padding!==!1&&y.push(" "),(r.delimiterEnd!==!1||f!==c-1)&&y.push("|")}v.push(r.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return v.join(`
`)}function vre(e){return e==null?"":String(e)}function kE(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function yre(e,t,r,n){const i=r.enter("blockquote"),a=r.createTracker(n);a.move("> "),a.shift(2);const o=r.indentLines(r.containerFlow(e,a.current()),bre);return i(),o}function bre(e,t,r){return">"+(r?"":" ")+e}function xre(e,t){return EE(e,t.inConstruct,!0)&&!EE(e,t.notInConstruct,!1)}function EE(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}function AE(e,t,r,n){let i=-1;for(;++i<r.unsafe.length;)if(r.unsafe[i].character===`
`&&xre(r.stack,r.unsafe[i]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function wre(e,t){const r=String(e);let n=r.indexOf(t),i=n,a=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===i?++a>o&&(o=a):a=1,i=n+t.length,n=r.indexOf(t,i);return o}function _re(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Sre(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function jre(e,t,r,n){const i=Sre(r),a=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(_re(e,r)){const f=r.enter("codeIndented"),p=r.indentLines(a,kre);return f(),p}const s=r.createTracker(n),l=i.repeat(Math.max(wre(a,i)+1,3)),c=r.enter("codeFenced");let u=s.move(l);if(e.lang){const f=r.enter(`codeFencedLang${o}`);u+=s.move(r.safe(e.lang,{before:u,after:" ",encode:["`"],...s.current()})),f()}if(e.lang&&e.meta){const f=r.enter(`codeFencedMeta${o}`);u+=s.move(" "),u+=s.move(r.safe(e.meta,{before:u,after:`
`,encode:["`"],...s.current()})),f()}return u+=s.move(`
`),a&&(u+=s.move(a+`
`)),u+=s.move(l),c(),u}function kre(e,t,r){return(r?"":"    ")+e}function N_(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Ere(e,t,r,n){const i=N_(r),a=i==='"'?"Quote":"Apostrophe",o=r.enter("definition");let s=r.enter("label");const l=r.createTracker(n);let c=l.move("[");return c+=l.move(r.safe(r.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=r.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(r.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=r.enter("destinationRaw"),c+=l.move(r.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=r.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(r.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),o(),c}function Are(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Mc(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Af(e,t,r){const n=xs(e),i=xs(t);return n===void 0?i===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}M5.peek=Ore;function M5(e,t,r,n){const i=Are(r),a=r.enter("emphasis"),o=r.createTracker(n),s=o.move(i);let l=o.move(r.containerPhrasing(e,{after:i,before:s,...o.current()}));const c=l.charCodeAt(0),u=Af(n.before.charCodeAt(n.before.length-1),c,i);u.inside&&(l=Mc(c)+l.slice(1));const f=l.charCodeAt(l.length-1),p=Af(n.after.charCodeAt(0),f,i);p.inside&&(l=l.slice(0,-1)+Mc(f));const h=o.move(i);return a(),r.attentionEncodeSurroundingInfo={after:p.outside,before:u.outside},s+l+h}function Ore(e,t,r){return r.options.emphasis||"*"}function Cre(e,t){let r=!1;return P_(e,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,bx}),!!((!e.depth||e.depth<3)&&S_(e)&&(t.options.setext||r))}function Pre(e,t,r,n){const i=Math.max(Math.min(6,e.depth||1),1),a=r.createTracker(n);if(Cre(e,r)){const u=r.enter("headingSetext"),f=r.enter("phrasing"),p=r.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return f(),u(),p+`
`+(i===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const o="#".repeat(i),s=r.enter("headingAtx"),l=r.enter("phrasing");a.move(o+" ");let c=r.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(c)&&(c=Mc(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,r.options.closeAtx&&(c+=" "+o),l(),s(),c}$5.peek=Tre;function $5(e){return e.value||""}function Tre(){return"<"}L5.peek=Nre;function L5(e,t,r,n){const i=N_(r),a=i==='"'?"Quote":"Apostrophe",o=r.enter("image");let s=r.enter("label");const l=r.createTracker(n);let c=l.move("![");return c+=l.move(r.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=r.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(r.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=r.enter("destinationRaw"),c+=l.move(r.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=r.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(r.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),c+=l.move(")"),o(),c}function Nre(){return"!"}F5.peek=Rre;function F5(e,t,r,n){const i=e.referenceType,a=r.enter("imageReference");let o=r.enter("label");const s=r.createTracker(n);let l=s.move("![");const c=r.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const u=r.stack;r.stack=[],o=r.enter("reference");const f=r.safe(r.associationId(e),{before:l,after:"]",...s.current()});return o(),r.stack=u,a(),i==="full"||!c||c!==f?l+=s.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function Rre(){return"!"}B5.peek=Ire;function B5(e,t,r){let n=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(n);)i+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++a<r.unsafe.length;){const o=r.unsafe[a],s=r.compilePattern(o);let l;if(o.atBreak)for(;l=s.exec(n);){let c=l.index;n.charCodeAt(c)===10&&n.charCodeAt(c-1)===13&&c--,n=n.slice(0,c)+" "+n.slice(l.index+1)}}return i+n+i}function Ire(){return"`"}function z5(e,t){const r=S_(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}q5.peek=Dre;function q5(e,t,r,n){const i=N_(r),a=i==='"'?"Quote":"Apostrophe",o=r.createTracker(n);let s,l;if(z5(e,r)){const u=r.stack;r.stack=[],s=r.enter("autolink");let f=o.move("<");return f+=o.move(r.containerPhrasing(e,{before:f,after:">",...o.current()})),f+=o.move(">"),s(),r.stack=u,f}s=r.enter("link"),l=r.enter("label");let c=o.move("[");return c+=o.move(r.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(r.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=r.enter("destinationRaw"),c+=o.move(r.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=r.enter(`title${a}`),c+=o.move(" "+i),c+=o.move(r.safe(e.title,{before:c,after:i,...o.current()})),c+=o.move(i),l()),c+=o.move(")"),s(),c}function Dre(e,t,r){return z5(e,r)?"<":"["}U5.peek=Mre;function U5(e,t,r,n){const i=e.referenceType,a=r.enter("linkReference");let o=r.enter("label");const s=r.createTracker(n);let l=s.move("[");const c=r.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const u=r.stack;r.stack=[],o=r.enter("reference");const f=r.safe(r.associationId(e),{before:l,after:"]",...s.current()});return o(),r.stack=u,a(),i==="full"||!c||c!==f?l+=s.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function Mre(){return"["}function R_(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function $re(e){const t=R_(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}function Lre(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function W5(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Fre(e,t,r,n){const i=r.enter("list"),a=r.bulletCurrent;let o=e.ordered?Lre(r):R_(r);const s=e.ordered?o==="."?")":".":$re(r);let l=t&&r.bulletLastUsed?o===r.bulletLastUsed:!1;if(!e.ordered){const u=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&u&&(!u.children||!u.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(l=!0),W5(r)===o&&u){let f=-1;for(;++f<e.children.length;){const p=e.children[f];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=s),r.bulletCurrent=o;const c=r.containerFlow(e,n);return r.bulletLastUsed=o,r.bulletCurrent=a,i(),c}function Bre(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function zre(e,t,r,n){const i=Bre(r);let a=r.bulletCurrent||R_(r);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let o=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=r.createTracker(n);s.move(a+" ".repeat(o-a.length)),s.shift(o);const l=r.enter("listItem"),c=r.indentLines(r.containerFlow(e,s.current()),u);return l(),c;function u(f,p,h){return p?(h?"":" ".repeat(o))+f:(h?a:a+" ".repeat(o-a.length))+f}}function qre(e,t,r,n){const i=r.enter("paragraph"),a=r.enter("phrasing"),o=r.containerPhrasing(e,n);return a(),i(),o}const Ure=jp(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Wre(e,t,r,n){return(e.children.some(function(o){return Ure(o)})?r.containerPhrasing:r.containerFlow).call(r,e,n)}function Hre(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}H5.peek=Vre;function H5(e,t,r,n){const i=Hre(r),a=r.enter("strong"),o=r.createTracker(n),s=o.move(i+i);let l=o.move(r.containerPhrasing(e,{after:i,before:s,...o.current()}));const c=l.charCodeAt(0),u=Af(n.before.charCodeAt(n.before.length-1),c,i);u.inside&&(l=Mc(c)+l.slice(1));const f=l.charCodeAt(l.length-1),p=Af(n.after.charCodeAt(0),f,i);p.inside&&(l=l.slice(0,-1)+Mc(f));const h=o.move(i+i);return a(),r.attentionEncodeSurroundingInfo={after:p.outside,before:u.outside},s+l+h}function Vre(e,t,r){return r.options.strong||"*"}function Kre(e,t,r,n){return r.safe(e.value,n)}function Gre(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Yre(e,t,r){const n=(W5(r)+(r.options.ruleSpaces?" ":"")).repeat(Gre(r));return r.options.ruleSpaces?n.slice(0,-1):n}const V5={blockquote:yre,break:AE,code:jre,definition:Ere,emphasis:M5,hardBreak:AE,heading:Pre,html:$5,image:L5,imageReference:F5,inlineCode:B5,link:q5,linkReference:U5,list:Fre,listItem:zre,paragraph:qre,root:Wre,strong:H5,text:Kre,thematicBreak:Yre};function Xre(){return{enter:{table:Qre,tableData:OE,tableHeader:OE,tableRow:Zre},exit:{codeText:ene,table:Jre,tableData:ug,tableHeader:ug,tableRow:ug}}}function Qre(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function Jre(e){this.exit(e),this.data.inTable=void 0}function Zre(e){this.enter({type:"tableRow",children:[]},e)}function ug(e){this.exit(e)}function OE(e){this.enter({type:"tableCell",children:[]},e)}function ene(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,tne));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(e)}function tne(e,t){return t==="|"?t:e}function rne(e){const t=e||{},r=t.tableCellPadding,n=t.tablePipeAlign,i=t.stringLength,a=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:o,tableCell:l,tableRow:s}};function o(h,v,m,g){return c(u(h,m,g),h.align)}function s(h,v,m,g){const y=f(h,m,g),b=c([y]);return b.slice(0,b.indexOf(`
`))}function l(h,v,m,g){const y=m.enter("tableCell"),b=m.enter("phrasing"),x=m.containerPhrasing(h,{...g,before:a,after:a});return b(),y(),x}function c(h,v){return gre(h,{align:v,alignDelimiters:n,padding:r,stringLength:i})}function u(h,v,m){const g=h.children;let y=-1;const b=[],x=v.enter("table");for(;++y<g.length;)b[y]=f(g[y],v,m);return x(),b}function f(h,v,m){const g=h.children;let y=-1;const b=[],x=v.enter("tableRow");for(;++y<g.length;)b[y]=l(g[y],h,v,m);return x(),b}function p(h,v,m){let g=V5.inlineCode(h,v,m);return m.stack.includes("tableCell")&&(g=g.replace(/\|/g,"\\$&")),g}}function nne(){return{exit:{taskListCheckValueChecked:CE,taskListCheckValueUnchecked:CE,paragraph:ane}}}function ine(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:one}}}function CE(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function ane(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const i=t.children;let a=-1,o;for(;++a<i.length;){const s=i[a];if(s.type==="paragraph"){o=s;break}}o===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function one(e,t,r,n){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=r.createTracker(n);a&&s.move(o);let l=V5.listItem(e,t,r,{...n,...s.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(u){return u+o}}function sne(){return[Fte(),ore(),ure(),Xre(),nne()]}function lne(e){return{extensions:[Bte(),sre(e),dre(),rne(e),ine()]}}const cne={tokenize:mne,partial:!0},K5={tokenize:gne,partial:!0},G5={tokenize:vne,partial:!0},Y5={tokenize:yne,partial:!0},une={tokenize:bne,partial:!0},X5={name:"wwwAutolink",tokenize:hne,previous:J5},Q5={name:"protocolAutolink",tokenize:pne,previous:Z5},Fi={name:"emailAutolink",tokenize:fne,previous:eL},ui={};function dne(){return{text:ui}}let Ma=48;for(;Ma<123;)ui[Ma]=Fi,Ma++,Ma===58?Ma=65:Ma===91&&(Ma=97);ui[43]=Fi;ui[45]=Fi;ui[46]=Fi;ui[95]=Fi;ui[72]=[Fi,Q5];ui[104]=[Fi,Q5];ui[87]=[Fi,X5];ui[119]=[Fi,X5];function fne(e,t,r){const n=this;let i,a;return o;function o(f){return!Sx(f)||!eL.call(n,n.previous)||I_(n.events)?r(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(f))}function s(f){return Sx(f)?(e.consume(f),s):f===64?(e.consume(f),l):r(f)}function l(f){return f===46?e.check(une,u,c)(f):f===45||f===95||gr(f)?(a=!0,e.consume(f),l):u(f)}function c(f){return e.consume(f),i=!0,l}function u(f){return a&&i&&_r(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):r(f)}}function hne(e,t,r){const n=this;return i;function i(o){return o!==87&&o!==119||!J5.call(n,n.previous)||I_(n.events)?r(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(cne,e.attempt(K5,e.attempt(G5,a),r),r)(o))}function a(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function pne(e,t,r){const n=this;let i="",a=!1;return o;function o(f){return(f===72||f===104)&&Z5.call(n,n.previous)&&!I_(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),s):r(f)}function s(f){if(_r(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),s;if(f===58){const p=i.toLowerCase();if(p==="http"||p==="https")return e.consume(f),l}return r(f)}function l(f){return f===47?(e.consume(f),a?c:(a=!0,l)):r(f)}function c(f){return f===null||jf(f)||wt(f)||vo(f)||wp(f)?r(f):e.attempt(K5,e.attempt(G5,u),r)(f)}function u(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function mne(e,t,r){let n=0;return i;function i(o){return(o===87||o===119)&&n<3?(n++,e.consume(o),i):o===46&&n===3?(e.consume(o),a):r(o)}function a(o){return o===null?r(o):t(o)}}function gne(e,t,r){let n,i,a;return o;function o(c){return c===46||c===95?e.check(Y5,l,s)(c):c===null||wt(c)||vo(c)||c!==45&&wp(c)?l(c):(a=!0,e.consume(c),o)}function s(c){return c===95?n=!0:(i=n,n=void 0),e.consume(c),o}function l(c){return i||n||!a?r(c):t(c)}}function vne(e,t){let r=0,n=0;return i;function i(o){return o===40?(r++,e.consume(o),i):o===41&&n<r?a(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(Y5,t,a)(o):o===null||wt(o)||vo(o)?t(o):(e.consume(o),i)}function a(o){return o===41&&n++,e.consume(o),i}}function yne(e,t,r){return n;function n(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),n):s===38?(e.consume(s),a):s===93?(e.consume(s),i):s===60||s===null||wt(s)||vo(s)?t(s):r(s)}function i(s){return s===null||s===40||s===91||wt(s)||vo(s)?t(s):n(s)}function a(s){return _r(s)?o(s):r(s)}function o(s){return s===59?(e.consume(s),n):_r(s)?(e.consume(s),o):r(s)}}function bne(e,t,r){return n;function n(a){return e.consume(a),i}function i(a){return gr(a)?r(a):t(a)}}function J5(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||wt(e)}function Z5(e){return!_r(e)}function eL(e){return!(e===47||Sx(e))}function Sx(e){return e===43||e===45||e===46||e===95||gr(e)}function I_(e){let t=e.length,r=!1;for(;t--;){const n=e[t][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const xne={tokenize:One,partial:!0};function wne(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:kne,continuation:{tokenize:Ene},exit:Ane}},text:{91:{name:"gfmFootnoteCall",tokenize:jne},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:_ne,resolveTo:Sne}}}}function _ne(e,t,r){const n=this;let i=n.events.length;const a=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let o;for(;i--;){const l=n.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!o||!o._balanced)return r(l);const c=Nn(n.sliceSerialize({start:o.end,end:n.now()}));return c.codePointAt(0)!==94||!a.includes(c.slice(1))?r(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function Sne(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},s=[e[r+1],e[r+2],["enter",n,t],e[r+3],e[r+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",o,t],["exit",o,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",n,t]];return e.splice(r,e.length-r+1,...s),e}function jne(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a=0,o;return s;function s(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?r(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(f){if(a>999||f===93&&!o||f===null||f===91||wt(f))return r(f);if(f===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return i.includes(Nn(n.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(f)}return wt(f)||(o=!0),a++,e.consume(f),f===92?u:c}function u(f){return f===91||f===92||f===93?(e.consume(f),a++,c):c(f)}}function kne(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a,o=0,s;return l;function l(v){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(v){return v===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",u):r(v)}function u(v){if(o>999||v===93&&!s||v===null||v===91||wt(v))return r(v);if(v===93){e.exit("chunkString");const m=e.exit("gfmFootnoteDefinitionLabelString");return a=Nn(n.sliceSerialize(m)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return wt(v)||(s=!0),o++,e.consume(v),v===92?f:u}function f(v){return v===91||v===92||v===93?(e.consume(v),o++,u):u(v)}function p(v){return v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),i.includes(a)||i.push(a),nt(e,h,"gfmFootnoteDefinitionWhitespace")):r(v)}function h(v){return t(v)}}function Ene(e,t,r){return e.check(Du,t,e.attempt(xne,t,r))}function Ane(e){e.exit("gfmFootnoteDefinition")}function One(e,t,r){const n=this;return nt(e,i,"gfmFootnoteDefinitionIndent",5);function i(a){const o=n.events[n.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(a):r(a)}}function Cne(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:a,resolveAll:i};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function i(o,s){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let c=l;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[l][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[l][1].end)},f={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[l][1].start)},p=[["enter",u,s],["enter",o[c][1],s],["exit",o[c][1],s],["enter",f,s]],h=s.parser.constructs.insideSpan.null;h&&Gr(p,p.length,0,_p(h,o.slice(c+1,l),s)),Gr(p,p.length,0,[["exit",f,s],["enter",o[l][1],s],["exit",o[l][1],s],["exit",u,s]]),Gr(o,c-1,l-c+3,p),l=c+p.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function a(o,s,l){const c=this.previous,u=this.events;let f=0;return p;function p(v){return c===126&&u[u.length-1][1].type!=="characterEscape"?l(v):(o.enter("strikethroughSequenceTemporary"),h(v))}function h(v){const m=xs(c);if(v===126)return f>1?l(v):(o.consume(v),f++,h);if(f<2&&!r)return l(v);const g=o.exit("strikethroughSequenceTemporary"),y=xs(v);return g._open=!y||y===2&&!!m,g._close=!m||m===2&&!!y,s(v)}}}class Pne{constructor(){this.map=[]}add(t,r,n){Tne(this,t,r,n)}consume(t){if(this.map.sort(function(a,o){return a[0]-o[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];n.push(t.slice()),t.length=0;let i=n.pop();for(;i;){for(const a of i)t.push(a);i=n.pop()}this.map.length=0}}function Tne(e,t,r,n){let i=0;if(!(r===0&&n.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=r,e.map[i][2].push(...n);return}i+=1}e.map.push([t,r,n])}}function Nne(e,t){let r=!1;const n=[];for(;t<e.length;){const i=e[t];if(r){if(i[0]==="enter")i[1].type==="tableContent"&&n.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=n.length-1;n[a]=n[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return n}function Rne(){return{flow:{null:{name:"table",tokenize:Ine,resolveAll:Dne}}}}function Ine(e,t,r){const n=this;let i=0,a=0,o;return s;function s(O){let T=n.events.length-1;for(;T>-1;){const E=n.events[T][1].type;if(E==="lineEnding"||E==="linePrefix")T--;else break}const N=T>-1?n.events[T][1].type:null,D=N==="tableHead"||N==="tableRow"?j:l;return D===j&&n.parser.lazy[n.now().line]?r(O):D(O)}function l(O){return e.enter("tableHead"),e.enter("tableRow"),c(O)}function c(O){return O===124||(o=!0,a+=1),u(O)}function u(O){return O===null?r(O):Re(O)?a>1?(a=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),h):r(O):Qe(O)?nt(e,u,"whitespace")(O):(a+=1,o&&(o=!1,i+=1),O===124?(e.enter("tableCellDivider"),e.consume(O),e.exit("tableCellDivider"),o=!0,u):(e.enter("data"),f(O)))}function f(O){return O===null||O===124||wt(O)?(e.exit("data"),u(O)):(e.consume(O),O===92?p:f)}function p(O){return O===92||O===124?(e.consume(O),f):f(O)}function h(O){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(O):(e.enter("tableDelimiterRow"),o=!1,Qe(O)?nt(e,v,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):v(O))}function v(O){return O===45||O===58?g(O):O===124?(o=!0,e.enter("tableCellDivider"),e.consume(O),e.exit("tableCellDivider"),m):w(O)}function m(O){return Qe(O)?nt(e,g,"whitespace")(O):g(O)}function g(O){return O===58?(a+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(O),e.exit("tableDelimiterMarker"),y):O===45?(a+=1,y(O)):O===null||Re(O)?_(O):w(O)}function y(O){return O===45?(e.enter("tableDelimiterFiller"),b(O)):w(O)}function b(O){return O===45?(e.consume(O),b):O===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(O),e.exit("tableDelimiterMarker"),x):(e.exit("tableDelimiterFiller"),x(O))}function x(O){return Qe(O)?nt(e,_,"whitespace")(O):_(O)}function _(O){return O===124?v(O):O===null||Re(O)?!o||i!==a?w(O):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(O)):w(O)}function w(O){return r(O)}function j(O){return e.enter("tableRow"),k(O)}function k(O){return O===124?(e.enter("tableCellDivider"),e.consume(O),e.exit("tableCellDivider"),k):O===null||Re(O)?(e.exit("tableRow"),t(O)):Qe(O)?nt(e,k,"whitespace")(O):(e.enter("data"),C(O))}function C(O){return O===null||O===124||wt(O)?(e.exit("data"),k(O)):(e.consume(O),O===92?P:C)}function P(O){return O===92||O===124?(e.consume(O),C):C(O)}}function Dne(e,t){let r=-1,n=!0,i=0,a=[0,0,0,0],o=[0,0,0,0],s=!1,l=0,c,u,f;const p=new Pne;for(;++r<e.length;){const h=e[r],v=h[1];h[0]==="enter"?v.type==="tableHead"?(s=!1,l!==0&&(PE(p,t,l,c,u),u=void 0,l=0),c={type:"table",start:Object.assign({},v.start),end:Object.assign({},v.end)},p.add(r,0,[["enter",c,t]])):v.type==="tableRow"||v.type==="tableDelimiterRow"?(n=!0,f=void 0,a=[0,0,0,0],o=[0,r+1,0,0],s&&(s=!1,u={type:"tableBody",start:Object.assign({},v.start),end:Object.assign({},v.end)},p.add(r,0,[["enter",u,t]])),i=v.type==="tableDelimiterRow"?2:u?3:1):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")?(n=!1,o[2]===0&&(a[1]!==0&&(o[0]=o[1],f=yd(p,t,a,i,void 0,f),a=[0,0,0,0]),o[2]=r)):v.type==="tableCellDivider"&&(n?n=!1:(a[1]!==0&&(o[0]=o[1],f=yd(p,t,a,i,void 0,f)),a=o,o=[a[1],r,0,0])):v.type==="tableHead"?(s=!0,l=r):v.type==="tableRow"||v.type==="tableDelimiterRow"?(l=r,a[1]!==0?(o[0]=o[1],f=yd(p,t,a,i,r,f)):o[1]!==0&&(f=yd(p,t,o,i,r,f)),i=0):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")&&(o[3]=r)}for(l!==0&&PE(p,t,l,c,u),p.consume(t.events),r=-1;++r<t.events.length;){const h=t.events[r];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=Nne(t.events,r))}return e}function yd(e,t,r,n,i,a){const o=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",s="tableContent";r[0]!==0&&(a.end=Object.assign({},Yo(t.events,r[0])),e.add(r[0],0,[["exit",a,t]]));const l=Yo(t.events,r[1]);if(a={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(r[1],0,[["enter",a,t]]),r[2]!==0){const c=Yo(t.events,r[2]),u=Yo(t.events,r[3]),f={type:s,start:Object.assign({},c),end:Object.assign({},u)};if(e.add(r[2],0,[["enter",f,t]]),n!==2){const p=t.events[r[2]],h=t.events[r[3]];if(p[1].end=Object.assign({},h[1].end),p[1].type="chunkText",p[1].contentType="text",r[3]>r[2]+1){const v=r[2]+1,m=r[3]-r[2]-1;e.add(v,m,[])}}e.add(r[3]+1,0,[["exit",f,t]])}return i!==void 0&&(a.end=Object.assign({},Yo(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function PE(e,t,r,n,i){const a=[],o=Yo(t.events,r);i&&(i.end=Object.assign({},o),a.push(["exit",i,t])),n.end=Object.assign({},o),a.push(["exit",n,t]),e.add(r+1,0,a)}function Yo(e,t){const r=e[t],n=r[0]==="enter"?"start":"end";return r[1][n]}const Mne={name:"tasklistCheck",tokenize:Lne};function $ne(){return{text:{91:Mne}}}function Lne(e,t,r){const n=this;return i;function i(l){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return wt(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):r(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):r(l)}function s(l){return Re(l)?t(l):Qe(l)?e.check({tokenize:Fne},t,r)(l):r(l)}}function Fne(e,t,r){return nt(e,n,"whitespace");function n(i){return i===null?r(i):t(i)}}function Bne(e){return u5([dne(),wne(),Cne(e),Rne(),$ne()])}const zne={};function tL(e){const t=this,r=e||zne,n=t.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),a=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),o=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(Bne(r)),a.push(sne()),o.push(lne(r))}function qne(){const[e,t]=S.useState(!1),[r,n]=S.useState(""),[i,a]=S.useState("preview"),[o,s]=S.useState(!1),[l,c]=S.useState("idle");return S.useEffect(()=>{(async()=>{const{data:{session:f}}=await be.auth.getSession();if(!f)return;const{data:p,error:h}=await be.from("user_memos").select("content").eq("user_id",f.user.id).single();p?n(p.content||""):h||n(`# Note

Scrivi qui i tuoi appunti...`)})()},[]),S.useEffect(()=>{c("idle");const u=setTimeout(async()=>{const{data:{session:f}}=await be.auth.getSession();if(!f)return;c("saving");const{error:p}=await be.from("user_memos").upsert({user_id:f.user.id,content:r,updated_at:new Date().toISOString()},{onConflict:"user_id"});p?(console.error("Error saving memo:",p),c("error"),Ue.error("Errore salvataggio nota: "+(p.message||"Errore sconosciuto"))):c("saved")},1e3);return()=>clearTimeout(u)},[r]),d.jsxs(fp,{open:e,onOpenChange:t,children:[d.jsx(Z1,{asChild:!0,children:d.jsx(Xe,{variant:"outline",size:"icon",className:"h-10 w-10 sm:h-9 sm:w-9",title:"Memo / Appunti",children:d.jsx(g1,{className:"h-4 w-4"})})}),d.jsxs(Ou,{className:ae("flex flex-col gap-0 p-0 sm:max-w-xl transition-all duration-300 [&>button:last-child]:hidden",o?"w-[95vw] h-[95vh] sm:max-w-[95vw]":"h-[80vh]"),children:[d.jsx(Pu,{className:"sr-only",children:"Editor di testo in markdown per appunti temporanei e veloci."}),d.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border/40",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Cu,{className:"font-semibold text-lg",children:"Memo"}),d.jsx("span",{className:"text-xs text-muted-foreground bg-muted/50 px-2 py-0.5 rounded",children:".md support"}),d.jsxs("div",{className:"flex items-center gap-1.5 ml-2 text-xs transition-all duration-300",children:[l==="saving"&&d.jsxs(d.Fragment,{children:[d.jsx(Tn,{className:"w-3 h-3 animate-spin text-muted-foreground"}),d.jsx("span",{className:"text-muted-foreground",children:"Salvataggio..."})]}),l==="saved"&&d.jsxs(d.Fragment,{children:[d.jsx(Fh,{className:"w-3 h-3 text-green-500"}),d.jsx("span",{className:"text-green-500 font-medium",children:"Salvato"})]}),l==="error"&&d.jsxs(d.Fragment,{children:[d.jsx(ts,{className:"w-3 h-3 text-destructive"}),d.jsx("span",{className:"text-destructive font-medium",children:"Errore Sync"})]})]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Xe,{variant:"ghost",size:"sm",onClick:()=>a(i==="preview"?"edit":"preview"),className:"gap-2 h-8",title:i==="preview"?"Modifica":"Visualizza",children:i==="preview"?d.jsxs(d.Fragment,{children:[d.jsx(E6,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:"Modifica"})]}):d.jsxs(d.Fragment,{children:[d.jsx(TR,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:"Anteprima"})]})}),d.jsx(Xe,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>s(!o),title:o?"Riduci":"Espandi",children:o?d.jsx(j6,{className:"w-4 h-4"}):d.jsx(S6,{className:"w-4 h-4"})}),d.jsx(Xe,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>t(!1),children:d.jsx(Qs,{className:"w-4 h-4"})})]})]}),d.jsx("div",{className:"flex-1 overflow-hidden relative bg-card",children:i==="edit"?d.jsx(D$,{value:r,onChange:u=>n(u.target.value),className:"w-full h-full resize-none p-6 font-mono text-sm bg-transparent border-0 focus-visible:ring-0 leading-relaxed",placeholder:"# Inizia a scrivere..."}):d.jsx(g_,{className:"h-full w-full",children:d.jsx("div",{className:"p-6 prose prose-invert prose-sm max-w-none",children:d.jsx(T5,{remarkPlugins:[tL],components:{h1:({node:u,...f})=>d.jsx("h1",{className:"text-3xl font-bold mt-2 mb-6",...f}),h2:({node:u,...f})=>d.jsx("h2",{className:"text-2xl font-bold mt-6 mb-4 border-b border-border/50 pb-2",...f}),code:({node:u,className:f,children:p,...h})=>String(p).includes(`
`)?d.jsx("code",{className:f,...h,children:p}):d.jsx("code",{className:"bg-primary/20 text-primary rounded px-1.5 py-0.5 font-mono text-sm",...h,children:p})},children:r})})})})]})]})}var dg="rovingFocusGroup.onEntryFocus",Une={bubbles:!1,cancelable:!0},$u="RovingFocusGroup",[jx,rL,Wne]=Ih($u),[Hne,Ep]=Or($u,[Wne]),[Vne,Kne]=Hne($u),nL=S.forwardRef((e,t)=>d.jsx(jx.Provider,{scope:e.__scopeRovingFocusGroup,children:d.jsx(jx.Slot,{scope:e.__scopeRovingFocusGroup,children:d.jsx(Gne,{...e,ref:t})})}));nL.displayName=$u;var Gne=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...f}=e,p=S.useRef(null),h=$e(t,p),v=cl(a),[m,g]=ri({prop:o,defaultProp:s??null,onChange:l,caller:$u}),[y,b]=S.useState(!1),x=Lt(c),_=rL(r),w=S.useRef(!1),[j,k]=S.useState(0);return S.useEffect(()=>{const C=p.current;if(C)return C.addEventListener(dg,x),()=>C.removeEventListener(dg,x)},[x]),d.jsx(Vne,{scope:r,orientation:n,dir:v,loop:i,currentTabStopId:m,onItemFocus:S.useCallback(C=>g(C),[g]),onItemShiftTab:S.useCallback(()=>b(!0),[]),onFocusableItemAdd:S.useCallback(()=>k(C=>C+1),[]),onFocusableItemRemove:S.useCallback(()=>k(C=>C-1),[]),children:d.jsx(Ee.div,{tabIndex:y||j===0?-1:0,"data-orientation":n,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:ke(e.onMouseDown,()=>{w.current=!0}),onFocus:ke(e.onFocus,C=>{const P=!w.current;if(C.target===C.currentTarget&&P&&!y){const O=new CustomEvent(dg,Une);if(C.currentTarget.dispatchEvent(O),!O.defaultPrevented){const T=_().filter(B=>B.focusable),N=T.find(B=>B.active),D=T.find(B=>B.id===m),R=[N,D,...T].filter(Boolean).map(B=>B.ref.current);oL(R,u)}}w.current=!1}),onBlur:ke(e.onBlur,()=>b(!1))})})}),iL="RovingFocusGroupItem",aL=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:o,...s}=e,l=Ei(),c=a||l,u=Kne(iL,r),f=u.currentTabStopId===c,p=rL(r),{onFocusableItemAdd:h,onFocusableItemRemove:v,currentTabStopId:m}=u;return S.useEffect(()=>{if(n)return h(),()=>v()},[n,h,v]),d.jsx(jx.ItemSlot,{scope:r,id:c,focusable:n,active:i,children:d.jsx(Ee.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...s,ref:t,onMouseDown:ke(e.onMouseDown,g=>{n?u.onItemFocus(c):g.preventDefault()}),onFocus:ke(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:ke(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=Qne(g,u.orientation,u.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let x=p().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")x.reverse();else if(y==="prev"||y==="next"){y==="prev"&&x.reverse();const _=x.indexOf(g.currentTarget);x=u.loop?Jne(x,_+1):x.slice(_+1)}setTimeout(()=>oL(x))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:m!=null}):o})})});aL.displayName=iL;var Yne={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Xne(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Qne(e,t,r){const n=Xne(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Yne[n]}function oL(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Jne(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var sL=nL,lL=aL,Ap="Tabs",[Zne]=Or(Ap,[Ep]),cL=Ep(),[eie,D_]=Zne(Ap),uL=S.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:s,activationMode:l="automatic",...c}=e,u=cl(s),[f,p]=ri({prop:n,onChange:i,defaultProp:a??"",caller:Ap});return d.jsx(eie,{scope:r,baseId:Ei(),value:f,onValueChange:p,orientation:o,dir:u,activationMode:l,children:d.jsx(Ee.div,{dir:u,"data-orientation":o,...c,ref:t})})});uL.displayName=Ap;var dL="TabsList",fL=S.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,a=D_(dL,r),o=cL(r);return d.jsx(sL,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:d.jsx(Ee.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});fL.displayName=dL;var hL="TabsTrigger",pL=S.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=e,o=D_(hL,r),s=cL(r),l=vL(o.baseId,n),c=yL(o.baseId,n),u=n===o.value;return d.jsx(lL,{asChild:!0,...s,focusable:!i,active:u,children:d.jsx(Ee.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:t,onMouseDown:ke(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:ke(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:ke(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!i&&f&&o.onValueChange(n)})})})});pL.displayName=hL;var mL="TabsContent",gL=S.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...o}=e,s=D_(mL,r),l=vL(s.baseId,n),c=yL(s.baseId,n),u=n===s.value,f=S.useRef(u);return S.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),d.jsx(Mi,{present:i||u,children:({present:p})=>d.jsx(Ee.div,{"data-state":u?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:p&&a})})});gL.displayName=mL;function vL(e,t){return`${e}-trigger-${t}`}function yL(e,t){return`${e}-content-${t}`}var tie=uL,bL=fL,xL=pL,wL=gL;const us=tie,ao=S.forwardRef(({className:e,...t},r)=>d.jsx(bL,{ref:r,className:ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ao.displayName=bL.displayName;const gt=S.forwardRef(({className:e,...t},r)=>d.jsx(xL,{ref:r,className:ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));gt.displayName=xL.displayName;const xr=S.forwardRef(({className:e,...t},r)=>d.jsx(wL,{ref:r,className:ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));xr.displayName=wL.displayName;function Op(e){const t=S.useRef({value:e,previous:e});return S.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Cp="Switch",[rie]=Or(Cp),[nie,iie]=rie(Cp),_L=S.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:o,disabled:s,value:l="on",onCheckedChange:c,form:u,...f}=e,[p,h]=S.useState(null),v=$e(t,x=>h(x)),m=S.useRef(!1),g=p?u||!!p.closest("form"):!0,[y,b]=ri({prop:i,defaultProp:a??!1,onChange:c,caller:Cp});return d.jsxs(nie,{scope:r,checked:y,disabled:s,children:[d.jsx(Ee.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":EL(y),"data-disabled":s?"":void 0,disabled:s,value:l,...f,ref:v,onClick:ke(e.onClick,x=>{b(_=>!_),g&&(m.current=x.isPropagationStopped(),m.current||x.stopPropagation())})}),g&&d.jsx(kL,{control:p,bubbles:!m.current,name:n,value:l,checked:y,required:o,disabled:s,form:u,style:{transform:"translateX(-100%)"}})]})});_L.displayName=Cp;var SL="SwitchThumb",jL=S.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=iie(SL,r);return d.jsx(Ee.span,{"data-state":EL(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});jL.displayName=SL;var aie="SwitchBubbleInput",kL=S.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...i},a)=>{const o=S.useRef(null),s=$e(o,a),l=Op(r),c=Hh(t);return S.useEffect(()=>{const u=o.current;if(!u)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&h){const v=new Event("click",{bubbles:n});h.call(u,r),u.dispatchEvent(v)}},[l,r,n]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});kL.displayName=aie;function EL(e){return e?"checked":"unchecked"}var AL=_L,oie=jL;const kx=S.forwardRef(({className:e,...t},r)=>d.jsx(AL,{className:ae("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:d.jsx(oie,{className:ae("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));kx.displayName=AL.displayName;const Be=S.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:ae("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Be.displayName="Card";const Je=S.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:ae("flex flex-col space-y-1.5 p-6",e),...t}));Je.displayName="CardHeader";const Ze=S.forwardRef(({className:e,...t},r)=>d.jsx("h3",{ref:r,className:ae("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ze.displayName="CardTitle";const kn=S.forwardRef(({className:e,...t},r)=>d.jsx("p",{ref:r,className:ae("text-sm text-muted-foreground",e),...t}));kn.displayName="CardDescription";const qe=S.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:ae("p-6 pt-0",e),...t}));qe.displayName="CardContent";const sie=S.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:ae("flex items-center p-6 pt-0",e),...t}));sie.displayName="CardFooter";var OL=["PageUp","PageDown"],CL=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],PL={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},fl="Slider",[Ex,lie,cie]=Ih(fl),[TL]=Or(fl,[cie]),[uie,Pp]=TL(fl),NL=S.forwardRef((e,t)=>{const{name:r,min:n=0,max:i=100,step:a=1,orientation:o="horizontal",disabled:s=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[n],value:u,onValueChange:f=()=>{},onValueCommit:p=()=>{},inverted:h=!1,form:v,...m}=e,g=S.useRef(new Set),y=S.useRef(0),x=o==="horizontal"?die:fie,[_=[],w]=ri({prop:u,defaultProp:c,onChange:T=>{[...g.current][y.current]?.focus(),f(T)}}),j=S.useRef(_);function k(T){const N=vie(_,T);O(T,N)}function C(T){O(T,y.current)}function P(){const T=j.current[y.current];_[y.current]!==T&&p(_)}function O(T,N,{commit:D}={commit:!1}){const E=wie(a),R=_ie(Math.round((T-n)/a)*a+n,E),B=Ic(R,[n,i]);w((F=[])=>{const U=mie(F,B,N);if(xie(U,l*a)){y.current=U.indexOf(B);const L=String(U)!==String(F);return L&&D&&p(U),L?U:F}else return F})}return d.jsx(uie,{scope:e.__scopeSlider,name:r,disabled:s,min:n,max:i,valueIndexToChangeRef:y,thumbs:g.current,values:_,orientation:o,form:v,children:d.jsx(Ex.Provider,{scope:e.__scopeSlider,children:d.jsx(Ex.Slot,{scope:e.__scopeSlider,children:d.jsx(x,{"aria-disabled":s,"data-disabled":s?"":void 0,...m,ref:t,onPointerDown:ke(m.onPointerDown,()=>{s||(j.current=_)}),min:n,max:i,inverted:h,onSlideStart:s?void 0:k,onSlideMove:s?void 0:C,onSlideEnd:s?void 0:P,onHomeKeyDown:()=>!s&&O(n,0,{commit:!0}),onEndKeyDown:()=>!s&&O(i,_.length-1,{commit:!0}),onStepKeyDown:({event:T,direction:N})=>{if(!s){const R=OL.includes(T.key)||T.shiftKey&&CL.includes(T.key)?10:1,B=y.current,F=_[B],U=a*R*N;O(F+U,B,{commit:!0})}}})})})})});NL.displayName=fl;var[RL,IL]=TL(fl,{startEdge:"left",endEdge:"right",size:"width",direction:1}),die=S.forwardRef((e,t)=>{const{min:r,max:n,dir:i,inverted:a,onSlideStart:o,onSlideMove:s,onSlideEnd:l,onStepKeyDown:c,...u}=e,[f,p]=S.useState(null),h=$e(t,x=>p(x)),v=S.useRef(void 0),m=cl(i),g=m==="ltr",y=g&&!a||!g&&a;function b(x){const _=v.current||f.getBoundingClientRect(),w=[0,_.width],k=M_(w,y?[r,n]:[n,r]);return v.current=_,k(x-_.left)}return d.jsx(RL,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:d.jsx(DL,{dir:m,"data-orientation":"horizontal",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:x=>{const _=b(x.clientX);o?.(_)},onSlideMove:x=>{const _=b(x.clientX);s?.(_)},onSlideEnd:()=>{v.current=void 0,l?.()},onStepKeyDown:x=>{const w=PL[y?"from-left":"from-right"].includes(x.key);c?.({event:x,direction:w?-1:1})}})})}),fie=S.forwardRef((e,t)=>{const{min:r,max:n,inverted:i,onSlideStart:a,onSlideMove:o,onSlideEnd:s,onStepKeyDown:l,...c}=e,u=S.useRef(null),f=$e(t,u),p=S.useRef(void 0),h=!i;function v(m){const g=p.current||u.current.getBoundingClientRect(),y=[0,g.height],x=M_(y,h?[n,r]:[r,n]);return p.current=g,x(m-g.top)}return d.jsx(RL,{scope:e.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1,children:d.jsx(DL,{"data-orientation":"vertical",...c,ref:f,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:m=>{const g=v(m.clientY);a?.(g)},onSlideMove:m=>{const g=v(m.clientY);o?.(g)},onSlideEnd:()=>{p.current=void 0,s?.()},onStepKeyDown:m=>{const y=PL[h?"from-bottom":"from-top"].includes(m.key);l?.({event:m,direction:y?-1:1})}})})}),DL=S.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:s,onStepKeyDown:l,...c}=e,u=Pp(fl,r);return d.jsx(Ee.span,{...c,ref:t,onKeyDown:ke(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(s(f),f.preventDefault()):OL.concat(CL).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:ke(e.onPointerDown,f=>{const p=f.target;p.setPointerCapture(f.pointerId),f.preventDefault(),u.thumbs.has(p)?p.focus():n(f)}),onPointerMove:ke(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:ke(e.onPointerUp,f=>{const p=f.target;p.hasPointerCapture(f.pointerId)&&(p.releasePointerCapture(f.pointerId),a(f))})})}),ML="SliderTrack",$L=S.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,i=Pp(ML,r);return d.jsx(Ee.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:t})});$L.displayName=ML;var Ax="SliderRange",LL=S.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,i=Pp(Ax,r),a=IL(Ax,r),o=S.useRef(null),s=$e(t,o),l=i.values.length,c=i.values.map(p=>zL(p,i.min,i.max)),u=l>1?Math.min(...c):0,f=100-Math.max(...c);return d.jsx(Ee.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:s,style:{...e.style,[a.startEdge]:u+"%",[a.endEdge]:f+"%"}})});LL.displayName=Ax;var Ox="SliderThumb",FL=S.forwardRef((e,t)=>{const r=lie(e.__scopeSlider),[n,i]=S.useState(null),a=$e(t,s=>i(s)),o=S.useMemo(()=>n?r().findIndex(s=>s.ref.current===n):-1,[r,n]);return d.jsx(hie,{...e,ref:a,index:o})}),hie=S.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:i,...a}=e,o=Pp(Ox,r),s=IL(Ox,r),[l,c]=S.useState(null),u=$e(t,b=>c(b)),f=l?o.form||!!l.closest("form"):!0,p=Hh(l),h=o.values[n],v=h===void 0?0:zL(h,o.min,o.max),m=gie(n,o.values.length),g=p?.[s.size],y=g?yie(g,v,s.direction):0;return S.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),d.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${v}% + ${y}px)`},children:[d.jsx(Ex.ItemSlot,{scope:e.__scopeSlider,children:d.jsx(Ee.span,{role:"slider","aria-label":e["aria-label"]||m,"aria-valuemin":o.min,"aria-valuenow":h,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:u,style:h===void 0?{display:"none"}:e.style,onFocus:ke(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),f&&d.jsx(BL,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:h},n)]})});FL.displayName=Ox;var pie="RadioBubbleInput",BL=S.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const i=S.useRef(null),a=$e(i,n),o=Op(t);return S.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&u){const f=new Event("input",{bubbles:!0});u.call(s,t),s.dispatchEvent(f)}},[o,t]),d.jsx(Ee.input,{style:{display:"none"},...r,ref:a,defaultValue:t})});BL.displayName=pie;function mie(e=[],t,r){const n=[...e];return n[r]=t,n.sort((i,a)=>i-a)}function zL(e,t,r){const a=100/(r-t)*(e-t);return Ic(a,[0,100])}function gie(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function vie(e,t){if(e.length===1)return 0;const r=e.map(i=>Math.abs(i-t)),n=Math.min(...r);return r.indexOf(n)}function yie(e,t,r){const n=e/2,a=M_([0,50],[0,n]);return(n-a(t)*r)*r}function bie(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function xie(e,t){if(t>0){const r=bie(e);return Math.min(...r)>=t}return!0}function M_(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function wie(e){return(String(e).split(".")[1]||"").length}function _ie(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var qL=NL,Sie=$L,jie=LL,kie=FL;const Cx=S.forwardRef(({className:e,...t},r)=>d.jsxs(qL,{ref:r,className:ae("relative flex w-full touch-none select-none items-center",e),...t,children:[d.jsx(Sie,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:d.jsx(jie,{className:"absolute h-full bg-primary"})}),d.jsx(kie,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Cx.displayName=qL.displayName;const Eie=()=>ii({queryKey:["moods"],queryFn:async()=>{const{data:e,error:t}=await be.from("daily_moods").select("*").order("date",{ascending:!1});if(t)throw console.error("Error fetching moods:",t),t;return e}}),UL=()=>{const e=Ge(new Date,"yyyy-MM-dd");return ii({queryKey:["moods",e],queryFn:async()=>{const{data:t,error:r}=await be.from("daily_moods").select("*").eq("date",e).maybeSingle();if(r)throw console.error("Error fetching today's mood:",r),r;return t}})},Aie=()=>{const e=ja();return an({mutationFn:async t=>{const{data:{user:r}}=await be.auth.getUser();if(!r)throw new Error("No user found");const{data:n,error:i}=await be.from("daily_moods").upsert({...t,user_id:r.id},{onConflict:"user_id,date"}).select().single();if(i)throw i;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["moods"]}),Ue.success("Mood & Energy logged successfully!")},onError:t=>{console.error("Error logging mood:",t),Ue.error("Failed to log mood.")}})},TE=()=>{const{data:e,isLoading:t}=UL(),r=Aie(),[n,i]=S.useState([5]),[a,o]=S.useState([5]);S.useEffect(()=>{e&&(i([e.mood_score]),o([e.energy_score]))},[e]);const s=()=>{r.mutate({date:Ge(new Date,"yyyy-MM-dd"),mood_score:n[0],energy_score:a[0]})},l=u=>u>=8?"":u>=6?"":u>=4?"":u>=3?"":"",c=u=>"text-foreground";return t?d.jsx("div",{className:"h-40 animate-pulse bg-muted rounded-xl"}):d.jsxs(Be,{className:"w-full border shadow-sm overflow-hidden relative",children:[d.jsx(Je,{className:"pb-2",children:d.jsxs(Ze,{className:"text-lg font-medium flex items-center justify-between",children:[d.jsx("div",{className:"flex items-center gap-2",children:"Daily Check-in"}),!e&&d.jsxs("span",{className:"flex h-2 w-2",children:[d.jsx("span",{className:"animate-ping absolute inline-flex h-2 w-2 rounded-full bg-primary opacity-75"}),d.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-primary"})]})]})}),d.jsxs(qe,{className:"space-y-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[d.jsx(NR,{className:"w-4 h-4"}),"Mood"]}),d.jsxs("span",{className:ae("text-lg font-bold transition-colors",c(n[0])),children:[l(n[0])," ",n[0],"/10"]})]}),d.jsx(Cx,{value:n,onValueChange:i,max:10,min:1,step:1,className:"cursor-pointer"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[d.jsx(ju,{className:"w-4 h-4"}),"Energy"]}),d.jsxs("span",{className:ae("text-lg font-bold transition-colors",c(a[0])),children:[" ",a[0],"/10"]})]}),d.jsx(Cx,{value:a,onValueChange:o,max:10,min:1,step:1,className:"cursor-pointer"})]}),d.jsx(Xe,{onClick:s,disabled:r.isPending,className:"w-full mt-2 transition-all duration-300 transform hover:scale-[1.02]",children:r.isPending?"Saving...":d.jsxs(d.Fragment,{children:[d.jsx(C6,{className:"w-4 h-4 mr-2"}),e?"Update Daily Status":"Insert Daily Status"]})})]})]})},Oie=()=>{const[e,t]=S.useState("active"),[r,n]=S.useState(null);return S.useEffect(()=>{const i=async()=>{if(!navigator.onLine){t("offline");return}const o=performance.now();try{const{error:s}=await be.from("goals").select("id",{count:"exact",head:!0});s?(console.error("Supabase health check failed:",s),t("error")):(t("active"),n(Math.round(performance.now()-o)))}catch(s){console.error("Supabase connection error:",s),t("error")}};i(),window.addEventListener("online",i),window.addEventListener("offline",()=>t("offline"));const a=setInterval(i,3e4);return()=>{window.removeEventListener("online",i),window.removeEventListener("offline",()=>t("offline")),clearInterval(a)}},[]),{status:e,latency:r}};function Cie(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const WL=I.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Lu=()=>{const e=I.useContext(WL);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};Cie(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const Pie=24,Tie=typeof window<"u"?S.useLayoutEffect:S.useEffect;function NE(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}function Nie(){return $_(/^Mac/)}function Rie(){return $_(/^iPhone/)}function RE(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Iie(){return $_(/^iPad/)||Nie()&&navigator.maxTouchPoints>1}function HL(){return Rie()||Iie()}function $_(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const fg=typeof document<"u"&&window.visualViewport;function IE(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function VL(e){for(IE(e)&&(e=e.parentElement);e&&!IE(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const Die=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let bd=0,hg;function Mie(e={}){let{isDisabled:t}=e;Tie(()=>{if(!t)return bd++,bd===1&&HL()&&(hg=$ie()),()=>{bd--,bd===0&&hg?.()}},[t])}function $ie(){let e,t=0,r=f=>{e=VL(f.target),!(e===document.documentElement&&e===document.body)&&(t=f.changedTouches[0].pageY)},n=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let p=f.changedTouches[0].pageY,h=e.scrollTop,v=e.scrollHeight-e.clientHeight;v!==0&&((h<=0&&p>t||h>=v&&p<t)&&f.preventDefault(),t=p)},i=f=>{let p=f.target;Px(p)&&p!==document.activeElement&&(f.preventDefault(),p.style.transform="translateY(-2000px)",p.focus(),requestAnimationFrame(()=>{p.style.transform=""}))},a=f=>{let p=f.target;Px(p)&&(p.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{p.style.transform="",fg&&(fg.height<window.innerHeight?requestAnimationFrame(()=>{DE(p)}):fg.addEventListener("resize",()=>DE(p),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},s=window.pageXOffset,l=window.pageYOffset,c=NE(Lie(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let u=NE(Ll(document,"touchstart",r,{passive:!1,capture:!0}),Ll(document,"touchmove",n,{passive:!1,capture:!0}),Ll(document,"touchend",i,{passive:!1,capture:!0}),Ll(document,"focus",a,!0),Ll(window,"scroll",o));return()=>{c(),u(),window.scrollTo(s,l)}}function Lie(e,t,r){let n=e.style[t];return e.style[t]=r,()=>{e.style[t]=n}}function Ll(e,t,r,n){return e.addEventListener(t,r,n),()=>{e.removeEventListener(t,r,n)}}function DE(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let r=VL(e);if(r!==document.documentElement&&r!==document.body&&r!==e){let n=r.getBoundingClientRect().top,i=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom;const o=r.getBoundingClientRect().bottom+Pie;a>o&&(r.scrollTop+=i-n)}e=r.parentElement}}function Px(e){return e instanceof HTMLInputElement&&!Die.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function Fie(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Bie(...e){return t=>e.forEach(r=>Fie(r,t))}function KL(...e){return S.useCallback(Bie(...e),e)}const GL=new WeakMap;function Yt(e,t,r=!1){if(!e||!(e instanceof HTMLElement))return;let n={};Object.entries(t).forEach(([i,a])=>{if(i.startsWith("--")){e.style.setProperty(i,a);return}n[i]=e.style[i],e.style[i]=a}),!r&&GL.set(e,n)}function zie(e,t){if(!e||!(e instanceof HTMLElement))return;let r=GL.get(e);r&&(e.style[t]=r[t])}const Xt=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function xd(e,t){if(!e)return null;const r=window.getComputedStyle(e),n=r.transform||r.webkitTransform||r.mozTransform;let i=n.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[Xt(t)?13:12]):(i=n.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[Xt(t)?5:4]):null)}function qie(e){return 8*(Math.log(e+1)-2)}function pg(e,t){if(!e)return()=>{};const r=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=r}}function Uie(...e){return(...t)=>{for(const r of e)typeof r=="function"&&r(...t)}}const Pt={DURATION:.5,EASE:[.32,.72,0,1]},YL=.4,Wie=.25,Hie=100,XL=8,$a=16,Tx=26,mg="vaul-dragging";function QL(e){const t=I.useRef(e);return I.useEffect(()=>{t.current=e}),I.useMemo(()=>(...r)=>t.current==null?void 0:t.current.call(t,...r),[])}function Vie({defaultProp:e,onChange:t}){const r=I.useState(e),[n]=r,i=I.useRef(n),a=QL(t);return I.useEffect(()=>{i.current!==n&&(a(n),i.current=n)},[n,i,a]),r}function JL({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,i]=Vie({defaultProp:t,onChange:r}),a=e!==void 0,o=a?e:n,s=QL(r),l=I.useCallback(c=>{if(a){const f=typeof c=="function"?c(e):c;f!==e&&s(f)}else i(c)},[a,e,i,s]);return[o,l]}function Kie({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:r,drawerRef:n,overlayRef:i,fadeFromIndex:a,onSnapPointChange:o,direction:s="bottom",container:l,snapToSequentialPoint:c}){const[u,f]=JL({prop:e,defaultProp:r?.[0],onChange:t}),[p,h]=I.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);I.useEffect(()=>{function k(){h({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]);const v=I.useMemo(()=>u===r?.[r.length-1]||null,[r,u]),m=I.useMemo(()=>r?.findIndex(k=>k===u),[r,u]),g=r&&r.length>0&&(a||a===0)&&!Number.isNaN(a)&&r[a]===u||!r,y=I.useMemo(()=>{const k=l?{width:l.getBoundingClientRect().width,height:l.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var C;return(C=r?.map(P=>{const O=typeof P=="string";let T=0;if(O&&(T=parseInt(P,10)),Xt(s)){const D=O?T:p?P*k.height:0;return p?s==="bottom"?k.height-D:-k.height+D:D}const N=O?T:p?P*k.width:0;return p?s==="right"?k.width-N:-k.width+N:N}))!=null?C:[]},[r,p,l]),b=I.useMemo(()=>m!==null?y?.[m]:null,[y,m]),x=I.useCallback(k=>{var C;const P=(C=y?.findIndex(O=>O===k))!=null?C:null;o(P),Yt(n.current,{transition:`transform ${Pt.DURATION}s cubic-bezier(${Pt.EASE.join(",")})`,transform:Xt(s)?`translate3d(0, ${k}px, 0)`:`translate3d(${k}px, 0, 0)`}),y&&P!==y.length-1&&P!==a&&P<a?Yt(i.current,{transition:`opacity ${Pt.DURATION}s cubic-bezier(${Pt.EASE.join(",")})`,opacity:"0"}):Yt(i.current,{transition:`opacity ${Pt.DURATION}s cubic-bezier(${Pt.EASE.join(",")})`,opacity:"1"}),f(r?.[Math.max(P,0)])},[n.current,r,y,a,i,f]);I.useEffect(()=>{if(u||e){var k;const C=(k=r?.findIndex(P=>P===e||P===u))!=null?k:-1;y&&C!==-1&&typeof y[C]=="number"&&x(y[C])}},[u,e,r,y,x]);function _({draggedDistance:k,closeDrawer:C,velocity:P,dismissible:O}){if(a===void 0)return;const T=s==="bottom"||s==="right"?(b??0)-k:(b??0)+k,N=m===a-1,D=m===0,E=k>0;if(N&&Yt(i.current,{transition:`opacity ${Pt.DURATION}s cubic-bezier(${Pt.EASE.join(",")})`}),!c&&P>2&&!E){O?C():x(y[0]);return}if(!c&&P>2&&E&&y&&r){x(y[r.length-1]);return}const R=y?.reduce((F,U)=>typeof F!="number"||typeof U!="number"?F:Math.abs(U-T)<Math.abs(F-T)?U:F),B=Xt(s)?window.innerHeight:window.innerWidth;if(P>YL&&Math.abs(k)<B*.4){const F=E?1:-1;if(F>0&&v){x(y[r.length-1]);return}if(D&&F<0&&O&&C(),m===null)return;x(y[m+F]);return}x(R)}function w({draggedDistance:k}){if(b===null)return;const C=s==="bottom"||s==="right"?b-k:b+k;(s==="bottom"||s==="right")&&C<y[y.length-1]||(s==="top"||s==="left")&&C>y[y.length-1]||Yt(n.current,{transform:Xt(s)?`translate3d(0, ${C}px, 0)`:`translate3d(${C}px, 0, 0)`})}function j(k,C){if(!r||typeof m!="number"||!y||a===void 0)return null;const P=m===a-1;if(m>=a&&C)return 0;if(P&&!C)return 1;if(!g&&!P)return null;const T=P?m+1:m-1,N=P?y[T]-y[T-1]:y[T+1]-y[T],D=k/Math.abs(N);return P?1-D:D}return{isLastSnapPoint:v,activeSnapPoint:u,shouldFade:g,getPercentageDragged:j,setActiveSnapPoint:f,activeSnapPointIndex:m,onRelease:_,onDrag:w,snapPointsOffset:y}}const Gie=()=>()=>{};function Yie(){const{direction:e,isOpen:t,shouldScaleBackground:r,setBackgroundColorOnScale:n,noBodyStyles:i}=Lu(),a=I.useRef(null),o=S.useMemo(()=>document.body.style.backgroundColor,[]);function s(){return(window.innerWidth-Tx)/window.innerWidth}I.useEffect(()=>{if(t&&r){a.current&&clearTimeout(a.current);const l=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!l)return;Uie(n&&!i?pg(document.body,{background:"black"}):Gie,pg(l,{transformOrigin:Xt(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Pt.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Pt.EASE.join(",")})`}));const c=pg(l,{borderRadius:`${XL}px`,overflow:"hidden",...Xt(e)?{transform:`scale(${s()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${s()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{c(),a.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},Pt.DURATION*1e3)}}},[t,r,o])}let Fl=null;function Xie({isOpen:e,modal:t,nested:r,hasBeenOpened:n,preventScrollRestoration:i,noBodyStyles:a}){const[o,s]=I.useState(()=>typeof window<"u"?window.location.href:""),l=I.useRef(0),c=I.useCallback(()=>{if(RE()&&Fl===null&&e&&!a){Fl={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:p}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-l.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const h=p-window.innerHeight;h&&l.current>=p&&(document.body.style.top=`${-(l.current+h)}px`)}),300)}},[e]),u=I.useCallback(()=>{if(RE()&&Fl!==null&&!a){const f=-parseInt(document.body.style.top,10),p=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Fl),window.requestAnimationFrame(()=>{if(i&&o!==window.location.href){s(window.location.href);return}window.scrollTo(p,f)}),Fl=null}},[o]);return I.useEffect(()=>{function f(){l.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),I.useEffect(()=>{r||!n||(e?(!window.matchMedia("(display-mode: standalone)").matches&&c(),t||window.setTimeout(()=>{u()},500)):u())},[e,n,o,t,r,c,u]),{restorePositionSetting:u}}function Qie({open:e,onOpenChange:t,children:r,onDrag:n,onRelease:i,snapPoints:a,shouldScaleBackground:o=!1,setBackgroundColorOnScale:s=!0,closeThreshold:l=Wie,scrollLockTimeout:c=Hie,dismissible:u=!0,handleOnly:f=!1,fadeFromIndex:p=a&&a.length-1,activeSnapPoint:h,setActiveSnapPoint:v,fixed:m,modal:g=!0,onClose:y,nested:b,noBodyStyles:x,direction:_="bottom",defaultOpen:w=!1,disablePreventScroll:j=!0,snapToSequentialPoint:k=!1,preventScrollRestoration:C=!1,repositionInputs:P=!0,onAnimationEnd:O,container:T,autoFocus:N=!1}){var D,E;const[R=!1,B]=JL({defaultProp:w,prop:e,onChange:je=>{t?.(je),!je&&!b&&Y(),setTimeout(()=>{O?.(je)},Pt.DURATION*1e3),je&&!g&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),je||(document.body.style.pointerEvents="auto")}}),[F,U]=I.useState(!1),[L,M]=I.useState(!1),[H,z]=I.useState(!1),$=I.useRef(null),Q=I.useRef(null),Z=I.useRef(null),fe=I.useRef(null),le=I.useRef(null),ue=I.useRef(!1),ee=I.useRef(null),te=I.useRef(0),ce=I.useRef(!1),J=I.useRef(0),ne=I.useRef(null),A=I.useRef(((D=ne.current)==null?void 0:D.getBoundingClientRect().height)||0),K=I.useRef(((E=ne.current)==null?void 0:E.getBoundingClientRect().width)||0),V=I.useRef(0),W=I.useCallback(je=>{a&&je===X.length-1&&(Q.current=new Date)},[]),{activeSnapPoint:q,activeSnapPointIndex:G,setActiveSnapPoint:ie,onRelease:re,snapPointsOffset:X,onDrag:de,shouldFade:ve,getPercentageDragged:he}=Kie({snapPoints:a,activeSnapPointProp:h,setActiveSnapPointProp:v,drawerRef:ne,fadeFromIndex:p,overlayRef:$,onSnapPointChange:W,direction:_,container:T,snapToSequentialPoint:k});Mie({isDisabled:!R||L||!g||H||!F||!P||!j});const{restorePositionSetting:Y}=Xie({isOpen:R,modal:g,nested:b,hasBeenOpened:F,preventScrollRestoration:C,noBodyStyles:x});function oe(){return(window.innerWidth-Tx)/window.innerWidth}function ge(je){var tt,at;!u&&!a||ne.current&&!ne.current.contains(je.target)||(A.current=((tt=ne.current)==null?void 0:tt.getBoundingClientRect().height)||0,K.current=((at=ne.current)==null?void 0:at.getBoundingClientRect().width)||0,M(!0),Z.current=new Date,HL()&&window.addEventListener("touchend",()=>ue.current=!1,{once:!0}),je.target.setPointerCapture(je.pointerId),te.current=Xt(_)?je.pageY:je.pageX)}function Oe(je,tt){var at,st;let Ce=je;const He=(at=window.getSelection())==null?void 0:at.toString(),lt=ne.current?xd(ne.current,_):null,we=new Date;if(Ce.hasAttribute("data-vaul-no-drag")||Ce.closest("[data-vaul-no-drag]"))return!1;if(_==="right"||_==="left")return!0;if(Q.current&&we.getTime()-Q.current.getTime()<500)return!1;if(lt!==null&&(_==="bottom"?lt>0:lt<0))return!0;if(He&&He.length>0)return!1;if(we.getTime()-((st=le.current)==null?void 0:st.getTime())<c&&lt===0||tt)return le.current=we,!1;for(;Ce;){if(Ce.scrollHeight>Ce.clientHeight){if(Ce.scrollTop!==0)return le.current=new Date,!1;if(Ce.getAttribute("role")==="dialog")return!0}Ce=Ce.parentNode}return!0}function ze(je){if(ne.current&&L){const tt=_==="bottom"||_==="right"?1:-1,at=(te.current-(Xt(_)?je.pageY:je.pageX))*tt,st=at>0,Ce=a&&!u&&!st;if(Ce&&G===0)return;const He=Math.abs(at),lt=document.querySelector("[data-vaul-drawer-wrapper]"),we=_==="bottom"||_==="top"?A.current:K.current;let Ne=He/we;const Le=he(He,st);if(Le!==null&&(Ne=Le),Ce&&Ne>=1||!ue.current&&!Oe(je.target,st))return;if(ne.current.classList.add(mg),ue.current=!0,Yt(ne.current,{transition:"none"}),Yt($.current,{transition:"none"}),a&&de({draggedDistance:at}),st&&!a){const pt=qie(at),ut=Math.min(pt*-1,0)*tt;Yt(ne.current,{transform:Xt(_)?`translate3d(0, ${ut}px, 0)`:`translate3d(${ut}px, 0, 0)`});return}const ct=1-Ne;if((ve||p&&G===p-1)&&(n?.(je,Ne),Yt($.current,{opacity:`${ct}`,transition:"none"},!0)),lt&&$.current&&o){const pt=Math.min(oe()+Ne*(1-oe()),1),ut=8-Ne*8,Vt=Math.max(0,14-Ne*14);Yt(lt,{borderRadius:`${ut}px`,transform:Xt(_)?`scale(${pt}) translate3d(0, ${Vt}px, 0)`:`scale(${pt}) translate3d(${Vt}px, 0, 0)`,transition:"none"},!0)}if(!a){const pt=He*tt;Yt(ne.current,{transform:Xt(_)?`translate3d(0, ${pt}px, 0)`:`translate3d(${pt}px, 0, 0)`})}}}I.useEffect(()=>{var je;function tt(){if(!ne.current||!P)return;const at=document.activeElement;if(Px(at)||ce.current){var st;const Ce=((st=window.visualViewport)==null?void 0:st.height)||0,He=window.innerHeight;let lt=He-Ce;const we=ne.current.getBoundingClientRect().height||0,Ne=we>He*.8;V.current||(V.current=we);const Le=ne.current.getBoundingClientRect().top;if(Math.abs(J.current-lt)>60&&(ce.current=!ce.current),a&&a.length>0&&X&&G){const ct=X[G]||0;lt+=ct}if(J.current=lt,we>Ce||ce.current){const ct=ne.current.getBoundingClientRect().height;let pt=ct;ct>Ce&&(pt=Ce-(Ne?Le:Tx)),m?ne.current.style.height=`${ct-Math.max(lt,0)}px`:ne.current.style.height=`${Math.max(pt,Ce-Le)}px`}else ne.current.style.height=`${V.current}px`;a&&a.length>0&&!ce.current?ne.current.style.bottom="0px":ne.current.style.bottom=`${Math.max(lt,0)}px`}}return(je=window.visualViewport)==null||je.addEventListener("resize",tt),()=>{var at;return(at=window.visualViewport)==null?void 0:at.removeEventListener("resize",tt)}},[G,a,X]);function Ve(je){Ke(),y?.(),je||B(!1),setTimeout(()=>{a&&ie(a[0])},Pt.DURATION*1e3)}function Tt(){if(!ne.current)return;const je=document.querySelector("[data-vaul-drawer-wrapper]"),tt=xd(ne.current,_);Yt(ne.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Pt.DURATION}s cubic-bezier(${Pt.EASE.join(",")})`}),Yt($.current,{transition:`opacity ${Pt.DURATION}s cubic-bezier(${Pt.EASE.join(",")})`,opacity:"1"}),o&&tt&&tt>0&&R&&Yt(je,{borderRadius:`${XL}px`,overflow:"hidden",...Xt(_)?{transform:`scale(${oe()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${oe()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Pt.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Pt.EASE.join(",")})`},!0)}function Ke(){!L||!ne.current||(ne.current.classList.remove(mg),ue.current=!1,M(!1),fe.current=new Date)}function It(je){if(!L||!ne.current)return;ne.current.classList.remove(mg),ue.current=!1,M(!1),fe.current=new Date;const tt=xd(ne.current,_);if(!Oe(je.target,!1)||!tt||Number.isNaN(tt)||Z.current===null)return;const at=fe.current.getTime()-Z.current.getTime(),st=te.current-(Xt(_)?je.pageY:je.pageX),Ce=Math.abs(st)/at;if(Ce>.05&&(z(!0),setTimeout(()=>{z(!1)},200)),a){re({draggedDistance:st*(_==="bottom"||_==="right"?1:-1),closeDrawer:Ve,velocity:Ce,dismissible:u}),i?.(je,!0);return}if(_==="bottom"||_==="right"?st>0:st<0){Tt(),i?.(je,!0);return}if(Ce>YL){Ve(),i?.(je,!1);return}var He;const lt=Math.min((He=ne.current.getBoundingClientRect().height)!=null?He:0,window.innerHeight);var we;const Ne=Math.min((we=ne.current.getBoundingClientRect().width)!=null?we:0,window.innerWidth),Le=_==="left"||_==="right";if(Math.abs(tt)>=(Le?Ne:lt)*l){Ve(),i?.(je,!1);return}i?.(je,!0),Tt()}I.useEffect(()=>(R&&(Yt(document.documentElement,{scrollBehavior:"auto"}),Q.current=new Date),()=>{zie(document.documentElement,"scrollBehavior")}),[R]);function rr(je){const tt=je?(window.innerWidth-$a)/window.innerWidth:1,at=je?-$a:0;ee.current&&window.clearTimeout(ee.current),Yt(ne.current,{transition:`transform ${Pt.DURATION}s cubic-bezier(${Pt.EASE.join(",")})`,transform:`scale(${tt}) translate3d(0, ${at}px, 0)`}),!je&&ne.current&&(ee.current=setTimeout(()=>{const st=xd(ne.current,_);Yt(ne.current,{transition:"none",transform:Xt(_)?`translate3d(0, ${st}px, 0)`:`translate3d(${st}px, 0, 0)`})},500))}function et(je,tt){if(tt<0)return;const at=(window.innerWidth-$a)/window.innerWidth,st=at+tt*(1-at),Ce=-$a+tt*$a;Yt(ne.current,{transform:Xt(_)?`scale(${st}) translate3d(0, ${Ce}px, 0)`:`scale(${st}) translate3d(${Ce}px, 0, 0)`,transition:"none"})}function yr(je,tt){const at=Xt(_)?window.innerHeight:window.innerWidth,st=tt?(at-$a)/at:1,Ce=tt?-$a:0;tt&&Yt(ne.current,{transition:`transform ${Pt.DURATION}s cubic-bezier(${Pt.EASE.join(",")})`,transform:Xt(_)?`scale(${st}) translate3d(0, ${Ce}px, 0)`:`scale(${st}) translate3d(${Ce}px, 0, 0)`})}return I.createElement(lp,{defaultOpen:w,onOpenChange:je=>{!u&&!je||(je?U(!0):Ve(!0),B(je))},open:R},I.createElement(WL.Provider,{value:{activeSnapPoint:q,snapPoints:a,setActiveSnapPoint:ie,drawerRef:ne,overlayRef:$,onOpenChange:t,onPress:ge,onRelease:It,onDrag:ze,dismissible:u,handleOnly:f,isOpen:R,isDragging:L,shouldFade:ve,closeDrawer:Ve,onNestedDrag:et,onNestedOpenChange:rr,onNestedRelease:yr,keyboardIsOpen:ce,modal:g,snapPointsOffset:X,direction:_,shouldScaleBackground:o,setBackgroundColorOnScale:s,noBodyStyles:x,container:T,autoFocus:N}},r))}const ZL=I.forwardRef(function({...e},t){const{overlayRef:r,snapPoints:n,onRelease:i,shouldFade:a,isOpen:o,modal:s}=Lu(),l=KL(t,r),c=n&&n.length>0;return s?I.createElement(rl,{onMouseUp:i,ref:l,"data-vaul-overlay":"","data-vaul-snap-points":o&&c?"true":"false","data-vaul-snap-points-overlay":o&&a?"true":"false",...e}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});ZL.displayName="Drawer.Overlay";const e3=I.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:r,...n},i){const{drawerRef:a,onPress:o,onRelease:s,onDrag:l,keyboardIsOpen:c,snapPointsOffset:u,modal:f,isOpen:p,direction:h,snapPoints:v,container:m,handleOnly:g,autoFocus:y}=Lu(),[b,x]=I.useState(!1),_=KL(i,a),w=I.useRef(null),j=I.useRef(null),k=I.useRef(!1),C=v&&v.length>0;Yie();const P=(T,N,D=0)=>{if(k.current)return!0;const E=Math.abs(T.y),R=Math.abs(T.x),B=R>E,F=["bottom","right"].includes(N)?1:-1;if(N==="left"||N==="right"){if(!(T.x*F<0)&&R>=0&&R<=D)return B}else if(!(T.y*F<0)&&E>=0&&E<=D)return!B;return k.current=!0,!0};I.useEffect(()=>{C&&window.requestAnimationFrame(()=>{x(!0)})},[]);function O(T){w.current=null,k.current=!1,s(T)}return I.createElement(nl,{"data-vaul-drawer-direction":h,"data-vaul-drawer":"","data-vaul-delayed-snap-points":b?"true":"false","data-vaul-snap-points":p&&C?"true":"false","data-vaul-custom-container":m?"true":"false",...n,ref:_,style:u&&u.length>0?{"--snap-point-height":`${u[0]}px`,...t}:t,onPointerDown:T=>{g||(n.onPointerDown==null||n.onPointerDown.call(n,T),w.current={x:T.pageX,y:T.pageY},o(T))},onOpenAutoFocus:T=>{r?.(T),y||T.preventDefault()},onPointerDownOutside:T=>{if(e?.(T),!f||T.defaultPrevented){T.preventDefault();return}c.current&&(c.current=!1)},onFocusOutside:T=>{if(!f){T.preventDefault();return}},onPointerMove:T=>{if(j.current=T,g||(n.onPointerMove==null||n.onPointerMove.call(n,T),!w.current))return;const N=T.pageY-w.current.y,D=T.pageX-w.current.x,E=T.pointerType==="touch"?10:2;P({x:D,y:N},h,E)?l(T):(Math.abs(D)>E||Math.abs(N)>E)&&(w.current=null)},onPointerUp:T=>{n.onPointerUp==null||n.onPointerUp.call(n,T),w.current=null,k.current=!1,s(T)},onPointerOut:T=>{n.onPointerOut==null||n.onPointerOut.call(n,T),O(j.current)},onContextMenu:T=>{n.onContextMenu==null||n.onContextMenu.call(n,T),O(j.current)}})});e3.displayName="Drawer.Content";const Jie=250,Zie=120,eae=I.forwardRef(function({preventCycle:e=!1,children:t,...r},n){const{closeDrawer:i,isDragging:a,snapPoints:o,activeSnapPoint:s,setActiveSnapPoint:l,dismissible:c,handleOnly:u,isOpen:f,onPress:p,onDrag:h}=Lu(),v=I.useRef(null),m=I.useRef(!1);function g(){if(m.current){x();return}window.setTimeout(()=>{y()},Zie)}function y(){if(a||e||m.current){x();return}if(x(),(!o||o.length===0)&&c){i();return}if(s===o[o.length-1]&&c){i();return}const w=o.findIndex(k=>k===s);if(w===-1)return;const j=o[w+1];l(j)}function b(){v.current=window.setTimeout(()=>{m.current=!0},Jie)}function x(){window.clearTimeout(v.current),m.current=!1}return I.createElement("div",{onClick:g,onPointerCancel:x,onPointerDown:_=>{u&&p(_),b()},onPointerMove:_=>{u&&h(_)},ref:n,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...r},I.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});eae.displayName="Drawer.Handle";function tae(e){const t=Lu(),{container:r=t.container,...n}=e;return I.createElement(up,{container:r,...n})}const di={Root:Qie,Content:e3,Overlay:ZL,Trigger:cp,Portal:tae,Title:il,Description:al},t3=({shouldScaleBackground:e=!0,...t})=>d.jsx(di.Root,{shouldScaleBackground:e,...t});t3.displayName="Drawer";const rae=di.Trigger,nae=di.Portal,r3=S.forwardRef(({className:e,...t},r)=>d.jsx(di.Overlay,{ref:r,className:ae("fixed inset-0 z-50 bg-black/80",e),...t}));r3.displayName=di.Overlay.displayName;const n3=S.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(nae,{children:[d.jsx(r3,{}),d.jsxs(di.Content,{ref:n,className:ae("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...r,children:[d.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));n3.displayName="DrawerContent";const i3=({className:e,...t})=>d.jsx("div",{className:ae("grid gap-1.5 p-4 text-center sm:text-left",e),...t});i3.displayName="DrawerHeader";const a3=S.forwardRef(({className:e,...t},r)=>d.jsx(di.Title,{ref:r,className:ae("text-lg font-semibold leading-none tracking-tight",e),...t}));a3.displayName=di.Title.displayName;const o3=S.forwardRef(({className:e,...t},r)=>d.jsx(di.Description,{ref:r,className:ae("text-sm text-muted-foreground",e),...t}));o3.displayName=di.Description.displayName;const iae=()=>{const e=tR(),{status:t,latency:r}=Oie(),{data:n}=UL(),{goals:i,logs:a,allGoals:o,rawLogs:s,createGoal:l,updateGoal:c,updateOrder:u,deleteGoal:f,toggleGoal:p,isDeleting:h,isUpdating:v,resetAllData:m,isResetting:g}=H1(),{isPrivacyMode:y,setIsPrivacyMode:b}=ip(),{isAIEnabled:x,setIsAIEnabled:_}=Xh(),w=()=>{if(!s||!o){Ue.error("Nessun dato da esportare");return}try{const C=new Map(o.map(D=>[D.id,D.title])),P=["Date,Habit Name,Status,Value,Notes"];s.forEach(D=>{const E=C.get(D.goal_id)||"Archived Habit",R=F=>`"${F.replace(/"/g,'""')}"`,B=[D.date,R(E),D.status,D.value||"",D.notes?R(D.notes):""].join(",");P.push(B)});const O=new Blob([P.join(`
`)],{type:"text/csv;charset=utf-8;"}),T=window.URL.createObjectURL(O),N=document.createElement("a");N.href=T,N.download=`habit-tracker-export-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(N),N.click(),window.URL.revokeObjectURL(T),document.body.removeChild(N),Ue.success("Export completato!")}catch(C){console.error("Export failed:",C),Ue.error("Errore durante l'export")}},[j,k]=S.useState("month");return d.jsxs("div",{className:"flex-1 h-full overflow-hidden flex flex-col pt-4 lg:pt-8 pb-0 sm:pb-8 px-4 sm:px-8 animate-fade-in relative z-10 w-full max-w-[2400px] mx-auto",children:[d.jsx("div",{className:"fixed top-[-20%] left-[-10%] w-[50%] h-[50%] bg-primary/5 blur-[120px] rounded-full pointer-events-none -z-10"}),d.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-12 gap-2 lg:gap-8 w-full h-full lg:h-full",children:[d.jsxs("div",{className:"lg:col-span-3 space-y-2 lg:space-y-8",children:[d.jsxs("div",{className:"glass-panel p-4 lg:p-6 rounded-2xl space-y-4 transition-all",children:[d.jsxs("div",{className:"flex flex-row lg:flex-col items-center lg:items-start justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl lg:text-3xl font-display font-bold text-foreground",children:"Protocollo"}),d.jsx("p",{className:"text-muted-foreground text-xs lg:text-sm",children:"Esecuzione giornaliera."})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(kx,{id:"privacy-mode",checked:y,onCheckedChange:b}),d.jsxs(Mn,{htmlFor:"privacy-mode",className:"text-xs text-muted-foreground flex items-center gap-2 cursor-pointer sr-only lg:not-sr-only lg:flex",children:[y?d.jsx(h6,{className:"w-3 h-3"}):d.jsx(TR,{className:"w-3 h-3"}),"Privacy"]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(kx,{id:"ai-mode",checked:x,onCheckedChange:_}),d.jsxs(Mn,{htmlFor:"ai-mode",className:"text-xs text-muted-foreground flex items-center gap-2 cursor-pointer sr-only lg:not-sr-only lg:flex",children:[d.jsx(AR,{className:"w-3 h-3"}),"AI"]})]})]})]}),d.jsxs("div",{className:"pt-0 lg:pt-4 border-t-0 lg:border-t border-white/5 flex gap-2 justify-end lg:justify-start",children:[d.jsx("div",{className:"lg:hidden mr-auto relative",children:d.jsxs(t3,{shouldScaleBackground:!1,children:[d.jsx(rae,{asChild:!0,children:d.jsxs(Xe,{variant:"outline",size:"icon",className:ae("h-10 w-10 sm:h-9 sm:w-9 border-primary/20 bg-primary/5 transition-all",n?"text-muted-foreground":"text-primary border-primary/40 shadow-[0_0_10px_-3px_rgba(255,255,255,0.1)]"),children:[d.jsx(NR,{className:ae("h-4 w-4",!n&&"animate-pulse")}),!n&&d.jsx("span",{className:"absolute top-2 right-2.5 h-1.5 w-1.5 rounded-full bg-red-500 shadow-[0_0_8px_2px_rgba(239,68,68,0.5)] animate-pulse"})]})}),d.jsx(n3,{children:d.jsxs("div",{className:"mx-auto w-full max-w-sm",children:[d.jsxs(i3,{children:[d.jsx(a3,{children:"Daily Check-in"}),d.jsx(o3,{children:"Traccia il tuo umore ed energia."})]}),d.jsx("div",{className:"p-4 pb-8",children:d.jsx(TE,{})})]})})]})}),d.jsx(qne,{}),d.jsx(aQ,{habits:i,onAddHabit:l,onUpdateHabit:c,onUpdateOrder:u,onRemoveHabit:f,isDeleting:h,isUpdating:v,isPrivacyMode:y}),d.jsxs(io,{children:[d.jsx(ys,{asChild:!0,children:d.jsx(Xe,{variant:"outline",size:"icon",className:"h-10 w-10 sm:h-9 sm:w-9",title:"Esporta dati CSV",children:d.jsx(zh,{className:"h-4 w-4"})})}),d.jsxs(da,{children:[d.jsxs(fa,{children:[d.jsx(pa,{children:"Esportare i dati?"}),d.jsxs(ma,{children:["Verr scaricato un file CSV contenente tutto lo storico delle tue abitudini. ",d.jsx("br",{}),"Vuoi procedere con il download?"]})]}),d.jsxs(ha,{children:[d.jsx(go,{children:"Annulla"}),d.jsx(ga,{onClick:w,children:"Esporta CSV"})]})]})]}),d.jsx(Xe,{variant:"outline",size:"icon",className:"h-10 w-10 sm:h-9 sm:w-9 border-primary/20 bg-primary/5 hover:bg-primary/10",title:"Backup Completo",onClick:()=>e("/complete-backup"),children:d.jsx(PR,{className:"h-4 w-4"})}),d.jsxs(io,{children:[d.jsx(ys,{asChild:!0,children:d.jsx(Xe,{variant:"ghost",size:"icon",className:"h-10 w-10 sm:h-9 sm:w-9 bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white border-red-500/20",title:"Hard Reset (Elimina tutto)",children:d.jsx(v1,{className:"h-4 w-4"})})}),d.jsxs(da,{children:[d.jsxs(fa,{children:[d.jsx(pa,{className:"text-destructive",children:"Hard Reset: Attenzione!"}),d.jsxs(ma,{children:["Questa azione eliminer ",d.jsx("strong",{children:"definitivamente"})," tutte le tue abitudini e tutto lo storico dei progressi.",d.jsx("br",{}),d.jsx("br",{}),"I dati non potranno essere recuperati. Sei sicuro di voler procedere?"]})]}),d.jsxs(ha,{children:[d.jsx(go,{children:"Annulla"}),d.jsx(ga,{onClick:()=>m(),className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",disabled:g,children:g?"Eliminazione...":"Conferma Reset Totale"})]})]})]})]})]}),d.jsxs("div",{className:"glass-card p-6 rounded-2xl hidden lg:block transition-colors duration-300",children:[d.jsxs("h3",{className:"text-sm font-medium text-muted-foreground uppercase tracking-widest mb-2 flex items-center justify-between",children:["System Status",t==="active"&&d.jsx(I6,{className:"w-4 h-4 text-green-500"}),t==="offline"&&d.jsx(R6,{className:"w-4 h-4 text-yellow-500"}),t==="error"&&d.jsx(Jd,{className:"w-4 h-4 text-red-500"})]}),d.jsxs("div",{className:"flex items-baseline gap-2",children:[d.jsx("span",{className:ae("text-2xl font-bold font-mono-nums transition-colors",t==="active"?"text-primary":t==="offline"?"text-yellow-500":"text-red-500"),children:t==="active"?"Online":t==="offline"?"Offline":"Error"}),d.jsx("span",{className:ae("w-2 h-2 rounded-full animate-pulse",t==="active"?"bg-green-500":t==="offline"?"bg-yellow-500":"bg-red-500")})]}),d.jsxs("p",{className:"text-xs text-muted-foreground mt-4 flex justify-between items-center",children:[d.jsx("span",{children:"Mattioli.OS v4.1"}),r&&d.jsxs("span",{className:"font-mono opacity-50",children:[r,"ms"]})]})]}),d.jsx("div",{className:"hidden lg:block",children:d.jsx(TE,{})})]}),d.jsx("div",{className:"lg:col-span-9 flex flex-col flex-1 h-full min-h-0 overflow-hidden lg:overflow-visible",children:d.jsxs(us,{defaultValue:"month",value:j,onValueChange:k,className:"w-full h-full flex flex-col",children:[d.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mb-4 lg:mb-4 shrink-0",children:d.jsxs(ao,{className:"grid w-full grid-cols-4 bg-card/40 border border-white/10 backdrop-blur-md rounded-xl p-1 shadow-sm h-10 sm:h-auto",children:[d.jsxs(gt,{value:"month",className:"rounded-lg data-[state=active]:bg-primary/20 data-[state=active]:text-primary font-medium text-xs sm:text-sm h-full sm:py-2 flex items-center justify-center gap-1.5 sm:gap-2",children:[d.jsx(uo,{className:"w-4 h-4"}),d.jsx("span",{className:"xs:inline",children:"Mese"})]}),d.jsxs(gt,{value:"week",className:"rounded-lg data-[state=active]:bg-primary/20 data-[state=active]:text-primary font-medium text-xs sm:text-sm h-full sm:py-2 flex items-center justify-center gap-1.5 sm:gap-2",children:[d.jsx(y6,{className:"w-4 h-4"}),d.jsx("span",{className:"xs:inline",children:"Settimana"})]}),d.jsxs(gt,{value:"year",className:"rounded-lg data-[state=active]:bg-primary/20 data-[state=active]:text-primary font-medium text-xs sm:text-sm h-full sm:py-2 flex items-center justify-center gap-1.5 sm:gap-2",children:[d.jsx(x6,{className:"w-4 h-4"}),d.jsx("span",{className:"xs:inline",children:"Anno"})]}),d.jsxs(gt,{value:"vita",className:"rounded-lg data-[state=active]:bg-primary/20 data-[state=active]:text-primary font-medium text-xs sm:text-sm h-full sm:py-2 flex items-center justify-center gap-1.5 sm:gap-2",children:[d.jsx(m6,{className:"w-4 h-4"}),d.jsx("span",{className:"xs:inline",children:"Vita"})]})]})}),d.jsxs("div",{className:"flex-1 flex flex-col min-h-0 glass-panel rounded-xl sm:rounded-2xl p-0 sm:p-2 overflow-hidden mb-2",children:[d.jsx(xr,{value:"month",className:"mt-0 animate-scale-in h-full",children:d.jsx(CG,{habits:o,records:a,onToggleHabit:p,isPrivacyMode:y})}),d.jsx(xr,{value:"week",className:"mt-0 animate-scale-in h-full",children:d.jsx(PG,{habits:o,records:a,onToggleHabit:p,isPrivacyMode:y})}),d.jsx(xr,{value:"year",className:"mt-0 animate-scale-in h-full",children:d.jsx(NG,{habits:o,records:a,onToggleHabit:p,isPrivacyMode:y})}),d.jsx(xr,{value:"vita",className:"mt-0 animate-scale-in h-full",children:d.jsx(RG,{habits:o,records:a,isPrivacyMode:y})})]})]})})]})]})};function s3(e,t,r="weekly"){return S.useMemo(()=>{const n=Un(new Date),i=Object.keys(t).sort(),a=e.map(L=>{const M=Un(new Date(L.start_date)),H=L.id;let z=0,$=0,Q=0,Z=0,fe=0,le=0;const ue=Math.max(0,Oc(n,M)+1),ee=new Date(n);let te=!0;const ce=Ge(ee,"yyyy-MM-dd"),J=t[ce]?.[H];J==="done"?z++:J==="missed"&&(te=!1);let ne=1;for(;;){const G=Ut(n,ne);if(Bn(G,M))break;const ie=Ge(G,"yyyy-MM-dd"),re=t[ie]?.[H];if(re==="done"?te&&z++:re==="missed"&&(te=!1),!te||ne>365*5)break;ne++}if(ue>0){for(let G=0;G<ue;G++){const ie=Ut(n,G),re=Ge(ie,"yyyy-MM-dd"),X=t[re]?.[H];X==="done"?(le++,Q++,Z=Math.max(Z,fe),fe=0):(X==="missed"||X===null)&&(fe++,X==="missed"&&($=Math.max($,Q),Q=0))}$=Math.max($,Q),Z=Math.max(Z,fe)}let A=0,K=0;const V=Ut(n,29),W=Xi(M,V)?M:V;Xi(W,n)||ln({start:W,end:n}).forEach(G=>{A++;const ie=Ge(G,"yyyy-MM-dd");t[ie]?.[H]==="done"&&K++});const q=A>0?Math.round(K/A*100):0;return{id:L.id,title:L.title,color:L.color,currentStreak:z,longestStreak:$,worstStreak:Z,totalDays:le,completionRate:q}}),o=[],s=Ut(n,365);ln({start:s,end:n}).forEach(L=>{const M=Ge(L,"yyyy-MM-dd");let H=0,z=0;e.forEach(Q=>{const Z=new Date(Q.start_date);Bn(Un(L),Un(Z))||(H++,t[M]?.[Q.id]==="done"&&z++)});let $=0;if(H>0&&z>0){const Q=z/H;Q<=.25?$=1:Q<=.5?$=2:Q<=.75?$=3:$=4}o.push({date:M,count:z,intensity:$})});const l=[];let c,u=n,f="day";switch(r){case"weekly":c=Ut(n,6),f="day";break;case"monthly":c=Ut(n,29),f="day";break;case"annual":c=ck(n,11),f="month";break;case"all":const L=e.reduce((M,H)=>Bn(new Date(H.start_date),M)?new Date(H.start_date):M,n);c=L,Oc(n,L)>90?(f="month",c=wi(c)):f="day";break;default:c=Ut(n,6)}if(f==="day")ln({start:c,end:u}).forEach(L=>{const M=Ge(L,"yyyy-MM-dd");let H=Ge(L,"EEE",{locale:Rr});(r==="monthly"||r==="all")&&(H=Ge(L,"dd/MM",{locale:Rr}));const z={date:H};let $=0,Q=0;e.forEach(fe=>{const le=new Date(fe.start_date);if(Bn(Un(L),Un(le))){z[fe.id]=0;return}Q++;const ee=t[M]?.[fe.id]==="done";ee&&$++,z[fe.id]=ee?100:0});const Z=Q>0?Math.round($/Q*100):0;z.overall=Z,l.push(z)});else{let L=wi(c);for(;!Xi(L,u);){const M=rp(L),H=Bn(M,u)?M:u,z={date:Ge(L,"MMM yy",{locale:Rr})};let $=0,Q=0;e.forEach(fe=>{const le=new Date(fe.start_date),ue=Bn(L,le)?le:L;if(Xi(ue,H)){z[fe.id]=0;return}let ee=0,te=0;ln({start:ue,end:H}).forEach(J=>{const ne=Ge(J,"yyyy-MM-dd");te++,t[ne]?.[fe.id]==="done"&&ee++});const ce=te>0?Math.round(ee/te*100):0;z[fe.id]=ce,$+=te,Q+=ee});const Z=$>0?Math.round(Q/$*100):0;z.overall=Z,l.push(z),L=wi(Ut(L,-32))}}const p=[0,0,0,0,0,0,0].map((L,M)=>({dayIndex:M,dayName:Ge(new Date(2024,0,7+M),"EEEE",{locale:Rr}),totalActive:0,totalDone:0,rate:0})),h=e.reduce((L,M)=>Bn(new Date(M.start_date),L)?new Date(M.start_date):L,n),v=Xi(h,Ut(n,365))?h:Ut(n,365);Xi(v,n)||ln({start:v,end:n}).forEach(L=>{const M=L.getDay(),H=Ge(L,"yyyy-MM-dd");e.forEach(z=>{const $=new Date(z.start_date);Bn(L,$)||(p[M].totalActive++,t[H]?.[z.id]==="done"&&p[M].totalDone++)})}),p.forEach(L=>{L.rate=L.totalActive>0?Math.round(L.totalDone/L.totalActive*100):0});const m=i.length,g=a.length>0?Math.round(a.reduce((L,M)=>L+M.completionRate,0)/a.length):0,y=aae(e,t,n,a),b=pn(n,{locale:Rr,weekStartsOn:1}),x=n,_=R7(b),w=Ut(b,1),j=wi(n),k=n,C=ck(j,1),P=Ut(j,1),O=np(n),T=n,N=I7(O),D=Ut(O,1),E=gg(e,t,b,x,_,w,"week"),R=gg(e,t,j,k,C,P,"month"),B=gg(e,t,O,T,N,D,"year"),F=e.map(L=>({habitId:L.id,week:E[L.id],month:R[L.id],year:B[L.id]}));return{habitStats:a,heatmapData:o,trendData:l,weekdayStats:p.sort((L,M)=>L.dayIndex===0?1:M.dayIndex===0?-1:L.dayIndex-M.dayIndex),totalActiveDays:m,globalSuccessRate:g,bestStreak:Math.max(...a.map(L=>L.longestStreak),0),worstDay:p.reduce((L,M)=>M.rate<L.rate&&M.totalActive>0?M:L,p[0]).dayName,comparisons:F,criticalHabits:y.sort((L,M)=>L.completionRate-M.completionRate)}},[e,t,r])}function gg(e,t,r,n,i,a,o="month"){const s={},l=e.map(u=>u.id),c=(u,f,p,h)=>{const v=Bn(f,h)?h:f;if(Xi(v,p))return 0;let m=0,g=0;return ln({start:v,end:p}).forEach(y=>{m++;const b=Ge(y,"yyyy-MM-dd");t[b]?.[u]==="done"&&g++}),m>0?Math.round(g/m*100):0};return l.forEach(u=>{const f=e.find(y=>y.id===u);if(!f)return;const p=new Date(f.start_date),h=c(u,r,n,p),v=c(u,i,a,p),m=h-v;let g="neutral";m>0&&(g="up"),m<0&&(g="down"),s[u]={previous:v,current:h,change:m,trend:g}}),s}function aae(e,t,r,n){const i=[],a=Ut(r,90);return e.forEach(o=>{const s=[0,0,0,0,0,0,0].map(()=>({total:0,done:0})),l=Bn(a,new Date(o.start_date))?new Date(o.start_date):a,c=Math.max(0,Oc(r,new Date(o.start_date)))+1;let u=4;c<8?u=1:c<15?u=2:c<29&&(u=3),Xi(l,r)||ln({start:l,end:r}).forEach(m=>{const g=m.getDay(),y=Ge(m,"yyyy-MM-dd");s[g].total++,t[y]?.[o.id]==="done"&&s[g].done++});let f="",p=101;s.forEach((m,g)=>{if(m.total<u)return;const y=Math.round(m.done/m.total*100);if(y<p){p=y;const b=new Date(2024,0,7+g);f=Ge(b,"EEEE",{locale:Rr})}});const h=n.find(m=>m.id===o.id),v=h?h.completionRate:0;p===101&&(f="N/A",p=v),i.push({habitId:o.id,title:o.title,color:o.color,completionRate:v,worstDay:f,worstDayRate:p})}),i}function ME(e,t){if(e.length!==t.length||e.length===0)return 0;const r=e.length,n=e.reduce((u,f)=>u+f,0),i=t.reduce((u,f)=>u+f,0),a=e.reduce((u,f,p)=>u+f*t[p],0),o=e.reduce((u,f)=>u+f*f,0),s=t.reduce((u,f)=>u+f*f,0),l=r*a-n*i,c=Math.sqrt((r*o-n*n)*(r*s-i*i));return c===0?0:l/c}function $E(e){return e<=4?"low":e<=7?"medium":"high"}const oae=(e,t)=>{const{data:r}=ii({queryKey:["moods"],queryFn:async()=>{const{data:a,error:o}=await be.from("daily_moods").select("*").order("date",{ascending:!1});if(o)throw o;return a}}),n=S.useMemo(()=>{if(!r||r.length===0||e.length===0)return[];const a=new Map;return r.forEach(o=>{a.set(o.date,{mood:o.mood_score,energy:o.energy_score})}),e.map(o=>{const s=[];Object.entries(t).forEach(([R,B])=>{const F=B[o.id],U=a.get(R);F&&U&&s.push({date:R,completed:F==="done",mood:U.mood,energy:U.energy})});const l=s.filter(R=>R.completed),c=s.filter(R=>!R.completed),u=l.length>0?l.reduce((R,B)=>R+B.mood,0)/l.length:0,f=c.length>0?c.reduce((R,B)=>R+B.mood,0)/c.length:0,p=l.length>0?l.reduce((R,B)=>R+B.energy,0)/l.length:0,h=c.length>0?c.reduce((R,B)=>R+B.energy,0)/c.length:0,v={low:0,medium:0,high:0},m={low:0,medium:0,high:0},g={low:0,medium:0,high:0},y={low:0,medium:0,high:0};s.forEach(R=>{const B=$E(R.mood),F=$E(R.energy);m[B]++,y[F]++,R.completed&&(v[B]++,g[F]++)});const b={low:m.low>0?v.low/m.low*100:0,medium:m.medium>0?v.medium/m.medium*100:0,high:m.high>0?v.high/m.high*100:0},x={low:y.low>0?g.low/y.low*100:0,medium:y.medium>0?g.medium/y.medium*100:0,high:y.high>0?g.high/y.high*100:0},_=s.map(R=>R.completed?1:0),w=s.map(R=>R.mood),j=s.map(R=>R.energy),k=ME(w,_),C=ME(j,_),O=b.high-b.low>30&&k>.3,N=x.high-x.low>30&&C>.3,D=b.low>=60&&x.low>=60;return{habitId:o.id,habitTitle:o.title,habitColor:o.color,avgMoodWhenCompleted:u,avgMoodWhenMissed:f,avgEnergyWhenCompleted:p,avgEnergyWhenMissed:h,completionRateByMood:b,completionRateByEnergy:x,moodCorrelation:k,energyCorrelation:C,isMoodSensitive:O,isEnergySensitive:N,isResilient:D,totalDaysWithMoodData:s.length,daysCompleted:l.length,daysMissed:c.length}})},[e,t,r]),i=S.useMemo(()=>{const a=n.filter(o=>o.totalDaysWithMoodData>=5);return{moodSensitiveHabits:a.filter(o=>o.isMoodSensitive).sort((o,s)=>s.moodCorrelation-o.moodCorrelation).slice(0,3),energySensitiveHabits:a.filter(o=>o.isEnergySensitive).sort((o,s)=>s.energyCorrelation-o.energyCorrelation).slice(0,3),resilientHabits:a.filter(o=>o.isResilient).sort((o,s)=>s.completionRateByMood.low+s.completionRateByEnergy.low-(o.completionRateByMood.low+o.completionRateByEnergy.low)).slice(0,3),bestAtHighMood:a.sort((o,s)=>s.completionRateByMood.high-o.completionRateByMood.high).slice(0,3),bestAtLowMood:a.sort((o,s)=>s.completionRateByMood.low-o.completionRateByMood.low).slice(0,3),bestAtHighEnergy:a.sort((o,s)=>s.completionRateByEnergy.high-o.completionRateByEnergy.high).slice(0,3),bestAtLowEnergy:a.sort((o,s)=>s.completionRateByEnergy.low-o.completionRateByEnergy.low).slice(0,3)}},[n]);return{correlations:n,insights:i,isLoading:!r}};function sae(e,t){if(e.length!==t.length||e.length===0)return 0;const r=e.length,n=e.reduce((u,f)=>u+f,0),i=t.reduce((u,f)=>u+f,0),a=e.reduce((u,f,p)=>u+f*t[p],0),o=e.reduce((u,f)=>u+f*f,0),s=t.reduce((u,f)=>u+f*f,0),l=r*a-n*i,c=Math.sqrt((r*o-n*n)*(r*s-i*i));return c===0?0:l/c}function lae(e){const t=Math.abs(e);return t>=.6?"strong":t>=.3?"moderate":"weak"}function cae(e){return e>=.3?"positive":e<=-.3?"negative":"none"}function uae(e){const{habitA:t,habitB:r,correlationCoefficient:n,coOccurrenceRate:i,type:a}=e;if(a==="positive"){const o=Math.round(i);return n>=.6?`Quando completi "${t.title}", hai una probabilit del ${o}% di completare anche "${r.title}". Considera di farle insieme come routine consolidata.`:`"${t.title}" e "${r.title}" tendono ad essere completate insieme (${o}%). Prova a collegarle per rafforzare entrambe.`}else if(a==="negative")return`"${t.title}" e "${r.title}" raramente vengono completate lo stesso giorno. Potrebbero competere per tempo/energia - considera di pianificarle in giorni diversi.`;return`Correlazione debole tra "${t.title}" e "${r.title}".`}const dae=(e,t)=>{const r=S.useMemo(()=>{if(e.length<2)return[];const i=[],a=Object.keys(t).sort();for(let o=0;o<e.length;o++)for(let s=o+1;s<e.length;s++){const l=e[o],c=e[s],u=[];if(a.forEach(P=>{const O=t[P],T=O?.[l.id],N=O?.[c.id];T&&N&&u.push({dateStr:P,aComplete:T==="done"?1:0,bComplete:N==="done"?1:0})}),u.length<10)continue;const p=u.map(P=>P.aComplete),h=u.map(P=>P.bComplete),v=sae(p,h);if(Math.abs(v)<.3)continue;const g=u.filter(P=>P.aComplete===1&&P.bComplete===1).length,y=u.filter(P=>P.aComplete===1).length,b=y>0?g/y*100:0,x=lae(v),_=cae(v),w=p.reduce((P,O)=>P+O,0)/p.length*100,j=h.reduce((P,O)=>P+O,0)/h.length*100,k=w>=70&&j>=70,C={habitA:{id:l.id,title:l.title,color:l.color},habitB:{id:c.id,title:c.title,color:c.color},correlationCoefficient:v,coOccurrenceRate:b,totalDaysTracked:u.length,strength:x,type:_,isKeystonePair:k,suggestion:""};C.suggestion=uae(C),i.push(C)}return i},[e,t]),n=S.useMemo(()=>{const i=[...r].sort((f,p)=>Math.abs(p.correlationCoefficient)-Math.abs(f.correlationCoefficient)),a=i.filter(f=>f.type==="positive"),o=i.filter(f=>f.type==="negative"),s=new Map;e.forEach(f=>{s.set(f.id,{habit:f,correlations:[],connections:[]})}),r.forEach(f=>{const p=f.correlationCoefficient,h=s.get(f.habitA.id);h&&(h.correlations.push(p),h.connections.push({habitId:f.habitB.id,title:f.habitB.title,correlation:p}));const v=s.get(f.habitB.id);v&&(v.correlations.push(p),v.connections.push({habitId:f.habitA.id,title:f.habitA.title,correlation:p}))});const l=[];s.forEach((f,p)=>{if(f.correlations.length>=2){const h=f.correlations.reduce((g,y)=>g+y,0)/f.correlations.length;let v="low";f.correlations.length>=4?v="high":f.correlations.length>=3&&(v="medium");const m=[...f.connections].sort((g,y)=>Math.abs(y.correlation)-Math.abs(g.correlation));l.push({habitId:p,title:f.habit.title,color:f.habit.color,avgCorrelation:h,connectedHabits:f.correlations.length,impact:v,connections:m})}}),l.sort((f,p)=>p.connectedHabits-f.connectedHabits);const c=e.filter(f=>!s.get(f.id)?.correlations.length).map(f=>f.id),u=r.length>0?r.reduce((f,p)=>f+Math.abs(p.correlationCoefficient),0)/r.length:0;return{strongestPositive:a.slice(0,5),strongestNegative:o.slice(0,3),keystoneHabits:l.slice(0,3),totalPairs:r.length,avgCorrelation:u,isolatedHabits:c}},[r,e]);return{correlations:r,insights:n}};function fae({globalStats:e,bestHabit:t}){return d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[d.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:d.jsx(Gn,{className:"w-24 h-24"})}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:[d.jsx(Gn,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm font-medium",children:"Completamento"})]}),d.jsxs("div",{className:"flex items-baseline gap-2",children:[d.jsxs("span",{className:"text-4xl font-display font-bold text-foreground",children:[e.globalSuccessRate,"%"]}),d.jsx("span",{className:"text-sm text-muted-foreground",children:"globale"})]})]})]}),d.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[d.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:d.jsx(E0,{className:"w-24 h-24 text-orange-500"})}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:[d.jsx(E0,{className:"w-4 h-4 text-orange-500"}),d.jsx("span",{className:"text-sm font-medium",children:"Miglior Serie"})]}),d.jsxs("div",{className:"flex items-baseline gap-2",children:[d.jsx("span",{className:"text-4xl font-display font-bold text-foreground",children:e.bestStreak}),d.jsx("span",{className:"text-sm text-muted-foreground",children:"giorni"})]})]})]}),d.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[d.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:d.jsx(la,{className:"w-24 h-24 text-yellow-500"})}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:[d.jsx(la,{className:"w-4 h-4 text-yellow-500"}),d.jsx("span",{className:"text-sm font-medium",children:"Top Performer"})]}),t?d.jsxs("div",{children:[d.jsx("span",{className:"text-2xl font-display font-bold text-foreground block truncate",children:t.title}),d.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.completionRate,"% completamento"]})]}):d.jsx("span",{className:"text-muted-foreground text-sm",children:"Nessun dato"})]})]}),d.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-sm relative overflow-hidden group",children:[d.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:d.jsx("div",{className:"text-4xl",children:""})}),d.jsxs("div",{children:[d.jsx("div",{className:"flex items-center gap-2 mb-2 text-muted-foreground",children:d.jsx("span",{className:"text-sm font-medium",children:"Giorno Peggiore"})}),e.worstDay?d.jsxs("div",{children:[d.jsx("span",{className:"text-2xl font-display font-bold text-foreground block truncate",children:e.worstDay}),d.jsx("span",{className:"text-sm text-muted-foreground",children:"Focus richiesto"})]}):d.jsx("span",{className:"text-muted-foreground text-sm",children:"Nessun dato"})]})]})]})}function hae({data:e}){const t=new Date,r=105,n=e.filter(a=>cV(t,new Date(a.date))<r),i=[];for(let a=r-1;a>=0;a--){const o=Ut(t,a),s=Ge(o,"yyyy-MM-dd"),l=n.find(c=>c.date===s);i.push(l||{date:s,count:0,intensity:0})}return d.jsxs("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-xl",children:[d.jsx("h3",{className:"text-lg font-display font-semibold mb-4",children:"Costanza"}),d.jsx("div",{className:"flex flex-wrap gap-1 justify-center sm:justify-start",children:i.map(a=>d.jsx("div",{className:ae("w-3 h-3 sm:w-4 sm:h-4 rounded-sm transition-all hover:scale-125 hover:z-10 relative cursor-pointer",a.intensity===0&&"bg-muted/10",a.intensity===1&&"bg-primary/30",a.intensity===2&&"bg-primary/50",a.intensity===3&&"bg-primary/70",a.intensity===4&&"bg-primary"),title:`${a.date}: ${a.count} habits`},a.date))}),d.jsxs("div",{className:"flex items-center justify-end gap-2 mt-4 text-xs text-muted-foreground",children:[d.jsx("span",{children:"Meno"}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("div",{className:"w-3 h-3 rounded-sm bg-muted/10"}),d.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/30"}),d.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/50"}),d.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary/70"}),d.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary"})]}),d.jsx("span",{children:"Pi"})]})]})}var vg,LE;function $r(){if(LE)return vg;LE=1;var e=Array.isArray;return vg=e,vg}var yg,FE;function l3(){if(FE)return yg;FE=1;var e=typeof un=="object"&&un&&un.Object===Object&&un;return yg=e,yg}var bg,BE;function fi(){if(BE)return bg;BE=1;var e=l3(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return bg=r,bg}var xg,zE;function Fu(){if(zE)return xg;zE=1;var e=fi(),t=e.Symbol;return xg=t,xg}var wg,qE;function pae(){if(qE)return wg;qE=1;var e=Fu(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function a(o){var s=r.call(o,i),l=o[i];try{o[i]=void 0;var c=!0}catch{}var u=n.call(o);return c&&(s?o[i]=l:delete o[i]),u}return wg=a,wg}var _g,UE;function mae(){if(UE)return _g;UE=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return _g=r,_g}var Sg,WE;function Bi(){if(WE)return Sg;WE=1;var e=Fu(),t=pae(),r=mae(),n="[object Null]",i="[object Undefined]",a=e?e.toStringTag:void 0;function o(s){return s==null?s===void 0?i:n:a&&a in Object(s)?t(s):r(s)}return Sg=o,Sg}var jg,HE;function zi(){if(HE)return jg;HE=1;function e(t){return t!=null&&typeof t=="object"}return jg=e,jg}var kg,VE;function hl(){if(VE)return kg;VE=1;var e=Bi(),t=zi(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return kg=n,kg}var Eg,KE;function L_(){if(KE)return Eg;KE=1;var e=$r(),t=hl(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(e(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||t(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return Eg=i,Eg}var Ag,GE;function Aa(){if(GE)return Ag;GE=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Ag=e,Ag}var Og,YE;function F_(){if(YE)return Og;YE=1;var e=Bi(),t=Aa(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!t(s))return!1;var l=e(s);return l==n||l==i||l==r||l==a}return Og=o,Og}var Cg,XE;function gae(){if(XE)return Cg;XE=1;var e=fi(),t=e["__core-js_shared__"];return Cg=t,Cg}var Pg,QE;function vae(){if(QE)return Pg;QE=1;var e=gae(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return Pg=r,Pg}var Tg,JE;function c3(){if(JE)return Tg;JE=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return Tg=r,Tg}var Ng,ZE;function yae(){if(ZE)return Ng;ZE=1;var e=F_(),t=vae(),r=Aa(),n=c3(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,c=s.hasOwnProperty,u=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(p){if(!r(p)||t(p))return!1;var h=e(p)?u:a;return h.test(n(p))}return Ng=f,Ng}var Rg,eA;function bae(){if(eA)return Rg;eA=1;function e(t,r){return t?.[r]}return Rg=e,Rg}var Ig,tA;function Oo(){if(tA)return Ig;tA=1;var e=yae(),t=bae();function r(n,i){var a=t(n,i);return e(a)?a:void 0}return Ig=r,Ig}var Dg,rA;function Tp(){if(rA)return Dg;rA=1;var e=Oo(),t=e(Object,"create");return Dg=t,Dg}var Mg,nA;function xae(){if(nA)return Mg;nA=1;var e=Tp();function t(){this.__data__=e?e(null):{},this.size=0}return Mg=t,Mg}var $g,iA;function wae(){if(iA)return $g;iA=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return $g=e,$g}var Lg,aA;function _ae(){if(aA)return Lg;aA=1;var e=Tp(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(e){var s=o[a];return s===t?void 0:s}return n.call(o,a)?o[a]:void 0}return Lg=i,Lg}var Fg,oA;function Sae(){if(oA)return Fg;oA=1;var e=Tp(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var a=this.__data__;return e?a[i]!==void 0:r.call(a,i)}return Fg=n,Fg}var Bg,sA;function jae(){if(sA)return Bg;sA=1;var e=Tp(),t="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=e&&i===void 0?t:i,this}return Bg=r,Bg}var zg,lA;function kae(){if(lA)return zg;lA=1;var e=xae(),t=wae(),r=_ae(),n=Sae(),i=jae();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,zg=a,zg}var qg,cA;function Eae(){if(cA)return qg;cA=1;function e(){this.__data__=[],this.size=0}return qg=e,qg}var Ug,uA;function B_(){if(uA)return Ug;uA=1;function e(t,r){return t===r||t!==t&&r!==r}return Ug=e,Ug}var Wg,dA;function Np(){if(dA)return Wg;dA=1;var e=B_();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return Wg=t,Wg}var Hg,fA;function Aae(){if(fA)return Hg;fA=1;var e=Np(),t=Array.prototype,r=t.splice;function n(i){var a=this.__data__,o=e(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():r.call(a,o,1),--this.size,!0}return Hg=n,Hg}var Vg,hA;function Oae(){if(hA)return Vg;hA=1;var e=Np();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return Vg=t,Vg}var Kg,pA;function Cae(){if(pA)return Kg;pA=1;var e=Np();function t(r){return e(this.__data__,r)>-1}return Kg=t,Kg}var Gg,mA;function Pae(){if(mA)return Gg;mA=1;var e=Np();function t(r,n){var i=this.__data__,a=e(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return Gg=t,Gg}var Yg,gA;function Rp(){if(gA)return Yg;gA=1;var e=Eae(),t=Aae(),r=Oae(),n=Cae(),i=Pae();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Yg=a,Yg}var Xg,vA;function z_(){if(vA)return Xg;vA=1;var e=Oo(),t=fi(),r=e(t,"Map");return Xg=r,Xg}var Qg,yA;function Tae(){if(yA)return Qg;yA=1;var e=kae(),t=Rp(),r=z_();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Qg=n,Qg}var Jg,bA;function Nae(){if(bA)return Jg;bA=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Jg=e,Jg}var Zg,xA;function Ip(){if(xA)return Zg;xA=1;var e=Nae();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Zg=t,Zg}var ev,wA;function Rae(){if(wA)return ev;wA=1;var e=Ip();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return ev=t,ev}var tv,_A;function Iae(){if(_A)return tv;_A=1;var e=Ip();function t(r){return e(this,r).get(r)}return tv=t,tv}var rv,SA;function Dae(){if(SA)return rv;SA=1;var e=Ip();function t(r){return e(this,r).has(r)}return rv=t,rv}var nv,jA;function Mae(){if(jA)return nv;jA=1;var e=Ip();function t(r,n){var i=e(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return nv=t,nv}var iv,kA;function q_(){if(kA)return iv;kA=1;var e=Tae(),t=Rae(),r=Iae(),n=Dae(),i=Mae();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,iv=a,iv}var av,EA;function u3(){if(EA)return av;EA=1;var e=q_(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],l=a.cache;if(l.has(s))return l.get(s);var c=n.apply(this,o);return a.cache=l.set(s,c)||l,c};return a.cache=new(r.Cache||e),a}return r.Cache=e,av=r,av}var ov,AA;function $ae(){if(AA)return ov;AA=1;var e=u3(),t=500;function r(n){var i=e(n,function(o){return a.size===t&&a.clear(),o}),a=i.cache;return i}return ov=r,ov}var sv,OA;function Lae(){if(OA)return sv;OA=1;var e=$ae(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(t,function(o,s,l,c){a.push(l?c.replace(r,"$1"):s||o)}),a});return sv=n,sv}var lv,CA;function U_(){if(CA)return lv;CA=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,a=Array(i);++n<i;)a[n]=r(t[n],n,t);return a}return lv=e,lv}var cv,PA;function Fae(){if(PA)return cv;PA=1;var e=Fu(),t=U_(),r=$r(),n=hl(),i=e?e.prototype:void 0,a=i?i.toString:void 0;function o(s){if(typeof s=="string")return s;if(r(s))return t(s,o)+"";if(n(s))return a?a.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return cv=o,cv}var uv,TA;function d3(){if(TA)return uv;TA=1;var e=Fae();function t(r){return r==null?"":e(r)}return uv=t,uv}var dv,NA;function f3(){if(NA)return dv;NA=1;var e=$r(),t=L_(),r=Lae(),n=d3();function i(a,o){return e(a)?a:t(a,o)?[a]:r(n(a))}return dv=i,dv}var fv,RA;function Dp(){if(RA)return fv;RA=1;var e=hl();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return fv=t,fv}var hv,IA;function W_(){if(IA)return hv;IA=1;var e=f3(),t=Dp();function r(n,i){i=e(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[t(i[a++])];return a&&a==o?n:void 0}return hv=r,hv}var pv,DA;function h3(){if(DA)return pv;DA=1;var e=W_();function t(r,n,i){var a=r==null?void 0:e(r,n);return a===void 0?i:a}return pv=t,pv}var Bae=h3();const Yr=it(Bae);var mv,MA;function zae(){if(MA)return mv;MA=1;function e(t){return t==null}return mv=e,mv}var qae=zae();const Te=it(qae);var gv,$A;function Uae(){if($A)return gv;$A=1;var e=Bi(),t=$r(),r=zi(),n="[object String]";function i(a){return typeof a=="string"||!t(a)&&r(a)&&e(a)==n}return gv=i,gv}var Wae=Uae();const yo=it(Wae);var Hae=F_();const Pe=it(Hae);var Vae=Aa();const pl=it(Vae);var vv={exports:{}},ft={};var LA;function Kae(){if(LA)return ft;LA=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function m(g){if(typeof g=="object"&&g!==null){var y=g.$$typeof;switch(y){case e:switch(g=g.type,g){case r:case i:case n:case c:case u:return g;default:switch(g=g&&g.$$typeof,g){case s:case o:case l:case p:case f:case a:return g;default:return y}}case t:return y}}}return ft.ContextConsumer=o,ft.ContextProvider=a,ft.Element=e,ft.ForwardRef=l,ft.Fragment=r,ft.Lazy=p,ft.Memo=f,ft.Portal=t,ft.Profiler=i,ft.StrictMode=n,ft.Suspense=c,ft.SuspenseList=u,ft.isAsyncMode=function(){return!1},ft.isConcurrentMode=function(){return!1},ft.isContextConsumer=function(g){return m(g)===o},ft.isContextProvider=function(g){return m(g)===a},ft.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===e},ft.isForwardRef=function(g){return m(g)===l},ft.isFragment=function(g){return m(g)===r},ft.isLazy=function(g){return m(g)===p},ft.isMemo=function(g){return m(g)===f},ft.isPortal=function(g){return m(g)===t},ft.isProfiler=function(g){return m(g)===i},ft.isStrictMode=function(g){return m(g)===n},ft.isSuspense=function(g){return m(g)===c},ft.isSuspenseList=function(g){return m(g)===u},ft.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===r||g===i||g===n||g===c||g===u||g===h||typeof g=="object"&&g!==null&&(g.$$typeof===p||g.$$typeof===f||g.$$typeof===a||g.$$typeof===o||g.$$typeof===l||g.$$typeof===v||g.getModuleId!==void 0)},ft.typeOf=m,ft}var FA;function Gae(){return FA||(FA=1,vv.exports=Kae()),vv.exports}var Yae=Gae(),yv,BA;function p3(){if(BA)return yv;BA=1;var e=Bi(),t=zi(),r="[object Number]";function n(i){return typeof i=="number"||t(i)&&e(i)==r}return yv=n,yv}var bv,zA;function Xae(){if(zA)return bv;zA=1;var e=p3();function t(r){return e(r)&&r!=+r}return bv=t,bv}var Qae=Xae();const ml=it(Qae);var Jae=p3();const Zae=it(Jae);var Sr=function(t){return t===0?0:t>0?1:-1},Za=function(t){return yo(t)&&t.indexOf("%")===t.length-1},pe=function(t){return Zae(t)&&!ml(t)},eoe=function(t){return Te(t)},er=function(t){return pe(t)||yo(t)},toe=0,Oa=function(t){var r=++toe;return"".concat(t||"").concat(r)},jr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!pe(t)&&!yo(t))return n;var a;if(Za(t)){var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return ml(a)&&(a=n),i&&a>r&&(a=r),a},na=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},roe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},yt=function(t,r){return pe(t)&&pe(r)?function(n){return t+n*(r-t)}:function(){return r}};function Of(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Yr(n,t))===r})}var noe=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,i=0,a=0,o=0,s=1/0,l=-1/0,c=0,u=0,f=0;f<r;f++)c=t[f].cx||0,u=t[f].cy||0,n+=c,i+=u,a+=c*u,o+=c*c,s=Math.min(s,c),l=Math.max(l,c);var p=r*o!==n*n?(r*a-n*i)/(r*o-n*n):0;return{xmin:s,xmax:l,a:p,b:(i-p*n)/r}},ioe=function(t,r){return pe(t)&&pe(r)?t-r:yo(t)&&yo(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function ds(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Nx(e){"@babel/helpers - typeof";return Nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nx(e)}var aoe=["viewBox","children"],ooe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],qA=["points","pathLength"],xv={svg:aoe,polygon:qA,polyline:qA},H_=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Cf=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(S.isValidElement(t)&&(n=t.props),!pl(n))return null;var i={};return Object.keys(n).forEach(function(a){H_.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},soe=function(t,r,n){return function(i){return t(r,n,i),null}},_a=function(t,r,n){if(!pl(t)||Nx(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];H_.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=soe(o,r,n))}),i},loe=["children"],coe=["children"];function UA(e,t){if(e==null)return{};var r=uoe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uoe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Rx(e){"@babel/helpers - typeof";return Rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rx(e)}var WA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ai=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},HA=null,wv=null,V_=function e(t){if(t===HA&&Array.isArray(wv))return wv;var r=[];return S.Children.forEach(t,function(n){Te(n)||(Yae.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),wv=r,HA=t,r};function Ar(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return Ai(i)}):n=[Ai(t)],V_(e).forEach(function(i){var a=Yr(i,"type.displayName")||Yr(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function zr(e,t){var r=Ar(e,t);return r&&r[0]}var VA=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!pe(n)||n<=0||!pe(i)||i<=0)},doe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],foe=function(t){return t&&t.type&&yo(t.type)&&doe.indexOf(t.type)>=0},m3=function(t){return t&&Rx(t)==="object"&&"clipDot"in t},hoe=function(t,r,n,i){var a,o=(a=xv?.[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Pe(t)&&(i&&o.includes(r)||ooe.includes(r))||n&&H_.includes(r)},xe=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(S.isValidElement(t)&&(i=t.props),!pl(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;hoe((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},Ix=function e(t,r){if(t===r)return!0;var n=S.Children.count(t);if(n!==S.Children.count(r))return!1;if(n===0)return!0;if(n===1)return KA(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=t[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!KA(a,o))return!1}return!0},KA=function(t,r){if(Te(t)&&Te(r))return!0;if(!Te(t)&&!Te(r)){var n=t.props||{},i=n.children,a=UA(n,loe),o=r.props||{},s=o.children,l=UA(o,coe);return i&&s?ds(a,l)&&Ix(i,s):!i&&!s?ds(a,l):!1}return!1},GA=function(t,r){var n=[],i={};return V_(t).forEach(function(a,o){if(foe(a))n.push(a);else if(a){var s=Ai(a.type),l=r[s]||{},c=l.handler,u=l.once;if(c&&(!u||!i[s])){var f=c(a,s,o);n.push(f),i[s]=!0}}}),n},poe=function(t){var r=t&&t.type;return r&&WA[r]?WA[r]:null},moe=function(t,r){return V_(r).indexOf(t)},goe=["children","width","height","viewBox","className","style","title","desc"];function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dx.apply(this,arguments)}function voe(e,t){if(e==null)return{};var r=yoe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yoe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mx(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,a=e.className,o=e.style,s=e.title,l=e.desc,c=voe(e,goe),u=i||{width:r,height:n,x:0,y:0},f=Me("recharts-surface",a);return I.createElement("svg",Dx({},xe(c,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),I.createElement("title",null,s),I.createElement("desc",null,l),t)}var boe=["children","className"];function $x(){return $x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$x.apply(this,arguments)}function xoe(e,t){if(e==null)return{};var r=woe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function woe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Fe=I.forwardRef(function(e,t){var r=e.children,n=e.className,i=xoe(e,boe),a=Me("recharts-layer",n);return I.createElement("g",$x({className:a},xe(i,!0),{ref:t}),r)}),Rn=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},_v,YA;function _oe(){if(YA)return _v;YA=1;function e(t,r,n){var i=-1,a=t.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(a);++i<a;)o[i]=t[i+r];return o}return _v=e,_v}var Sv,XA;function Soe(){if(XA)return Sv;XA=1;var e=_oe();function t(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:e(r,n,i)}return Sv=t,Sv}var jv,QA;function g3(){if(QA)return jv;QA=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,a="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+e+i+a+"]");function l(c){return s.test(c)}return jv=l,jv}var kv,JA;function joe(){if(JA)return kv;JA=1;function e(t){return t.split("")}return kv=e,kv}var Ev,ZA;function koe(){if(ZA)return Ev;ZA=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,a="\\ufe0e\\ufe0f",o="["+e+"]",s="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+s+"|"+l+")",u="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",v=c+"?",m="["+a+"]?",g="(?:"+h+"(?:"+[u,f,p].join("|")+")"+m+v+")*",y=m+v+g,b="(?:"+[u+s+"?",s,f,p,o].join("|")+")",x=RegExp(l+"(?="+l+")|"+b+y,"g");function _(w){return w.match(x)||[]}return Ev=_,Ev}var Av,eO;function Eoe(){if(eO)return Av;eO=1;var e=joe(),t=g3(),r=koe();function n(i){return t(i)?r(i):e(i)}return Av=n,Av}var Ov,tO;function Aoe(){if(tO)return Ov;tO=1;var e=Soe(),t=g3(),r=Eoe(),n=d3();function i(a){return function(o){o=n(o);var s=t(o)?r(o):void 0,l=s?s[0]:o.charAt(0),c=s?e(s,1).join(""):o.slice(1);return l[a]()+c}}return Ov=i,Ov}var Cv,rO;function Ooe(){if(rO)return Cv;rO=1;var e=Aoe(),t=e("toUpperCase");return Cv=t,Cv}var Coe=Ooe();const Mp=it(Coe);function kt(e){return function(){return e}}const v3=Math.cos,Pf=Math.sin,Fn=Math.sqrt,Tf=Math.PI,$p=2*Tf,Lx=Math.PI,Fx=2*Lx,Ha=1e-6,Poe=Fx-Ha;function y3(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Toe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return y3;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Noe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?y3:Toe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-t,c=i-r,u=o-t,f=s-r,p=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Ha)if(!(Math.abs(f*l-c*u)>Ha)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-o,v=i-s,m=l*l+c*c,g=h*h+v*v,y=Math.sqrt(m),b=Math.sqrt(p),x=a*Math.tan((Lx-Math.acos((m+p-g)/(2*y*b)))/2),_=x/b,w=x/y;Math.abs(_-1)>Ha&&this._append`L${t+_*u},${r+_*f}`,this._append`A${a},${a},0,0,${+(f*h>u*v)},${this._x1=t+w*l},${this._y1=r+w*c}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),c=t+s,u=r+l,f=1^o,p=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Ha||Math.abs(this._y1-u)>Ha)&&this._append`L${c},${u}`,n&&(p<0&&(p=p%Fx+Fx),p>Poe?this._append`A${n},${n},0,1,${f},${t-s},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:p>Ha&&this._append`A${n},${n},0,${+(p>=Lx)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function K_(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Noe(t)}function G_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function b3(e){this._context=e}b3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Lp(e){return new b3(e)}function x3(e){return e[0]}function w3(e){return e[1]}function _3(e,t){var r=kt(!0),n=null,i=Lp,a=null,o=K_(s);e=typeof e=="function"?e:e===void 0?x3:kt(e),t=typeof t=="function"?t:t===void 0?w3:kt(t);function s(l){var c,u=(l=G_(l)).length,f,p=!1,h;for(n==null&&(a=i(h=o())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(f,c,l),+t(f,c,l));if(h)return a=null,h+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:kt(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:kt(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:kt(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function wd(e,t,r){var n=null,i=kt(!0),a=null,o=Lp,s=null,l=K_(c);e=typeof e=="function"?e:e===void 0?x3:kt(+e),t=typeof t=="function"?t:kt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?w3:kt(+r);function c(f){var p,h,v,m=(f=G_(f)).length,g,y=!1,b,x=new Array(m),_=new Array(m);for(a==null&&(s=o(b=l())),p=0;p<=m;++p){if(!(p<m&&i(g=f[p],p,f))===y)if(y=!y)h=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=p-1;v>=h;--v)s.point(x[v],_[v]);s.lineEnd(),s.areaEnd()}y&&(x[p]=+e(g,p,f),_[p]=+t(g,p,f),s.point(n?+n(g,p,f):x[p],r?+r(g,p,f):_[p]))}if(b)return s=null,b+""||null}function u(){return _3().defined(i).curve(o).context(a)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:kt(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:kt(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:kt(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:kt(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:kt(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:kt(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:kt(!!f),c):i},c.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),c):o},c.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),c):a},c}class S3{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Roe(e){return new S3(e,!0)}function Ioe(e){return new S3(e,!1)}const Y_={draw(e,t){const r=Fn(t/Tf);e.moveTo(r,0),e.arc(0,0,r,0,$p)}},Doe={draw(e,t){const r=Fn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},j3=Fn(1/3),Moe=j3*2,$oe={draw(e,t){const r=Fn(t/Moe),n=r*j3;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Loe={draw(e,t){const r=Fn(t),n=-r/2;e.rect(n,n,r,r)}},Foe=.8908130915292852,k3=Pf(Tf/10)/Pf(7*Tf/10),Boe=Pf($p/10)*k3,zoe=-v3($p/10)*k3,qoe={draw(e,t){const r=Fn(t*Foe),n=Boe*r,i=zoe*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=$p*a/5,s=v3(o),l=Pf(o);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*i,l*n+s*i)}e.closePath()}},Pv=Fn(3),Uoe={draw(e,t){const r=-Fn(t/(Pv*3));e.moveTo(0,r*2),e.lineTo(-Pv*r,-r),e.lineTo(Pv*r,-r),e.closePath()}},Qr=-.5,Jr=Fn(3)/2,Bx=1/Fn(12),Woe=(Bx/2+1)*3,Hoe={draw(e,t){const r=Fn(t/Woe),n=r/2,i=r*Bx,a=n,o=r*Bx+r,s=-a,l=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(Qr*n-Jr*i,Jr*n+Qr*i),e.lineTo(Qr*a-Jr*o,Jr*a+Qr*o),e.lineTo(Qr*s-Jr*l,Jr*s+Qr*l),e.lineTo(Qr*n+Jr*i,Qr*i-Jr*n),e.lineTo(Qr*a+Jr*o,Qr*o-Jr*a),e.lineTo(Qr*s+Jr*l,Qr*l-Jr*s),e.closePath()}};function Voe(e,t){let r=null,n=K_(i);e=typeof e=="function"?e:kt(e||Y_),t=typeof t=="function"?t:kt(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:kt(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:kt(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Nf(){}function Rf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function E3(e){this._context=e}E3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Rf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Rf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Koe(e){return new E3(e)}function A3(e){this._context=e}A3.prototype={areaStart:Nf,areaEnd:Nf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Rf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Goe(e){return new A3(e)}function O3(e){this._context=e}O3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Rf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Yoe(e){return new O3(e)}function C3(e){this._context=e}C3.prototype={areaStart:Nf,areaEnd:Nf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Xoe(e){return new C3(e)}function nO(e){return e<0?-1:1}function iO(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(nO(a)+nO(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function aO(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Tv(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function If(e){this._context=e}If.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tv(this,this._t0,aO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Tv(this,aO(this,r=iO(this,e,t)),r);break;default:Tv(this,this._t0,r=iO(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function P3(e){this._context=new T3(e)}(P3.prototype=Object.create(If.prototype)).point=function(e,t){If.prototype.point.call(this,t,e)};function T3(e){this._context=e}T3.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function Qoe(e){return new If(e)}function Joe(e){return new P3(e)}function N3(e){this._context=e}N3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=oO(e),i=oO(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function oO(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Zoe(e){return new N3(e)}function Fp(e,t){this._context=e,this._t=t}Fp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function ese(e){return new Fp(e,.5)}function tse(e){return new Fp(e,0)}function rse(e){return new Fp(e,1)}function ws(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,s=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function zx(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function nse(e,t){return e[t]}function ise(e){const t=[];return t.key=e,t}function ase(){var e=kt([]),t=zx,r=ws,n=nse;function i(a){var o=Array.from(e.apply(this,arguments),ise),s,l=o.length,c=-1,u;for(const f of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+n(f,o[s].key,c,a)]).data=f;for(s=0,u=G_(t(o));s<l;++s)o[u[s]].index=s;return r(o,u),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:kt(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:kt(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?zx:typeof a=="function"?a:kt(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??ws,i):r},i}function ose(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}ws(e,t)}}function sse(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}ws(e,t)}}function lse(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,c=0;s<o;++s){for(var u=e[t[s]],f=u[n][1]||0,p=u[n-1][1]||0,h=(f-p)/2,v=0;v<s;++v){var m=e[t[v]],g=m[n][1]||0,y=m[n-1][1]||0;h+=g-y}l+=f,c+=h*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,ws(e,t)}}function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}var cse=["type","size","sizeType"];function qx(){return qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qx.apply(this,arguments)}function sO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(r),!0).forEach(function(n){use(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function use(e,t,r){return t=dse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dse(e){var t=fse(e,"string");return $c(t)=="symbol"?t:t+""}function fse(e,t){if($c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hse(e,t){if(e==null)return{};var r=pse(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var R3={symbolCircle:Y_,symbolCross:Doe,symbolDiamond:$oe,symbolSquare:Loe,symbolStar:qoe,symbolTriangle:Uoe,symbolWye:Hoe},mse=Math.PI/180,gse=function(t){var r="symbol".concat(Mp(t));return R3[r]||Y_},vse=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*mse;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},yse=function(t,r){R3["symbol".concat(Mp(t))]=r},Bp=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,a=i===void 0?64:i,o=t.sizeType,s=o===void 0?"area":o,l=hse(t,cse),c=lO(lO({},l),{},{type:n,size:a,sizeType:s}),u=function(){var g=gse(n),y=Voe().type(g).size(vse(a,s,n));return y()},f=c.className,p=c.cx,h=c.cy,v=xe(c,!0);return p===+p&&h===+h&&a===+a?I.createElement("path",qx({},v,{className:Me("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(h,")"),d:u()})):null};Bp.registerSymbol=yse;function _s(e){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_s(e)}function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ux.apply(this,arguments)}function cO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bse(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cO(Object(r),!0).forEach(function(n){Lc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D3(n.key),n)}}function _se(e,t,r){return t&&wse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sse(e,t,r){return t=Df(t),jse(e,I3()?Reflect.construct(t,r||[],Df(e).constructor):t.apply(e,r))}function jse(e,t){if(t&&(_s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kse(e)}function kse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I3=function(){return!!e})()}function Df(e){return Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Df(e)}function Ese(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wx(e,t)}function Wx(e,t){return Wx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Wx(e,t)}function Lc(e,t,r){return t=D3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D3(e){var t=Ase(e,"string");return _s(t)=="symbol"?t:t+""}function Ase(e,t){if(_s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zr=32,X_=(function(e){function t(){return xse(this,t),Sse(this,t,arguments)}return Ese(t,e),_se(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Zr/2,o=Zr/6,s=Zr/3,l=n.inactive?i:n.color;if(n.type==="plainline")return I.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Zr,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Zr,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return I.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Zr/8,"h").concat(Zr,"v").concat(Zr*3/4,"h").concat(-Zr,"z"),className:"recharts-legend-icon"});if(I.isValidElement(n.legendIcon)){var c=bse({},n);return delete c.legendIcon,I.cloneElement(n.legendIcon,c)}return I.createElement(Bp,{fill:l,cx:a,cy:a,size:Zr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:Zr,height:Zr},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(h,v){var m=h.formatter||l,g=Me(Lc(Lc({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",h.inactive));if(h.type==="none")return null;var y=Pe(h.value)?null:h.value;Rn(!Pe(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=h.inactive?c:h.color;return I.createElement("li",Ux({className:g,style:f,key:"legend-item-".concat(v)},_a(n.props,h,v)),I.createElement(Mx,{width:o,height:o,viewBox:u,style:p},n.renderIcon(h)),I.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(y,h,v):y))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])})(S.PureComponent);Lc(X_,"displayName","Legend");Lc(X_,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Nv,uO;function Ose(){if(uO)return Nv;uO=1;var e=Rp();function t(){this.__data__=new e,this.size=0}return Nv=t,Nv}var Rv,dO;function Cse(){if(dO)return Rv;dO=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return Rv=e,Rv}var Iv,fO;function Pse(){if(fO)return Iv;fO=1;function e(t){return this.__data__.get(t)}return Iv=e,Iv}var Dv,hO;function Tse(){if(hO)return Dv;hO=1;function e(t){return this.__data__.has(t)}return Dv=e,Dv}var Mv,pO;function Nse(){if(pO)return Mv;pO=1;var e=Rp(),t=z_(),r=q_(),n=200;function i(a,o){var s=this.__data__;if(s instanceof e){var l=s.__data__;if(!t||l.length<n-1)return l.push([a,o]),this.size=++s.size,this;s=this.__data__=new r(l)}return s.set(a,o),this.size=s.size,this}return Mv=i,Mv}var $v,mO;function M3(){if(mO)return $v;mO=1;var e=Rp(),t=Ose(),r=Cse(),n=Pse(),i=Tse(),a=Nse();function o(s){var l=this.__data__=new e(s);this.size=l.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,$v=o,$v}var Lv,gO;function Rse(){if(gO)return Lv;gO=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return Lv=t,Lv}var Fv,vO;function Ise(){if(vO)return Fv;vO=1;function e(t){return this.__data__.has(t)}return Fv=e,Fv}var Bv,yO;function $3(){if(yO)return Bv;yO=1;var e=q_(),t=Rse(),r=Ise();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new e;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,Bv=n,Bv}var zv,bO;function L3(){if(bO)return zv;bO=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(t[n],n,t))return!0;return!1}return zv=e,zv}var qv,xO;function F3(){if(xO)return qv;xO=1;function e(t,r){return t.has(r)}return qv=e,qv}var Uv,wO;function B3(){if(wO)return Uv;wO=1;var e=$3(),t=L3(),r=F3(),n=1,i=2;function a(o,s,l,c,u,f){var p=l&n,h=o.length,v=s.length;if(h!=v&&!(p&&v>h))return!1;var m=f.get(o),g=f.get(s);if(m&&g)return m==s&&g==o;var y=-1,b=!0,x=l&i?new e:void 0;for(f.set(o,s),f.set(s,o);++y<h;){var _=o[y],w=s[y];if(c)var j=p?c(w,_,y,s,o,f):c(_,w,y,o,s,f);if(j!==void 0){if(j)continue;b=!1;break}if(x){if(!t(s,function(k,C){if(!r(x,C)&&(_===k||u(_,k,l,c,f)))return x.push(C)})){b=!1;break}}else if(!(_===w||u(_,w,l,c,f))){b=!1;break}}return f.delete(o),f.delete(s),b}return Uv=a,Uv}var Wv,_O;function Dse(){if(_O)return Wv;_O=1;var e=fi(),t=e.Uint8Array;return Wv=t,Wv}var Hv,SO;function Mse(){if(SO)return Hv;SO=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i,a){n[++r]=[a,i]}),n}return Hv=e,Hv}var Vv,jO;function Q_(){if(jO)return Vv;jO=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i){n[++r]=i}),n}return Vv=e,Vv}var Kv,kO;function $se(){if(kO)return Kv;kO=1;var e=Fu(),t=Dse(),r=B_(),n=B3(),i=Mse(),a=Q_(),o=1,s=2,l="[object Boolean]",c="[object Date]",u="[object Error]",f="[object Map]",p="[object Number]",h="[object RegExp]",v="[object Set]",m="[object String]",g="[object Symbol]",y="[object ArrayBuffer]",b="[object DataView]",x=e?e.prototype:void 0,_=x?x.valueOf:void 0;function w(j,k,C,P,O,T,N){switch(C){case b:if(j.byteLength!=k.byteLength||j.byteOffset!=k.byteOffset)return!1;j=j.buffer,k=k.buffer;case y:return!(j.byteLength!=k.byteLength||!T(new t(j),new t(k)));case l:case c:case p:return r(+j,+k);case u:return j.name==k.name&&j.message==k.message;case h:case m:return j==k+"";case f:var D=i;case v:var E=P&o;if(D||(D=a),j.size!=k.size&&!E)return!1;var R=N.get(j);if(R)return R==k;P|=s,N.set(j,k);var B=n(D(j),D(k),P,O,T,N);return N.delete(j),B;case g:if(_)return _.call(j)==_.call(k)}return!1}return Kv=w,Kv}var Gv,EO;function z3(){if(EO)return Gv;EO=1;function e(t,r){for(var n=-1,i=r.length,a=t.length;++n<i;)t[a+n]=r[n];return t}return Gv=e,Gv}var Yv,AO;function Lse(){if(AO)return Yv;AO=1;var e=z3(),t=$r();function r(n,i,a){var o=i(n);return t(n)?o:e(o,a(n))}return Yv=r,Yv}var Xv,OO;function Fse(){if(OO)return Xv;OO=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,a=0,o=[];++n<i;){var s=t[n];r(s,n,t)&&(o[a++]=s)}return o}return Xv=e,Xv}var Qv,CO;function Bse(){if(CO)return Qv;CO=1;function e(){return[]}return Qv=e,Qv}var Jv,PO;function zse(){if(PO)return Jv;PO=1;var e=Fse(),t=Bse(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(s){return n.call(o,s)}))}:t;return Jv=a,Jv}var Zv,TO;function qse(){if(TO)return Zv;TO=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return Zv=e,Zv}var ey,NO;function Use(){if(NO)return ey;NO=1;var e=Bi(),t=zi(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return ey=n,ey}var ty,RO;function J_(){if(RO)return ty;RO=1;var e=Use(),t=zi(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=e((function(){return arguments})())?e:function(o){return t(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return ty=a,ty}var Jl={exports:{}},ry,IO;function Wse(){if(IO)return ry;IO=1;function e(){return!1}return ry=e,ry}Jl.exports;var DO;function q3(){return DO||(DO=1,(function(e,t){var r=fi(),n=Wse(),i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;e.exports=c})(Jl,Jl.exports)),Jl.exports}var ny,MO;function Z_(){if(MO)return ny;MO=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??e,!!i&&(a=="number"||a!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return ny=r,ny}var iy,$O;function eS(){if($O)return iy;$O=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return iy=t,iy}var ay,LO;function Hse(){if(LO)return ay;LO=1;var e=Bi(),t=eS(),r=zi(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",s="[object Error]",l="[object Function]",c="[object Map]",u="[object Number]",f="[object Object]",p="[object RegExp]",h="[object Set]",v="[object String]",m="[object WeakMap]",g="[object ArrayBuffer]",y="[object DataView]",b="[object Float32Array]",x="[object Float64Array]",_="[object Int8Array]",w="[object Int16Array]",j="[object Int32Array]",k="[object Uint8Array]",C="[object Uint8ClampedArray]",P="[object Uint16Array]",O="[object Uint32Array]",T={};T[b]=T[x]=T[_]=T[w]=T[j]=T[k]=T[C]=T[P]=T[O]=!0,T[n]=T[i]=T[g]=T[a]=T[y]=T[o]=T[s]=T[l]=T[c]=T[u]=T[f]=T[p]=T[h]=T[v]=T[m]=!1;function N(D){return r(D)&&t(D.length)&&!!T[e(D)]}return ay=N,ay}var oy,FO;function U3(){if(FO)return oy;FO=1;function e(t){return function(r){return t(r)}}return oy=e,oy}var Zl={exports:{}};Zl.exports;var BO;function Vse(){return BO||(BO=1,(function(e,t){var r=l3(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,o=a&&r.process,s=(function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}})();e.exports=s})(Zl,Zl.exports)),Zl.exports}var sy,zO;function W3(){if(zO)return sy;zO=1;var e=Hse(),t=U3(),r=Vse(),n=r&&r.isTypedArray,i=n?t(n):e;return sy=i,sy}var ly,qO;function Kse(){if(qO)return ly;qO=1;var e=qse(),t=J_(),r=$r(),n=q3(),i=Z_(),a=W3(),o=Object.prototype,s=o.hasOwnProperty;function l(c,u){var f=r(c),p=!f&&t(c),h=!f&&!p&&n(c),v=!f&&!p&&!h&&a(c),m=f||p||h||v,g=m?e(c.length,String):[],y=g.length;for(var b in c)(u||s.call(c,b))&&!(m&&(b=="length"||h&&(b=="offset"||b=="parent")||v&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||i(b,y)))&&g.push(b);return g}return ly=l,ly}var cy,UO;function Gse(){if(UO)return cy;UO=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return cy=t,cy}var uy,WO;function H3(){if(WO)return uy;WO=1;function e(t,r){return function(n){return t(r(n))}}return uy=e,uy}var dy,HO;function Yse(){if(HO)return dy;HO=1;var e=H3(),t=e(Object.keys,Object);return dy=t,dy}var fy,VO;function Xse(){if(VO)return fy;VO=1;var e=Gse(),t=Yse(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!e(a))return t(a);var o=[];for(var s in Object(a))n.call(a,s)&&s!="constructor"&&o.push(s);return o}return fy=i,fy}var hy,KO;function Bu(){if(KO)return hy;KO=1;var e=F_(),t=eS();function r(n){return n!=null&&t(n.length)&&!e(n)}return hy=r,hy}var py,GO;function zp(){if(GO)return py;GO=1;var e=Kse(),t=Xse(),r=Bu();function n(i){return r(i)?e(i):t(i)}return py=n,py}var my,YO;function Qse(){if(YO)return my;YO=1;var e=Lse(),t=zse(),r=zp();function n(i){return e(i,r,t)}return my=n,my}var gy,XO;function Jse(){if(XO)return gy;XO=1;var e=Qse(),t=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,o,s,l,c,u){var f=s&t,p=e(a),h=p.length,v=e(o),m=v.length;if(h!=m&&!f)return!1;for(var g=h;g--;){var y=p[g];if(!(f?y in o:n.call(o,y)))return!1}var b=u.get(a),x=u.get(o);if(b&&x)return b==o&&x==a;var _=!0;u.set(a,o),u.set(o,a);for(var w=f;++g<h;){y=p[g];var j=a[y],k=o[y];if(l)var C=f?l(k,j,y,o,a,u):l(j,k,y,a,o,u);if(!(C===void 0?j===k||c(j,k,s,l,u):C)){_=!1;break}w||(w=y=="constructor")}if(_&&!w){var P=a.constructor,O=o.constructor;P!=O&&"constructor"in a&&"constructor"in o&&!(typeof P=="function"&&P instanceof P&&typeof O=="function"&&O instanceof O)&&(_=!1)}return u.delete(a),u.delete(o),_}return gy=i,gy}var vy,QO;function Zse(){if(QO)return vy;QO=1;var e=Oo(),t=fi(),r=e(t,"DataView");return vy=r,vy}var yy,JO;function ele(){if(JO)return yy;JO=1;var e=Oo(),t=fi(),r=e(t,"Promise");return yy=r,yy}var by,ZO;function V3(){if(ZO)return by;ZO=1;var e=Oo(),t=fi(),r=e(t,"Set");return by=r,by}var xy,eC;function tle(){if(eC)return xy;eC=1;var e=Oo(),t=fi(),r=e(t,"WeakMap");return xy=r,xy}var wy,tC;function rle(){if(tC)return wy;tC=1;var e=Zse(),t=z_(),r=ele(),n=V3(),i=tle(),a=Bi(),o=c3(),s="[object Map]",l="[object Object]",c="[object Promise]",u="[object Set]",f="[object WeakMap]",p="[object DataView]",h=o(e),v=o(t),m=o(r),g=o(n),y=o(i),b=a;return(e&&b(new e(new ArrayBuffer(1)))!=p||t&&b(new t)!=s||r&&b(r.resolve())!=c||n&&b(new n)!=u||i&&b(new i)!=f)&&(b=function(x){var _=a(x),w=_==l?x.constructor:void 0,j=w?o(w):"";if(j)switch(j){case h:return p;case v:return s;case m:return c;case g:return u;case y:return f}return _}),wy=b,wy}var _y,rC;function nle(){if(rC)return _y;rC=1;var e=M3(),t=B3(),r=$se(),n=Jse(),i=rle(),a=$r(),o=q3(),s=W3(),l=1,c="[object Arguments]",u="[object Array]",f="[object Object]",p=Object.prototype,h=p.hasOwnProperty;function v(m,g,y,b,x,_){var w=a(m),j=a(g),k=w?u:i(m),C=j?u:i(g);k=k==c?f:k,C=C==c?f:C;var P=k==f,O=C==f,T=k==C;if(T&&o(m)){if(!o(g))return!1;w=!0,P=!1}if(T&&!P)return _||(_=new e),w||s(m)?t(m,g,y,b,x,_):r(m,g,k,y,b,x,_);if(!(y&l)){var N=P&&h.call(m,"__wrapped__"),D=O&&h.call(g,"__wrapped__");if(N||D){var E=N?m.value():m,R=D?g.value():g;return _||(_=new e),x(E,R,y,b,_)}}return T?(_||(_=new e),n(m,g,y,b,x,_)):!1}return _y=v,_y}var Sy,nC;function tS(){if(nC)return Sy;nC=1;var e=nle(),t=zi();function r(n,i,a,o,s){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:e(n,i,a,o,r,s)}return Sy=r,Sy}var jy,iC;function ile(){if(iC)return jy;iC=1;var e=M3(),t=tS(),r=1,n=2;function i(a,o,s,l){var c=s.length,u=c,f=!l;if(a==null)return!u;for(a=Object(a);c--;){var p=s[c];if(f&&p[2]?p[1]!==a[p[0]]:!(p[0]in a))return!1}for(;++c<u;){p=s[c];var h=p[0],v=a[h],m=p[1];if(f&&p[2]){if(v===void 0&&!(h in a))return!1}else{var g=new e;if(l)var y=l(v,m,h,a,o,g);if(!(y===void 0?t(m,v,r|n,l,g):y))return!1}}return!0}return jy=i,jy}var ky,aC;function K3(){if(aC)return ky;aC=1;var e=Aa();function t(r){return r===r&&!e(r)}return ky=t,ky}var Ey,oC;function ale(){if(oC)return Ey;oC=1;var e=K3(),t=zp();function r(n){for(var i=t(n),a=i.length;a--;){var o=i[a],s=n[o];i[a]=[o,s,e(s)]}return i}return Ey=r,Ey}var Ay,sC;function G3(){if(sC)return Ay;sC=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return Ay=e,Ay}var Oy,lC;function ole(){if(lC)return Oy;lC=1;var e=ile(),t=ale(),r=G3();function n(i){var a=t(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(o){return o===i||e(o,i,a)}}return Oy=n,Oy}var Cy,cC;function sle(){if(cC)return Cy;cC=1;function e(t,r){return t!=null&&r in Object(t)}return Cy=e,Cy}var Py,uC;function lle(){if(uC)return Py;uC=1;var e=f3(),t=J_(),r=$r(),n=Z_(),i=eS(),a=Dp();function o(s,l,c){l=e(l,s);for(var u=-1,f=l.length,p=!1;++u<f;){var h=a(l[u]);if(!(p=s!=null&&c(s,h)))break;s=s[h]}return p||++u!=f?p:(f=s==null?0:s.length,!!f&&i(f)&&n(h,f)&&(r(s)||t(s)))}return Py=o,Py}var Ty,dC;function cle(){if(dC)return Ty;dC=1;var e=sle(),t=lle();function r(n,i){return n!=null&&t(n,i,e)}return Ty=r,Ty}var Ny,fC;function ule(){if(fC)return Ny;fC=1;var e=tS(),t=h3(),r=cle(),n=L_(),i=K3(),a=G3(),o=Dp(),s=1,l=2;function c(u,f){return n(u)&&i(f)?a(o(u),f):function(p){var h=t(p,u);return h===void 0&&h===f?r(p,u):e(f,h,s|l)}}return Ny=c,Ny}var Ry,hC;function gl(){if(hC)return Ry;hC=1;function e(t){return t}return Ry=e,Ry}var Iy,pC;function dle(){if(pC)return Iy;pC=1;function e(t){return function(r){return r?.[t]}}return Iy=e,Iy}var Dy,mC;function fle(){if(mC)return Dy;mC=1;var e=W_();function t(r){return function(n){return e(n,r)}}return Dy=t,Dy}var My,gC;function hle(){if(gC)return My;gC=1;var e=dle(),t=fle(),r=L_(),n=Dp();function i(a){return r(a)?e(n(a)):t(a)}return My=i,My}var $y,vC;function hi(){if(vC)return $y;vC=1;var e=ole(),t=ule(),r=gl(),n=$r(),i=hle();function a(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):i(o)}return $y=a,$y}var Ly,yC;function Y3(){if(yC)return Ly;yC=1;function e(t,r,n,i){for(var a=t.length,o=n+(i?1:-1);i?o--:++o<a;)if(r(t[o],o,t))return o;return-1}return Ly=e,Ly}var Fy,bC;function ple(){if(bC)return Fy;bC=1;function e(t){return t!==t}return Fy=e,Fy}var By,xC;function mle(){if(xC)return By;xC=1;function e(t,r,n){for(var i=n-1,a=t.length;++i<a;)if(t[i]===r)return i;return-1}return By=e,By}var zy,wC;function gle(){if(wC)return zy;wC=1;var e=Y3(),t=ple(),r=mle();function n(i,a,o){return a===a?r(i,a,o):e(i,t,o)}return zy=n,zy}var qy,_C;function vle(){if(_C)return qy;_C=1;var e=gle();function t(r,n){var i=r==null?0:r.length;return!!i&&e(r,n,0)>-1}return qy=t,qy}var Uy,SC;function yle(){if(SC)return Uy;SC=1;function e(t,r,n){for(var i=-1,a=t==null?0:t.length;++i<a;)if(n(r,t[i]))return!0;return!1}return Uy=e,Uy}var Wy,jC;function ble(){if(jC)return Wy;jC=1;function e(){}return Wy=e,Wy}var Hy,kC;function xle(){if(kC)return Hy;kC=1;var e=V3(),t=ble(),r=Q_(),n=1/0,i=e&&1/r(new e([,-0]))[1]==n?function(a){return new e(a)}:t;return Hy=i,Hy}var Vy,EC;function wle(){if(EC)return Vy;EC=1;var e=$3(),t=vle(),r=yle(),n=F3(),i=xle(),a=Q_(),o=200;function s(l,c,u){var f=-1,p=t,h=l.length,v=!0,m=[],g=m;if(u)v=!1,p=r;else if(h>=o){var y=c?null:i(l);if(y)return a(y);v=!1,p=n,g=new e}else g=c?[]:m;e:for(;++f<h;){var b=l[f],x=c?c(b):b;if(b=u||b!==0?b:0,v&&x===x){for(var _=g.length;_--;)if(g[_]===x)continue e;c&&g.push(x),m.push(b)}else p(g,x,u)||(g!==m&&g.push(x),m.push(b))}return m}return Vy=s,Vy}var Ky,AC;function _le(){if(AC)return Ky;AC=1;var e=hi(),t=wle();function r(n,i){return n&&n.length?t(n,e(i,2)):[]}return Ky=r,Ky}var Sle=_le();const OC=it(Sle);function X3(e,t,r){return t===!0?OC(e,r):Pe(t)?OC(e,t):e}function Ss(e){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(e)}var jle=["ref"];function CC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(r),!0).forEach(function(n){qp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,J3(n.key),n)}}function Ele(e,t,r){return t&&PC(e.prototype,t),r&&PC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ale(e,t,r){return t=Mf(t),Ole(e,Q3()?Reflect.construct(t,r||[],Mf(e).constructor):t.apply(e,r))}function Ole(e,t){if(t&&(Ss(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cle(e)}function Cle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q3=function(){return!!e})()}function Mf(e){return Mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mf(e)}function Ple(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hx(e,t)}function Hx(e,t){return Hx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hx(e,t)}function qp(e,t,r){return t=J3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J3(e){var t=Tle(e,"string");return Ss(t)=="symbol"?t:t+""}function Tle(e,t){if(Ss(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Nle(e,t){if(e==null)return{};var r=Rle(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ile(e){return e.value}function Dle(e,t){if(I.isValidElement(e))return I.cloneElement(e,t);if(typeof e=="function")return I.createElement(e,t);t.ref;var r=Nle(t,jle);return I.createElement(X_,r)}var TC=1,Vr=(function(e){function t(){var r;kle(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Ale(this,t,[].concat(i)),qp(r,"lastBoundingBox",{width:-1,height:-1}),r}return Ple(t,e),Ele(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>TC||Math.abs(i.height-this.lastBoundingBox.height)>TC)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?vi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var h=this.getBBoxSnapshot();f={left:((c||0)-h.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();p={top:((u||0)-v.height)/2}}else p=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return vi(vi({},f),p)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=vi(vi({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return I.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},Dle(a,vi(vi({},this.props),{},{payload:X3(u,c,Ile)})))}}],[{key:"getWithHeight",value:function(n,i){var a=vi(vi({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&pe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])})(S.PureComponent);qp(Vr,"displayName","Legend");qp(Vr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Gy,NC;function Mle(){if(NC)return Gy;NC=1;var e=Fu(),t=J_(),r=$r(),n=e?e.isConcatSpreadable:void 0;function i(a){return r(a)||t(a)||!!(n&&a&&a[n])}return Gy=i,Gy}var Yy,RC;function Z3(){if(RC)return Yy;RC=1;var e=z3(),t=Mle();function r(n,i,a,o,s){var l=-1,c=n.length;for(a||(a=t),s||(s=[]);++l<c;){var u=n[l];i>0&&a(u)?i>1?r(u,i-1,a,o,s):e(s,u):o||(s[s.length]=u)}return s}return Yy=r,Yy}var Xy,IC;function $le(){if(IC)return Xy;IC=1;function e(t){return function(r,n,i){for(var a=-1,o=Object(r),s=i(r),l=s.length;l--;){var c=s[t?l:++a];if(n(o[c],c,o)===!1)break}return r}}return Xy=e,Xy}var Qy,DC;function Lle(){if(DC)return Qy;DC=1;var e=$le(),t=e();return Qy=t,Qy}var Jy,MC;function e4(){if(MC)return Jy;MC=1;var e=Lle(),t=zp();function r(n,i){return n&&e(n,i,t)}return Jy=r,Jy}var Zy,$C;function Fle(){if($C)return Zy;$C=1;var e=Bu();function t(r,n){return function(i,a){if(i==null)return i;if(!e(i))return r(i,a);for(var o=i.length,s=n?o:-1,l=Object(i);(n?s--:++s<o)&&a(l[s],s,l)!==!1;);return i}}return Zy=t,Zy}var eb,LC;function rS(){if(LC)return eb;LC=1;var e=e4(),t=Fle(),r=t(e);return eb=r,eb}var tb,FC;function t4(){if(FC)return tb;FC=1;var e=rS(),t=Bu();function r(n,i){var a=-1,o=t(n)?Array(n.length):[];return e(n,function(s,l,c){o[++a]=i(s,l,c)}),o}return tb=r,tb}var rb,BC;function Ble(){if(BC)return rb;BC=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return rb=e,rb}var nb,zC;function zle(){if(zC)return nb;zC=1;var e=hl();function t(r,n){if(r!==n){var i=r!==void 0,a=r===null,o=r===r,s=e(r),l=n!==void 0,c=n===null,u=n===n,f=e(n);if(!c&&!f&&!s&&r>n||s&&l&&u&&!c&&!f||a&&l&&u||!i&&u||!o)return 1;if(!a&&!s&&!f&&r<n||f&&i&&o&&!a&&!s||c&&i&&o||!l&&o||!u)return-1}return 0}return nb=t,nb}var ib,qC;function qle(){if(qC)return ib;qC=1;var e=zle();function t(r,n,i){for(var a=-1,o=r.criteria,s=n.criteria,l=o.length,c=i.length;++a<l;){var u=e(o[a],s[a]);if(u){if(a>=c)return u;var f=i[a];return u*(f=="desc"?-1:1)}}return r.index-n.index}return ib=t,ib}var ab,UC;function Ule(){if(UC)return ab;UC=1;var e=U_(),t=W_(),r=hi(),n=t4(),i=Ble(),a=U3(),o=qle(),s=gl(),l=$r();function c(u,f,p){f.length?f=e(f,function(m){return l(m)?function(g){return t(g,m.length===1?m[0]:m)}:m}):f=[s];var h=-1;f=e(f,a(r));var v=n(u,function(m,g,y){var b=e(f,function(x){return x(m)});return{criteria:b,index:++h,value:m}});return i(v,function(m,g){return o(m,g,p)})}return ab=c,ab}var ob,WC;function Wle(){if(WC)return ob;WC=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return ob=e,ob}var sb,HC;function Hle(){if(HC)return sb;HC=1;var e=Wle(),t=Math.max;function r(n,i,a){return i=t(i===void 0?n.length-1:i,0),function(){for(var o=arguments,s=-1,l=t(o.length-i,0),c=Array(l);++s<l;)c[s]=o[i+s];s=-1;for(var u=Array(i+1);++s<i;)u[s]=o[s];return u[i]=a(c),e(n,this,u)}}return sb=r,sb}var lb,VC;function Vle(){if(VC)return lb;VC=1;function e(t){return function(){return t}}return lb=e,lb}var cb,KC;function r4(){if(KC)return cb;KC=1;var e=Oo(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return cb=t,cb}var ub,GC;function Kle(){if(GC)return ub;GC=1;var e=Vle(),t=r4(),r=gl(),n=t?function(i,a){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(a),writable:!0})}:r;return ub=n,ub}var db,YC;function Gle(){if(YC)return db;YC=1;var e=800,t=16,r=Date.now;function n(i){var a=0,o=0;return function(){var s=r(),l=t-(s-o);if(o=s,l>0){if(++a>=e)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return db=n,db}var fb,XC;function Yle(){if(XC)return fb;XC=1;var e=Kle(),t=Gle(),r=t(e);return fb=r,fb}var hb,QC;function Xle(){if(QC)return hb;QC=1;var e=gl(),t=Hle(),r=Yle();function n(i,a){return r(t(i,a,e),i+"")}return hb=n,hb}var pb,JC;function Up(){if(JC)return pb;JC=1;var e=B_(),t=Bu(),r=Z_(),n=Aa();function i(a,o,s){if(!n(s))return!1;var l=typeof o;return(l=="number"?t(s)&&r(o,s.length):l=="string"&&o in s)?e(s[o],a):!1}return pb=i,pb}var mb,ZC;function Qle(){if(ZC)return mb;ZC=1;var e=Z3(),t=Ule(),r=Xle(),n=Up(),i=r(function(a,o){if(a==null)return[];var s=o.length;return s>1&&n(a,o[0],o[1])?o=[]:s>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(a,e(o,1),[])});return mb=i,mb}var Jle=Qle();const nS=it(Jle);function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function Vx(){return Vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vx.apply(this,arguments)}function Zle(e,t){return nce(e)||rce(e,t)||tce(e,t)||ece()}function ece(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tce(e,t){if(e){if(typeof e=="string")return eP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eP(e,t)}}function eP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function nce(e){if(Array.isArray(e))return e}function tP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tP(Object(r),!0).forEach(function(n){ice(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ice(e,t,r){return t=ace(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ace(e){var t=oce(e,"string");return Fc(t)=="symbol"?t:t+""}function oce(e,t){if(Fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sce(e){return Array.isArray(e)&&er(e[0])&&er(e[1])?e.join(" ~ "):e}var lce=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,s=o===void 0?{}:o,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,f=t.formatter,p=t.itemSorter,h=t.wrapperClassName,v=t.labelClassName,m=t.label,g=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,x=function(){if(u&&u.length){var N={padding:0,margin:0},D=(p?nS(u,p):u).map(function(E,R){if(E.type==="none")return null;var B=gb({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},s),F=E.formatter||f||sce,U=E.value,L=E.name,M=U,H=L;if(F&&M!=null&&H!=null){var z=F(U,L,E,R,u);if(Array.isArray(z)){var $=Zle(z,2);M=$[0],H=$[1]}else M=z}return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:B},er(H)?I.createElement("span",{className:"recharts-tooltip-item-name"},H):null,er(H)?I.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,I.createElement("span",{className:"recharts-tooltip-item-value"},M),I.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:N},D)}return null},_=gb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=gb({margin:0},c),j=!Te(m),k=j?m:"",C=Me("recharts-default-tooltip",h),P=Me("recharts-tooltip-label",v);j&&g&&u!==void 0&&u!==null&&(k=g(m,u));var O=b?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",Vx({className:C,style:_},O),I.createElement("p",{className:P,style:w},I.isValidElement(k)?k:"".concat(k)),x())};function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function _d(e,t,r){return t=cce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cce(e){var t=uce(e,"string");return Bc(t)=="symbol"?t:t+""}function uce(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bl="recharts-tooltip-wrapper",dce={visibility:"hidden"};function fce(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Me(Bl,_d(_d(_d(_d({},"".concat(Bl,"-right"),pe(r)&&t&&pe(t.x)&&r>=t.x),"".concat(Bl,"-left"),pe(r)&&t&&pe(t.x)&&r<t.x),"".concat(Bl,"-bottom"),pe(n)&&t&&pe(t.y)&&n>=t.y),"".concat(Bl,"-top"),pe(n)&&t&&pe(t.y)&&n<t.y))}function rP(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(a&&pe(a[n]))return a[n];var u=r[n]-s-i,f=r[n]+i;if(t[n])return o[n]?u:f;if(o[n]){var p=u,h=l[n];return p<h?Math.max(f,l[n]):Math.max(u,l[n])}var v=f+s,m=l[n]+c;return v>m?Math.max(u,l[n]):Math.max(f,l[n])}function hce(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function pce(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,u,f;return o.height>0&&o.width>0&&r?(u=rP({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=rP({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=hce({translateX:u,translateY:f,useTranslate3d:s})):c=dce,{cssProperties:c,cssClasses:fce({translateX:u,translateY:f,coordinate:r})}}function js(e){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},js(e)}function nP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function iP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nP(Object(r),!0).forEach(function(n){Gx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i4(n.key),n)}}function vce(e,t,r){return t&&gce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yce(e,t,r){return t=$f(t),bce(e,n4()?Reflect.construct(t,r||[],$f(e).constructor):t.apply(e,r))}function bce(e,t){if(t&&(js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xce(e)}function xce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n4=function(){return!!e})()}function $f(e){return $f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$f(e)}function wce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kx(e,t)}function Kx(e,t){return Kx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Kx(e,t)}function Gx(e,t,r){return t=i4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i4(e){var t=_ce(e,"string");return js(t)=="symbol"?t:t+""}function _ce(e,t){if(js(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var aP=1,Sce=(function(e){function t(){var r;mce(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=yce(this,t,[].concat(i)),Gx(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Gx(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return wce(t,e),vce(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>aP||Math.abs(n.height-this.state.lastBoundingBox.height)>aP)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,p=i.isAnimationActive,h=i.offset,v=i.position,m=i.reverseDirection,g=i.useTranslate3d,y=i.viewBox,b=i.wrapperStyle,x=pce({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:h,position:v,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:y}),_=x.cssClasses,w=x.cssProperties,j=iP(iP({transition:p&&a?"transform ".concat(s,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return I.createElement("div",{tabIndex:-1,className:_,style:j,ref:function(C){n.wrapperNode=C}},c)}}])})(S.PureComponent),jce=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},pi={isSsr:jce()};function ks(e){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ks(e)}function oP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(r),!0).forEach(function(n){iS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ece(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o4(n.key),n)}}function Ace(e,t,r){return t&&Ece(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oce(e,t,r){return t=Lf(t),Cce(e,a4()?Reflect.construct(t,r||[],Lf(e).constructor):t.apply(e,r))}function Cce(e,t){if(t&&(ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pce(e)}function Pce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a4=function(){return!!e})()}function Lf(e){return Lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lf(e)}function Tce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yx(e,t)}function Yx(e,t){return Yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Yx(e,t)}function iS(e,t,r){return t=o4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o4(e){var t=Nce(e,"string");return ks(t)=="symbol"?t:t+""}function Nce(e,t){if(ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Rce(e){return e.dataKey}function Ice(e,t){return I.isValidElement(e)?I.cloneElement(e,t):typeof e=="function"?I.createElement(e,t):I.createElement(lce,t)}var Et=(function(e){function t(){return kce(this,t),Oce(this,t,arguments)}return Tce(t,e),Ace(t,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,p=i.isAnimationActive,h=i.offset,v=i.payload,m=i.payloadUniqBy,g=i.position,y=i.reverseDirection,b=i.useTranslate3d,x=i.viewBox,_=i.wrapperStyle,w=v??[];f&&w.length&&(w=X3(v.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),m,Rce));var j=w.length>0;return I.createElement(Sce,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:p,active:a,coordinate:u,hasPayload:j,offset:h,position:g,reverseDirection:y,useTranslate3d:b,viewBox:x,wrapperStyle:_},Ice(c,sP(sP({},this.props),{},{payload:w})))}}])})(S.PureComponent);iS(Et,"displayName","Tooltip");iS(Et,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!pi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var vb,lP;function Dce(){if(lP)return vb;lP=1;var e=fi(),t=function(){return e.Date.now()};return vb=t,vb}var yb,cP;function Mce(){if(cP)return yb;cP=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return yb=t,yb}var bb,uP;function $ce(){if(uP)return bb;uP=1;var e=Mce(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return bb=r,bb}var xb,dP;function s4(){if(dP)return xb;dP=1;var e=$ce(),t=Aa(),r=hl(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(c){if(typeof c=="number")return c;if(r(c))return n;if(t(c)){var u=typeof c.valueOf=="function"?c.valueOf():c;c=t(u)?u+"":u}if(typeof c!="string")return c===0?c:+c;c=e(c);var f=a.test(c);return f||o.test(c)?s(c.slice(2),f?2:8):i.test(c)?n:+c}return xb=l,xb}var wb,fP;function Lce(){if(fP)return wb;fP=1;var e=Aa(),t=Dce(),r=s4(),n="Expected a function",i=Math.max,a=Math.min;function o(s,l,c){var u,f,p,h,v,m,g=0,y=!1,b=!1,x=!0;if(typeof s!="function")throw new TypeError(n);l=r(l)||0,e(c)&&(y=!!c.leading,b="maxWait"in c,p=b?i(r(c.maxWait)||0,l):p,x="trailing"in c?!!c.trailing:x);function _(D){var E=u,R=f;return u=f=void 0,g=D,h=s.apply(R,E),h}function w(D){return g=D,v=setTimeout(C,l),y?_(D):h}function j(D){var E=D-m,R=D-g,B=l-E;return b?a(B,p-R):B}function k(D){var E=D-m,R=D-g;return m===void 0||E>=l||E<0||b&&R>=p}function C(){var D=t();if(k(D))return P(D);v=setTimeout(C,j(D))}function P(D){return v=void 0,x&&u?_(D):(u=f=void 0,h)}function O(){v!==void 0&&clearTimeout(v),g=0,u=m=f=v=void 0}function T(){return v===void 0?h:P(t())}function N(){var D=t(),E=k(D);if(u=arguments,f=this,m=D,E){if(v===void 0)return w(m);if(b)return clearTimeout(v),v=setTimeout(C,l),_(m)}return v===void 0&&(v=setTimeout(C,l)),h}return N.cancel=O,N.flush=T,N}return wb=o,wb}var _b,hP;function Fce(){if(hP)return _b;hP=1;var e=Lce(),t=Aa(),r="Expected a function";function n(i,a,o){var s=!0,l=!0;if(typeof i!="function")throw new TypeError(r);return t(o)&&(s="leading"in o?!!o.leading:s,l="trailing"in o?!!o.trailing:l),e(i,a,{leading:s,maxWait:a,trailing:l})}return _b=n,_b}var Bce=Fce();const l4=it(Bce);function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function pP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(r),!0).forEach(function(n){zce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zce(e,t,r){return t=qce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qce(e){var t=Uce(e,"string");return zc(t)=="symbol"?t:t+""}function Uce(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wce(e,t){return Gce(e)||Kce(e,t)||Vce(e,t)||Hce()}function Hce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vce(e,t){if(e){if(typeof e=="string")return mP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mP(e,t)}}function mP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Gce(e){if(Array.isArray(e))return e}var dr=S.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=e.width,o=a===void 0?"100%":a,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,u=c===void 0?0:c,f=e.minHeight,p=e.maxHeight,h=e.children,v=e.debounce,m=v===void 0?0:v,g=e.id,y=e.className,b=e.onResize,x=e.style,_=x===void 0?{}:x,w=S.useRef(null),j=S.useRef();j.current=b,S.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var k=S.useState({containerWidth:i.width,containerHeight:i.height}),C=Wce(k,2),P=C[0],O=C[1],T=S.useCallback(function(D,E){O(function(R){var B=Math.round(D),F=Math.round(E);return R.containerWidth===B&&R.containerHeight===F?R:{containerWidth:B,containerHeight:F}})},[]);S.useEffect(function(){var D=function(L){var M,H=L[0].contentRect,z=H.width,$=H.height;T(z,$),(M=j.current)===null||M===void 0||M.call(j,z,$)};m>0&&(D=l4(D,m,{trailing:!0,leading:!1}));var E=new ResizeObserver(D),R=w.current.getBoundingClientRect(),B=R.width,F=R.height;return T(B,F),E.observe(w.current),function(){E.disconnect()}},[T,m]);var N=S.useMemo(function(){var D=P.containerWidth,E=P.containerHeight;if(D<0||E<0)return null;Rn(Za(o)||Za(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Rn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var R=Za(o)?D:o,B=Za(l)?E:l;r&&r>0&&(R?B=R/r:B&&(R=B*r),p&&B>p&&(B=p)),Rn(R>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,B,o,l,u,f,r);var F=!Array.isArray(h)&&Ai(h.type).endsWith("Chart");return I.Children.map(h,function(U){return I.isValidElement(U)?S.cloneElement(U,Sd({width:R,height:B},F?{style:Sd({height:"100%",width:"100%",maxHeight:B,maxWidth:R},U.props.style)}:{})):U})},[r,h,l,p,f,u,P,o]);return I.createElement("div",{id:g?"".concat(g):void 0,className:Me("recharts-responsive-container",y),style:Sd(Sd({},_),{},{width:o,height:l,minWidth:u,minHeight:f,maxHeight:p}),ref:w},N)}),vl=function(t){return null};vl.displayName="Cell";function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}function gP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(r),!0).forEach(function(n){Yce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yce(e,t,r){return t=Xce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xce(e){var t=Qce(e,"string");return qc(t)=="symbol"?t:t+""}function Qce(e,t){if(qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uo={widthCache:{},cacheCount:0},Jce=2e3,Zce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},vP="recharts_measurement_span";function eue(e){var t=Xx({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var fc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||pi.isSsr)return{width:0,height:0};var n=eue(r),i=JSON.stringify({text:t,copyStyle:n});if(Uo.widthCache[i])return Uo.widthCache[i];try{var a=document.getElementById(vP);a||(a=document.createElement("span"),a.setAttribute("id",vP),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=Xx(Xx({},Zce),n);Object.assign(a.style,o),a.textContent="".concat(t);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Uo.widthCache[i]=l,++Uo.cacheCount>Jce&&(Uo.cacheCount=0,Uo.widthCache={}),l}catch{return{width:0,height:0}}},tue=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}function Ff(e,t){return aue(e)||iue(e,t)||nue(e,t)||rue()}function rue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nue(e,t){if(e){if(typeof e=="string")return yP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yP(e,t)}}function yP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function aue(e){if(Array.isArray(e))return e}function oue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lue(n.key),n)}}function sue(e,t,r){return t&&bP(e.prototype,t),r&&bP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lue(e){var t=cue(e,"string");return Uc(t)=="symbol"?t:t+""}function cue(e,t){if(Uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uue=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,due=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,c4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},fue=Object.keys(c4),Xo="NaN";function hue(e,t){return e*c4[t]}var jd=(function(){function e(t,r){oue(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!uue.test(r)&&(this.num=NaN,this.unit=""),fue.includes(r)&&(this.num=hue(t,r),this.unit="px")}return sue(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=due.exec(r))!==null&&n!==void 0?n:[],a=Ff(i,3),o=a[1],s=a[2];return new e(parseFloat(o),s??"")}}])})();function u4(e){if(e.includes(Xo))return Xo;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=xP.exec(t))!==null&&r!==void 0?r:[],i=Ff(n,4),a=i[1],o=i[2],s=i[3],l=jd.parse(a??""),c=jd.parse(s??""),u=o==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Xo;t=t.replace(xP,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,p=(f=wP.exec(t))!==null&&f!==void 0?f:[],h=Ff(p,4),v=h[1],m=h[2],g=h[3],y=jd.parse(v??""),b=jd.parse(g??""),x=m==="+"?y.add(b):y.subtract(b);if(x.isNaN())return Xo;t=t.replace(wP,x.toString())}return t}var _P=/\(([^()]*)\)/;function pue(e){for(var t=e;t.includes("(");){var r=_P.exec(t),n=Ff(r,2),i=n[1];t=t.replace(_P,u4(i))}return t}function mue(e){var t=e.replace(/\s+/g,"");return t=pue(t),t=u4(t),t}function gue(e){try{return mue(e)}catch{return Xo}}function Sb(e){var t=gue(e.slice(5,-1));return t===Xo?"":t}var vue=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],yue=["dx","dy","angle","className","breakAll"];function Qx(){return Qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qx.apply(this,arguments)}function SP(e,t){if(e==null)return{};var r=bue(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jP(e,t){return Sue(e)||_ue(e,t)||wue(e,t)||xue()}function xue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wue(e,t){if(e){if(typeof e=="string")return kP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kP(e,t)}}function kP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _ue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Sue(e){if(Array.isArray(e))return e}var d4=/[ \f\n\r\t\v\u2028\u2029]+/,f4=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var a=[];Te(r)||(n?a=r.toString().split(""):a=r.toString().split(d4));var o=a.map(function(l){return{word:l,width:fc(l,i).width}}),s=n?0:fc("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},jue=function(t,r,n,i,a){var o=t.maxLines,s=t.children,l=t.style,c=t.breakAll,u=pe(o),f=s,p=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce(function(B,F){var U=F.word,L=F.width,M=B[B.length-1];if(M&&(i==null||a||M.width+L+n<Number(i)))M.words.push(U),M.width+=L+n;else{var H={words:[U],width:L};B.push(H)}return B},[])},h=p(r),v=function(R){return R.reduce(function(B,F){return B.width>F.width?B:F})};if(!u)return h;for(var m="",g=function(R){var B=f.slice(0,R),F=f4({breakAll:c,style:l,children:B+m}).wordsWithComputedWidth,U=p(F),L=U.length>o||v(U).width>Number(i);return[L,U]},y=0,b=f.length-1,x=0,_;y<=b&&x<=f.length-1;){var w=Math.floor((y+b)/2),j=w-1,k=g(j),C=jP(k,2),P=C[0],O=C[1],T=g(w),N=jP(T,1),D=N[0];if(!P&&!D&&(y=w+1),P&&D&&(b=w-1),!P&&D){_=O;break}x++}return _||h},EP=function(t){var r=Te(t)?[]:t.toString().split(d4);return[{words:r}]},kue=function(t){var r=t.width,n=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,s=t.maxLines;if((r||n)&&!pi.isSsr){var l,c,u=f4({breakAll:o,children:i,style:a});if(u){var f=u.wordsWithComputedWidth,p=u.spaceWidth;l=f,c=p}else return EP(i);return jue({breakAll:o,children:i,maxLines:s,style:a},l,c,r,n)}return EP(i)},AP="#808080",bo=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,o=t.lineHeight,s=o===void 0?"1em":o,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,f=u===void 0?!1:u,p=t.textAnchor,h=p===void 0?"start":p,v=t.verticalAnchor,m=v===void 0?"end":v,g=t.fill,y=g===void 0?AP:g,b=SP(t,vue),x=S.useMemo(function(){return kue({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),_=b.dx,w=b.dy,j=b.angle,k=b.className,C=b.breakAll,P=SP(b,yue);if(!er(n)||!er(a))return null;var O=n+(pe(_)?_:0),T=a+(pe(w)?w:0),N;switch(m){case"start":N=Sb("calc(".concat(c,")"));break;case"middle":N=Sb("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:N=Sb("calc(".concat(x.length-1," * -").concat(s,")"));break}var D=[];if(f){var E=x[0].width,R=b.width;D.push("scale(".concat((pe(R)?R/E:1)/E,")"))}return j&&D.push("rotate(".concat(j,", ").concat(O,", ").concat(T,")")),D.length&&(P.transform=D.join(" ")),I.createElement("text",Qx({},xe(P,!0),{x:O,y:T,className:Me("recharts-text",k),textAnchor:h,fill:y.includes("url")?AP:y}),x.map(function(B,F){var U=B.words.join(C?"":" ");return I.createElement("tspan",{x:O,dy:F===0?N:s,key:"".concat(U,"-").concat(F)},U)}))};function va(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Eue(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function aS(e){let t,r,n;e.length!==2?(t=va,r=(s,l)=>va(e(s),l),n=(s,l)=>e(s)-l):(t=e===va||e===Eue?e:Aue,r=e,n=e);function i(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(s[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(s[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function o(s,l,c=0,u=s.length){const f=i(s,l,c,u-1);return f>c&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function Aue(){return 0}function h4(e){return e===null?NaN:+e}function*Oue(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Cue=aS(va),zu=Cue.right;aS(h4).center;class OP extends Map{constructor(t,r=Nue){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(CP(this,t))}has(t){return super.has(CP(this,t))}set(t,r){return super.set(Pue(this,t),r)}delete(t){return super.delete(Tue(this,t))}}function CP({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Pue({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Tue({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Nue(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Rue(e=va){if(e===va)return p4;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function p4(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Iue=Math.sqrt(50),Due=Math.sqrt(10),Mue=Math.sqrt(2);function Bf(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=Iue?10:a>=Due?5:a>=Mue?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?Bf(e,t,r*2):[s,l,c]}function Jx(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?Bf(t,e,r):Bf(e,t,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function Zx(e,t,r){return t=+t,e=+e,r=+r,Bf(e,t,r)[2]}function ew(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Zx(t,e,r):Zx(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function PP(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function TP(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function m4(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?p4:Rue(i);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(r,Math.floor(t-c*f/l+p)),v=Math.min(n,Math.floor(t+(l-c)*f/l+p));m4(e,t,h,v,i)}const a=e[t];let o=r,s=n;for(zl(e,r,t),i(e[n],a)>0&&zl(e,r,n);o<s;){for(zl(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[r],a)===0?zl(e,r,s):(++s,zl(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function zl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function $ue(e,t,r){if(e=Float64Array.from(Oue(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return TP(e);if(t>=1)return PP(e);var n,i=(n-1)*t,a=Math.floor(i),o=PP(m4(e,a).subarray(0,a+1)),s=TP(e.subarray(a+1));return o+(s-o)*(i-a)}}function Lue(e,t,r=h4){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),s=+r(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function Fue(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function yn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function qi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const tw=Symbol("implicit");function oS(){var e=new OP,t=[],r=[],n=tw;function i(a){let o=e.get(a);if(o===void 0){if(n!==tw)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new OP;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return oS(t,r).unknown(n)},yn.apply(i,arguments),i}function Wc(){var e=oS().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,s=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var p=t().length,h=i<n,v=h?i:n,m=h?n:i;a=(m-v)/Math.max(1,p-l+c*2),s&&(a=Math.floor(a)),v+=(m-v-a*(p-l))*u,o=a*(1-l),s&&(v=Math.round(v),o=Math.round(o));var g=Fue(p).map(function(y){return v+a*y});return r(h?g.reverse():g)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(p){return arguments.length?(s=!!p,f()):s},e.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),f()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},e.paddingOuter=function(p){return arguments.length?(c=+p,f()):c},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),f()):u},e.copy=function(){return Wc(t(),[n,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},yn.apply(f(),arguments)}function g4(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return g4(t())},e}function hc(){return g4(Wc.apply(null,arguments).paddingInner(1))}function sS(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function v4(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function qu(){}var Hc=.7,zf=1/Hc,fs="\\s*([+-]?\\d+)\\s*",Vc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ei="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bue=/^#([0-9a-f]{3,8})$/,zue=new RegExp(`^rgb\\(${fs},${fs},${fs}\\)$`),que=new RegExp(`^rgb\\(${ei},${ei},${ei}\\)$`),Uue=new RegExp(`^rgba\\(${fs},${fs},${fs},${Vc}\\)$`),Wue=new RegExp(`^rgba\\(${ei},${ei},${ei},${Vc}\\)$`),Hue=new RegExp(`^hsl\\(${Vc},${ei},${ei}\\)$`),Vue=new RegExp(`^hsla\\(${Vc},${ei},${ei},${Vc}\\)$`),NP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sS(qu,Kc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:RP,formatHex:RP,formatHex8:Kue,formatHsl:Gue,formatRgb:IP,toString:IP});function RP(){return this.rgb().formatHex()}function Kue(){return this.rgb().formatHex8()}function Gue(){return y4(this).formatHsl()}function IP(){return this.rgb().formatRgb()}function Kc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Bue.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?DP(t):r===3?new Ir(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?kd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?kd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=zue.exec(e))?new Ir(t[1],t[2],t[3],1):(t=que.exec(e))?new Ir(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Uue.exec(e))?kd(t[1],t[2],t[3],t[4]):(t=Wue.exec(e))?kd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Hue.exec(e))?LP(t[1],t[2]/100,t[3]/100,1):(t=Vue.exec(e))?LP(t[1],t[2]/100,t[3]/100,t[4]):NP.hasOwnProperty(e)?DP(NP[e]):e==="transparent"?new Ir(NaN,NaN,NaN,0):null}function DP(e){return new Ir(e>>16&255,e>>8&255,e&255,1)}function kd(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ir(e,t,r,n)}function Yue(e){return e instanceof qu||(e=Kc(e)),e?(e=e.rgb(),new Ir(e.r,e.g,e.b,e.opacity)):new Ir}function rw(e,t,r,n){return arguments.length===1?Yue(e):new Ir(e,t,r,n??1)}function Ir(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}sS(Ir,rw,v4(qu,{brighter(e){return e=e==null?zf:Math.pow(zf,e),new Ir(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Hc:Math.pow(Hc,e),new Ir(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ir(oo(this.r),oo(this.g),oo(this.b),qf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:MP,formatHex:MP,formatHex8:Xue,formatRgb:$P,toString:$P}));function MP(){return`#${eo(this.r)}${eo(this.g)}${eo(this.b)}`}function Xue(){return`#${eo(this.r)}${eo(this.g)}${eo(this.b)}${eo((isNaN(this.opacity)?1:this.opacity)*255)}`}function $P(){const e=qf(this.opacity);return`${e===1?"rgb(":"rgba("}${oo(this.r)}, ${oo(this.g)}, ${oo(this.b)}${e===1?")":`, ${e})`}`}function qf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function oo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function eo(e){return e=oo(e),(e<16?"0":"")+e.toString(16)}function LP(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Pn(e,t,r,n)}function y4(e){if(e instanceof Pn)return new Pn(e.h,e.s,e.l,e.opacity);if(e instanceof qu||(e=Kc(e)),!e)return new Pn;if(e instanceof Pn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Pn(o,s,l,e.opacity)}function Que(e,t,r,n){return arguments.length===1?y4(e):new Pn(e,t,r,n??1)}function Pn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}sS(Pn,Que,v4(qu,{brighter(e){return e=e==null?zf:Math.pow(zf,e),new Pn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Hc:Math.pow(Hc,e),new Pn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Ir(jb(e>=240?e-240:e+120,i,n),jb(e,i,n),jb(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Pn(FP(this.h),Ed(this.s),Ed(this.l),qf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=qf(this.opacity);return`${e===1?"hsl(":"hsla("}${FP(this.h)}, ${Ed(this.s)*100}%, ${Ed(this.l)*100}%${e===1?")":`, ${e})`}`}}));function FP(e){return e=(e||0)%360,e<0?e+360:e}function Ed(e){return Math.max(0,Math.min(1,e||0))}function jb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const lS=e=>()=>e;function Jue(e,t){return function(r){return e+r*t}}function Zue(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function ede(e){return(e=+e)==1?b4:function(t,r){return r-t?Zue(t,r,e):lS(isNaN(t)?r:t)}}function b4(e,t){var r=t-e;return r?Jue(e,r):lS(isNaN(e)?t:e)}const BP=(function e(t){var r=ede(t);function n(i,a){var o=r((i=rw(i)).r,(a=rw(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),c=b4(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=e,n})(1);function tde(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function rde(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function nde(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=yl(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function ide(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Uf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function ade(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=yl(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var nw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kb=new RegExp(nw.source,"g");function ode(e){return function(){return e}}function sde(e){return function(t){return e(t)+""}}function lde(e,t){var r=nw.lastIndex=kb.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=nw.exec(e))&&(i=kb.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Uf(n,i)})),r=kb.lastIndex;return r<t.length&&(a=t.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?sde(l[0].x):ode(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}function yl(e,t){var r=typeof t,n;return t==null||r==="boolean"?lS(t):(r==="number"?Uf:r==="string"?(n=Kc(t))?(t=n,BP):lde:t instanceof Kc?BP:t instanceof Date?ide:rde(t)?tde:Array.isArray(t)?nde:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ade:Uf)(e,t)}function cS(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function cde(e,t){t===void 0&&(t=e,e=yl);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function ude(e){return function(){return e}}function Wf(e){return+e}var zP=[0,1];function kr(e){return e}function iw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:ude(isNaN(t)?NaN:.5)}function dde(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function fde(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=iw(i,n),a=r(o,a)):(n=iw(n,i),a=r(a,o)),function(s){return a(n(s))}}function hde(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=iw(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(s){var l=zu(e,s,1,n)-1;return a[l](i[l](s))}}function Uu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Wp(){var e=zP,t=zP,r=yl,n,i,a,o=kr,s,l,c;function u(){var p=Math.min(e.length,t.length);return o!==kr&&(o=dde(e[0],e[p-1])),s=p>2?hde:fde,l=c=null,f}function f(p){return p==null||isNaN(p=+p)?a:(l||(l=s(e.map(n),t,r)))(n(o(p)))}return f.invert=function(p){return o(i((c||(c=s(t,e.map(n),Uf)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,Wf),u()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),u()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),r=cS,u()},f.clamp=function(p){return arguments.length?(o=p?!0:kr,u()):o!==kr},f.interpolate=function(p){return arguments.length?(r=p,u()):r},f.unknown=function(p){return arguments.length?(a=p,f):a},function(p,h){return n=p,i=h,u()}}function uS(){return Wp()(kr,kr)}function pde(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Hf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Es(e){return e=Hf(Math.abs(e)),e?e[1]:NaN}function mde(e,t){return function(r,n){for(var i=r.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function gde(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var vde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gc(e){if(!(t=vde.exec(e)))throw new Error("invalid format: "+e);var t;return new dS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Gc.prototype=dS.prototype;function dS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}dS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yde(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var x4;function bde(e,t){var r=Hf(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(x4=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Hf(e,Math.max(0,t+a-1))[0]}function qP(e,t){var r=Hf(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const UP={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:pde,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>qP(e*100,t),r:qP,s:bde,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function WP(e){return e}var HP=Array.prototype.map,VP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xde(e){var t=e.grouping===void 0||e.thousands===void 0?WP:mde(HP.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?WP:gde(HP.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=Gc(f);var p=f.fill,h=f.align,v=f.sign,m=f.symbol,g=f.zero,y=f.width,b=f.comma,x=f.precision,_=f.trim,w=f.type;w==="n"?(b=!0,w="g"):UP[w]||(x===void 0&&(x=12),_=!0,w="g"),(g||p==="0"&&h==="=")&&(g=!0,p="0",h="=");var j=m==="$"?r:m==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",k=m==="$"?n:/[%p]/.test(w)?o:"",C=UP[w],P=/[defgprs%]/.test(w);x=x===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function O(T){var N=j,D=k,E,R,B;if(w==="c")D=C(T)+D,T="";else{T=+T;var F=T<0||1/T<0;if(T=isNaN(T)?l:C(Math.abs(T),x),_&&(T=yde(T)),F&&+T==0&&v!=="+"&&(F=!1),N=(F?v==="("?v:s:v==="-"||v==="("?"":v)+N,D=(w==="s"?VP[8+x4/3]:"")+D+(F&&v==="("?")":""),P){for(E=-1,R=T.length;++E<R;)if(B=T.charCodeAt(E),48>B||B>57){D=(B===46?i+T.slice(E+1):T.slice(E))+D,T=T.slice(0,E);break}}}b&&!g&&(T=t(T,1/0));var U=N.length+T.length+D.length,L=U<y?new Array(y-U+1).join(p):"";switch(b&&g&&(T=t(L+T,L.length?y-D.length:1/0),L=""),h){case"<":T=N+T+D+L;break;case"=":T=N+L+T+D;break;case"^":T=L.slice(0,U=L.length>>1)+N+T+D+L.slice(U);break;default:T=L+N+T+D;break}return a(T)}return O.toString=function(){return f+""},O}function u(f,p){var h=c((f=Gc(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Es(p)/3)))*3,m=Math.pow(10,-v),g=VP[8+v/3];return function(y){return h(m*y)+g}}return{format:c,formatPrefix:u}}var Ad,fS,w4;wde({thousands:",",grouping:[3],currency:["$",""]});function wde(e){return Ad=xde(e),fS=Ad.format,w4=Ad.formatPrefix,Ad}function _de(e){return Math.max(0,-Es(Math.abs(e)))}function Sde(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Es(t)/3)))*3-Es(Math.abs(e)))}function jde(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Es(t)-Es(e))+1}function _4(e,t,r,n){var i=ew(e,t,r),a;switch(n=Gc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=Sde(i,o))&&(n.precision=a),w4(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=jde(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=_de(i))&&(n.precision=a-(n.type==="%")*2);break}}return fS(n)}function Ca(e){var t=e.domain;return e.ticks=function(r){var n=t();return Jx(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return _4(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],s=n[a],l,c,u=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);u-- >0;){if(c=Zx(o,s,r),c===l)return n[i]=o,n[a]=s,t(n);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function Vf(){var e=uS();return e.copy=function(){return Uu(e,Vf())},yn.apply(e,arguments),Ca(e)}function S4(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Wf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return S4(e).unknown(t)},e=arguments.length?Array.from(e,Wf):[0,1],Ca(r)}function j4(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function KP(e){return Math.log(e)}function GP(e){return Math.exp(e)}function kde(e){return-Math.log(-e)}function Ede(e){return-Math.exp(-e)}function Ade(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Ode(e){return e===10?Ade:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Cde(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function YP(e){return(t,r)=>-e(-t,r)}function hS(e){const t=e(KP,GP),r=t.domain;let n=10,i,a;function o(){return i=Cde(n),a=Ode(n),r()[0]<0?(i=YP(i),a=YP(a),e(kde,Ede)):e(KP,GP),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let p=i(c),h=i(u),v,m;const g=s==null?10:+s;let y=[];if(!(n%1)&&h-p<g){if(p=Math.floor(p),h=Math.ceil(h),c>0){for(;p<=h;++p)for(v=1;v<n;++v)if(m=p<0?v/a(-p):v*a(p),!(m<c)){if(m>u)break;y.push(m)}}else for(;p<=h;++p)for(v=n-1;v>=1;--v)if(m=p>0?v/a(-p):v*a(p),!(m<c)){if(m>u)break;y.push(m)}y.length*2<g&&(y=Jx(c,u,g))}else y=Jx(p,h,Math.min(h-p,g)).map(a);return f?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Gc(l)).precision==null&&(l.trim=!0),l=fS(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},t.nice=()=>r(j4(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function k4(){const e=hS(Wp()).domain([1,10]);return e.copy=()=>Uu(e,k4()).base(e.base()),yn.apply(e,arguments),e}function XP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function QP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function pS(e){var t=1,r=e(XP(t),QP(t));return r.constant=function(n){return arguments.length?e(XP(t=+n),QP(t)):t},Ca(r)}function E4(){var e=pS(Wp());return e.copy=function(){return Uu(e,E4()).constant(e.constant())},yn.apply(e,arguments)}function JP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Pde(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Tde(e){return e<0?-e*e:e*e}function mS(e){var t=e(kr,kr),r=1;function n(){return r===1?e(kr,kr):r===.5?e(Pde,Tde):e(JP(r),JP(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Ca(t)}function gS(){var e=mS(Wp());return e.copy=function(){return Uu(e,gS()).exponent(e.exponent())},yn.apply(e,arguments),e}function Nde(){return gS.apply(null,arguments).exponent(.5)}function ZP(e){return Math.sign(e)*e*e}function Rde(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function A4(){var e=uS(),t=[0,1],r=!1,n;function i(a){var o=Rde(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(ZP(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Wf)).map(ZP)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return A4(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},yn.apply(i,arguments),Ca(i)}function O4(){var e=[],t=[],r=[],n;function i(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=Lue(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:t[zu(r,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(va),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return O4().domain(e).range(t).unknown(n)},yn.apply(a,arguments)}function C4(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[zu(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return C4().domain([e,t]).range(i).unknown(a)},yn.apply(Ca(o),arguments)}function P4(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[zu(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return P4().domain(e).range(t).unknown(r)},yn.apply(i,arguments)}const Eb=new Date,Ab=new Date;function tr(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),t(a,s),e(a);while(c<a&&a<o);return l},i.filter=a=>tr(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(Eb.setTime(+a),Ab.setTime(+o),e(Eb),e(Ab),Math.floor(r(Eb,Ab))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Kf=tr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Kf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?tr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Kf);Kf.range;const _i=1e3,dn=_i*60,Si=dn*60,Ti=Si*24,vS=Ti*7,eT=Ti*30,Ob=Ti*365,to=tr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*_i)},(e,t)=>(t-e)/_i,e=>e.getUTCSeconds());to.range;const yS=tr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_i)},(e,t)=>{e.setTime(+e+t*dn)},(e,t)=>(t-e)/dn,e=>e.getMinutes());yS.range;const bS=tr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*dn)},(e,t)=>(t-e)/dn,e=>e.getUTCMinutes());bS.range;const xS=tr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_i-e.getMinutes()*dn)},(e,t)=>{e.setTime(+e+t*Si)},(e,t)=>(t-e)/Si,e=>e.getHours());xS.range;const wS=tr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Si)},(e,t)=>(t-e)/Si,e=>e.getUTCHours());wS.range;const Wu=tr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*dn)/Ti,e=>e.getDate()-1);Wu.range;const Hp=tr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ti,e=>e.getUTCDate()-1);Hp.range;const T4=tr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ti,e=>Math.floor(e/Ti));T4.range;function Co(e){return tr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*dn)/vS)}const Vp=Co(0),Gf=Co(1),Ide=Co(2),Dde=Co(3),As=Co(4),Mde=Co(5),$de=Co(6);Vp.range;Gf.range;Ide.range;Dde.range;As.range;Mde.range;$de.range;function Po(e){return tr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/vS)}const Kp=Po(0),Yf=Po(1),Lde=Po(2),Fde=Po(3),Os=Po(4),Bde=Po(5),zde=Po(6);Kp.range;Yf.range;Lde.range;Fde.range;Os.range;Bde.range;zde.range;const _S=tr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());_S.range;const SS=tr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());SS.range;const Ni=tr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ni.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:tr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ni.range;const Ri=tr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ri.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:tr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ri.range;function N4(e,t,r,n,i,a){const o=[[to,1,_i],[to,5,5*_i],[to,15,15*_i],[to,30,30*_i],[a,1,dn],[a,5,5*dn],[a,15,15*dn],[a,30,30*dn],[i,1,Si],[i,3,3*Si],[i,6,6*Si],[i,12,12*Si],[n,1,Ti],[n,2,2*Ti],[r,1,vS],[t,1,eT],[t,3,3*eT],[e,1,Ob]];function s(c,u,f){const p=u<c;p&&([c,u]=[u,c]);const h=f&&typeof f.range=="function"?f:l(c,u,f),v=h?h.range(c,+u+1):[];return p?v.reverse():v}function l(c,u,f){const p=Math.abs(u-c)/f,h=aS(([,,g])=>g).right(o,p);if(h===o.length)return e.every(ew(c/Ob,u/Ob,f));if(h===0)return Kf.every(Math.max(ew(c,u,f),1));const[v,m]=o[p/o[h-1][2]<o[h][2]/p?h-1:h];return v.every(m)}return[s,l]}const[qde,Ude]=N4(Ri,SS,Kp,T4,wS,bS),[Wde,Hde]=N4(Ni,_S,Vp,Wu,xS,yS);function Cb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Pb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ql(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Vde(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=Ul(i),u=Wl(i),f=Ul(a),p=Wl(a),h=Ul(o),v=Wl(o),m=Ul(s),g=Wl(s),y=Ul(l),b=Wl(l),x={a:F,A:U,b:L,B:M,c:null,d:oT,e:oT,f:mfe,g:kfe,G:Afe,H:ffe,I:hfe,j:pfe,L:R4,m:gfe,M:vfe,p:H,q:z,Q:cT,s:uT,S:yfe,u:bfe,U:xfe,V:wfe,w:_fe,W:Sfe,x:null,X:null,y:jfe,Y:Efe,Z:Ofe,"%":lT},_={a:$,A:Q,b:Z,B:fe,c:null,d:sT,e:sT,f:Nfe,g:qfe,G:Wfe,H:Cfe,I:Pfe,j:Tfe,L:D4,m:Rfe,M:Ife,p:le,q:ue,Q:cT,s:uT,S:Dfe,u:Mfe,U:$fe,V:Lfe,w:Ffe,W:Bfe,x:null,X:null,y:zfe,Y:Ufe,Z:Hfe,"%":lT},w={a:O,A:T,b:N,B:D,c:E,d:iT,e:iT,f:lfe,g:nT,G:rT,H:aT,I:aT,j:ife,L:sfe,m:nfe,M:afe,p:P,q:rfe,Q:ufe,s:dfe,S:ofe,u:Qde,U:Jde,V:Zde,w:Xde,W:efe,x:R,X:B,y:nT,Y:rT,Z:tfe,"%":cfe};x.x=j(r,x),x.X=j(n,x),x.c=j(t,x),_.x=j(r,_),_.X=j(n,_),_.c=j(t,_);function j(ee,te){return function(ce){var J=[],ne=-1,A=0,K=ee.length,V,W,q;for(ce instanceof Date||(ce=new Date(+ce));++ne<K;)ee.charCodeAt(ne)===37&&(J.push(ee.slice(A,ne)),(W=tT[V=ee.charAt(++ne)])!=null?V=ee.charAt(++ne):W=V==="e"?" ":"0",(q=te[V])&&(V=q(ce,W)),J.push(V),A=ne+1);return J.push(ee.slice(A,ne)),J.join("")}}function k(ee,te){return function(ce){var J=ql(1900,void 0,1),ne=C(J,ee,ce+="",0),A,K;if(ne!=ce.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(te&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(A=Pb(ql(J.y,0,1)),K=A.getUTCDay(),A=K>4||K===0?Yf.ceil(A):Yf(A),A=Hp.offset(A,(J.V-1)*7),J.y=A.getUTCFullYear(),J.m=A.getUTCMonth(),J.d=A.getUTCDate()+(J.w+6)%7):(A=Cb(ql(J.y,0,1)),K=A.getDay(),A=K>4||K===0?Gf.ceil(A):Gf(A),A=Wu.offset(A,(J.V-1)*7),J.y=A.getFullYear(),J.m=A.getMonth(),J.d=A.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),K="Z"in J?Pb(ql(J.y,0,1)).getUTCDay():Cb(ql(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(K+5)%7:J.w+J.U*7-(K+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,Pb(J)):Cb(J)}}function C(ee,te,ce,J){for(var ne=0,A=te.length,K=ce.length,V,W;ne<A;){if(J>=K)return-1;if(V=te.charCodeAt(ne++),V===37){if(V=te.charAt(ne++),W=w[V in tT?te.charAt(ne++):V],!W||(J=W(ee,ce,J))<0)return-1}else if(V!=ce.charCodeAt(J++))return-1}return J}function P(ee,te,ce){var J=c.exec(te.slice(ce));return J?(ee.p=u.get(J[0].toLowerCase()),ce+J[0].length):-1}function O(ee,te,ce){var J=h.exec(te.slice(ce));return J?(ee.w=v.get(J[0].toLowerCase()),ce+J[0].length):-1}function T(ee,te,ce){var J=f.exec(te.slice(ce));return J?(ee.w=p.get(J[0].toLowerCase()),ce+J[0].length):-1}function N(ee,te,ce){var J=y.exec(te.slice(ce));return J?(ee.m=b.get(J[0].toLowerCase()),ce+J[0].length):-1}function D(ee,te,ce){var J=m.exec(te.slice(ce));return J?(ee.m=g.get(J[0].toLowerCase()),ce+J[0].length):-1}function E(ee,te,ce){return C(ee,t,te,ce)}function R(ee,te,ce){return C(ee,r,te,ce)}function B(ee,te,ce){return C(ee,n,te,ce)}function F(ee){return o[ee.getDay()]}function U(ee){return a[ee.getDay()]}function L(ee){return l[ee.getMonth()]}function M(ee){return s[ee.getMonth()]}function H(ee){return i[+(ee.getHours()>=12)]}function z(ee){return 1+~~(ee.getMonth()/3)}function $(ee){return o[ee.getUTCDay()]}function Q(ee){return a[ee.getUTCDay()]}function Z(ee){return l[ee.getUTCMonth()]}function fe(ee){return s[ee.getUTCMonth()]}function le(ee){return i[+(ee.getUTCHours()>=12)]}function ue(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var te=j(ee+="",x);return te.toString=function(){return ee},te},parse:function(ee){var te=k(ee+="",!1);return te.toString=function(){return ee},te},utcFormat:function(ee){var te=j(ee+="",_);return te.toString=function(){return ee},te},utcParse:function(ee){var te=k(ee+="",!0);return te.toString=function(){return ee},te}}}var tT={"-":"",_:" ",0:"0"},sr=/^\s*\d+/,Kde=/^%/,Gde=/[\\^$*+?|[\]().{}]/g;function ot(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function Yde(e){return e.replace(Gde,"\\$&")}function Ul(e){return new RegExp("^(?:"+e.map(Yde).join("|")+")","i")}function Wl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Xde(e,t,r){var n=sr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Qde(e,t,r){var n=sr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Jde(e,t,r){var n=sr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Zde(e,t,r){var n=sr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function efe(e,t,r){var n=sr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function rT(e,t,r){var n=sr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function nT(e,t,r){var n=sr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function tfe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function rfe(e,t,r){var n=sr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function nfe(e,t,r){var n=sr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function iT(e,t,r){var n=sr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function ife(e,t,r){var n=sr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function aT(e,t,r){var n=sr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function afe(e,t,r){var n=sr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function ofe(e,t,r){var n=sr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function sfe(e,t,r){var n=sr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function lfe(e,t,r){var n=sr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function cfe(e,t,r){var n=Kde.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function ufe(e,t,r){var n=sr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function dfe(e,t,r){var n=sr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function oT(e,t){return ot(e.getDate(),t,2)}function ffe(e,t){return ot(e.getHours(),t,2)}function hfe(e,t){return ot(e.getHours()%12||12,t,2)}function pfe(e,t){return ot(1+Wu.count(Ni(e),e),t,3)}function R4(e,t){return ot(e.getMilliseconds(),t,3)}function mfe(e,t){return R4(e,t)+"000"}function gfe(e,t){return ot(e.getMonth()+1,t,2)}function vfe(e,t){return ot(e.getMinutes(),t,2)}function yfe(e,t){return ot(e.getSeconds(),t,2)}function bfe(e){var t=e.getDay();return t===0?7:t}function xfe(e,t){return ot(Vp.count(Ni(e)-1,e),t,2)}function I4(e){var t=e.getDay();return t>=4||t===0?As(e):As.ceil(e)}function wfe(e,t){return e=I4(e),ot(As.count(Ni(e),e)+(Ni(e).getDay()===4),t,2)}function _fe(e){return e.getDay()}function Sfe(e,t){return ot(Gf.count(Ni(e)-1,e),t,2)}function jfe(e,t){return ot(e.getFullYear()%100,t,2)}function kfe(e,t){return e=I4(e),ot(e.getFullYear()%100,t,2)}function Efe(e,t){return ot(e.getFullYear()%1e4,t,4)}function Afe(e,t){var r=e.getDay();return e=r>=4||r===0?As(e):As.ceil(e),ot(e.getFullYear()%1e4,t,4)}function Ofe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ot(t/60|0,"0",2)+ot(t%60,"0",2)}function sT(e,t){return ot(e.getUTCDate(),t,2)}function Cfe(e,t){return ot(e.getUTCHours(),t,2)}function Pfe(e,t){return ot(e.getUTCHours()%12||12,t,2)}function Tfe(e,t){return ot(1+Hp.count(Ri(e),e),t,3)}function D4(e,t){return ot(e.getUTCMilliseconds(),t,3)}function Nfe(e,t){return D4(e,t)+"000"}function Rfe(e,t){return ot(e.getUTCMonth()+1,t,2)}function Ife(e,t){return ot(e.getUTCMinutes(),t,2)}function Dfe(e,t){return ot(e.getUTCSeconds(),t,2)}function Mfe(e){var t=e.getUTCDay();return t===0?7:t}function $fe(e,t){return ot(Kp.count(Ri(e)-1,e),t,2)}function M4(e){var t=e.getUTCDay();return t>=4||t===0?Os(e):Os.ceil(e)}function Lfe(e,t){return e=M4(e),ot(Os.count(Ri(e),e)+(Ri(e).getUTCDay()===4),t,2)}function Ffe(e){return e.getUTCDay()}function Bfe(e,t){return ot(Yf.count(Ri(e)-1,e),t,2)}function zfe(e,t){return ot(e.getUTCFullYear()%100,t,2)}function qfe(e,t){return e=M4(e),ot(e.getUTCFullYear()%100,t,2)}function Ufe(e,t){return ot(e.getUTCFullYear()%1e4,t,4)}function Wfe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Os(e):Os.ceil(e),ot(e.getUTCFullYear()%1e4,t,4)}function Hfe(){return"+0000"}function lT(){return"%"}function cT(e){return+e}function uT(e){return Math.floor(+e/1e3)}var Wo,$4,L4;Vfe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Vfe(e){return Wo=Vde(e),$4=Wo.format,Wo.parse,L4=Wo.utcFormat,Wo.utcParse,Wo}function Kfe(e){return new Date(e)}function Gfe(e){return e instanceof Date?+e:+new Date(+e)}function jS(e,t,r,n,i,a,o,s,l,c){var u=uS(),f=u.invert,p=u.domain,h=c(".%L"),v=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),b=c("%b %d"),x=c("%B"),_=c("%Y");function w(j){return(l(j)<j?h:s(j)<j?v:o(j)<j?m:a(j)<j?g:n(j)<j?i(j)<j?y:b:r(j)<j?x:_)(j)}return u.invert=function(j){return new Date(f(j))},u.domain=function(j){return arguments.length?p(Array.from(j,Gfe)):p().map(Kfe)},u.ticks=function(j){var k=p();return e(k[0],k[k.length-1],j??10)},u.tickFormat=function(j,k){return k==null?w:c(k)},u.nice=function(j){var k=p();return(!j||typeof j.range!="function")&&(j=t(k[0],k[k.length-1],j??10)),j?p(j4(k,j)):u},u.copy=function(){return Uu(u,jS(e,t,r,n,i,a,o,s,l,c))},u}function Yfe(){return yn.apply(jS(Wde,Hde,Ni,_S,Vp,Wu,xS,yS,to,$4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Xfe(){return yn.apply(jS(qde,Ude,Ri,SS,Kp,Hp,wS,bS,to,L4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Gp(){var e=0,t=1,r,n,i,a,o=kr,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-r)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function u(f){return function(p){var h,v;return arguments.length?([h,v]=p,o=f(h,v),c):[o(0),o(1)]}}return c.range=u(yl),c.rangeRound=u(cS),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),c}}function Pa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function F4(){var e=Ca(Gp()(kr));return e.copy=function(){return Pa(e,F4())},qi.apply(e,arguments)}function B4(){var e=hS(Gp()).domain([1,10]);return e.copy=function(){return Pa(e,B4()).base(e.base())},qi.apply(e,arguments)}function z4(){var e=pS(Gp());return e.copy=function(){return Pa(e,z4()).constant(e.constant())},qi.apply(e,arguments)}function kS(){var e=mS(Gp());return e.copy=function(){return Pa(e,kS()).exponent(e.exponent())},qi.apply(e,arguments)}function Qfe(){return kS.apply(null,arguments).exponent(.5)}function q4(){var e=[],t=kr;function r(n){if(n!=null&&!isNaN(n=+n))return t((zu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(va),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>$ue(e,a/n))},r.copy=function(){return q4(t).domain(e)},qi.apply(r,arguments)}function Yp(){var e=0,t=.5,r=1,n=1,i,a,o,s,l,c=kr,u,f=!1,p;function h(m){return isNaN(m=+m)?p:(m=.5+((m=+u(m))-a)*(n*m<n*a?s:l),c(f?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t,r]=m,i=u(e=+e),a=u(t=+t),o=u(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,h):[e,t,r]},h.clamp=function(m){return arguments.length?(f=!!m,h):f},h.interpolator=function(m){return arguments.length?(c=m,h):c};function v(m){return function(g){var y,b,x;return arguments.length?([y,b,x]=g,c=cde(m,[y,b,x]),h):[c(0),c(.5),c(1)]}}return h.range=v(yl),h.rangeRound=v(cS),h.unknown=function(m){return arguments.length?(p=m,h):p},function(m){return u=m,i=m(e),a=m(t),o=m(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,h}}function U4(){var e=Ca(Yp()(kr));return e.copy=function(){return Pa(e,U4())},qi.apply(e,arguments)}function W4(){var e=hS(Yp()).domain([.1,1,10]);return e.copy=function(){return Pa(e,W4()).base(e.base())},qi.apply(e,arguments)}function H4(){var e=pS(Yp());return e.copy=function(){return Pa(e,H4()).constant(e.constant())},qi.apply(e,arguments)}function ES(){var e=mS(Yp());return e.copy=function(){return Pa(e,ES()).exponent(e.exponent())},qi.apply(e,arguments)}function Jfe(){return ES.apply(null,arguments).exponent(.5)}const dT=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Wc,scaleDiverging:U4,scaleDivergingLog:W4,scaleDivergingPow:ES,scaleDivergingSqrt:Jfe,scaleDivergingSymlog:H4,scaleIdentity:S4,scaleImplicit:tw,scaleLinear:Vf,scaleLog:k4,scaleOrdinal:oS,scalePoint:hc,scalePow:gS,scaleQuantile:O4,scaleQuantize:C4,scaleRadial:A4,scaleSequential:F4,scaleSequentialLog:B4,scaleSequentialPow:kS,scaleSequentialQuantile:q4,scaleSequentialSqrt:Qfe,scaleSequentialSymlog:z4,scaleSqrt:Nde,scaleSymlog:E4,scaleThreshold:P4,scaleTime:Yfe,scaleUtc:Xfe,tickFormat:_4},Symbol.toStringTag,{value:"Module"}));var Tb,fT;function Xp(){if(fT)return Tb;fT=1;var e=hl();function t(r,n,i){for(var a=-1,o=r.length;++a<o;){var s=r[a],l=n(s);if(l!=null&&(c===void 0?l===l&&!e(l):i(l,c)))var c=l,u=s}return u}return Tb=t,Tb}var Nb,hT;function V4(){if(hT)return Nb;hT=1;function e(t,r){return t>r}return Nb=e,Nb}var Rb,pT;function Zfe(){if(pT)return Rb;pT=1;var e=Xp(),t=V4(),r=gl();function n(i){return i&&i.length?e(i,r,t):void 0}return Rb=n,Rb}var ehe=Zfe();const ia=it(ehe);var Ib,mT;function K4(){if(mT)return Ib;mT=1;function e(t,r){return t<r}return Ib=e,Ib}var Db,gT;function the(){if(gT)return Db;gT=1;var e=Xp(),t=K4(),r=gl();function n(i){return i&&i.length?e(i,r,t):void 0}return Db=n,Db}var rhe=the();const Qp=it(rhe);var Mb,vT;function nhe(){if(vT)return Mb;vT=1;var e=U_(),t=hi(),r=t4(),n=$r();function i(a,o){var s=n(a)?e:r;return s(a,t(o,3))}return Mb=i,Mb}var $b,yT;function ihe(){if(yT)return $b;yT=1;var e=Z3(),t=nhe();function r(n,i){return e(t(n,i),1)}return $b=r,$b}var ahe=ihe();const ohe=it(ahe);var Lb,bT;function she(){if(bT)return Lb;bT=1;var e=tS();function t(r,n){return e(r,n)}return Lb=t,Lb}var lhe=she();const Ii=it(lhe);var bl=1e9,che={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},OS,Ct=!0,mn="[DecimalError] ",so=mn+"Invalid argument: ",AS=mn+"Exponent out of range: ",xl=Math.floor,Va=Math.pow,uhe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Hr,ir=1e7,At=7,G4=9007199254740991,Xf=xl(G4/At),Se={};Se.absoluteValue=Se.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Se.comparedTo=Se.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Se.decimalPlaces=Se.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*At;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Se.dividedBy=Se.div=function(e){return Oi(this,new this.constructor(e))};Se.dividedToIntegerBy=Se.idiv=function(e){var t=this,r=t.constructor;return xt(Oi(t,new r(e),0,1),r.precision)};Se.equals=Se.eq=function(e){return!this.cmp(e)};Se.exponent=function(){return Wt(this)};Se.greaterThan=Se.gt=function(e){return this.cmp(e)>0};Se.greaterThanOrEqualTo=Se.gte=function(e){return this.cmp(e)>=0};Se.isInteger=Se.isint=function(){return this.e>this.d.length-2};Se.isNegative=Se.isneg=function(){return this.s<0};Se.isPositive=Se.ispos=function(){return this.s>0};Se.isZero=function(){return this.s===0};Se.lessThan=Se.lt=function(e){return this.cmp(e)<0};Se.lessThanOrEqualTo=Se.lte=function(e){return this.cmp(e)<1};Se.logarithm=Se.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Hr))throw Error(mn+"NaN");if(r.s<1)throw Error(mn+(r.s?"NaN":"-Infinity"));return r.eq(Hr)?new n(0):(Ct=!1,t=Oi(Yc(r,a),Yc(e,a),a),Ct=!0,xt(t,i))};Se.minus=Se.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Q4(t,e):Y4(t,(e.s=-e.s,e))};Se.modulo=Se.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(mn+"NaN");return r.s?(Ct=!1,t=Oi(r,e,0,1).times(e),Ct=!0,r.minus(t)):xt(new n(r),i)};Se.naturalExponential=Se.exp=function(){return X4(this)};Se.naturalLogarithm=Se.ln=function(){return Yc(this)};Se.negated=Se.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Se.plus=Se.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Y4(t,e):Q4(t,(e.s=-e.s,e))};Se.precision=Se.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(so+e);if(t=Wt(i)+1,n=i.d.length-1,r=n*At+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Se.squareRoot=Se.sqrt=function(){var e,t,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(mn+"NaN")}for(e=Wt(s),Ct=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=Qn(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=xl((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(Oi(s,a,o+2)).times(.5),Qn(a.d).slice(0,o)===(t=Qn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(xt(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(t!="9999")break;o+=4}return Ct=!0,xt(n,r)};Se.times=Se.mul=function(e){var t,r,n,i,a,o,s,l,c,u=this,f=u.constructor,p=u.d,h=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,l=p.length,c=h.length,l<c&&(a=p,p=h,h=a,o=l,l=c,c=o),a=[],o=l+c,n=o;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)s=a[i]+h[n]*p[i-n-1]+t,a[i--]=s%ir|0,t=s/ir|0;a[i]=(a[i]+t)%ir|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Ct?xt(e,f.precision):e};Se.toDecimalPlaces=Se.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(si(e,0,bl),t===void 0?t=n.rounding:si(t,0,8),xt(r,e+Wt(r)+1,t))};Se.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=xo(n,!0):(si(e,0,bl),t===void 0?t=i.rounding:si(t,0,8),n=xt(new i(n),e+1,t),r=xo(n,!0,e+1)),r};Se.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?xo(i):(si(e,0,bl),t===void 0?t=a.rounding:si(t,0,8),n=xt(new a(i),e+Wt(i)+1,t),r=xo(n.abs(),!1,e+Wt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Se.toInteger=Se.toint=function(){var e=this,t=e.constructor;return xt(new t(e),Wt(e)+1,t.rounding)};Se.toNumber=function(){return+this};Se.toPower=Se.pow=function(e){var t,r,n,i,a,o,s=this,l=s.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(Hr);if(s=new l(s),!s.s){if(e.s<1)throw Error(mn+"Infinity");return s}if(s.eq(Hr))return s;if(n=l.precision,e.eq(Hr))return xt(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=s.s,o){if((r=u<0?-u:u)<=G4){for(i=new l(Hr),t=Math.ceil(n/At+4),Ct=!1;r%2&&(i=i.times(s),wT(i.d,t)),r=xl(r/2),r!==0;)s=s.times(s),wT(s.d,t);return Ct=!0,e.s<0?new l(Hr).div(i):xt(i,n)}}else if(a<0)throw Error(mn+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Ct=!1,i=e.times(Yc(s,n+c)),Ct=!0,i=X4(i),i.s=a,i};Se.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Wt(i),n=xo(i,r<=a.toExpNeg||r>=a.toExpPos)):(si(e,1,bl),t===void 0?t=a.rounding:si(t,0,8),i=xt(new a(i),e,t),r=Wt(i),n=xo(i,e<=r||r<=a.toExpNeg,e)),n};Se.toSignificantDigits=Se.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(si(e,1,bl),t===void 0?t=n.rounding:si(t,0,8)),xt(new n(r),e,t)};Se.toString=Se.valueOf=Se.val=Se.toJSON=Se[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Wt(e),r=e.constructor;return xo(e,t<=r.toExpNeg||t>=r.toExpPos)};function Y4(e,t){var r,n,i,a,o,s,l,c,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Ct?xt(t,f):t;if(l=e.d,c=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=c.length):(n=c,i=o,s=l.length),o=Math.ceil(f/At),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/ir|0,l[a]%=ir;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,Ct?xt(t,f):t}function si(e,t,r){if(e!==~~e||e<t||e>r)throw Error(so+e)}function Qn(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=At-n.length,r&&(a+=Ji(r)),a+=n;o=e[t],n=o+"",r=At-n.length,r&&(a+=Ji(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Oi=(function(){function e(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%ir|0,o=a/ir|0;return o&&n.unshift(o),n}function t(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*ir+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,c,u,f,p,h,v,m,g,y,b,x,_,w,j,k,C,P=n.constructor,O=n.s==i.s?1:-1,T=n.d,N=i.d;if(!n.s)return new P(n);if(!i.s)throw Error(mn+"Division by zero");for(l=n.e-i.e,k=N.length,w=T.length,h=new P(O),v=h.d=[],c=0;N[c]==(T[c]||0);)++c;if(N[c]>(T[c]||0)&&--l,a==null?b=a=P.precision:o?b=a+(Wt(n)-Wt(i))+1:b=a,b<0)return new P(0);if(b=b/At+2|0,c=0,k==1)for(u=0,N=N[0],b++;(c<w||u)&&b--;c++)x=u*ir+(T[c]||0),v[c]=x/N|0,u=x%N|0;else{for(u=ir/(N[0]+1)|0,u>1&&(N=e(N,u),T=e(T,u),k=N.length,w=T.length),_=k,m=T.slice(0,k),g=m.length;g<k;)m[g++]=0;C=N.slice(),C.unshift(0),j=N[0],N[1]>=ir/2&&++j;do u=0,s=t(N,m,k,g),s<0?(y=m[0],k!=g&&(y=y*ir+(m[1]||0)),u=y/j|0,u>1?(u>=ir&&(u=ir-1),f=e(N,u),p=f.length,g=m.length,s=t(f,m,p,g),s==1&&(u--,r(f,k<p?C:N,p))):(u==0&&(s=u=1),f=N.slice()),p=f.length,p<g&&f.unshift(0),r(m,f,g),s==-1&&(g=m.length,s=t(N,m,k,g),s<1&&(u++,r(m,k<g?C:N,g))),g=m.length):s===0&&(u++,m=[0]),v[c++]=u,s&&m[0]?m[g++]=T[_]||0:(m=[T[_]],g=1);while((_++<w||m[0]!==void 0)&&b--)}return v[0]||v.shift(),h.e=l,xt(h,o?a+Wt(h)+1:a)}})();function X4(e,t){var r,n,i,a,o,s,l=0,c=0,u=e.constructor,f=u.precision;if(Wt(e)>16)throw Error(AS+Wt(e));if(!e.s)return new u(Hr);for(Ct=!1,s=f,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(n=Math.log(Va(2,c))/Math.LN10*2+5|0,s+=n,r=i=a=new u(Hr),u.precision=s;;){if(i=xt(i.times(e),s),r=r.times(++l),o=a.plus(Oi(i,r,s)),Qn(o.d).slice(0,s)===Qn(a.d).slice(0,s)){for(;c--;)a=xt(a.times(a),s);return u.precision=f,t==null?(Ct=!0,xt(a,f)):a}a=o}}function Wt(e){for(var t=e.e*At,r=e.d[0];r>=10;r/=10)t++;return t}function Fb(e,t,r){if(t>e.LN10.sd())throw Ct=!0,r&&(e.precision=r),Error(mn+"LN10 precision limit exceeded");return xt(new e(e.LN10),t)}function Ji(e){for(var t="";e--;)t+="0";return t}function Yc(e,t){var r,n,i,a,o,s,l,c,u,f=1,p=10,h=e,v=h.d,m=h.constructor,g=m.precision;if(h.s<1)throw Error(mn+(h.s?"NaN":"-Infinity"));if(h.eq(Hr))return new m(0);if(t==null?(Ct=!1,c=g):c=t,h.eq(10))return t==null&&(Ct=!0),Fb(m,c);if(c+=p,m.precision=c,r=Qn(v),n=r.charAt(0),a=Wt(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=Qn(h.d),n=r.charAt(0),f++;a=Wt(h),n>1?(h=new m("0."+r),a++):h=new m(n+"."+r.slice(1))}else return l=Fb(m,c+2,g).times(a+""),h=Yc(new m(n+"."+r.slice(1)),c-p).plus(l),m.precision=g,t==null?(Ct=!0,xt(h,g)):h;for(s=o=h=Oi(h.minus(Hr),h.plus(Hr),c),u=xt(h.times(h),c),i=3;;){if(o=xt(o.times(u),c),l=s.plus(Oi(o,new m(i),c)),Qn(l.d).slice(0,c)===Qn(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(Fb(m,c+2,g).times(a+""))),s=Oi(s,new m(f),c),m.precision=g,t==null?(Ct=!0,xt(s,g)):s;s=l,i+=2}}function xT(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=xl(r/At),e.d=[],n=(r+1)%At,r<0&&(n+=At),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=At;n<i;)e.d.push(+t.slice(n,n+=At));t=t.slice(n),n=At-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Ct&&(e.e>Xf||e.e<-Xf))throw Error(AS+r)}else e.s=0,e.e=0,e.d=[0];return e}function xt(e,t,r){var n,i,a,o,s,l,c,u,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=At,i=t,c=f[u=0];else{if(u=Math.ceil((n+1)/At),a=f.length,u>=a)return e;for(c=a=f[u],o=1;a>=10;a/=10)o++;n%=At,i=n-At+o}if(r!==void 0&&(a=Va(10,o-i-1),s=c/a%10|0,l=t<0||f[u+1]!==void 0||c%a,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?c/Va(10,o-i):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(a=Wt(e),f.length=1,t=t-a-1,f[0]=Va(10,(At-t%At)%At),e.e=xl(-t/At)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,a=1,u--):(f.length=u+1,a=Va(10,At-n),f[u]=i>0?(c/Va(10,o-i)%Va(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==ir&&(f[0]=1,++e.e);break}else{if(f[u]+=a,f[u]!=ir)break;f[u--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Ct&&(e.e>Xf||e.e<-Xf))throw Error(AS+Wt(e));return e}function Q4(e,t){var r,n,i,a,o,s,l,c,u,f,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Ct?xt(t,h):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),o=c-n,o){for(u=o<0,u?(r=l,o=-o,s=f.length):(r=f,n=c,s=l.length),i=Math.max(Math.ceil(h/At),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=f.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}o=0}for(u&&(r=l,l=f,f=r,t.s=-t.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=ir-1;--l[a],l[i]+=ir}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Ct?xt(t,h):t):new p(0)}function xo(e,t,r){var n,i=Wt(e),a=Qn(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ji(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ji(-i-1)+a,r&&(n=r-o)>0&&(a+=Ji(n))):i>=o?(a+=Ji(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Ji(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Ji(n))),e.s<0?"-"+a:a}function wT(e,t){if(e.length>t)return e.length=t,!0}function J4(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(so+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return xT(o,a.toString())}else if(typeof a!="string")throw Error(so+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,uhe.test(a))xT(o,a);else throw Error(so+a)}if(i.prototype=Se,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=J4,i.config=i.set=dhe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function dhe(e){if(!e||typeof e!="object")throw Error(mn+"Object expected");var t,r,n,i=["precision",1,bl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(xl(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(so+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(so+r+": "+n);return this}var OS=J4(che);Hr=new OS(1);const vt=OS;function fhe(e){return ghe(e)||mhe(e)||phe(e)||hhe()}function hhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function phe(e,t){if(e){if(typeof e=="string")return aw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aw(e,t)}}function mhe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ghe(e){if(Array.isArray(e))return aw(e)}function aw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vhe=function(t){return t},Z4={},eF=function(t){return t===Z4},_T=function(t){return function r(){return arguments.length===0||arguments.length===1&&eF(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},yhe=function e(t,r){return t===1?r:_T(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==Z4}).length;return o>=t?r.apply(void 0,i):e(t-o,_T(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=i.map(function(f){return eF(f)?l.shift():f});return r.apply(void 0,fhe(u).concat(l))}))})},Jp=function(t){return yhe(t.length,t)},ow=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},bhe=Jp(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),xhe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return vhe;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},sw=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},tF=function(t){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,l){return s===r[l]})||(r=a,n=t.apply(void 0,a)),n}};function whe(e){var t;return e===0?t=1:t=Math.floor(new vt(e).abs().log(10).toNumber())+1,t}function _he(e,t,r){for(var n=new vt(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var She=Jp(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),jhe=Jp(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),khe=Jp(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Zp={rangeStep:_he,getDigitCount:whe,interpolateNumber:She,uninterpolateNumber:jhe,uninterpolateTruncation:khe};function lw(e){return Ohe(e)||Ahe(e)||rF(e)||Ehe()}function Ehe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ahe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Ohe(e){if(Array.isArray(e))return cw(e)}function Xc(e,t){return The(e)||Phe(e,t)||rF(e,t)||Che()}function Che(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rF(e,t){if(e){if(typeof e=="string")return cw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cw(e,t)}}function cw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Phe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function The(e){if(Array.isArray(e))return e}function nF(e){var t=Xc(e,2),r=t[0],n=t[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function iF(e,t,r){if(e.lte(0))return new vt(0);var n=Zp.getDigitCount(e.toNumber()),i=new vt(10).pow(n),a=e.div(i),o=n!==1?.05:.1,s=new vt(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return t?l:new vt(Math.ceil(l))}function Nhe(e,t,r){var n=1,i=new vt(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new vt(10).pow(Zp.getDigitCount(e)-1),i=new vt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new vt(Math.floor(e)))}else e===0?i=new vt(Math.floor((t-1)/2)):r||(i=new vt(Math.floor(e)));var o=Math.floor((t-1)/2),s=xhe(bhe(function(l){return i.add(new vt(l-o).mul(n)).toNumber()}),ow);return s(0,t)}function aF(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new vt(0),tickMin:new vt(0),tickMax:new vt(0)};var a=iF(new vt(t).sub(e).div(r-1),n,i),o;e<=0&&t>=0?o=new vt(0):(o=new vt(e).add(t).div(2),o=o.sub(new vt(o).mod(a)));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new vt(t).sub(o).div(a).toNumber()),c=s+l+1;return c>r?aF(e,t,r,n,i+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:a,tickMin:o.sub(new vt(s).mul(a)),tickMax:o.add(new vt(l).mul(a))})}function Rhe(e){var t=Xc(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=nF([r,n]),l=Xc(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(lw(ow(0,i-1).map(function(){return 1/0}))):[].concat(lw(ow(0,i-1).map(function(){return-1/0})),[u]);return r>n?sw(f):f}if(c===u)return Nhe(c,i,a);var p=aF(c,u,o,a),h=p.step,v=p.tickMin,m=p.tickMax,g=Zp.rangeStep(v,m.add(new vt(.1).mul(h)),h);return r>n?sw(g):g}function Ihe(e,t){var r=Xc(e,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=nF([n,i]),s=Xc(o,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var u=Math.max(t,2),f=iF(new vt(c).sub(l).div(u-1),a,0),p=[].concat(lw(Zp.rangeStep(new vt(l),new vt(c).sub(new vt(.99).mul(f)),f)),[c]);return n>i?sw(p):p}var Dhe=tF(Rhe),Mhe=tF(Ihe),$he="Invariant failed";function wo(e,t){throw new Error($he)}var Lhe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Cs(e){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(e)}function Qf(){return Qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qf.apply(this,arguments)}function Fhe(e,t){return Uhe(e)||qhe(e,t)||zhe(e,t)||Bhe()}function Bhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zhe(e,t){if(e){if(typeof e=="string")return ST(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ST(e,t)}}function ST(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qhe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Uhe(e){if(Array.isArray(e))return e}function Whe(e,t){if(e==null)return{};var r=Hhe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hhe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Khe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lF(n.key),n)}}function Ghe(e,t,r){return t&&Khe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yhe(e,t,r){return t=Jf(t),Xhe(e,oF()?Reflect.construct(t,r||[],Jf(e).constructor):t.apply(e,r))}function Xhe(e,t){if(t&&(Cs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qhe(e)}function Qhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oF=function(){return!!e})()}function Jf(e){return Jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jf(e)}function Jhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uw(e,t)}function uw(e,t){return uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uw(e,t)}function sF(e,t,r){return t=lF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lF(e){var t=Zhe(e,"string");return Cs(t)=="symbol"?t:t+""}function Zhe(e,t){if(Cs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wl=(function(e){function t(){return Vhe(this,t),Yhe(this,t,arguments)}return Jhe(t,e),Ghe(t,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,p=Whe(n,Lhe),h=xe(p,!1);this.props.direction==="x"&&u.type!=="number"&&wo();var v=l.map(function(m){var g=c(m,s),y=g.x,b=g.y,x=g.value,_=g.errorVal;if(!_)return null;var w=[],j,k;if(Array.isArray(_)){var C=Fhe(_,2);j=C[0],k=C[1]}else j=k=_;if(a==="vertical"){var P=u.scale,O=b+i,T=O+o,N=O-o,D=P(x-j),E=P(x+k);w.push({x1:E,y1:T,x2:E,y2:N}),w.push({x1:D,y1:O,x2:E,y2:O}),w.push({x1:D,y1:T,x2:D,y2:N})}else if(a==="horizontal"){var R=f.scale,B=y+i,F=B-o,U=B+o,L=R(x-j),M=R(x+k);w.push({x1:F,y1:M,x2:U,y2:M}),w.push({x1:B,y1:L,x2:B,y2:M}),w.push({x1:F,y1:L,x2:U,y2:L})}return I.createElement(Fe,Qf({className:"recharts-errorBar",key:"bar-".concat(w.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},h),w.map(function(H){return I.createElement("line",Qf({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return I.createElement(Fe,{className:"recharts-errorBars"},v)}}])})(I.Component);sF(wl,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});sF(wl,"displayName","ErrorBar");function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function jT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function La(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(r),!0).forEach(function(n){epe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function epe(e,t,r){return t=tpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tpe(e){var t=rpe(e,"string");return Qc(t)=="symbol"?t:t+""}function rpe(e,t){if(Qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cF=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=zr(r,Vr);if(!o)return null;var s=Vr.defaultProps,l=s!==void 0?La(La({},s),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:a==="children"?c=(n||[]).reduce(function(u,f){var p=f.item,h=f.props,v=h.sectors||h.data||[];return u.concat(v.map(function(m){return{type:o.props.iconType||p.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(n||[]).map(function(u){var f=u.item,p=f.type.defaultProps,h=p!==void 0?La(La({},p),f.props):{},v=h.dataKey,m=h.name,g=h.legendType,y=h.hide;return{inactive:y,dataKey:v,type:l.iconType||g||"square",color:CS(f),value:m||v,payload:h}}),La(La(La({},l),Vr.getWithHeight(o,i)),{},{payload:c,item:o})};function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(e)}function kT(e){return ope(e)||ape(e)||ipe(e)||npe()}function npe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ipe(e,t){if(e){if(typeof e=="string")return dw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dw(e,t)}}function ape(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ope(e){if(Array.isArray(e))return dw(e)}function dw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ET(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ET(Object(r),!0).forEach(function(n){hs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ET(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hs(e,t,r){return t=spe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function spe(e){var t=lpe(e,"string");return Jc(t)=="symbol"?t:t+""}function lpe(e,t){if(Jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bt(e,t,r){return Te(e)||Te(t)?r:er(t)?Yr(e,t,r):Pe(t)?t(e):r}function pc(e,t,r,n){var i=ohe(e,function(s){return bt(s,t)});if(r==="number"){var a=i.filter(function(s){return pe(s)||parseFloat(s)});return a.length?[Qp(a),ia(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!Te(s)}):i;return o.map(function(s){return er(s)||s instanceof Date?s:""})}var cpe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n?.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<s;c++){var u=c>0?i[c-1].coordinate:i[s-1].coordinate,f=i[c].coordinate,p=c>=s-1?i[0].coordinate:i[c+1].coordinate,h=void 0;if(Sr(f-u)!==Sr(p-f)){var v=[];if(Sr(p-f)===Sr(l[1]-l[0])){h=p;var m=f+l[1]-l[0];v[0]=Math.min(m,(m+u)/2),v[1]=Math.max(m,(m+u)/2)}else{h=u;var g=p+l[1]-l[0];v[0]=Math.min(f,(g+f)/2),v[1]=Math.max(f,(g+f)/2)}var y=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(t>y[0]&&t<=y[1]||t>=v[0]&&t<=v[1]){o=i[c].index;break}}else{var b=Math.min(u,p),x=Math.max(u,p);if(t>(b+f)/2&&t<=(x+f)/2){o=i[c].index;break}}}else for(var _=0;_<s;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<s-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===s-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},CS=function(t){var r,n=t,i=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Rt(Rt({},t.type.defaultProps),t.props):t.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},upe=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,c=s.length;l<c;l++)for(var u=a[s[l]].stackGroups,f=Object.keys(u),p=0,h=f.length;p<h;p++){var v=u[f[p]],m=v.items,g=v.cateAxisId,y=m.filter(function(k){return Ai(k.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,x=b!==void 0?Rt(Rt({},b),y[0].props):y[0].props,_=x.barSize,w=x[g];o[w]||(o[w]=[]);var j=Te(_)?r:_;o[w].push({item:y[0],stackList:y.slice(1),barSize:Te(j)?void 0:jr(j,n,0)})}}return o},dpe=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,s=t.maxBarSize,l=o.length;if(l<1)return null;var c=jr(r,i,0,!0),u,f=[];if(o[0].barSize===+o[0].barSize){var p=!1,h=i/l,v=o.reduce(function(_,w){return _+w.barSize||0},0);v+=(l-1)*c,v>=i&&(v-=(l-1)*c,c=0),v>=i&&h>0&&(p=!0,h*=.9,v=l*h);var m=(i-v)/2>>0,g={offset:m-c,size:0};u=o.reduce(function(_,w){var j={item:w.item,position:{offset:g.offset+g.size+c,size:p?h:w.barSize}},k=[].concat(kT(_),[j]);return g=k[k.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(C){k.push({item:C,position:g})}),k},f)}else{var y=jr(n,i,0,!0);i-2*y-(l-1)*c<=0&&(c=0);var b=(i-2*y-(l-1)*c)/l;b>1&&(b>>=0);var x=s===+s?Math.min(b,s):b;u=o.reduce(function(_,w,j){var k=[].concat(kT(_),[{item:w.item,position:{offset:y+(b+c)*j+(b-x)/2,size:x}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(C){k.push({item:C,position:k[k.length-1].position})}),k},f)}return u},fpe=function(t,r,n,i){var a=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),c=cF({children:a,legendWidth:l});if(c){var u=i||{},f=u.width,p=u.height,h=c.align,v=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&v==="middle")&&h!=="center"&&pe(t[h]))return Rt(Rt({},t),{},hs({},h,t[h]+(f||0)));if((m==="horizontal"||m==="vertical"&&h==="center")&&v!=="middle"&&pe(t[v]))return Rt(Rt({},t),{},hs({},v,t[v]+(p||0)))}return t},hpe=function(t,r,n){return Te(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},uF=function(t,r,n,i,a){var o=r.props.children,s=Ar(o,wl).filter(function(c){return hpe(i,a,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var f=bt(u,n);if(Te(f))return c;var p=Array.isArray(f)?[Qp(f),ia(f)]:[f,f],h=l.reduce(function(v,m){var g=bt(u,m,0),y=p[0]-Math.abs(Array.isArray(g)?g[0]:g),b=p[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(y,v[0]),Math.max(b,v[1])]},[1/0,-1/0]);return[Math.min(h[0],c[0]),Math.max(h[1],c[1])]},[1/0,-1/0])}return null},ppe=function(t,r,n,i,a){var o=r.map(function(s){return uF(t,s,n,a,i)}).filter(function(s){return!Te(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},dF=function(t,r,n,i,a){var o=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&uF(t,l,c,i)||pc(t,c,n,a)});if(n==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},fF=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},hF=function(t,r,n,i){if(i)return t.map(function(l){return l.coordinate});var a,o,s=t.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(o=!0),l.coordinate});return a||s.push(r),o||s.push(n),s},ji=function(t,r,n){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,s=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&s?.length>=2?Sr(s[0]-s[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var p=a?a.indexOf(f):f;return{coordinate:i(p)+c,value:f,offset:c}});return u.filter(function(f){return!ml(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,p){return{coordinate:i(f)+c,value:f,index:p,offset:c}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,p){return{coordinate:i(f)+c,value:a?a[f]:f,index:p,offset:c}})},Bb=new WeakMap,Od=function(t,r){if(typeof r!="function")return t;Bb.has(t)||Bb.set(t,new WeakMap);var n=Bb.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},pF=function(t,r,n){var i=t.scale,a=t.type,o=t.layout,s=t.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Wc(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Vf(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:hc(),realScaleType:"point"}:a==="category"?{scale:Wc(),realScaleType:"band"}:{scale:Vf(),realScaleType:"linear"};if(yo(i)){var l="scale".concat(Mp(i));return{scale:(dT[l]||hc)(),realScaleType:dT[l]?l:"point"}}return Pe(i)?{scale:i}:{scale:hc(),realScaleType:"point"}},AT=1e-4,mF=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),a=Math.min(i[0],i[1])-AT,o=Math.max(i[0],i[1])+AT,s=t(r[0]),l=t(r[n-1]);(s<a||s>o||l<a||l>o)&&t.domain([r[0],r[n-1]])}},mpe=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},gpe=function(t,r){if(!r||r.length!==2||!pe(r[0])||!pe(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!pe(t[0])||t[0]<n)&&(a[0]=n),(!pe(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},vpe=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var l=ml(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=a,t[s][n][1]=a+l,a=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+l,o=t[s][n][1])}},ype=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=ml(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=a,t[o][n][1]=a+s,a=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},bpe={sign:vpe,expand:ose,none:ws,silhouette:sse,wiggle:lse,positive:ype},xpe=function(t,r,n){var i=r.map(function(s){return s.props.dataKey}),a=bpe[n],o=ase().keys(i).value(function(s,l){return+bt(s,l,0)}).order(zx).offset(a);return o(t)},wpe=function(t,r,n,i,a,o){if(!t)return null;var s=o?r.reverse():r,l={},c=s.reduce(function(f,p){var h,v=(h=p.type)!==null&&h!==void 0&&h.defaultProps?Rt(Rt({},p.type.defaultProps),p.props):p.props,m=v.stackId,g=v.hide;if(g)return f;var y=v[n],b=f[y]||{hasStack:!1,stackGroups:{}};if(er(m)){var x=b.stackGroups[m]||{numericAxisId:n,cateAxisId:i,items:[]};x.items.push(p),b.hasStack=!0,b.stackGroups[m]=x}else b.stackGroups[Oa("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[p]};return Rt(Rt({},f),{},hs({},y,b))},l),u={};return Object.keys(c).reduce(function(f,p){var h=c[p];if(h.hasStack){var v={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(m,g){var y=h.stackGroups[g];return Rt(Rt({},m),{},hs({},g,{numericAxisId:n,cateAxisId:i,items:y.items,stackedData:xpe(t,y.items,a)}))},v)}return Rt(Rt({},f),{},hs({},p,h))},u)},gF=function(t,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=Dhe(c,a,s);return t.domain([Qp(u),ia(u)]),{niceTicks:u}}if(a&&i==="number"){var f=t.domain(),p=Mhe(f,a,s);return{niceTicks:p}}return null};function Ps(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Te(i[t.dataKey])){var s=Of(r,"value",i[t.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=bt(i,Te(o)?t.dataKey:o);return Te(l)?null:t.scale(l)}var OT=function(t){var r=t.axis,n=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=bt(o,r.dataKey,r.domain[s]);return Te(l)?null:r.scale(l)-a/2+i},_pe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},Spe=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Rt(Rt({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(er(a)){var o=r[a];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},jpe=function(t){return t.reduce(function(r,n){return[Qp(n.concat([r[0]]).filter(pe)),ia(n.concat([r[1]]).filter(pe))]},[1/0,-1/0])},vF=function(t,r,n){return Object.keys(t).reduce(function(i,a){var o=t[a],s=o.stackedData,l=s.reduce(function(c,u){var f=jpe(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},CT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fw=function(t,r,n){if(Pe(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(pe(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(CT.test(t[0])){var a=+CT.exec(t[0])[1];i[0]=r[0]-a}else Pe(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(pe(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(PT.test(t[1])){var o=+PT.exec(t[1])[1];i[1]=r[1]+o}else Pe(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},Zf=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var a=nS(r,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var c=a[s],u=a[s-1];o=Math.min((c.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},TT=function(t,r,n){return!t||!t.length||Ii(t,Yr(n,"type.defaultProps.domain"))?r:t},yF=function(t,r){var n=t.type.defaultProps?Rt(Rt({},t.type.defaultProps),t.props):t.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return Rt(Rt({},xe(t,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:CS(t),value:bt(r,i),type:l,payload:r,chartType:c,hide:u})};function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function NT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NT(Object(r),!0).forEach(function(n){bF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bF(e,t,r){return t=kpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kpe(e){var t=Epe(e,"string");return Zc(t)=="symbol"?t:t+""}function Epe(e,t){if(Zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ape(e,t){return Tpe(e)||Ppe(e,t)||Cpe(e,t)||Ope()}function Ope(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cpe(e,t){if(e){if(typeof e=="string")return RT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RT(e,t)}}function RT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ppe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Tpe(e){if(Array.isArray(e))return e}var eh=Math.PI/180,Npe=function(t){return t*180/Math.PI},dt=function(t,r,n,i){return{x:t+Math.cos(-eh*i)*n,y:r+Math.sin(-eh*i)*n}},xF=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},wF=function(t,r,n,i,a){var o=t.width,s=t.height,l=t.startAngle,c=t.endAngle,u=jr(t.cx,o,o/2),f=jr(t.cy,s,s/2),p=xF(o,s,n),h=jr(t.innerRadius,p,0),v=jr(t.outerRadius,p,p*.8),m=Object.keys(r);return m.reduce(function(g,y){var b=r[y],x=b.domain,_=b.reversed,w;if(Te(b.range))i==="angleAxis"?w=[l,c]:i==="radiusAxis"&&(w=[h,v]),_&&(w=[w[1],w[0]]);else{w=b.range;var j=w,k=Ape(j,2);l=k[0],c=k[1]}var C=pF(b,a),P=C.realScaleType,O=C.scale;O.domain(x).range(w),mF(O);var T=gF(O,yi(yi({},b),{},{realScaleType:P})),N=yi(yi(yi({},b),T),{},{range:w,radius:v,realScaleType:P,scale:O,cx:u,cy:f,innerRadius:h,outerRadius:v,startAngle:l,endAngle:c});return yi(yi({},g),{},bF({},y,N))},{})},Rpe=function(t,r){var n=t.x,i=t.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},Ipe=function(t,r){var n=t.x,i=t.y,a=r.cx,o=r.cy,s=Rpe({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(n-a)/s,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:s,angle:Npe(c),angleInRadian:c}},Dpe=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},Mpe=function(t,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return t+s*360},IT=function(t,r){var n=t.x,i=t.y,a=Ipe({x:n,y:i},r),o=a.radius,s=a.angle,l=r.innerRadius,c=r.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var u=Dpe(r),f=u.startAngle,p=u.endAngle,h=s,v;if(f<=p){for(;h>p;)h-=360;for(;h<f;)h+=360;v=h>=f&&h<=p}else{for(;h>f;)h-=360;for(;h<p;)h+=360;v=h>=p&&h<=f}return v?yi(yi({},r),{},{radius:o,angle:Mpe(h,r)}):null},_F=function(t){return!S.isValidElement(t)&&!Pe(t)&&typeof t!="boolean"?t.className:""};function eu(e){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}var $pe=["offset"];function Lpe(e){return qpe(e)||zpe(e)||Bpe(e)||Fpe()}function Fpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bpe(e,t){if(e){if(typeof e=="string")return hw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hw(e,t)}}function zpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qpe(e){if(Array.isArray(e))return hw(e)}function hw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Upe(e,t){if(e==null)return{};var r=Wpe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function DT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(r),!0).forEach(function(n){Hpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hpe(e,t,r){return t=Vpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vpe(e){var t=Kpe(e,"string");return eu(t)=="symbol"?t:t+""}function Kpe(e,t){if(eu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tu.apply(this,arguments)}var Gpe=function(t){var r=t.value,n=t.formatter,i=Te(t.children)?r:t.children;return Pe(n)?n(i):i},Ype=function(t,r){var n=Sr(r-t),i=Math.min(Math.abs(r-t),360);return n*i},Xpe=function(t,r,n){var i=t.position,a=t.viewBox,o=t.offset,s=t.className,l=a,c=l.cx,u=l.cy,f=l.innerRadius,p=l.outerRadius,h=l.startAngle,v=l.endAngle,m=l.clockWise,g=(f+p)/2,y=Ype(h,v),b=y>=0?1:-1,x,_;i==="insideStart"?(x=h+b*o,_=m):i==="insideEnd"?(x=v-b*o,_=!m):i==="end"&&(x=v+b*o,_=m),_=y<=0?_:!_;var w=dt(c,u,g,x),j=dt(c,u,g,x+(_?1:-1)*359),k="M".concat(w.x,",").concat(w.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(_?0:1,`,
    `).concat(j.x,",").concat(j.y),C=Te(t.id)?Oa("recharts-radial-line-"):t.id;return I.createElement("text",tu({},n,{dominantBaseline:"central",className:Me("recharts-radial-bar-label",s)}),I.createElement("defs",null,I.createElement("path",{id:C,d:k})),I.createElement("textPath",{xlinkHref:"#".concat(C)},r))},Qpe=function(t){var r=t.viewBox,n=t.offset,i=t.position,a=r,o=a.cx,s=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,f=a.endAngle,p=(u+f)/2;if(i==="outside"){var h=dt(o,s,c+n,p),v=h.x,m=h.y;return{x:v,y:m,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var g=(l+c)/2,y=dt(o,s,g,p),b=y.x,x=y.y;return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Jpe=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,a=t.position,o=r,s=o.x,l=o.y,c=o.width,u=o.height,f=u>=0?1:-1,p=f*i,h=f>0?"end":"start",v=f>0?"start":"end",m=c>=0?1:-1,g=m*i,y=m>0?"end":"start",b=m>0?"start":"end";if(a==="top"){var x={x:s+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:h};return Gt(Gt({},x),n?{height:Math.max(l-n.y,0),width:c}:{})}if(a==="bottom"){var _={x:s+c/2,y:l+u+p,textAnchor:"middle",verticalAnchor:v};return Gt(Gt({},_),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(a==="left"){var w={x:s-g,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return Gt(Gt({},w),n?{width:Math.max(w.x-n.x,0),height:u}:{})}if(a==="right"){var j={x:s+c+g,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return Gt(Gt({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:u}:{})}var k=n?{width:c,height:u}:{};return a==="insideLeft"?Gt({x:s+g,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},k):a==="insideRight"?Gt({x:s+c-g,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},k):a==="insideTop"?Gt({x:s+c/2,y:l+p,textAnchor:"middle",verticalAnchor:v},k):a==="insideBottom"?Gt({x:s+c/2,y:l+u-p,textAnchor:"middle",verticalAnchor:h},k):a==="insideTopLeft"?Gt({x:s+g,y:l+p,textAnchor:b,verticalAnchor:v},k):a==="insideTopRight"?Gt({x:s+c-g,y:l+p,textAnchor:y,verticalAnchor:v},k):a==="insideBottomLeft"?Gt({x:s+g,y:l+u-p,textAnchor:b,verticalAnchor:h},k):a==="insideBottomRight"?Gt({x:s+c-g,y:l+u-p,textAnchor:y,verticalAnchor:h},k):pl(a)&&(pe(a.x)||Za(a.x))&&(pe(a.y)||Za(a.y))?Gt({x:s+jr(a.x,c),y:l+jr(a.y,u),textAnchor:"end",verticalAnchor:"end"},k):Gt({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},k)},Zpe=function(t){return"cx"in t&&pe(t.cx)};function or(e){var t=e.offset,r=t===void 0?5:t,n=Upe(e,$pe),i=Gt({offset:r},n),a=i.viewBox,o=i.position,s=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,p=i.textBreakAll;if(!a||Te(s)&&Te(l)&&!S.isValidElement(c)&&!Pe(c))return null;if(S.isValidElement(c))return S.cloneElement(c,i);var h;if(Pe(c)){if(h=S.createElement(c,i),S.isValidElement(h))return h}else h=Gpe(i);var v=Zpe(a),m=xe(i,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Xpe(i,h,m);var g=v?Qpe(i):Jpe(i);return I.createElement(bo,tu({className:Me("recharts-label",f)},m,g,{breakAll:p}),h)}or.displayName="Label";var SF=function(t){var r=t.cx,n=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,f=t.x,p=t.y,h=t.top,v=t.left,m=t.width,g=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(pe(m)&&pe(g)){if(pe(f)&&pe(p))return{x:f,y:p,width:m,height:g};if(pe(h)&&pe(v))return{x:h,y:v,width:m,height:g}}return pe(f)&&pe(p)?{x:f,y:p,width:0,height:0}:pe(r)&&pe(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:y}:t.viewBox?t.viewBox:{}},eme=function(t,r){return t?t===!0?I.createElement(or,{key:"label-implicit",viewBox:r}):er(t)?I.createElement(or,{key:"label-implicit",viewBox:r,value:t}):S.isValidElement(t)?t.type===or?S.cloneElement(t,{key:"label-implicit",viewBox:r}):I.createElement(or,{key:"label-implicit",content:t,viewBox:r}):Pe(t)?I.createElement(or,{key:"label-implicit",content:t,viewBox:r}):pl(t)?I.createElement(or,tu({viewBox:r},t,{key:"label-implicit"})):null:null},tme=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,a=SF(t),o=Ar(i,or).map(function(l,c){return S.cloneElement(l,{viewBox:r||a,key:"label-".concat(c)})});if(!n)return o;var s=eme(t.label,r||a);return[s].concat(Lpe(o))};or.parseViewBox=SF;or.renderCallByParent=tme;var zb,MT;function rme(){if(MT)return zb;MT=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return zb=e,zb}var nme=rme();const jF=it(nme);function ru(e){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(e)}var ime=["valueAccessor"],ame=["data","dataKey","clockWise","id","textBreakAll"];function ome(e){return ume(e)||cme(e)||lme(e)||sme()}function sme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lme(e,t){if(e){if(typeof e=="string")return pw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pw(e,t)}}function cme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ume(e){if(Array.isArray(e))return pw(e)}function pw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function th(){return th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},th.apply(this,arguments)}function $T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function LT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$T(Object(r),!0).forEach(function(n){dme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$T(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dme(e,t,r){return t=fme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fme(e){var t=hme(e,"string");return ru(t)=="symbol"?t:t+""}function hme(e,t){if(ru(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FT(e,t){if(e==null)return{};var r=pme(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var mme=function(t){return Array.isArray(t.value)?jF(t.value):t.value};function fn(e){var t=e.valueAccessor,r=t===void 0?mme:t,n=FT(e,ime),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,c=FT(n,ame);return!i||!i.length?null:I.createElement(Fe,{className:"recharts-label-list"},i.map(function(u,f){var p=Te(a)?r(u,f):bt(u&&u.payload,a),h=Te(s)?{}:{id:"".concat(s,"-").concat(f)};return I.createElement(or,th({},xe(u,!0),c,h,{parentViewBox:u.parentViewBox,value:p,textBreakAll:l,viewBox:or.parseViewBox(Te(o)?u:LT(LT({},u),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}fn.displayName="LabelList";function gme(e,t){return e?e===!0?I.createElement(fn,{key:"labelList-implicit",data:t}):I.isValidElement(e)||Pe(e)?I.createElement(fn,{key:"labelList-implicit",data:t,content:e}):pl(e)?I.createElement(fn,th({data:t},e,{key:"labelList-implicit"})):null:null}function vme(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Ar(n,fn).map(function(o,s){return S.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!r)return i;var a=gme(e.label,t);return[a].concat(ome(i))}fn.renderCallByParent=vme;function nu(e){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}function mw(){return mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mw.apply(this,arguments)}function BT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BT(Object(r),!0).forEach(function(n){yme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yme(e,t,r){return t=bme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bme(e){var t=xme(e,"string");return nu(t)=="symbol"?t:t+""}function xme(e,t){if(nu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wme=function(t,r){var n=Sr(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},Cd=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.angle,o=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(s?1:-1)+i,f=Math.asin(l/u)/eh,p=c?a:a+o*f,h=dt(r,n,u,p),v=dt(r,n,i,p),m=c?a-o*f:a,g=dt(r,n,u*Math.cos(f*eh),m);return{center:h,circleTangency:v,lineTangency:g,theta:f}},kF=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,s=t.endAngle,l=wme(o,s),c=o+l,u=dt(r,n,a,o),f=dt(r,n,a,c),p="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var h=dt(r,n,i,o),v=dt(r,n,i,c);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},_me=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,f=Sr(u-c),p=Cd({cx:r,cy:n,radius:a,angle:c,sign:f,cornerRadius:o,cornerIsExternal:l}),h=p.circleTangency,v=p.lineTangency,m=p.theta,g=Cd({cx:r,cy:n,radius:a,angle:u,sign:-f,cornerRadius:o,cornerIsExternal:l}),y=g.circleTangency,b=g.lineTangency,x=g.theta,_=l?Math.abs(c-u):Math.abs(c-u)-m-x;if(_<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):kF({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var w="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var j=Cd({cx:r,cy:n,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),k=j.circleTangency,C=j.lineTangency,P=j.theta,O=Cd({cx:r,cy:n,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),T=O.circleTangency,N=O.lineTangency,D=O.theta,E=l?Math.abs(c-u):Math.abs(c-u)-P-D;if(E<0&&o===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(E>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},Sme={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},EF=function(t){var r=zT(zT({},Sme),t),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,p=r.className;if(o<a||u===f)return null;var h=Me("recharts-sector",p),v=o-a,m=jr(s,v,0,!0),g;return m>0&&Math.abs(u-f)<360?g=_me({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(m,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):g=kF({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:f}),I.createElement("path",mw({},xe(r,!0),{className:h,d:g,role:"img"}))};function iu(e){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(e)}function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gw.apply(this,arguments)}function qT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function UT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qT(Object(r),!0).forEach(function(n){jme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jme(e,t,r){return t=kme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kme(e){var t=Eme(e,"string");return iu(t)=="symbol"?t:t+""}function Eme(e,t){if(iu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WT={curveBasisClosed:Goe,curveBasisOpen:Yoe,curveBasis:Koe,curveBumpX:Roe,curveBumpY:Ioe,curveLinearClosed:Xoe,curveLinear:Lp,curveMonotoneX:Qoe,curveMonotoneY:Joe,curveNatural:Zoe,curveStep:ese,curveStepAfter:rse,curveStepBefore:tse},Pd=function(t){return t.x===+t.x&&t.y===+t.y},Hl=function(t){return t.x},Vl=function(t){return t.y},Ame=function(t,r){if(Pe(t))return t;var n="curve".concat(Mp(t));return(n==="curveMonotone"||n==="curveBump")&&r?WT["".concat(n).concat(r==="vertical"?"Y":"X")]:WT[n]||Lp},Ome=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,a=i===void 0?[]:i,o=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=Ame(n,s),f=c?a.filter(function(m){return Pd(m)}):a,p;if(Array.isArray(o)){var h=c?o.filter(function(m){return Pd(m)}):o,v=f.map(function(m,g){return UT(UT({},m),{},{base:h[g]})});return s==="vertical"?p=wd().y(Vl).x1(Hl).x0(function(m){return m.base.x}):p=wd().x(Hl).y1(Vl).y0(function(m){return m.base.y}),p.defined(Pd).curve(u),p(v)}return s==="vertical"&&pe(o)?p=wd().y(Vl).x1(Hl).x0(o):pe(o)?p=wd().x(Hl).y1(Vl).y0(o):p=_3().x(Hl).y(Vl),p.defined(Pd).curve(u),p(f)},ya=function(t){var r=t.className,n=t.points,i=t.path,a=t.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Ome(t):i;return S.createElement("path",gw({},xe(t,!1),Cf(t),{className:Me("recharts-curve",r),d:o,ref:a}))},qb={exports:{}},Ub,HT;function Cme(){if(HT)return Ub;HT=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ub=e,Ub}var Wb,VT;function Pme(){if(VT)return Wb;VT=1;var e=Cme();function t(){}function r(){}return r.resetWarningCache=t,Wb=function(){function n(o,s,l,c,u,f){if(f!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return a.PropTypes=a,a},Wb}var KT;function Tme(){return KT||(KT=1,qb.exports=Pme()()),qb.exports}var Nme=Tme();const ht=it(Nme);var Rme=Object.getOwnPropertyNames,Ime=Object.getOwnPropertySymbols,Dme=Object.prototype.hasOwnProperty;function GT(e,t){return function(n,i,a){return e(n,i,a)&&t(n,i,a)}}function Td(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var l=e(r,n,i);return a.delete(r),a.delete(n),l}}function YT(e){return Rme(e).concat(Ime(e))}var Mme=Object.hasOwn||(function(e,t){return Dme.call(e,t)});function To(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var $me="__v",Lme="__o",Fme="_owner",XT=Object.getOwnPropertyDescriptor,QT=Object.keys;function Bme(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function zme(e,t){return To(e.getTime(),t.getTime())}function qme(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Ume(e,t){return e===t}function JT(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var c=t.entries(),u=!1,f=0;(s=c.next())&&!s.done;){if(i[f]){f++;continue}var p=o.value,h=s.value;if(r.equals(p[0],h[0],l,f,e,t,r)&&r.equals(p[1],h[1],p[0],h[0],e,t,r)){u=i[f]=!0;break}f++}if(!u)return!1;l++}return!0}var Wme=To;function Hme(e,t,r){var n=QT(e),i=n.length;if(QT(t).length!==i)return!1;for(;i-- >0;)if(!AF(e,t,r,n[i]))return!1;return!0}function Kl(e,t,r){var n=YT(e),i=n.length;if(YT(t).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],!AF(e,t,r,a)||(o=XT(e,a),s=XT(t,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Vme(e,t){return To(e.valueOf(),t.valueOf())}function Kme(e,t){return e.source===t.source&&e.flags===t.flags}function ZT(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.values(),o,s;(o=a.next())&&!o.done;){for(var l=t.values(),c=!1,u=0;(s=l.next())&&!s.done;){if(!i[u]&&r.equals(o.value,s.value,o.value,s.value,e,t,r)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function Gme(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Yme(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function AF(e,t,r,n){return(n===Fme||n===Lme||n===$me)&&(e.$$typeof||t.$$typeof)?!0:Mme(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var Xme="[object Arguments]",Qme="[object Boolean]",Jme="[object Date]",Zme="[object Error]",ege="[object Map]",tge="[object Number]",rge="[object Object]",nge="[object RegExp]",ige="[object Set]",age="[object String]",oge="[object URL]",sge=Array.isArray,eN=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,tN=Object.assign,lge=Object.prototype.toString.call.bind(Object.prototype.toString);function cge(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,f=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(v,m,g){if(v===m)return!0;if(v==null||m==null)return!1;var y=typeof v;if(y!==typeof m)return!1;if(y!=="object")return y==="number"?o(v,m,g):y==="function"?i(v,m,g):!1;var b=v.constructor;if(b!==m.constructor)return!1;if(b===Object)return s(v,m,g);if(sge(v))return t(v,m,g);if(eN!=null&&eN(v))return f(v,m,g);if(b===Date)return r(v,m,g);if(b===RegExp)return c(v,m,g);if(b===Map)return a(v,m,g);if(b===Set)return u(v,m,g);var x=lge(v);return x===Jme?r(v,m,g):x===nge?c(v,m,g):x===ege?a(v,m,g):x===ige?u(v,m,g):x===rge?typeof v.then!="function"&&typeof m.then!="function"&&s(v,m,g):x===oge?p(v,m,g):x===Zme?n(v,m,g):x===Xme?s(v,m,g):x===Qme||x===tge||x===age?l(v,m,g):!1}}function uge(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?Kl:Bme,areDatesEqual:zme,areErrorsEqual:qme,areFunctionsEqual:Ume,areMapsEqual:n?GT(JT,Kl):JT,areNumbersEqual:Wme,areObjectsEqual:n?Kl:Hme,arePrimitiveWrappersEqual:Vme,areRegExpsEqual:Kme,areSetsEqual:n?GT(ZT,Kl):ZT,areTypedArraysEqual:n?Kl:Gme,areUrlsEqual:Yme};if(r&&(i=tN({},i,r(i))),t){var a=Td(i.areArraysEqual),o=Td(i.areMapsEqual),s=Td(i.areObjectsEqual),l=Td(i.areSetsEqual);i=tN({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function dge(e){return function(t,r,n,i,a,o,s){return e(t,r,s)}}function fge(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,a=e.strict;if(n)return function(l,c){var u=n(),f=u.cache,p=f===void 0?t?new WeakMap:void 0:f,h=u.meta;return r(l,c,{cache:p,equals:i,meta:h,strict:a})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return r(l,c,o)}}var hge=Ta();Ta({strict:!0});Ta({circular:!0});Ta({circular:!0,strict:!0});Ta({createInternalComparator:function(){return To}});Ta({strict:!0,createInternalComparator:function(){return To}});Ta({circular:!0,createInternalComparator:function(){return To}});Ta({circular:!0,createInternalComparator:function(){return To},strict:!0});function Ta(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,a=e.strict,o=a===void 0?!1:a,s=uge(e),l=cge(s),c=n?n(l):dge(l);return fge({circular:r,comparator:l,createState:i,equals:c,strict:o})}function pge(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function rN(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>t?(e(a),r=-1):pge(i)};requestAnimationFrame(n)}function vw(e){"@babel/helpers - typeof";return vw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vw(e)}function mge(e){return bge(e)||yge(e)||vge(e)||gge()}function gge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vge(e,t){if(e){if(typeof e=="string")return nN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nN(e,t)}}function nN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bge(e){if(Array.isArray(e))return e}function xge(){var e={},t=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=mge(o),l=s[0],c=s.slice(1);if(typeof l=="number"){rN(i.bind(null,c),l);return}i(l),rN(i.bind(null,c));return}vw(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function au(e){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}function iN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iN(Object(r),!0).forEach(function(n){OF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OF(e,t,r){return t=wge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wge(e){var t=_ge(e,"string");return au(t)==="symbol"?t:String(t)}function _ge(e,t){if(au(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(au(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sge=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},jge=function(t){return t},kge=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},mc=function(t,r){return Object.keys(r).reduce(function(n,i){return aN(aN({},n),{},OF({},i,t(i,r[i])))},{})},oN=function(t,r,n){return t.map(function(i){return"".concat(kge(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Ege(e,t){return Cge(e)||Oge(e,t)||CF(e,t)||Age()}function Age(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Cge(e){if(Array.isArray(e))return e}function Pge(e){return Rge(e)||Nge(e)||CF(e)||Tge()}function Tge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CF(e,t){if(e){if(typeof e=="string")return yw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yw(e,t)}}function Nge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rge(e){if(Array.isArray(e))return yw(e)}function yw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rh=1e-4,PF=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},TF=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},sN=function(t,r){return function(n){var i=PF(t,r);return TF(i,n)}},Ige=function(t,r){return function(n){var i=PF(t,r),a=[].concat(Pge(i.map(function(o,s){return o*s}).slice(1)),[0]);return TF(a,n)}},lN=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),u=Ege(c,4);i=u[0],a=u[1],o=u[2],s=u[3]}}}var f=sN(i,o),p=sN(a,s),h=Ige(i,o),v=function(y){return y>1?1:y<0?0:y},m=function(y){for(var b=y>1?1:y,x=b,_=0;_<8;++_){var w=f(x)-b,j=h(x);if(Math.abs(w-b)<rh||j<rh)return p(x);x=v(x-w/j)}return p(x)};return m.isStepper=!1,m},Dge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,a=i===void 0?8:i,o=t.dt,s=o===void 0?17:o,l=function(u,f,p){var h=-(u-f)*n,v=p*a,m=p+(h-v)*s/1e3,g=p*s/1e3+u;return Math.abs(g-f)<rh&&Math.abs(m)<rh?[f,0]:[g,m]};return l.isStepper=!0,l.dt=s,l},Mge=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return lN(i);case"spring":return Dge();default:if(i.split("(")[0]==="cubic-bezier")return lN(i)}return typeof i=="function"?i:null};function ou(e){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}function cN(e){return Fge(e)||Lge(e)||NF(e)||$ge()}function $ge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fge(e){if(Array.isArray(e))return xw(e)}function uN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uN(Object(r),!0).forEach(function(n){bw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bw(e,t,r){return t=Bge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bge(e){var t=zge(e,"string");return ou(t)==="symbol"?t:String(t)}function zge(e,t){if(ou(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ou(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qge(e,t){return Hge(e)||Wge(e,t)||NF(e,t)||Uge()}function Uge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NF(e,t){if(e){if(typeof e=="string")return xw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xw(e,t)}}function xw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Hge(e){if(Array.isArray(e))return e}var nh=function(t,r,n){return t+(r-t)*n},ww=function(t){var r=t.from,n=t.to;return r!==n},Vge=function e(t,r,n){var i=mc(function(a,o){if(ww(o)){var s=t(o.from,o.to,o.velocity),l=qge(s,2),c=l[0],u=l[1];return ur(ur({},o),{},{from:c,velocity:u})}return o},r);return n<1?mc(function(a,o){return ww(o)?ur(ur({},o),{},{velocity:nh(o.velocity,i[a].velocity,n),from:nh(o.from,i[a].from,n)}):o},r):e(t,i,n-1)};const Kge=(function(e,t,r,n,i){var a=Sge(e,t),o=a.reduce(function(g,y){return ur(ur({},g),{},bw({},y,[e[y],t[y]]))},{}),s=a.reduce(function(g,y){return ur(ur({},g),{},bw({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,u,f=function(){return null},p=function(){return mc(function(y,b){return b.from},s)},h=function(){return!Object.values(s).filter(ww).length},v=function(y){c||(c=y);var b=y-c,x=b/r.dt;s=Vge(r,s,x),i(ur(ur(ur({},e),t),p())),c=y,h()||(l=requestAnimationFrame(f))},m=function(y){u||(u=y);var b=(y-u)/n,x=mc(function(w,j){return nh.apply(void 0,cN(j).concat([r(b)]))},o);if(i(ur(ur(ur({},e),t),x)),b<1)l=requestAnimationFrame(f);else{var _=mc(function(w,j){return nh.apply(void 0,cN(j).concat([r(1)]))},o);i(ur(ur(ur({},e),t),_))}};return f=r.isStepper?v:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}});function Ts(e){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}var Gge=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Yge(e,t){if(e==null)return{};var r=Xge(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xge(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Hb(e){return eve(e)||Zge(e)||Jge(e)||Qge()}function Qge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jge(e,t){if(e){if(typeof e=="string")return _w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _w(e,t)}}function Zge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eve(e){if(Array.isArray(e))return _w(e)}function _w(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dN(Object(r),!0).forEach(function(n){ec(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ec(e,t,r){return t=RF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RF(n.key),n)}}function nve(e,t,r){return t&&rve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RF(e){var t=ive(e,"string");return Ts(t)==="symbol"?t:String(t)}function ive(e,t){if(Ts(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ts(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ave(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sw(e,t)}function Sw(e,t){return Sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Sw(e,t)}function ove(e){var t=sve();return function(){var n=ih(e),i;if(t){var a=ih(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return jw(this,i)}}function jw(e,t){if(t&&(Ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kw(e)}function kw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ih(e){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ih(e)}var Xr=(function(e){ave(r,e);var t=ove(r);function r(n,i){var a;tve(this,r),a=t.call(this,n,i);var o=a.props,s=o.isActive,l=o.attributeName,c=o.from,u=o.to,f=o.steps,p=o.children,h=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(kw(a)),a.changeStyle=a.changeStyle.bind(kw(a)),!s||h<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:u}),jw(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof p=="function")return a.state={style:c},jw(a);a.state={style:l?ec({},l,c):c}}else a.state={style:{}};return a}return nve(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,f=a.from,p=this.state.style;if(s){if(!o){var h={style:l?ec({},l,u):u};this.state&&p&&(l&&p[l]!==u||!l&&p!==u)&&this.setState(h);return}if(!(hge(i.to,u)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=v||c?f:i.to;if(this.state&&p){var g={style:l?ec({},l,m):m};(l&&p[l]!==m||!l&&p!==m)&&this.setState(g)}this.runAnimation(xn(xn({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,p=i.onAnimationStart,h=Kge(o,s,Mge(c),l,this.changeStyle),v=function(){a.stopJSAnimation=h()};this.manager.start([p,u,v,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,c=o[0],u=c.style,f=c.duration,p=f===void 0?0:f,h=function(m,g,y){if(y===0)return m;var b=g.duration,x=g.easing,_=x===void 0?"ease":x,w=g.style,j=g.properties,k=g.onAnimationEnd,C=y>0?o[y-1]:g,P=j||Object.keys(w);if(typeof _=="function"||_==="spring")return[].concat(Hb(m),[a.runJSAnimation.bind(a,{from:C.style,to:w,duration:b,easing:_}),b]);var O=oN(P,b,_),T=xn(xn(xn({},C.style),w),{},{transition:O});return[].concat(Hb(m),[T,b,k]).filter(jge)};return this.manager.start([l].concat(Hb(o.reduce(h,[u,Math.max(p,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=xge());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,p=i.steps,h=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof c=="function"||typeof h=="function"||c==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var m=s?ec({},s,l):l,g=oN(Object.keys(m),o,c);v.start([u,a,xn(xn({},m),{},{transition:g}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Yge(i,Gge),c=S.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!s||c===0||o<=0)return a;var f=function(h){var v=h.props,m=v.style,g=m===void 0?{}:m,y=v.className,b=S.cloneElement(h,xn(xn({},l),{},{style:xn(xn({},g),u),className:y}));return b};return c===1?f(S.Children.only(a)):I.createElement("div",null,S.Children.map(a,function(p){return f(p)}))}}]),r})(S.PureComponent);Xr.displayName="Animate";Xr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Xr.propTypes={from:ht.oneOfType([ht.object,ht.string]),to:ht.oneOfType([ht.object,ht.string]),attributeName:ht.string,duration:ht.number,begin:ht.number,easing:ht.oneOfType([ht.string,ht.func]),steps:ht.arrayOf(ht.shape({duration:ht.number.isRequired,style:ht.object.isRequired,easing:ht.oneOfType([ht.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ht.func]),properties:ht.arrayOf("string"),onAnimationEnd:ht.func})),children:ht.oneOfType([ht.node,ht.func]),isActive:ht.bool,canBegin:ht.bool,onAnimationEnd:ht.func,shouldReAnimate:ht.bool,onAnimationStart:ht.func,onAnimationReStart:ht.func};function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}function ah(){return ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ah.apply(this,arguments)}function lve(e,t){return fve(e)||dve(e,t)||uve(e,t)||cve()}function cve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uve(e,t){if(e){if(typeof e=="string")return fN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fN(e,t)}}function fN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function fve(e){if(Array.isArray(e))return e}function hN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(r),!0).forEach(function(n){hve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hve(e,t,r){return t=pve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pve(e){var t=mve(e,"string");return su(t)=="symbol"?t:t+""}function mve(e,t){if(su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mN=function(t,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,u;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],p=0,h=4;p<h;p++)f[p]=a[p]>o?o:a[p];u="M".concat(t,",").concat(r+s*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(t+l*f[0],",").concat(r)),u+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+s*f[1])),u+="L ".concat(t+n,",").concat(r+i-s*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(t+n-l*f[2],",").concat(r+i)),u+="L ".concat(t+l*f[3],",").concat(r+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+i-s*f[3])),u+="Z"}else if(o>0&&a===+a&&a>0){var v=Math.min(o,a);u="M ".concat(t,",").concat(r+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+l*v,",").concat(r,`
            L `).concat(t+n-l*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+n,",").concat(r+s*v,`
            L `).concat(t+n,",").concat(r+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+n-l*v,",").concat(r+i,`
            L `).concat(t+l*v,",").concat(r+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t,",").concat(r+i-s*v," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},gve=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,a=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(a,a+s),u=Math.max(a,a+s),f=Math.min(o,o+l),p=Math.max(o,o+l);return n>=c&&n<=u&&i>=f&&i<=p}return!1},vve={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PS=function(t){var r=pN(pN({},vve),t),n=S.useRef(),i=S.useState(-1),a=lve(i,2),o=a[0],s=a[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&s(_)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,p=r.radius,h=r.className,v=r.animationEasing,m=r.animationDuration,g=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var x=Me("recharts-rectangle",h);return b?I.createElement(Xr,{canBegin:o>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:m,animationEasing:v,isActive:b},function(_){var w=_.width,j=_.height,k=_.x,C=_.y;return I.createElement(Xr,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,isActive:y,easing:v},I.createElement("path",ah({},xe(r,!0),{className:x,d:mN(k,C,w,j,p),ref:n})))}):I.createElement("path",ah({},xe(r,!0),{className:x,d:mN(l,c,u,f,p)}))},yve=["points","className","baseLinePoints","connectNulls"];function Qo(){return Qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qo.apply(this,arguments)}function bve(e,t){if(e==null)return{};var r=xve(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gN(e){return jve(e)||Sve(e)||_ve(e)||wve()}function wve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ve(e,t){if(e){if(typeof e=="string")return Ew(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ew(e,t)}}function Sve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jve(e){if(Array.isArray(e))return Ew(e)}function Ew(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vN=function(t){return t&&t.x===+t.x&&t.y===+t.y},kve=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){vN(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),vN(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},gc=function(t,r){var n=kve(t);r&&(n=[n.reduce(function(a,o){return[].concat(gN(a),gN(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Eve=function(t,r,n){var i=gc(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(gc(r.reverse(),n).slice(1))},IF=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,a=t.connectNulls,o=bve(t,yve);if(!r||!r.length)return null;var s=Me("recharts-polygon",n);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",c=Eve(r,i,a);return I.createElement("g",{className:s},I.createElement("path",Qo({},xe(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:c})),l?I.createElement("path",Qo({},xe(o,!0),{fill:"none",d:gc(r,a)})):null,l?I.createElement("path",Qo({},xe(o,!0),{fill:"none",d:gc(i,a)})):null)}var u=gc(r,a);return I.createElement("path",Qo({},xe(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:s,d:u}))};function Aw(){return Aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Aw.apply(this,arguments)}var _l=function(t){var r=t.cx,n=t.cy,i=t.r,a=t.className,o=Me("recharts-dot",a);return r===+r&&n===+n&&i===+i?S.createElement("circle",Aw({},xe(t,!1),Cf(t),{className:o,cx:r,cy:n,r:i})):null};function lu(e){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}var Ave=["x","y","top","left","width","height","className"];function Ow(){return Ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ow.apply(this,arguments)}function yN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ove(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(r),!0).forEach(function(n){Cve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cve(e,t,r){return t=Pve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pve(e){var t=Tve(e,"string");return lu(t)=="symbol"?t:t+""}function Tve(e,t){if(lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nve(e,t){if(e==null)return{};var r=Rve(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ive=function(t,r,n,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},Dve=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,o=t.top,s=o===void 0?0:o,l=t.left,c=l===void 0?0:l,u=t.width,f=u===void 0?0:u,p=t.height,h=p===void 0?0:p,v=t.className,m=Nve(t,Ave),g=Ove({x:n,y:a,top:s,left:c,width:f,height:h},m);return!pe(n)||!pe(a)||!pe(f)||!pe(h)||!pe(s)||!pe(c)?null:I.createElement("path",Ow({},xe(g,!0),{className:Me("recharts-cross",v),d:Ive(n,a,f,h,s,c)}))},Mve=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}function $ve(e,t){if(e==null)return{};var r=Lve(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Di(){return Di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Di.apply(this,arguments)}function bN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(r),!0).forEach(function(n){Fve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fve(e,t,r){return t=Bve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bve(e){var t=zve(e,"string");return cu(t)=="symbol"?t:t+""}function zve(e,t){if(cu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qve=function(t,r,n,i){var a="";return i.forEach(function(o,s){var l=dt(r,n,t,o);s?a+="L ".concat(l.x,",").concat(l.y):a+="M ".concat(l.x,",").concat(l.y)}),a+="Z",a},Uve=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.polarAngles,s=t.radialLines;if(!o||!o.length||!s)return null;var l=uu({stroke:"#ccc"},xe(t,!1));return I.createElement("g",{className:"recharts-polar-grid-angle"},o.map(function(c){var u=dt(r,n,i,c),f=dt(r,n,a,c);return I.createElement("line",Di({},l,{key:"line-".concat(c),x1:u.x,y1:u.y,x2:f.x,y2:f.y}))}))},Wve=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.index,o=uu(uu({stroke:"#ccc"},xe(t,!1)),{},{fill:"none"});return I.createElement("circle",Di({},o,{className:Me("recharts-polar-grid-concentric-circle",t.className),key:"circle-".concat(a),cx:r,cy:n,r:i}))},Hve=function(t){var r=t.radius,n=t.index,i=uu(uu({stroke:"#ccc"},xe(t,!1)),{},{fill:"none"});return I.createElement("path",Di({},i,{className:Me("recharts-polar-grid-concentric-polygon",t.className),key:"path-".concat(n),d:qve(r,t.cx,t.cy,t.polarAngles)}))},Vve=function(t){var r=t.polarRadius,n=t.gridType;return!r||!r.length?null:I.createElement("g",{className:"recharts-polar-grid-concentric"},r.map(function(i,a){var o=a;return n==="circle"?I.createElement(Wve,Di({key:o},t,{radius:i,index:a})):I.createElement(Hve,Di({key:o},t,{radius:i,index:a}))}))},oh=function(t){var r=t.cx,n=r===void 0?0:r,i=t.cy,a=i===void 0?0:i,o=t.innerRadius,s=o===void 0?0:o,l=t.outerRadius,c=l===void 0?0:l,u=t.gridType,f=u===void 0?"polygon":u,p=t.radialLines,h=p===void 0?!0:p,v=$ve(t,Mve);return c<=0?null:I.createElement("g",{className:"recharts-polar-grid"},I.createElement(Uve,Di({cx:n,cy:a,innerRadius:s,outerRadius:c,gridType:f,radialLines:h},v)),I.createElement(Vve,Di({cx:n,cy:a,innerRadius:s,outerRadius:c,gridType:f,radialLines:h},v)))};oh.displayName="PolarGrid";var Vb,xN;function Kve(){if(xN)return Vb;xN=1;var e=Xp(),t=V4(),r=hi();function n(i,a){return i&&i.length?e(i,r(a,2),t):void 0}return Vb=n,Vb}var Gve=Kve();const Yve=it(Gve);var Kb,wN;function Xve(){if(wN)return Kb;wN=1;var e=Xp(),t=hi(),r=K4();function n(i,a){return i&&i.length?e(i,t(a,2),r):void 0}return Kb=n,Kb}var Qve=Xve();const Jve=it(Qve);var Zve=["cx","cy","angle","ticks","axisLine"],eye=["ticks","tick","angle","tickFormatter","stroke"];function Ns(e){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ns(e)}function vc(){return vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vc.apply(this,arguments)}function _N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_N(Object(r),!0).forEach(function(n){em(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SN(e,t){if(e==null)return{};var r=tye(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MF(n.key),n)}}function nye(e,t,r){return t&&jN(e.prototype,t),r&&jN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iye(e,t,r){return t=sh(t),aye(e,DF()?Reflect.construct(t,r||[],sh(e).constructor):t.apply(e,r))}function aye(e,t){if(t&&(Ns(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oye(e)}function oye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DF=function(){return!!e})()}function sh(e){return sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sh(e)}function sye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cw(e,t)}function Cw(e,t){return Cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Cw(e,t)}function em(e,t,r){return t=MF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MF(e){var t=lye(e,"string");return Ns(t)=="symbol"?t:t+""}function lye(e,t){if(Ns(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _o=(function(e){function t(){return rye(this,t),iye(this,t,arguments)}return sye(t,e),nye(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return dt(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=Yve(s,function(u){return u.coordinate||0}),c=Jve(s,function(u){return u.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=n.axisLine,c=SN(n,Zve),u=s.reduce(function(v,m){return[Math.min(v[0],m.coordinate),Math.max(v[1],m.coordinate)]},[1/0,-1/0]),f=dt(i,a,u[0],o),p=dt(i,a,u[1],o),h=Fa(Fa(Fa({},xe(c,!1)),{},{fill:"none"},xe(l,!1)),{},{x1:f.x,y1:f.y,x2:p.x,y2:p.y});return I.createElement("line",vc({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,c=i.stroke,u=SN(i,eye),f=this.getTickTextAnchor(),p=xe(u,!1),h=xe(o,!1),v=a.map(function(m,g){var y=n.getTickValueCoord(m),b=Fa(Fa(Fa(Fa({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(y.x,", ").concat(y.y,")")},p),{},{stroke:"none",fill:c},h),{},{index:g},y),{},{payload:m});return I.createElement(Fe,vc({className:Me("recharts-polar-radius-axis-tick",_F(o)),key:"tick-".concat(m.coordinate)},_a(n.props,m,g)),t.renderTickItem(o,b,l?l(m.value,g):m.value))});return I.createElement(Fe,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:I.createElement(Fe,{className:Me("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),or.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return I.isValidElement(n)?o=I.cloneElement(n,i):Pe(n)?o=n(i):o=I.createElement(bo,vc({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])})(S.PureComponent);em(_o,"displayName","PolarRadiusAxis");em(_o,"axisType","radiusAxis");em(_o,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Rs(e){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}function Qa(){return Qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qa.apply(this,arguments)}function kN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ba(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(r),!0).forEach(function(n){tm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LF(n.key),n)}}function uye(e,t,r){return t&&EN(e.prototype,t),r&&EN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dye(e,t,r){return t=lh(t),fye(e,$F()?Reflect.construct(t,r||[],lh(e).constructor):t.apply(e,r))}function fye(e,t){if(t&&(Rs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hye(e)}function hye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $F(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($F=function(){return!!e})()}function lh(e){return lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lh(e)}function pye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pw(e,t)}function Pw(e,t){return Pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Pw(e,t)}function tm(e,t,r){return t=LF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LF(e){var t=mye(e,"string");return Rs(t)=="symbol"?t:t+""}function mye(e,t){if(Rs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gye=Math.PI/180,AN=1e-5,Sa=(function(e){function t(){return cye(this,t),dye(this,t,arguments)}return pye(t,e),uye(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,c=i.tickSize,u=c||8,f=dt(a,o,s,n.coordinate),p=dt(a,o,s+(l==="inner"?-1:1)*u,n.coordinate);return{x1:f.x,y1:f.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*gye),o;return a>AN?o=i==="outer"?"start":"end":a<-AN?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,s=n.axisLine,l=n.axisLineType,c=Ba(Ba({},xe(this.props,!1)),{},{fill:"none"},xe(s,!1));if(l==="circle")return I.createElement(_l,Qa({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:a,r:o}));var u=this.props.ticks,f=u.map(function(p){return dt(i,a,o,p.coordinate)});return I.createElement(IF,Qa({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,c=i.stroke,u=xe(this.props,!1),f=xe(o,!1),p=Ba(Ba({},u),{},{fill:"none"},xe(s,!1)),h=a.map(function(v,m){var g=n.getTickLineCoord(v),y=n.getTickTextAnchor(v),b=Ba(Ba(Ba({textAnchor:y},u),{},{stroke:"none",fill:c},f),{},{index:m,payload:v,x:g.x2,y:g.y2});return I.createElement(Fe,Qa({className:Me("recharts-polar-angle-axis-tick",_F(o)),key:"tick-".concat(v.coordinate)},_a(n.props,v,m)),s&&I.createElement("line",Qa({className:"recharts-polar-angle-axis-tick-line"},p,g)),o&&t.renderTickItem(o,b,l?l(v.value,m):v.value))});return I.createElement(Fe,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:I.createElement(Fe,{className:Me("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return I.isValidElement(n)?o=I.cloneElement(n,i):Pe(n)?o=n(i):o=I.createElement(bo,Qa({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])})(S.PureComponent);tm(Sa,"displayName","PolarAngleAxis");tm(Sa,"axisType","angleAxis");tm(Sa,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Gb,ON;function vye(){if(ON)return Gb;ON=1;var e=H3(),t=e(Object.getPrototypeOf,Object);return Gb=t,Gb}var Yb,CN;function yye(){if(CN)return Yb;CN=1;var e=Bi(),t=vye(),r=zi(),n="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,s=a.hasOwnProperty,l=o.call(Object);function c(u){if(!r(u)||e(u)!=n)return!1;var f=t(u);if(f===null)return!0;var p=s.call(f,"constructor")&&f.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==l}return Yb=c,Yb}var bye=yye();const xye=it(bye);var Xb,PN;function wye(){if(PN)return Xb;PN=1;var e=Bi(),t=zi(),r="[object Boolean]";function n(i){return i===!0||i===!1||t(i)&&e(i)==r}return Xb=n,Xb}var _ye=wye();const Sye=it(_ye);function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function ch(){return ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ch.apply(this,arguments)}function jye(e,t){return Oye(e)||Aye(e,t)||Eye(e,t)||kye()}function kye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eye(e,t){if(e){if(typeof e=="string")return TN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TN(e,t)}}function TN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Aye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Oye(e){if(Array.isArray(e))return e}function NN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function RN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(r),!0).forEach(function(n){Cye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cye(e,t,r){return t=Pye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pye(e){var t=Tye(e,"string");return du(t)=="symbol"?t:t+""}function Tye(e,t){if(du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IN=function(t,r,n,i,a){var o=n-i,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-o/2,",").concat(r+a),s+="L ".concat(t+n-o/2-i,",").concat(r+a),s+="L ".concat(t,",").concat(r," Z"),s},Nye={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rye=function(t){var r=RN(RN({},Nye),t),n=S.useRef(),i=S.useState(-1),a=jye(i,2),o=a[0],s=a[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&s(x)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,p=r.height,h=r.className,v=r.animationEasing,m=r.animationDuration,g=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||p!==+p||u===0&&f===0||p===0)return null;var b=Me("recharts-trapezoid",h);return y?I.createElement(Xr,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:p,x:l,y:c},duration:m,animationEasing:v,isActive:y},function(x){var _=x.upperWidth,w=x.lowerWidth,j=x.height,k=x.x,C=x.y;return I.createElement(Xr,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,easing:v},I.createElement("path",ch({},xe(r,!0),{className:b,d:IN(k,C,_,w,j),ref:n})))}):I.createElement("g",null,I.createElement("path",ch({},xe(r,!0),{className:b,d:IN(l,c,u,f,p)})))},Iye=["option","shapeType","propTransformer","activeClassName","isActive"];function fu(e){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}function Dye(e,t){if(e==null)return{};var r=Mye(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function DN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DN(Object(r),!0).forEach(function(n){$ye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ye(e,t,r){return t=Lye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lye(e){var t=Fye(e,"string");return fu(t)=="symbol"?t:t+""}function Fye(e,t){if(fu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bye(e,t){return uh(uh({},t),e)}function zye(e,t){return e==="symbols"}function MN(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return I.createElement(PS,r);case"trapezoid":return I.createElement(Rye,r);case"sector":return I.createElement(EF,r);case"symbols":if(zye(t))return I.createElement(Bp,r);break;default:return null}}function qye(e){return S.isValidElement(e)?e.props:e}function dh(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?Bye:n,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,s=e.isActive,l=Dye(e,Iye),c;if(S.isValidElement(t))c=S.cloneElement(t,uh(uh({},l),qye(t)));else if(Pe(t))c=t(l);else if(xye(t)&&!Sye(t)){var u=i(t,l);c=I.createElement(MN,{shapeType:r,elementProps:u})}else{var f=l;c=I.createElement(MN,{shapeType:r,elementProps:f})}return s?I.createElement(Fe,{className:o},c):c}function rm(e,t){return t!=null&&"trapezoids"in e.props}function nm(e,t){return t!=null&&"sectors"in e.props}function hu(e,t){return t!=null&&"points"in e.props}function Uye(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&a}function Wye(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Hye(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function Vye(e,t){var r;return rm(e,t)?r=Uye:nm(e,t)?r=Wye:hu(e,t)&&(r=Hye),r}function Kye(e,t){var r;return rm(e,t)?r="trapezoids":nm(e,t)?r="sectors":hu(e,t)&&(r="points"),r}function Gye(e,t){if(rm(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(nm(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return hu(e,t)?t.payload:{}}function Yye(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=Kye(r,t),a=Gye(r,t),o=n.filter(function(l,c){var u=Ii(a,l),f=r.props[i].filter(function(v){var m=Vye(r,t);return m(v,t)}),p=r.props[i].indexOf(f[f.length-1]),h=c===p;return u&&h}),s=n.indexOf(o[o.length-1]);return s}var Gd;function Is(e){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}function Jo(){return Jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jo.apply(this,arguments)}function $N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(r),!0).forEach(function(n){cn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BF(n.key),n)}}function Qye(e,t,r){return t&&LN(e.prototype,t),r&&LN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jye(e,t,r){return t=fh(t),Zye(e,FF()?Reflect.construct(t,r||[],fh(e).constructor):t.apply(e,r))}function Zye(e,t){if(t&&(Is(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ebe(e)}function ebe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FF=function(){return!!e})()}function fh(e){return fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fh(e)}function tbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tw(e,t)}function Tw(e,t){return Tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Tw(e,t)}function cn(e,t,r){return t=BF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BF(e){var t=rbe(e,"string");return Is(t)=="symbol"?t:t+""}function rbe(e,t){if(Is(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ui=(function(e){function t(r){var n;return Xye(this,t),n=Jye(this,t,[r]),cn(n,"pieRef",null),cn(n,"sectorRefs",[]),cn(n,"id",Oa("recharts-pie-")),cn(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Pe(i)&&i()}),cn(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Pe(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return tbe(t,e),Qye(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,c=a.valueKey,u=xe(this.props,!1),f=xe(o,!1),p=xe(s,!1),h=o&&o.offsetRadius||20,v=n.map(function(m,g){var y=(m.startAngle+m.endAngle)/2,b=dt(m.cx,m.cy,m.outerRadius+h,y),x=jt(jt(jt(jt({},u),m),{},{stroke:"none"},f),{},{index:g,textAnchor:t.getTextAnchor(b.x,m.cx)},b),_=jt(jt(jt(jt({},u),m),{},{fill:"none",stroke:m.fill},p),{},{index:g,points:[dt(m.cx,m.cy,m.outerRadius,y),b]}),w=l;return Te(l)&&Te(c)?w="value":Te(l)&&(w=c),I.createElement(Fe,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(g)},s&&t.renderLabelLineItem(s,_,"line"),t.renderLabelItem(o,x,bt(m,w)))});return I.createElement(Fe,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return n.map(function(c,u){if(c?.startAngle===0&&c?.endAngle===0&&n.length!==1)return null;var f=i.isActiveIndex(u),p=l&&i.hasActiveIndex()?l:null,h=f?o:p,v=jt(jt({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return I.createElement(Fe,Jo({ref:function(g){g&&!i.sectorRefs.includes(g)&&i.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},_a(i.props,c,u),{key:"sector-".concat(c?.startAngle,"-").concat(c?.endAngle,"-").concat(c.midAngle,"-").concat(u)}),I.createElement(dh,Jo({option:h,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,f=this.state,p=f.prevSectors,h=f.prevIsAnimationActive;return I.createElement(Xr,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var m=v.t,g=[],y=a&&a[0],b=y.startAngle;return a.forEach(function(x,_){var w=p&&p[_],j=_>0?Yr(x,"paddingAngle",0):0;if(w){var k=yt(w.endAngle-w.startAngle,x.endAngle-x.startAngle),C=jt(jt({},x),{},{startAngle:b+j,endAngle:b+k(m)+j});g.push(C),b=C.endAngle}else{var P=x.endAngle,O=x.startAngle,T=yt(0,P-O),N=T(m),D=jt(jt({},x),{},{startAngle:b+j,endAngle:b+N+j});g.push(D),b=D.endAngle}}),I.createElement(Fe,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Ii(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,c=i.cx,u=i.cy,f=i.innerRadius,p=i.outerRadius,h=i.isAnimationActive,v=this.state.isAnimationFinished;if(a||!o||!o.length||!pe(c)||!pe(u)||!pe(f)||!pe(p))return null;var m=Me("recharts-pie",s);return I.createElement(Fe,{tabIndex:this.props.rootTabIndex,className:m,ref:function(y){n.pieRef=y}},this.renderSectors(),l&&this.renderLabels(o),or.renderCallByParent(this.props,null,!1),(!h||v)&&fn.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(I.isValidElement(n))return I.cloneElement(n,i);if(Pe(n))return n(i);var o=Me("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return I.createElement(ya,Jo({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(I.isValidElement(n))return I.cloneElement(n,i);var o=a;if(Pe(n)&&(o=n(i),I.isValidElement(o)))return o;var s=Me("recharts-pie-label-text",typeof n!="boolean"&&!Pe(n)?n.className:"");return I.createElement(bo,Jo({},i,{alignmentBaseline:"middle",className:s}),o)}}])})(S.PureComponent);Gd=Ui;cn(Ui,"displayName","Pie");cn(Ui,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!pi.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});cn(Ui,"parseDeltaAngle",function(e,t){var r=Sr(t-e),n=Math.min(Math.abs(t-e),360);return r*n});cn(Ui,"getRealPieData",function(e){var t=e.data,r=e.children,n=xe(e,!1),i=Ar(r,vl);return t&&t.length?t.map(function(a,o){return jt(jt(jt({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return jt(jt({},n),a.props)}):[]});cn(Ui,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,a=t.height,o=xF(i,a),s=n+jr(e.cx,i,i/2),l=r+jr(e.cy,a,a/2),c=jr(e.innerRadius,o,0),u=jr(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:u,maxRadius:f}});cn(Ui,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?jt(jt({},t.type.defaultProps),t.props):t.props,i=Gd.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,s=n.endAngle,l=n.paddingAngle,c=n.dataKey,u=n.nameKey,f=n.valueKey,p=n.tooltipType,h=Math.abs(n.minAngle),v=Gd.parseCoordinateOfPie(n,r),m=Gd.parseDeltaAngle(o,s),g=Math.abs(m),y=c;Te(c)&&Te(f)?(Rn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Te(c)&&(Rn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var b=i.filter(function(C){return bt(C,y,0)!==0}).length,x=(g>=360?b:b-1)*l,_=g-b*h-x,w=i.reduce(function(C,P){var O=bt(P,y,0);return C+(pe(O)?O:0)},0),j;if(w>0){var k;j=i.map(function(C,P){var O=bt(C,y,0),T=bt(C,u,P),N=(pe(O)?O:0)/w,D;P?D=k.endAngle+Sr(m)*l*(O!==0?1:0):D=o;var E=D+Sr(m)*((O!==0?h:0)+N*_),R=(D+E)/2,B=(v.innerRadius+v.outerRadius)/2,F=[{name:T,value:O,payload:C,dataKey:y,type:p}],U=dt(v.cx,v.cy,B,R);return k=jt(jt(jt({percent:N,cornerRadius:a,name:T,tooltipPayload:F,midAngle:R,middleRadius:B,tooltipPosition:U},C),v),{},{value:bt(C,y),startAngle:D,endAngle:E,payload:C,paddingAngle:Sr(m)*l}),k})}return jt(jt({},v),{},{sectors:j,data:i})});var Qb,FN;function nbe(){if(FN)return Qb;FN=1;function e(t){return t&&t.length?t[0]:void 0}return Qb=e,Qb}var Jb,BN;function ibe(){return BN||(BN=1,Jb=nbe()),Jb}var abe=ibe();const obe=it(abe);var sbe=["key"];function Ds(e){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(e)}function lbe(e,t){if(e==null)return{};var r=cbe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hh(){return hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hh.apply(this,arguments)}function zN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(r),!0).forEach(function(n){bi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ube(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qF(n.key),n)}}function dbe(e,t,r){return t&&qN(e.prototype,t),r&&qN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fbe(e,t,r){return t=ph(t),hbe(e,zF()?Reflect.construct(t,r||[],ph(e).constructor):t.apply(e,r))}function hbe(e,t){if(t&&(Ds(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pbe(e)}function pbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zF=function(){return!!e})()}function ph(e){return ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ph(e)}function mbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nw(e,t)}function Nw(e,t){return Nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Nw(e,t)}function bi(e,t,r){return t=qF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qF(e){var t=gbe(e,"string");return Ds(t)=="symbol"?t:t+""}function gbe(e,t){if(Ds(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var So=(function(e){function t(){var r;ube(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=fbe(this,t,[].concat(i)),bi(r,"state",{isAnimationFinished:!1}),bi(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Pe(o)&&o()}),bi(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Pe(o)&&o()}),bi(r,"handleMouseEnter",function(o){var s=r.props.onMouseEnter;s&&s(r.props,o)}),bi(r,"handleMouseLeave",function(o){var s=r.props.onMouseLeave;s&&s(r.props,o)}),r}return mbe(t,e),dbe(t,[{key:"renderDots",value:function(n){var i=this.props,a=i.dot,o=i.dataKey,s=xe(this.props,!1),l=xe(a,!0),c=n.map(function(u,f){var p=br(br(br({key:"dot-".concat(f),r:3},s),l),{},{dataKey:o,cx:u.x,cy:u.y,index:f,payload:u});return t.renderDotItem(a,p)});return I.createElement(Fe,{className:"recharts-radar-dots"},c)}},{key:"renderPolygonStatically",value:function(n){var i=this.props,a=i.shape,o=i.dot,s=i.isRange,l=i.baseLinePoints,c=i.connectNulls,u;return I.isValidElement(a)?u=I.cloneElement(a,br(br({},this.props),{},{points:n})):Pe(a)?u=a(br(br({},this.props),{},{points:n})):u=I.createElement(IF,hh({},xe(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:n,baseLinePoints:s?l:null,connectNulls:c})),I.createElement(Fe,{className:"recharts-radar-polygon"},u,o?this.renderDots(n):null)}},{key:"renderPolygonWithAnimation",value:function(){var n=this,i=this.props,a=i.points,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,f=this.state.prevPoints;return I.createElement(Xr,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"radar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var h=p.t,v=f&&f.length/a.length,m=a.map(function(g,y){var b=f&&f[Math.floor(y*v)];if(b){var x=yt(b.x,g.x),_=yt(b.y,g.y);return br(br({},g),{},{x:x(h),y:_(h)})}var w=yt(g.cx,g.x),j=yt(g.cy,g.y);return br(br({},g),{},{x:w(h),y:j(h)})});return n.renderPolygonStatically(m)})}},{key:"renderPolygon",value:function(){var n=this.props,i=n.points,a=n.isAnimationActive,o=n.isRange,s=this.state.prevPoints;return a&&i&&i.length&&!o&&(!s||!Ii(s,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.className,o=n.points,s=n.isAnimationActive;if(i||!o||!o.length)return null;var l=this.state.isAnimationFinished,c=Me("recharts-radar",a);return I.createElement(Fe,{className:c},this.renderPolygon(),(!s||l)&&fn.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"renderDotItem",value:function(n,i){var a;if(I.isValidElement(n))a=I.cloneElement(n,i);else if(Pe(n))a=n(i);else{var o=i.key,s=lbe(i,sbe);a=I.createElement(_l,hh({},s,{key:o,className:Me("recharts-radar-dot",typeof n!="boolean"?n.className:"")}))}return a}}])})(S.PureComponent);bi(So,"displayName","Radar");bi(So,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!pi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});bi(So,"getComposedData",function(e){var t=e.radiusAxis,r=e.angleAxis,n=e.displayedData,i=e.dataKey,a=e.bandSize,o=r.cx,s=r.cy,l=!1,c=[],u=r.type!=="number"?a??0:0;n.forEach(function(p,h){var v=bt(p,r.dataKey,h),m=bt(p,i),g=r.scale(v)+u,y=Array.isArray(m)?jF(m):m,b=Te(y)?void 0:t.scale(y);Array.isArray(m)&&m.length>=2&&(l=!0),c.push(br(br({},dt(o,s,b,g)),{},{name:v,value:m,cx:o,cy:s,radius:b,angle:g,payload:p}))});var f=[];return l&&c.forEach(function(p){if(Array.isArray(p.value)){var h=obe(p.value),v=Te(h)?void 0:t.scale(h);f.push(br(br({},p),{},{radius:v},dt(o,s,v,p.angle)))}else f.push(p)}),{points:c,isRange:l,baseLinePoints:f}});var Zb,UN;function vbe(){if(UN)return Zb;UN=1;var e=Math.ceil,t=Math.max;function r(n,i,a,o){for(var s=-1,l=t(e((i-n)/(a||1)),0),c=Array(l);l--;)c[o?l:++s]=n,n+=a;return c}return Zb=r,Zb}var e0,WN;function UF(){if(WN)return e0;WN=1;var e=s4(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var a=i<0?-1:1;return a*r}return i===i?i:0}return e0=n,e0}var t0,HN;function ybe(){if(HN)return t0;HN=1;var e=vbe(),t=Up(),r=UF();function n(i){return function(a,o,s){return s&&typeof s!="number"&&t(a,o,s)&&(o=s=void 0),a=r(a),o===void 0?(o=a,a=0):o=r(o),s=s===void 0?a<o?1:-1:r(s),e(a,o,s,i)}}return t0=n,t0}var r0,VN;function bbe(){if(VN)return r0;VN=1;var e=ybe(),t=e();return r0=t,r0}var xbe=bbe();const mh=it(xbe);function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function KN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function GN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KN(Object(r),!0).forEach(function(n){WF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WF(e,t,r){return t=wbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wbe(e){var t=_be(e,"string");return pu(t)=="symbol"?t:t+""}function _be(e,t){if(pu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sbe=["Webkit","Moz","O","ms"],jbe=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Sbe.reduce(function(a,o){return GN(GN({},a),{},WF({},o+n,r))},{});return i[t]=r,i};function Ms(e){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(e)}function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gh.apply(this,arguments)}function YN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function n0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YN(Object(r),!0).forEach(function(n){Br(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VF(n.key),n)}}function Ebe(e,t,r){return t&&XN(e.prototype,t),r&&XN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Abe(e,t,r){return t=vh(t),Obe(e,HF()?Reflect.construct(t,r||[],vh(e).constructor):t.apply(e,r))}function Obe(e,t){if(t&&(Ms(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cbe(e)}function Cbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HF=function(){return!!e})()}function vh(e){return vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vh(e)}function Pbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rw(e,t)}function Rw(e,t){return Rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Rw(e,t)}function Br(e,t,r){return t=VF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VF(e){var t=Tbe(e,"string");return Ms(t)=="symbol"?t:t+""}function Tbe(e,t){if(Ms(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Nbe=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,a=t.x,o=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=hc().domain(mh(0,l)).range([a,a+o-s]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:u}},QN=function(t){return t.changedTouches&&!!t.changedTouches.length},$s=(function(e){function t(r){var n;return kbe(this,t),n=Abe(this,t,[r]),Br(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Br(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Br(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o?.({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),Br(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Br(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Br(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Br(n,"handleSlideDragStart",function(i){var a=QN(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Pbe(t,e),Ebe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,f=Math.min(i,a),p=Math.max(i,a),h=t.getIndexInRange(o,f),v=t.getIndexInRange(o,p);return{startIndex:h-h%l,endIndex:v===u?u:v-v%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=bt(a[n],s,n);return Pe(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,p=l.startIndex,h=l.endIndex,v=l.onChange,m=n.pageX-a;m>0?m=Math.min(m,c+u-f-s,c+u-f-o):m<0&&(m=Math.max(m,c-o,c-s));var g=this.getIndex({startX:o+m,endX:s+m});(g.startIndex!==p||g.endIndex!==h)&&v&&v(g),this.setState({startX:o+m,endX:s+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=QN(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[o],u=this.props,f=u.x,p=u.width,h=u.travellerWidth,v=u.onChange,m=u.gap,g=u.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-a;b>0?b=Math.min(b,f+p-h-c):b<0&&(b=Math.max(b,f-c)),y[o]=c+b;var x=this.getIndex(y),_=x.startIndex,w=x.endIndex,j=function(){var C=g.length-1;return o==="startX"&&(s>l?_%m===0:w%m===0)||s<l&&w===C||o==="endX"&&(s>l?w%m===0:_%m===0)||s>l&&w===C};this.setState(Br(Br({},o,c+b),"brushMoveStartX",n.pageX),function(){v&&j()&&v(x)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,c=o.endX,u=this.state[i],f=s.indexOf(u);if(f!==-1){var p=f+n;if(!(p===-1||p>=s.length)){var h=s[p];i==="startX"&&h>=c||i==="endX"&&h<=l||this.setState(Br({},i,h),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.fill,c=n.stroke;return I.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.data,c=n.children,u=n.padding,f=S.Children.only(c);return f?I.cloneElement(f,{x:i,y:a,width:o,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,p=l.traveller,h=l.ariaLabel,v=l.data,m=l.startIndex,g=l.endIndex,y=Math.max(n,this.props.x),b=n0(n0({},xe(this.props,!1)),{},{x:y,y:c,width:u,height:f}),x=h||"Min value: ".concat((a=v[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=v[g])===null||o===void 0?void 0:o.name);return I.createElement(Fe,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),s.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,b))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(n,i)+c,f=Math.max(Math.abs(i-n)-c,0);return I.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,p=u.endX,h=5,v={pointerEvents:"none",fill:c};return I.createElement(Fe,{className:"recharts-brush-texts"},I.createElement(bo,gh({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-h,y:o+s/2},v),this.getTextOfTick(i)),I.createElement(bo,gh({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+l+h,y:o+s/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,p=this.state,h=p.startX,v=p.endX,m=p.isTextActive,g=p.isSlideMoving,y=p.isTravellerMoving,b=p.isTravellerFocused;if(!i||!i.length||!pe(s)||!pe(l)||!pe(c)||!pe(u)||c<=0||u<=0)return null;var x=Me("recharts-brush",a),_=I.Children.count(o)===1,w=jbe("userSelect","none");return I.createElement(Fe,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(h,v),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(v,"endX"),(m||g||y||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,l=n.stroke,c=Math.floor(a+s/2)-1;return I.createElement(I.Fragment,null,I.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),I.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),I.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return I.isValidElement(n)?a=I.cloneElement(n,i):Pe(n)?a=n(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return n0({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o},a&&a.length?Nbe({data:a,width:o,x:s,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var p=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>i?s=l:o=l}return i>=n[s]?s:o}}])})(S.PureComponent);Br($s,"displayName","Brush");Br($s,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var i0,JN;function Rbe(){if(JN)return i0;JN=1;var e=rS();function t(r,n){var i;return e(r,function(a,o,s){return i=n(a,o,s),!i}),!!i}return i0=t,i0}var a0,ZN;function Ibe(){if(ZN)return a0;ZN=1;var e=L3(),t=hi(),r=Rbe(),n=$r(),i=Up();function a(o,s,l){var c=n(o)?e:r;return l&&i(o,s,l)&&(s=void 0),c(o,t(s,3))}return a0=a,a0}var Dbe=Ibe();const Mbe=it(Dbe);var ti=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},o0,e2;function $be(){if(e2)return o0;e2=1;var e=r4();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return o0=t,o0}var s0,t2;function Lbe(){if(t2)return s0;t2=1;var e=$be(),t=e4(),r=hi();function n(i,a){var o={};return a=r(a,3),t(i,function(s,l,c){e(o,l,a(s,l,c))}),o}return s0=n,s0}var Fbe=Lbe();const Bbe=it(Fbe);var l0,r2;function zbe(){if(r2)return l0;r2=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(!r(t[n],n,t))return!1;return!0}return l0=e,l0}var c0,n2;function qbe(){if(n2)return c0;n2=1;var e=rS();function t(r,n){var i=!0;return e(r,function(a,o,s){return i=!!n(a,o,s),i}),i}return c0=t,c0}var u0,i2;function Ube(){if(i2)return u0;i2=1;var e=zbe(),t=qbe(),r=hi(),n=$r(),i=Up();function a(o,s,l){var c=n(o)?e:t;return l&&i(o,s,l)&&(s=void 0),c(o,r(s,3))}return u0=a,u0}var Wbe=Ube();const KF=it(Wbe);var Hbe=["x","y"];function mu(e){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}function Iw(){return Iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iw.apply(this,arguments)}function a2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(r),!0).forEach(function(n){Vbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vbe(e,t,r){return t=Kbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kbe(e){var t=Gbe(e,"string");return mu(t)=="symbol"?t:t+""}function Gbe(e,t){if(mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ybe(e,t){if(e==null)return{};var r=Xbe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qbe(e,t){var r=e.x,n=e.y,i=Ybe(e,Hbe),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),f="".concat(t.width||i.width),p=parseInt(f,10);return Gl(Gl(Gl(Gl(Gl({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function o2(e){return I.createElement(dh,Iw({shapeType:"rectangle",propTransformer:Qbe,activeClassName:"recharts-active-bar"},e))}var Jbe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var a=pe(n)||eoe(n);return a?t(n,i):(a||wo(),r)}},Zbe=["value","background"],GF;function Ls(e){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}function e0e(e,t){if(e==null)return{};var r=t0e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function t0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yh.apply(this,arguments)}function s2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s2(Object(r),!0).forEach(function(n){aa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XF(n.key),n)}}function n0e(e,t,r){return t&&l2(e.prototype,t),r&&l2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function i0e(e,t,r){return t=bh(t),a0e(e,YF()?Reflect.construct(t,r||[],bh(e).constructor):t.apply(e,r))}function a0e(e,t){if(t&&(Ls(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o0e(e)}function o0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YF=function(){return!!e})()}function bh(e){return bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bh(e)}function s0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dw(e,t)}function Dw(e,t){return Dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Dw(e,t)}function aa(e,t,r){return t=XF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XF(e){var t=l0e(e,"string");return Ls(t)=="symbol"?t:t+""}function l0e(e,t){if(Ls(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Dt=(function(e){function t(){var r;r0e(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=i0e(this,t,[].concat(i)),aa(r,"state",{isAnimationFinished:!1}),aa(r,"id",Oa("recharts-bar-")),aa(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),aa(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return s0e(t,e),n0e(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,c=a.activeBar,u=xe(this.props,!1);return n&&n.map(function(f,p){var h=p===l,v=h?c:o,m=zt(zt(zt({},u),f),{},{isActive:h,option:v,index:p,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return I.createElement(Fe,yh({className:"recharts-bar-rectangle"},_a(i.props,f,p),{key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value,"-").concat(p)}),I.createElement(o2,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,p=this.state.prevData;return I.createElement(Xr,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var v=h.t,m=a.map(function(g,y){var b=p&&p[y];if(b){var x=yt(b.x,g.x),_=yt(b.y,g.y),w=yt(b.width,g.width),j=yt(b.height,g.height);return zt(zt({},g),{},{x:x(v),y:_(v),width:w(v),height:j(v)})}if(o==="horizontal"){var k=yt(0,g.height),C=k(v);return zt(zt({},g),{},{y:g.y+g.height-C,height:C})}var P=yt(0,g.width),O=P(v);return zt(zt({},g),{},{width:O})});return I.createElement(Fe,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Ii(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=xe(this.props.background,!1);return a.map(function(c,u){c.value;var f=c.background,p=e0e(c,Zbe);if(!f)return null;var h=zt(zt(zt(zt(zt({},p),{},{fill:"#eee"},f),l),_a(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return I.createElement(o2,yh({key:"background-bar-".concat(u),option:n.props.background,isActive:u===s},h))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=Ar(u,wl);if(!f)return null;var p=c==="vertical"?o[0].height/2:o[0].width/2,h=function(g,y){var b=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:b,errorVal:bt(g,y)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return I.createElement(Fe,v,f.map(function(m){return I.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,offset:p,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,p=n.height,h=n.isAnimationActive,v=n.background,m=n.id;if(i||!a||!a.length)return null;var g=this.state.isAnimationFinished,y=Me("recharts-bar",o),b=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,_=b||x,w=Te(m)?this.id:m;return I.createElement(Fe,{className:y},b||x?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(w)},I.createElement("rect",{x:b?c:c-f/2,y:x?u:u-p/2,width:b?f:f*2,height:x?p:p*2}))):null,I.createElement(Fe,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(w,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,w),(!h||g)&&fn.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(S.PureComponent);GF=Dt;aa(Dt,"displayName","Bar");aa(Dt,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!pi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});aa(Dt,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,f=e.displayedData,p=e.offset,h=mpe(n,r);if(!h)return null;var v=t.layout,m=r.type.defaultProps,g=m!==void 0?zt(zt({},m),r.props):r.props,y=g.dataKey,b=g.children,x=g.minPointSize,_=v==="horizontal"?o:a,w=c?_.scale.domain():null,j=_pe({numericAxis:_}),k=Ar(b,vl),C=f.map(function(P,O){var T,N,D,E,R,B;c?T=gpe(c[u+O],w):(T=bt(P,y),Array.isArray(T)||(T=[j,T]));var F=Jbe(x,GF.defaultProps.minPointSize)(T[1],O);if(v==="horizontal"){var U,L=[o.scale(T[0]),o.scale(T[1])],M=L[0],H=L[1];N=OT({axis:a,ticks:s,bandSize:i,offset:h.offset,entry:P,index:O}),D=(U=H??M)!==null&&U!==void 0?U:void 0,E=h.size;var z=M-H;if(R=Number.isNaN(z)?0:z,B={x:N,y:o.y,width:E,height:o.height},Math.abs(F)>0&&Math.abs(R)<Math.abs(F)){var $=Sr(R||F)*(Math.abs(F)-Math.abs(R));D-=$,R+=$}}else{var Q=[a.scale(T[0]),a.scale(T[1])],Z=Q[0],fe=Q[1];if(N=Z,D=OT({axis:o,ticks:l,bandSize:i,offset:h.offset,entry:P,index:O}),E=fe-Z,R=h.size,B={x:a.x,y:D,width:a.width,height:R},Math.abs(F)>0&&Math.abs(E)<Math.abs(F)){var le=Sr(E||F)*(Math.abs(F)-Math.abs(E));E+=le}}return zt(zt(zt({},P),{},{x:N,y:D,width:E,height:R,value:c?T:T[1],payload:P,background:B},k&&k[O]&&k[O].props),{},{tooltipPayload:[yF(r,P)],tooltipPosition:{x:N+E/2,y:D+R/2}})});return zt({data:C,layout:v},p)});function gu(e){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(e)}function c0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QF(n.key),n)}}function u0e(e,t,r){return t&&c2(e.prototype,t),r&&c2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function En(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u2(Object(r),!0).forEach(function(n){im(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function im(e,t,r){return t=QF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QF(e){var t=d0e(e,"string");return gu(t)=="symbol"?t:t+""}function d0e(e,t){if(gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var am=function(t,r,n,i,a){var o=t.width,s=t.height,l=t.layout,c=t.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},p=!!zr(c,Dt);return u.reduce(function(h,v){var m=r[v],g=m.orientation,y=m.domain,b=m.padding,x=b===void 0?{}:b,_=m.mirror,w=m.reversed,j="".concat(g).concat(_?"Mirror":""),k,C,P,O,T;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var N=y[1]-y[0],D=1/0,E=m.categoricalDomain.sort(ioe);if(E.forEach(function(Q,Z){Z>0&&(D=Math.min((Q||0)-(E[Z-1]||0),D))}),Number.isFinite(D)){var R=D/N,B=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(k=R*B/2),m.padding==="no-gap"){var F=jr(t.barCategoryGap,R*B),U=R*B/2;k=U-F-(U-F)/B*F}}}i==="xAxis"?C=[n.left+(x.left||0)+(k||0),n.left+n.width-(x.right||0)-(k||0)]:i==="yAxis"?C=l==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(k||0),n.top+n.height-(x.bottom||0)-(k||0)]:C=m.range,w&&(C=[C[1],C[0]]);var L=pF(m,a,p),M=L.scale,H=L.realScaleType;M.domain(y).range(C),mF(M);var z=gF(M,En(En({},m),{},{realScaleType:H}));i==="xAxis"?(T=g==="top"&&!_||g==="bottom"&&_,P=n.left,O=f[j]-T*m.height):i==="yAxis"&&(T=g==="left"&&!_||g==="right"&&_,P=f[j]-T*m.width,O=n.top);var $=En(En(En({},m),z),{},{realScaleType:H,x:P,y:O,scale:M,width:i==="xAxis"?n.width:m.width,height:i==="yAxis"?n.height:m.height});return $.bandSize=Zf($,z),!m.hide&&i==="xAxis"?f[j]+=(T?-1:1)*$.height:m.hide||(f[j]+=(T?-1:1)*$.width),En(En({},h),{},im({},v,$))},{})},JF=function(t,r){var n=t.x,i=t.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},f0e=function(t){var r=t.x1,n=t.y1,i=t.x2,a=t.y2;return JF({x:r,y:n},{x:i,y:a})},ZF=(function(){function e(t){c0e(this,e),this.scale=t}return u0e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])})();im(ZF,"EPS",1e-4);var TS=function(t){var r=Object.keys(t).reduce(function(n,i){return En(En({},n),{},im({},i,ZF.create(t[i])))},{});return En(En({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return Bbe(i,function(l,c){return r[c].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return KF(i,function(a,o){return r[o].isInRange(a)})}})};function h0e(e){return(e%180+180)%180}var p0e=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=h0e(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},d0,d2;function m0e(){if(d2)return d0;d2=1;var e=hi(),t=Bu(),r=zp();function n(i){return function(a,o,s){var l=Object(a);if(!t(a)){var c=e(o,3);a=r(a),o=function(f){return c(l[f],f,l)}}var u=i(a,o,s);return u>-1?l[c?a[u]:u]:void 0}}return d0=n,d0}var f0,f2;function g0e(){if(f2)return f0;f2=1;var e=UF();function t(r){var n=e(r),i=n%1;return n===n?i?n-i:n:0}return f0=t,f0}var h0,h2;function v0e(){if(h2)return h0;h2=1;var e=Y3(),t=hi(),r=g0e(),n=Math.max;function i(a,o,s){var l=a==null?0:a.length;if(!l)return-1;var c=s==null?0:r(s);return c<0&&(c=n(l+c,0)),e(a,t(o,3),c)}return h0=i,h0}var p0,p2;function y0e(){if(p2)return p0;p2=1;var e=m0e(),t=v0e(),r=e(t);return p0=r,p0}var b0e=y0e();const x0e=it(b0e);var w0e=u3();const _0e=it(w0e);var S0e=_0e(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),NS=S.createContext(void 0),RS=S.createContext(void 0),eB=S.createContext(void 0),tB=S.createContext({}),rB=S.createContext(void 0),nB=S.createContext(0),iB=S.createContext(0),m2=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=t.clipPathId,s=t.children,l=t.width,c=t.height,u=S0e(a);return I.createElement(NS.Provider,{value:n},I.createElement(RS.Provider,{value:i},I.createElement(tB.Provider,{value:a},I.createElement(eB.Provider,{value:u},I.createElement(rB.Provider,{value:o},I.createElement(nB.Provider,{value:c},I.createElement(iB.Provider,{value:l},s)))))))},j0e=function(){return S.useContext(rB)},aB=function(t){var r=S.useContext(NS);r==null&&wo();var n=r[t];return n==null&&wo(),n},k0e=function(){var t=S.useContext(NS);return na(t)},E0e=function(){var t=S.useContext(RS),r=x0e(t,function(n){return KF(n.domain,Number.isFinite)});return r||na(t)},oB=function(t){var r=S.useContext(RS);r==null&&wo();var n=r[t];return n==null&&wo(),n},A0e=function(){var t=S.useContext(eB);return t},O0e=function(){return S.useContext(tB)},IS=function(){return S.useContext(iB)},DS=function(){return S.useContext(nB)};function Fs(e){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}function C0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lB(n.key),n)}}function T0e(e,t,r){return t&&P0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function N0e(e,t,r){return t=xh(t),R0e(e,sB()?Reflect.construct(t,r||[],xh(e).constructor):t.apply(e,r))}function R0e(e,t){if(t&&(Fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I0e(e)}function I0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sB=function(){return!!e})()}function xh(e){return xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xh(e)}function D0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mw(e,t)}function Mw(e,t){return Mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Mw(e,t)}function g2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function v2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g2(Object(r),!0).forEach(function(n){MS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MS(e,t,r){return t=lB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lB(e){var t=M0e(e,"string");return Fs(t)=="symbol"?t:t+""}function M0e(e,t){if(Fs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function $0e(e,t){return z0e(e)||B0e(e,t)||F0e(e,t)||L0e()}function L0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F0e(e,t){if(e){if(typeof e=="string")return y2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y2(e,t)}}function y2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function z0e(e){if(Array.isArray(e))return e}function $w(){return $w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$w.apply(this,arguments)}var q0e=function(t,r){var n;return I.isValidElement(t)?n=I.cloneElement(t,r):Pe(t)?n=t(r):n=I.createElement("line",$w({},r,{className:"recharts-reference-line-line"})),n},U0e=function(t,r,n,i,a,o,s,l,c){var u=a.x,f=a.y,p=a.width,h=a.height;if(n){var v=c.y,m=t.y.apply(v,{position:o});if(ti(c,"discard")&&!t.y.isInRange(m))return null;var g=[{x:u+p,y:m},{x:u,y:m}];return l==="left"?g.reverse():g}if(r){var y=c.x,b=t.x.apply(y,{position:o});if(ti(c,"discard")&&!t.x.isInRange(b))return null;var x=[{x:b,y:f+h},{x:b,y:f}];return s==="top"?x.reverse():x}if(i){var _=c.segment,w=_.map(function(j){return t.apply(j,{position:o})});return ti(c,"discard")&&Mbe(w,function(j){return!t.isInRange(j)})?null:w}return null};function W0e(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,s=e.className,l=e.alwaysShow,c=j0e(),u=aB(i),f=oB(a),p=A0e();if(!c||!p)return null;Rn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=TS({x:u.scale,y:f.scale}),v=er(t),m=er(r),g=n&&n.length===2,y=U0e(h,v,m,g,p,e.position,u.orientation,f.orientation,e);if(!y)return null;var b=$0e(y,2),x=b[0],_=x.x,w=x.y,j=b[1],k=j.x,C=j.y,P=ti(e,"hidden")?"url(#".concat(c,")"):void 0,O=v2(v2({clipPath:P},xe(e,!0)),{},{x1:_,y1:w,x2:k,y2:C});return I.createElement(Fe,{className:Me("recharts-reference-line",s)},q0e(o,O),or.renderCallByParent(e,f0e({x1:_,y1:w,x2:k,y2:C})))}var $S=(function(e){function t(){return C0e(this,t),N0e(this,t,arguments)}return D0e(t,e),T0e(t,[{key:"render",value:function(){return I.createElement(W0e,this.props)}}])})(I.Component);MS($S,"displayName","ReferenceLine");MS($S,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Lw(){return Lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lw.apply(this,arguments)}function Bs(e){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}function b2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function x2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b2(Object(r),!0).forEach(function(n){om(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uB(n.key),n)}}function K0e(e,t,r){return t&&V0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function G0e(e,t,r){return t=wh(t),Y0e(e,cB()?Reflect.construct(t,r||[],wh(e).constructor):t.apply(e,r))}function Y0e(e,t){if(t&&(Bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X0e(e)}function X0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cB=function(){return!!e})()}function wh(e){return wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wh(e)}function Q0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fw(e,t)}function Fw(e,t){return Fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Fw(e,t)}function om(e,t,r){return t=uB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uB(e){var t=J0e(e,"string");return Bs(t)=="symbol"?t:t+""}function J0e(e,t){if(Bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Z0e=function(t){var r=t.x,n=t.y,i=t.xAxis,a=t.yAxis,o=TS({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return ti(t,"discard")&&!o.isInRange(s)?null:s},sm=(function(e){function t(){return H0e(this,t),G0e(this,t,arguments)}return Q0e(t,e),K0e(t,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,c=er(i),u=er(a);if(Rn(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=Z0e(this.props);if(!f)return null;var p=f.x,h=f.y,v=this.props,m=v.shape,g=v.className,y=ti(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=x2(x2({clipPath:y},xe(this.props,!0)),{},{cx:p,cy:h});return I.createElement(Fe,{className:Me("recharts-reference-dot",g)},t.renderDot(m,b),or.renderCallByParent(this.props,{x:p-o,y:h-o,width:2*o,height:2*o}))}}])})(I.Component);om(sm,"displayName","ReferenceDot");om(sm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});om(sm,"renderDot",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):Pe(e)?r=e(t):r=I.createElement(_l,Lw({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Bw(){return Bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bw.apply(this,arguments)}function zs(e){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}function w2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w2(Object(r),!0).forEach(function(n){lm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function exe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function txe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fB(n.key),n)}}function rxe(e,t,r){return t&&txe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nxe(e,t,r){return t=_h(t),ixe(e,dB()?Reflect.construct(t,r||[],_h(e).constructor):t.apply(e,r))}function ixe(e,t){if(t&&(zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return axe(e)}function axe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dB=function(){return!!e})()}function _h(e){return _h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_h(e)}function oxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zw(e,t)}function zw(e,t){return zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zw(e,t)}function lm(e,t,r){return t=fB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fB(e){var t=sxe(e,"string");return zs(t)=="symbol"?t:t+""}function sxe(e,t){if(zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lxe=function(t,r,n,i,a){var o=a.x1,s=a.x2,l=a.y1,c=a.y2,u=a.xAxis,f=a.yAxis;if(!u||!f)return null;var p=TS({x:u.scale,y:f.scale}),h={x:t?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(l,{position:"start"}):p.y.rangeMin},v={x:r?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(c,{position:"end"}):p.y.rangeMax};return ti(a,"discard")&&(!p.isInRange(h)||!p.isInRange(v))?null:JF(h,v)},cm=(function(e){function t(){return exe(this,t),nxe(this,t,arguments)}return oxe(t,e),rxe(t,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;Rn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=er(i),p=er(a),h=er(o),v=er(s),m=this.props.shape;if(!f&&!p&&!h&&!v&&!m)return null;var g=lxe(f,p,h,v,this.props);if(!g&&!m)return null;var y=ti(this.props,"hidden")?"url(#".concat(u,")"):void 0;return I.createElement(Fe,{className:Me("recharts-reference-area",l)},t.renderRect(m,_2(_2({clipPath:y},xe(this.props,!0)),g)),or.renderCallByParent(this.props,g))}}])})(I.Component);lm(cm,"displayName","ReferenceArea");lm(cm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});lm(cm,"renderRect",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):Pe(e)?r=e(t):r=I.createElement(PS,Bw({},t,{className:"recharts-reference-area-rect"})),r});function hB(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function cxe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return p0e(n,r)}function uxe(e,t,r){var n=r==="width",i=e.x,a=e.y,o=e.width,s=e.height;return t===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function Sh(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function dxe(e,t){return hB(e,t+1)}function fxe(e,t,r,n,i){for(var a=(n||[]).slice(),o=t.start,s=t.end,l=0,c=1,u=o,f=function(){var v=n?.[l];if(v===void 0)return{v:hB(n,c)};var m=l,g,y=function(){return g===void 0&&(g=r(v,m)),g},b=v.coordinate,x=l===0||Sh(e,b,y,u,s);x||(l=0,u=o,c+=1),x&&(u=b+e*(y()/2+i),l+=c)},p;c<=a.length;)if(p=f(),p)return p.v;return[]}function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function S2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S2(Object(r),!0).forEach(function(n){hxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hxe(e,t,r){return t=pxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pxe(e){var t=mxe(e,"string");return vu(t)=="symbol"?t:t+""}function mxe(e,t){if(vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gxe(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=t.start,l=t.end,c=function(p){var h=a[p],v,m=function(){return v===void 0&&(v=r(h,p)),v};if(p===o-1){var g=e*(h.coordinate+e*m()/2-l);a[p]=h=pr(pr({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate})}else a[p]=h=pr(pr({},h),{},{tickCoord:h.coordinate});var y=Sh(e,h.tickCoord,m,s,l);y&&(l=h.tickCoord-e*(m()/2+i),a[p]=pr(pr({},h),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}function vxe(e,t,r,n,i,a){var o=(n||[]).slice(),s=o.length,l=t.start,c=t.end;if(a){var u=n[s-1],f=r(u,s-1),p=e*(u.coordinate+e*f/2-c);o[s-1]=u=pr(pr({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate});var h=Sh(e,u.tickCoord,function(){return f},l,c);h&&(c=u.tickCoord-e*(f/2+i),o[s-1]=pr(pr({},u),{},{isShow:!0}))}for(var v=a?s-1:s,m=function(b){var x=o[b],_,w=function(){return _===void 0&&(_=r(x,b)),_};if(b===0){var j=e*(x.coordinate-e*w()/2-l);o[b]=x=pr(pr({},x),{},{tickCoord:j<0?x.coordinate-j*e:x.coordinate})}else o[b]=x=pr(pr({},x),{},{tickCoord:x.coordinate});var k=Sh(e,x.tickCoord,w,l,c);k&&(l=x.tickCoord+e*(w()/2+i),o[b]=pr(pr({},x),{},{isShow:!0}))},g=0;g<v;g++)m(g);return o}function LS(e,t,r){var n=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,f=e.angle;if(!i||!i.length||!n)return[];if(pe(l)||pi.isSsr)return dxe(i,typeof l=="number"&&pe(l)?l:0);var p=[],h=s==="top"||s==="bottom"?"width":"height",v=u&&h==="width"?fc(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(x,_){var w=Pe(c)?c(x.value,_):x.value;return h==="width"?cxe(fc(w,{fontSize:t,letterSpacing:r}),v,f):fc(w,{fontSize:t,letterSpacing:r})[h]},g=i.length>=2?Sr(i[1].coordinate-i[0].coordinate):1,y=uxe(a,g,h);return l==="equidistantPreserveStart"?fxe(g,y,m,i,o):(l==="preserveStart"||l==="preserveStartEnd"?p=vxe(g,y,m,i,o,l==="preserveStartEnd"):p=gxe(g,y,m,i,o),p.filter(function(b){return b.isShow}))}var yxe=["viewBox"],bxe=["viewBox"],xxe=["ticks"];function qs(e){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(e)}function Zo(){return Zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zo.apply(this,arguments)}function j2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j2(Object(r),!0).forEach(function(n){FS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m0(e,t){if(e==null)return{};var r=wxe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mB(n.key),n)}}function Sxe(e,t,r){return t&&k2(e.prototype,t),r&&k2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jxe(e,t,r){return t=jh(t),kxe(e,pB()?Reflect.construct(t,r||[],jh(e).constructor):t.apply(e,r))}function kxe(e,t){if(t&&(qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Exe(e)}function Exe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pB=function(){return!!e})()}function jh(e){return jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jh(e)}function Axe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qw(e,t)}function qw(e,t){return qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qw(e,t)}function FS(e,t,r){return t=mB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mB(e){var t=Oxe(e,"string");return qs(t)=="symbol"?t:t+""}function Oxe(e,t){if(qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Sl=(function(e){function t(r){var n;return _xe(this,t),n=jxe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Axe(t,e),Sxe(t,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=m0(n,yxe),s=this.props,l=s.viewBox,c=m0(s,bxe);return!ds(a,l)||!ds(o,c)||!ds(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,p=i.tickMargin,h,v,m,g,y,b,x=f?-1:1,_=n.tickSize||u,w=pe(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":h=v=n.coordinate,g=o+ +!f*l,m=g-x*_,b=m-x*p,y=w;break;case"left":m=g=n.coordinate,v=a+ +!f*s,h=v-x*_,y=h-x*p,b=w;break;case"right":m=g=n.coordinate,v=a+ +f*s,h=v+x*_,y=h+x*p,b=w;break;default:h=v=n.coordinate,g=o+ +f*l,m=g+x*_,b=m+x*p,y=w;break}return{line:{x1:h,y1:m,x2:v,y2:g},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=Kt(Kt(Kt({},xe(this.props,!1)),xe(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!c||l==="bottom"&&c);f=Kt(Kt({},f),{},{x1:i,y1:a+p*s,x2:i+o,y2:a+p*s})}else{var h=+(l==="left"&&!c||l==="right"&&c);f=Kt(Kt({},f),{},{x1:i+h*o,y1:a,x2:i+h*o,y2:a+s})}return I.createElement("line",Zo({},f,{className:Me("recharts-cartesian-axis-line",Yr(u,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,f=s.tickFormatter,p=s.unit,h=LS(Kt(Kt({},this.props),{},{ticks:n}),i,a),v=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),g=xe(this.props,!1),y=xe(u,!1),b=Kt(Kt({},g),{},{fill:"none"},xe(l,!1)),x=h.map(function(_,w){var j=o.getTickLineCoord(_),k=j.line,C=j.tick,P=Kt(Kt(Kt(Kt({textAnchor:v,verticalAnchor:m},g),{},{stroke:"none",fill:c},y),C),{},{index:w,payload:_,visibleTicksCount:h.length,tickFormatter:f});return I.createElement(Fe,Zo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},_a(o.props,_,w)),l&&I.createElement("line",Zo({},b,k,{className:Me("recharts-cartesian-axis-tick-line",Yr(l,"className"))})),u&&t.renderTickItem(u,P,"".concat(Pe(f)?f(_.value,w):_.value).concat(p||"")))});return I.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,p=f.ticks,h=m0(f,xxe),v=p;return Pe(l)&&(v=p&&p.length>0?l(this.props):l(h)),o<=0||s<=0||!v||!v.length?null:I.createElement(Fe,{className:Me("recharts-cartesian-axis",c),ref:function(g){n.layerReference=g}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),or.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,s=Me(i.className,"recharts-cartesian-axis-tick-value");return I.isValidElement(n)?o=I.cloneElement(n,Kt(Kt({},i),{},{className:s})):Pe(n)?o=n(Kt(Kt({},i),{},{className:s})):o=I.createElement(bo,Zo({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])})(S.Component);FS(Sl,"displayName","CartesianAxis");FS(Sl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Cxe=["x1","y1","x2","y2","key"],Pxe=["offset"];function jo(e){"@babel/helpers - typeof";return jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jo(e)}function E2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E2(Object(r),!0).forEach(function(n){Txe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Txe(e,t,r){return t=Nxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nxe(e){var t=Rxe(e,"string");return jo(t)=="symbol"?t:t+""}function Rxe(e,t){if(jo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ro(){return ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ro.apply(this,arguments)}function A2(e,t){if(e==null)return{};var r=Ixe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ixe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Dxe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,a=t.y,o=t.width,s=t.height,l=t.ry;return I.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function gB(e,t){var r;if(I.isValidElement(e))r=I.cloneElement(e,t);else if(Pe(e))r=e(t);else{var n=t.x1,i=t.y1,a=t.x2,o=t.y2,s=t.key,l=A2(t,Cxe),c=xe(l,!1);c.offset;var u=A2(c,Pxe);r=I.createElement("line",ro({},u,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function Mxe(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=mr(mr({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(l),index:l});return gB(i,c)});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function $xe(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=mr(mr({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(l),index:l});return gB(i,c)});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Lxe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,a=e.width,o=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=s.map(function(p){return Math.round(p+i-i)}).sort(function(p,h){return p-h});i!==u[0]&&u.unshift(0);var f=u.map(function(p,h){var v=!u[h+1],m=v?i+o-p:u[h+1]-p;if(m<=0)return null;var g=h%t.length;return I.createElement("rect",{key:"react-".concat(h),y:p,x:n,height:m,width:a,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Fxe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(p){return Math.round(p+a-a)}).sort(function(p,h){return p-h});a!==u[0]&&u.unshift(0);var f=u.map(function(p,h){var v=!u[h+1],m=v?a+s-p:u[h+1]-p;if(m<=0)return null;var g=h%n.length;return I.createElement("rect",{key:"react-".concat(h),x:p,y:o,width:m,height:l,stroke:"none",fill:n[g],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Bxe=function(t,r){var n=t.xAxis,i=t.width,a=t.height,o=t.offset;return hF(LS(mr(mr(mr({},Sl.defaultProps),n),{},{ticks:ji(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},zxe=function(t,r){var n=t.yAxis,i=t.width,a=t.height,o=t.offset;return hF(LS(mr(mr(mr({},Sl.defaultProps),n),{},{ticks:ji(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},Ho={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function tn(e){var t,r,n,i,a,o,s=IS(),l=DS(),c=O0e(),u=mr(mr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ho.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ho.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ho.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Ho.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Ho.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Ho.verticalFill,x:pe(e.x)?e.x:c.left,y:pe(e.y)?e.y:c.top,width:pe(e.width)?e.width:c.width,height:pe(e.height)?e.height:c.height}),f=u.x,p=u.y,h=u.width,v=u.height,m=u.syncWithTicks,g=u.horizontalValues,y=u.verticalValues,b=k0e(),x=E0e();if(!pe(h)||h<=0||!pe(v)||v<=0||!pe(f)||f!==+f||!pe(p)||p!==+p)return null;var _=u.verticalCoordinatesGenerator||Bxe,w=u.horizontalCoordinatesGenerator||zxe,j=u.horizontalPoints,k=u.verticalPoints;if((!j||!j.length)&&Pe(w)){var C=g&&g.length,P=w({yAxis:x?mr(mr({},x),{},{ticks:C?g:x.ticks}):void 0,width:s,height:l,offset:c},C?!0:m);Rn(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(jo(P),"]")),Array.isArray(P)&&(j=P)}if((!k||!k.length)&&Pe(_)){var O=y&&y.length,T=_({xAxis:b?mr(mr({},b),{},{ticks:O?y:b.ticks}):void 0,width:s,height:l,offset:c},O?!0:m);Rn(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(jo(T),"]")),Array.isArray(T)&&(k=T)}return I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(Dxe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),I.createElement(Mxe,ro({},u,{offset:c,horizontalPoints:j,xAxis:b,yAxis:x})),I.createElement($xe,ro({},u,{offset:c,verticalPoints:k,xAxis:b,yAxis:x})),I.createElement(Lxe,ro({},u,{horizontalPoints:j})),I.createElement(Fxe,ro({},u,{verticalPoints:k})))}tn.displayName="CartesianGrid";var qxe=["type","layout","connectNulls","ref"],Uxe=["key"];function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function O2(e,t){if(e==null)return{};var r=Wxe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yc(){return yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yc.apply(this,arguments)}function C2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C2(Object(r),!0).forEach(function(n){An(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vo(e){return Gxe(e)||Kxe(e)||Vxe(e)||Hxe()}function Hxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vxe(e,t){if(e){if(typeof e=="string")return Uw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uw(e,t)}}function Kxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gxe(e){if(Array.isArray(e))return Uw(e)}function Uw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yB(n.key),n)}}function Xxe(e,t,r){return t&&P2(e.prototype,t),r&&P2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qxe(e,t,r){return t=kh(t),Jxe(e,vB()?Reflect.construct(t,r||[],kh(e).constructor):t.apply(e,r))}function Jxe(e,t){if(t&&(Us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zxe(e)}function Zxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vB=function(){return!!e})()}function kh(e){return kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kh(e)}function ewe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ww(e,t)}function Ww(e,t){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ww(e,t)}function An(e,t,r){return t=yB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yB(e){var t=twe(e,"string");return Us(t)=="symbol"?t:t+""}function twe(e,t){if(Us(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hn=(function(e){function t(){var r;Yxe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Qxe(this,t,[].concat(i)),An(r,"state",{isAnimationFinished:!0,totalLength:0}),An(r,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),An(r,"getStrokeDasharray",function(o,s,l){var c=l.reduce(function(y,b){return y+b});if(!c)return r.generateSimpleStrokeDasharray(s,o);for(var u=Math.floor(o/c),f=o%c,p=s-o,h=[],v=0,m=0;v<l.length;m+=l[v],++v)if(m+l[v]>f){h=[].concat(Vo(l.slice(0,v)),[f-m]);break}var g=h.length%2===0?[0,p]:[p];return[].concat(Vo(t.repeat(l,u)),Vo(h),g).map(function(y){return"".concat(y,"px")}).join(", ")}),An(r,"id",Oa("recharts-line-")),An(r,"pathRef",function(o){r.mainCurve=o}),An(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),An(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return ewe(t,e),Xxe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=Ar(u,wl);if(!f)return null;var p=function(m,g){return{x:m.x,y:m.y,value:m.value,errorVal:bt(m.payload,g)}},h={clipPath:n?"url(#clipPath-".concat(i,")"):null};return I.createElement(Fe,h,f.map(function(v){return I.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,u=s.dataKey,f=xe(this.props,!1),p=xe(l,!0),h=c.map(function(m,g){var y=Fr(Fr(Fr({key:"dot-".concat(g),r:3},f),p),{},{index:g,cx:m.x,cy:m.y,value:m.value,dataKey:u,payload:m.payload,points:c});return t.renderDotItem(l,y)}),v={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return I.createElement(Fe,yc({className:"recharts-line-dots",key:"dots"},v),h)}},{key:"renderCurveStatically",value:function(n,i,a,o){var s=this.props,l=s.type,c=s.layout,u=s.connectNulls;s.ref;var f=O2(s,qxe),p=Fr(Fr(Fr({},xe(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:l,layout:c,connectNulls:u});return I.createElement(ya,yc({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,c=o.isAnimationActive,u=o.animationBegin,f=o.animationDuration,p=o.animationEasing,h=o.animationId,v=o.animateNewValues,m=o.width,g=o.height,y=this.state,b=y.prevPoints,x=y.totalLength;return I.createElement(Xr,{begin:u,duration:f,isActive:c,easing:p,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var w=_.t;if(b){var j=b.length/s.length,k=s.map(function(N,D){var E=Math.floor(D*j);if(b[E]){var R=b[E],B=yt(R.x,N.x),F=yt(R.y,N.y);return Fr(Fr({},N),{},{x:B(w),y:F(w)})}if(v){var U=yt(m*2,N.x),L=yt(g/2,N.y);return Fr(Fr({},N),{},{x:U(w),y:L(w)})}return Fr(Fr({},N),{},{x:N.x,y:N.y})});return a.renderCurveStatically(k,n,i)}var C=yt(0,x),P=C(w),O;if(l){var T="".concat(l).split(/[,\s]+/gim).map(function(N){return parseFloat(N)});O=a.getStrokeDasharray(P,x,T)}else O=a.generateSimpleStrokeDasharray(x,P);return a.renderCurveStatically(s,n,i,{strokeDasharray:O})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return s&&o&&o.length&&(!c&&u>0||!Ii(c,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,c=i.xAxis,u=i.yAxis,f=i.top,p=i.left,h=i.width,v=i.height,m=i.isAnimationActive,g=i.id;if(a||!s||!s.length)return null;var y=this.state.isAnimationFinished,b=s.length===1,x=Me("recharts-line",l),_=c&&c.allowDataOverflow,w=u&&u.allowDataOverflow,j=_||w,k=Te(g)?this.id:g,C=(n=xe(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=C.r,O=P===void 0?3:P,T=C.strokeWidth,N=T===void 0?2:T,D=m3(o)?o:{},E=D.clipDot,R=E===void 0?!0:E,B=O*2+N;return I.createElement(Fe,{className:x},_||w?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(k)},I.createElement("rect",{x:_?p:p-h/2,y:w?f:f-v/2,width:_?h:h*2,height:w?v:v*2})),!R&&I.createElement("clipPath",{id:"clipPath-dots-".concat(k)},I.createElement("rect",{x:p-B/2,y:f-B/2,width:h+B,height:v+B}))):null,!b&&this.renderCurve(j,k),this.renderErrorBar(j,k),(b||o)&&this.renderDots(j,R,k),(!m||y)&&fn.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Vo(n),[0]):n,o=[],s=0;s<i;++s)o=[].concat(Vo(o),Vo(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(I.isValidElement(n))a=I.cloneElement(n,i);else if(Pe(n))a=n(i);else{var o=i.key,s=O2(i,Uxe),l=Me("recharts-line-dot",typeof n!="boolean"?n.className:"");a=I.createElement(_l,yc({key:o},s,{className:l}))}return a}}])})(S.PureComponent);An(hn,"displayName","Line");An(hn,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!pi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});An(hn,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,f=l.map(function(p,h){var v=bt(p,o);return u==="horizontal"?{x:Ps({axis:r,ticks:i,bandSize:s,entry:p,index:h}),y:Te(v)?null:n.scale(v),value:v,payload:p}:{x:Te(v)?null:r.scale(v),y:Ps({axis:n,ticks:a,bandSize:s,entry:p,index:h}),value:v,payload:p}});return Fr({points:f,layout:u},c)});var rwe=["layout","type","stroke","connectNulls","isRange","ref"],nwe=["key"],bB;function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function xB(e,t){if(e==null)return{};var r=iwe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function no(){return no=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},no.apply(this,arguments)}function T2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T2(Object(r),!0).forEach(function(n){Jn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function awe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_B(n.key),n)}}function owe(e,t,r){return t&&N2(e.prototype,t),r&&N2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function swe(e,t,r){return t=Eh(t),lwe(e,wB()?Reflect.construct(t,r||[],Eh(e).constructor):t.apply(e,r))}function lwe(e,t){if(t&&(Ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cwe(e)}function cwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wB=function(){return!!e})()}function Eh(e){return Eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eh(e)}function uwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hw(e,t)}function Hw(e,t){return Hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hw(e,t)}function Jn(e,t,r){return t=_B(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _B(e){var t=dwe(e,"string");return Ws(t)=="symbol"?t:t+""}function dwe(e,t){if(Ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gn=(function(e){function t(){var r;awe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=swe(this,t,[].concat(i)),Jn(r,"state",{isAnimationFinished:!0}),Jn(r,"id",Oa("recharts-area-")),Jn(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Pe(o)&&o()}),Jn(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Pe(o)&&o()}),r}return uwe(t,e),owe(t,[{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,p=xe(this.props,!1),h=xe(c,!0),v=u.map(function(g,y){var b=Yi(Yi(Yi({key:"dot-".concat(y),r:3},p),h),{},{index:y,cx:g.x,cy:g.y,dataKey:f,value:g.value,payload:g.payload,points:u});return t.renderDotItem(c,b)}),m={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return I.createElement(Fe,no({className:"recharts-area-dots"},m),v)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].x,c=o[o.length-1].x,u=n*Math.abs(l-c),f=ia(o.map(function(p){return p.y||0}));return pe(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(ia(a.map(function(p){return p.y||0})),f)),pe(f)?I.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].y,c=o[o.length-1].y,u=n*Math.abs(l-c),f=ia(o.map(function(p){return p.x||0}));return pe(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(ia(a.map(function(p){return p.x||0})),f)),pe(f)?I.createElement("rect",{x:0,y:l<c?l:l-u,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,o){var s=this.props,l=s.layout,c=s.type,u=s.stroke,f=s.connectNulls,p=s.isRange;s.ref;var h=xB(s,rwe);return I.createElement(Fe,{clipPath:a?"url(#clipPath-".concat(o,")"):null},I.createElement(ya,no({},xe(h,!0),{points:n,connectNulls:f,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&I.createElement(ya,no({},xe(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:n})),u!=="none"&&p&&I.createElement(ya,no({},xe(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,l=o.baseLine,c=o.isAnimationActive,u=o.animationBegin,f=o.animationDuration,p=o.animationEasing,h=o.animationId,v=this.state,m=v.prevPoints,g=v.prevBaseLine;return I.createElement(Xr,{begin:u,duration:f,isActive:c,easing:p,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var b=y.t;if(m){var x=m.length/s.length,_=s.map(function(C,P){var O=Math.floor(P*x);if(m[O]){var T=m[O],N=yt(T.x,C.x),D=yt(T.y,C.y);return Yi(Yi({},C),{},{x:N(b),y:D(b)})}return C}),w;if(pe(l)&&typeof l=="number"){var j=yt(g,l);w=j(b)}else if(Te(l)||ml(l)){var k=yt(g,0);w=k(b)}else w=l.map(function(C,P){var O=Math.floor(P*x);if(g[O]){var T=g[O],N=yt(T.x,C.x),D=yt(T.y,C.y);return Yi(Yi({},C),{},{x:N(b),y:D(b)})}return C});return a.renderAreaStatically(_,w,n,i)}return I.createElement(Fe,null,I.createElement("defs",null,I.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(b))),I.createElement(Fe,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(s,l,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,o=a.points,s=a.baseLine,l=a.isAnimationActive,c=this.state,u=c.prevPoints,f=c.prevBaseLine,p=c.totalLength;return l&&o&&o.length&&(!u&&p>0||!Ii(u,o)||!Ii(f,s))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,c=i.top,u=i.left,f=i.xAxis,p=i.yAxis,h=i.width,v=i.height,m=i.isAnimationActive,g=i.id;if(a||!s||!s.length)return null;var y=this.state.isAnimationFinished,b=s.length===1,x=Me("recharts-area",l),_=f&&f.allowDataOverflow,w=p&&p.allowDataOverflow,j=_||w,k=Te(g)?this.id:g,C=(n=xe(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=C.r,O=P===void 0?3:P,T=C.strokeWidth,N=T===void 0?2:T,D=m3(o)?o:{},E=D.clipDot,R=E===void 0?!0:E,B=O*2+N;return I.createElement(Fe,{className:x},_||w?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(k)},I.createElement("rect",{x:_?u:u-h/2,y:w?c:c-v/2,width:_?h:h*2,height:w?v:v*2})),!R&&I.createElement("clipPath",{id:"clipPath-dots-".concat(k)},I.createElement("rect",{x:u-B/2,y:c-B/2,width:h+B,height:v+B}))):null,b?null:this.renderArea(j,k),(o||b)&&this.renderDots(j,R,k),(!m||y)&&fn.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(S.PureComponent);bB=gn;Jn(gn,"displayName","Area");Jn(gn,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!pi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Jn(gn,"getBaseValue",function(e,t,r,n){var i=e.layout,a=e.baseValue,o=t.props.baseValue,s=o??a;if(pe(s)&&typeof s=="number")return s;var l=i==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return s==="dataMin"?f:s==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});Jn(gn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,i=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,s=e.bandSize,l=e.dataKey,c=e.stackedData,u=e.dataStartIndex,f=e.displayedData,p=e.offset,h=t.layout,v=c&&c.length,m=bB.getBaseValue(t,r,n,i),g=h==="horizontal",y=!1,b=f.map(function(_,w){var j;v?j=c[u+w]:(j=bt(_,l),Array.isArray(j)?y=!0:j=[m,j]);var k=j[1]==null||v&&bt(_,l)==null;return g?{x:Ps({axis:n,ticks:a,bandSize:s,entry:_,index:w}),y:k?null:i.scale(j[1]),value:j,payload:_}:{x:k?null:n.scale(j[1]),y:Ps({axis:i,ticks:o,bandSize:s,entry:_,index:w}),value:j,payload:_}}),x;return v||y?x=b.map(function(_){var w=Array.isArray(_.value)?_.value[0]:null;return g?{x:_.x,y:w!=null&&_.y!=null?i.scale(w):null}:{x:w!=null?n.scale(w):null,y:_.y}}):x=g?i.scale(m):n.scale(m),Yi({points:b,baseLine:x,layout:h,isRange:y},p)});Jn(gn,"renderDotItem",function(e,t){var r;if(I.isValidElement(e))r=I.cloneElement(e,t);else if(Pe(e))r=e(t);else{var n=Me("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=xB(t,nwe);r=I.createElement(_l,no({},a,{key:i,className:n}))}return r});function Hs(e){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function fwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kB(n.key),n)}}function pwe(e,t,r){return t&&hwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mwe(e,t,r){return t=Ah(t),gwe(e,SB()?Reflect.construct(t,r||[],Ah(e).constructor):t.apply(e,r))}function gwe(e,t){if(t&&(Hs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vwe(e)}function vwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SB=function(){return!!e})()}function Ah(e){return Ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ah(e)}function ywe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vw(e,t)}function Vw(e,t){return Vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Vw(e,t)}function jB(e,t,r){return t=kB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kB(e){var t=bwe(e,"string");return Hs(t)=="symbol"?t:t+""}function bwe(e,t){if(Hs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var um=(function(e){function t(){return fwe(this,t),mwe(this,t,arguments)}return ywe(t,e),pwe(t,[{key:"render",value:function(){return null}}])})(S.Component);jB(um,"displayName","ZAxis");jB(um,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var xwe=["option","isActive"];function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bc.apply(this,arguments)}function wwe(e,t){if(e==null)return{};var r=_we(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _we(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Swe(e){var t=e.option,r=e.isActive,n=wwe(e,xwe);return typeof t=="string"?S.createElement(dh,bc({option:S.createElement(Bp,bc({type:t},n)),isActive:r,shapeType:"symbols"},n)):S.createElement(dh,bc({option:t,isActive:r,shapeType:"symbols"},n))}function Vs(e){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(e)}function xc(){return xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xc.apply(this,arguments)}function R2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R2(Object(r),!0).forEach(function(n){oa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AB(n.key),n)}}function kwe(e,t,r){return t&&I2(e.prototype,t),r&&I2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ewe(e,t,r){return t=Oh(t),Awe(e,EB()?Reflect.construct(t,r||[],Oh(e).constructor):t.apply(e,r))}function Awe(e,t){if(t&&(Vs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Owe(e)}function Owe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EB=function(){return!!e})()}function Oh(e){return Oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Oh(e)}function Cwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kw(e,t)}function Kw(e,t){return Kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Kw(e,t)}function oa(e,t,r){return t=AB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AB(e){var t=Pwe(e,"string");return Vs(t)=="symbol"?t:t+""}function Pwe(e,t){if(Vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dm=(function(e){function t(){var r;jwe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Ewe(this,t,[].concat(i)),oa(r,"state",{isAnimationFinished:!1}),oa(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),oa(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),oa(r,"id",Oa("recharts-scatter-")),r}return Cwe(t,e),kwe(t,[{key:"renderSymbolsStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.activeShape,l=a.activeIndex,c=xe(this.props,!1);return n.map(function(u,f){var p=l===f,h=p?s:o,v=en(en({},c),u);return I.createElement(Fe,xc({className:"recharts-scatter-symbol",key:"symbol-".concat(u?.cx,"-").concat(u?.cy,"-").concat(u?.size,"-").concat(f)},_a(i.props,u,f),{role:"img"}),I.createElement(Swe,xc({option:h,isActive:p,key:"symbol-".concat(f)},v)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,i=this.props,a=i.points,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,f=this.state.prevPoints;return I.createElement(Xr,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var h=p.t,v=a.map(function(m,g){var y=f&&f[g];if(y){var b=yt(y.cx,m.cx),x=yt(y.cy,m.cy),_=yt(y.size,m.size);return en(en({},m),{},{cx:b(h),cy:x(h),size:_(h)})}var w=yt(0,m.size);return en(en({},m),{},{size:w(h)})});return I.createElement(Fe,null,n.renderSymbolsStatically(v))})}},{key:"renderSymbols",value:function(){var n=this.props,i=n.points,a=n.isAnimationActive,o=this.state.prevPoints;return a&&i&&i.length&&(!o||!Ii(o,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,o=i.xAxis,s=i.yAxis,l=i.children,c=Ar(l,wl);return c?c.map(function(u,f){var p=u.props,h=p.direction,v=p.dataKey;return I.cloneElement(u,{key:"".concat(h,"-").concat(v,"-").concat(a[f]),data:a,xAxis:o,yAxis:s,layout:h==="x"?"vertical":"horizontal",dataPointFormatter:function(g,y){return{x:g.cx,y:g.cy,value:h==="x"?+g.node.x:+g.node.y,errorVal:bt(g,y)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,i=n.points,a=n.line,o=n.lineType,s=n.lineJointType,l=xe(this.props,!1),c=xe(a,!1),u,f;if(o==="joint")u=i.map(function(x){return{x:x.cx,y:x.cy}});else if(o==="fitting"){var p=noe(i),h=p.xmin,v=p.xmax,m=p.a,g=p.b,y=function(_){return m*_+g};u=[{x:h,y:y(h)},{x:v,y:y(v)}]}var b=en(en(en({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:u});return I.isValidElement(a)?f=I.cloneElement(a,b):Pe(a)?f=a(b):f=I.createElement(ya,xc({},b,{type:s})),I.createElement(Fe,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.points,o=n.line,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,p=n.width,h=n.height,v=n.id,m=n.isAnimationActive;if(i||!a||!a.length)return null;var g=this.state.isAnimationFinished,y=Me("recharts-scatter",s),b=l&&l.allowDataOverflow,x=c&&c.allowDataOverflow,_=b||x,w=Te(v)?this.id:v;return I.createElement(Fe,{className:y,clipPath:_?"url(#clipPath-".concat(w,")"):null},b||x?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(w)},I.createElement("rect",{x:b?u:u-p/2,y:x?f:f-h/2,width:b?p:p*2,height:x?h:h*2}))):null,o&&this.renderLine(),this.renderErrorBar(),I.createElement(Fe,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!m||g)&&fn.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}}])})(S.PureComponent);oa(dm,"displayName","Scatter");oa(dm,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!pi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});oa(dm,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,i=e.item,a=e.displayedData,o=e.xAxisTicks,s=e.yAxisTicks,l=e.offset,c=i.props.tooltipType,u=Ar(i.props.children,vl),f=Te(t.dataKey)?i.props.dataKey:t.dataKey,p=Te(r.dataKey)?i.props.dataKey:r.dataKey,h=n&&n.dataKey,v=n?n.range:um.defaultProps.range,m=v&&v[0],g=t.scale.bandwidth?t.scale.bandwidth():0,y=r.scale.bandwidth?r.scale.bandwidth():0,b=a.map(function(x,_){var w=bt(x,f),j=bt(x,p),k=!Te(h)&&bt(x,h)||"-",C=[{name:Te(t.dataKey)?i.props.name:t.name||t.dataKey,unit:t.unit||"",value:w,payload:x,dataKey:f,type:c},{name:Te(r.dataKey)?i.props.name:r.name||r.dataKey,unit:r.unit||"",value:j,payload:x,dataKey:p,type:c}];k!=="-"&&C.push({name:n.name||n.dataKey,unit:n.unit||"",value:k,payload:x,dataKey:h,type:c});var P=Ps({axis:t,ticks:o,bandSize:g,entry:x,index:_,dataKey:f}),O=Ps({axis:r,ticks:s,bandSize:y,entry:x,index:_,dataKey:p}),T=k!=="-"?n.scale(k):m,N=Math.sqrt(Math.max(T,0)/Math.PI);return en(en({},x),{},{cx:P,cy:O,x:P-N,y:O-N,xAxis:t,yAxis:r,zAxis:n,width:2*N,height:2*N,size:T,node:{x:w,y:j,z:k},tooltipPayload:C,tooltipPosition:{x:P,y:O},payload:x},u&&u[_]&&u[_].props)});return en({points:b},l)});function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(e)}function Twe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PB(n.key),n)}}function Rwe(e,t,r){return t&&Nwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Iwe(e,t,r){return t=Ch(t),Dwe(e,OB()?Reflect.construct(t,r||[],Ch(e).constructor):t.apply(e,r))}function Dwe(e,t){if(t&&(Ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mwe(e)}function Mwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OB=function(){return!!e})()}function Ch(e){return Ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ch(e)}function $we(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gw(e,t)}function Gw(e,t){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Gw(e,t)}function CB(e,t,r){return t=PB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PB(e){var t=Lwe(e,"string");return Ks(t)=="symbol"?t:t+""}function Lwe(e,t){if(Ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Yw(){return Yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yw.apply(this,arguments)}function Fwe(e){var t=e.xAxisId,r=IS(),n=DS(),i=aB(t);return i==null?null:S.createElement(Sl,Yw({},i,{className:Me("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return ji(o,!0)}}))}var Qt=(function(e){function t(){return Twe(this,t),Iwe(this,t,arguments)}return $we(t,e),Rwe(t,[{key:"render",value:function(){return S.createElement(Fwe,this.props)}}])})(S.Component);CB(Qt,"displayName","XAxis");CB(Qt,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}function Bwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RB(n.key),n)}}function qwe(e,t,r){return t&&zwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uwe(e,t,r){return t=Ph(t),Wwe(e,TB()?Reflect.construct(t,r||[],Ph(e).constructor):t.apply(e,r))}function Wwe(e,t){if(t&&(Gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hwe(e)}function Hwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TB=function(){return!!e})()}function Ph(e){return Ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ph(e)}function Vwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xw(e,t)}function Xw(e,t){return Xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Xw(e,t)}function NB(e,t,r){return t=RB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RB(e){var t=Kwe(e,"string");return Gs(t)=="symbol"?t:t+""}function Kwe(e,t){if(Gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Qw(){return Qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qw.apply(this,arguments)}var Gwe=function(t){var r=t.yAxisId,n=IS(),i=DS(),a=oB(r);return a==null?null:S.createElement(Sl,Qw({},a,{className:Me("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return ji(s,!0)}}))},Mt=(function(e){function t(){return Bwe(this,t),Uwe(this,t,arguments)}return Vwe(t,e),qwe(t,[{key:"render",value:function(){return S.createElement(Gwe,this.props)}}])})(S.Component);NB(Mt,"displayName","YAxis");NB(Mt,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function D2(e){return Jwe(e)||Qwe(e)||Xwe(e)||Ywe()}function Ywe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xwe(e,t){if(e){if(typeof e=="string")return Jw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jw(e,t)}}function Qwe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jwe(e){if(Array.isArray(e))return Jw(e)}function Jw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Zw=function(t,r,n,i,a){var o=Ar(t,$S),s=Ar(t,sm),l=[].concat(D2(o),D2(s)),c=Ar(t,cm),u="".concat(i,"Id"),f=i[0],p=r;if(l.length&&(p=l.reduce(function(m,g){if(g.props[u]===n&&ti(g.props,"extendDomain")&&pe(g.props[f])){var y=g.props[f];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},p)),c.length){var h="".concat(f,"1"),v="".concat(f,"2");p=c.reduce(function(m,g){if(g.props[u]===n&&ti(g.props,"extendDomain")&&pe(g.props[h])&&pe(g.props[v])){var y=g.props[h],b=g.props[v];return[Math.min(m[0],y,b),Math.max(m[1],y,b)]}return m},p)}return a&&a.length&&(p=a.reduce(function(m,g){return pe(g)?[Math.min(m[0],g),Math.max(m[1],g)]:m},p)),p},g0={exports:{}},M2;function Zwe(){return M2||(M2=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,f||l,p),v=r?r+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],h]:l._events[v].push(h):(l._events[v]=h,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,v=new Array(h);p<h;p++)v[p]=f[p].fn;return v},s.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,u,f,p,h,v){var m=r?r+c:c;if(!this._events[m])return!1;var g=this._events[m],y=arguments.length,b,x;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,f),!0;case 4:return g.fn.call(g.context,u,f,p),!0;case 5:return g.fn.call(g.context,u,f,p,h),!0;case 6:return g.fn.call(g.context,u,f,p,h,v),!0}for(x=1,b=new Array(y-1);x<y;x++)b[x-1]=arguments[x];g.fn.apply(g.context,b)}else{var _=g.length,w;for(x=0;x<_;x++)switch(g[x].once&&this.removeListener(c,g[x].fn,void 0,!0),y){case 1:g[x].fn.call(g[x].context);break;case 2:g[x].fn.call(g[x].context,u);break;case 3:g[x].fn.call(g[x].context,u,f);break;case 4:g[x].fn.call(g[x].context,u,f,p);break;default:if(!b)for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];g[x].fn.apply(g[x].context,b)}}return!0},s.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},s.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},s.prototype.removeListener=function(c,u,f,p){var h=r?r+c:c;if(!this._events[h])return this;if(!u)return o(this,h),this;var v=this._events[h];if(v.fn)v.fn===u&&(!p||v.once)&&(!f||v.context===f)&&o(this,h);else{for(var m=0,g=[],y=v.length;m<y;m++)(v[m].fn!==u||p&&!v[m].once||f&&v[m].context!==f)&&g.push(v[m]);g.length?this._events[h]=g.length===1?g[0]:g:o(this,h)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(g0)),g0.exports}var e1e=Zwe();const t1e=it(e1e);var v0=new t1e,y0="recharts.syncMouseEvents";function yu(e){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}function r1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IB(n.key),n)}}function i1e(e,t,r){return t&&n1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function b0(e,t,r){return t=IB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IB(e){var t=a1e(e,"string");return yu(t)=="symbol"?t:t+""}function a1e(e,t){if(yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var o1e=(function(){function e(){r1e(this,e),b0(this,"activeIndex",0),b0(this,"coordinateList",[]),b0(this,"layout","horizontal")}return i1e(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,p=r.mouseHandlerCallback,h=p===void 0?null:p;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+c,p=o+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])})();function s1e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],i=e?.[1];if(n&&i&&pe(n)&&pe(i))return!0}return!1}function l1e(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function DB(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,a=e.endAngle,o=dt(t,r,n,i),s=dt(t,r,n,a);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function c1e(e,t,r){var n,i,a,o;if(e==="horizontal")n=t.x,a=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,f=t.angle,p=dt(s,l,c,f),h=dt(s,l,u,f);n=p.x,i=p.y,a=h.x,o=h.y}else return DB(t);return[{x:n,y:i},{x:a,y:o}]}function bu(e){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(e)}function $2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$2(Object(r),!0).forEach(function(n){u1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u1e(e,t,r){return t=d1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d1e(e){var t=f1e(e,"string");return bu(t)=="symbol"?t:t+""}function f1e(e,t){if(bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h1e(e){var t,r,n=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,h=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!a||!o||p!=="ScatterChart"&&i!=="axis")return null;var v,m=ya;if(p==="ScatterChart")v=o,m=Dve;else if(p==="BarChart")v=l1e(f,o,l,u),m=PS;else if(f==="radial"){var g=DB(o),y=g.cx,b=g.cy,x=g.radius,_=g.startAngle,w=g.endAngle;v={cx:y,cy:b,startAngle:_,endAngle:w,innerRadius:x,outerRadius:x},m=EF}else v={points:c1e(f,o,l)},m=ya;var j=Nd(Nd(Nd(Nd({stroke:"#ccc",pointerEvents:"none"},l),v),xe(h,!1)),{},{payload:s,payloadIndex:c,className:Me("recharts-tooltip-cursor",h.className)});return S.isValidElement(h)?S.cloneElement(h,j):S.createElement(m,j)}var p1e=["item"],m1e=["children","className","width","height","style","compact","title","desc"];function Ys(e){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(e)}function es(){return es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},es.apply(this,arguments)}function L2(e,t){return y1e(e)||v1e(e,t)||$B(e,t)||g1e()}function g1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function y1e(e){if(Array.isArray(e))return e}function F2(e,t){if(e==null)return{};var r=b1e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function b1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function x1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LB(n.key),n)}}function _1e(e,t,r){return t&&w1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function S1e(e,t,r){return t=Th(t),j1e(e,MB()?Reflect.construct(t,r||[],Th(e).constructor):t.apply(e,r))}function j1e(e,t){if(t&&(Ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k1e(e)}function k1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MB=function(){return!!e})()}function Th(e){return Th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Th(e)}function E1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e1(e,t)}function e1(e,t){return e1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},e1(e,t)}function Xs(e){return C1e(e)||O1e(e)||$B(e)||A1e()}function A1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $B(e,t){if(e){if(typeof e=="string")return t1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t1(e,t)}}function O1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function C1e(e){if(Array.isArray(e))return t1(e)}function t1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B2(Object(r),!0).forEach(function(n){Ie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ie(e,t,r){return t=LB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LB(e){var t=P1e(e,"string");return Ys(t)=="symbol"?t:t+""}function P1e(e,t){if(Ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T1e={xAxis:["bottom","top"],yAxis:["left","right"]},N1e={width:"100%",height:"100%"},FB={x:0,y:0};function Rd(e){return e}var R1e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},I1e=function(t,r,n,i){var a=r.find(function(u){return u&&u.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,s=i.radius;return se(se(se({},i),dt(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,c=i.angle;return se(se(se({},i),dt(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return FB},fm=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Xs(s),Xs(c)):s},[]);return o.length>0?o:t&&t.length&&pe(i)&&pe(a)?t.slice(i,a+1):[]};function BB(e){return e==="number"?[0,"auto"]:void 0}var r1=function(t,r,n,i){var a=t.graphicalItems,o=t.tooltipAxis,s=fm(r,t);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var h=f===void 0?s:f;p=Of(h,o.dataKey,i)}else p=f&&f[n]||s[n];return p?[].concat(Xs(l),[yF(c,p)]):l},[])},z2=function(t,r,n,i){var a=i||{x:t.chartX,y:t.chartY},o=R1e(a,n),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=cpe(o,s,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,p=r1(t,r,u,f),h=I1e(n,s,u,a);return{activeTooltipIndex:u,activeLabel:f,activePayload:p,activeCoordinate:h}}return null},D1e=function(t,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,p=t.stackOffset,h=fF(u,a);return n.reduce(function(v,m){var g,y=m.type.defaultProps!==void 0?se(se({},m.type.defaultProps),m.props):m.props,b=y.type,x=y.dataKey,_=y.allowDataOverflow,w=y.allowDuplicatedCategory,j=y.scale,k=y.ticks,C=y.includeHidden,P=y[o];if(v[P])return v;var O=fm(t.data,{graphicalItems:i.filter(function(z){var $,Q=o in z.props?z.props[o]:($=z.type.defaultProps)===null||$===void 0?void 0:$[o];return Q===P}),dataStartIndex:l,dataEndIndex:c}),T=O.length,N,D,E;s1e(y.domain,_,b)&&(N=fw(y.domain,null,_),h&&(b==="number"||j!=="auto")&&(E=pc(O,x,"category")));var R=BB(b);if(!N||N.length===0){var B,F=(B=y.domain)!==null&&B!==void 0?B:R;if(x){if(N=pc(O,x,b),b==="category"&&h){var U=roe(N);w&&U?(D=N,N=mh(0,T)):w||(N=TT(F,N,m).reduce(function(z,$){return z.indexOf($)>=0?z:[].concat(Xs(z),[$])},[]))}else if(b==="category")w?N=N.filter(function(z){return z!==""&&!Te(z)}):N=TT(F,N,m).reduce(function(z,$){return z.indexOf($)>=0||$===""||Te($)?z:[].concat(Xs(z),[$])},[]);else if(b==="number"){var L=ppe(O,i.filter(function(z){var $,Q,Z=o in z.props?z.props[o]:($=z.type.defaultProps)===null||$===void 0?void 0:$[o],fe="hide"in z.props?z.props.hide:(Q=z.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return Z===P&&(C||!fe)}),x,a,u);L&&(N=L)}h&&(b==="number"||j!=="auto")&&(E=pc(O,x,"category"))}else h?N=mh(0,T):s&&s[P]&&s[P].hasStack&&b==="number"?N=p==="expand"?[0,1]:vF(s[P].stackGroups,l,c):N=dF(O,i.filter(function(z){var $=o in z.props?z.props[o]:z.type.defaultProps[o],Q="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return $===P&&(C||!Q)}),b,u,!0);if(b==="number")N=Zw(f,N,P,a,k),F&&(N=fw(F,N,_));else if(b==="category"&&F){var M=F,H=N.every(function(z){return M.indexOf(z)>=0});H&&(N=M)}}return se(se({},v),{},Ie({},P,se(se({},y),{},{axisType:a,domain:N,categoricalDomain:E,duplicateDomain:D,originalDomain:(g=y.domain)!==null&&g!==void 0?g:R,isCategorical:h,layout:u})))},{})},M1e=function(t,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,p=fm(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),h=p.length,v=fF(u,a),m=-1;return n.reduce(function(g,y){var b=y.type.defaultProps!==void 0?se(se({},y.type.defaultProps),y.props):y.props,x=b[o],_=BB("number");if(!g[x]){m++;var w;return v?w=mh(0,h):s&&s[x]&&s[x].hasStack?(w=vF(s[x].stackGroups,l,c),w=Zw(f,w,x,a)):(w=fw(_,dF(p,n.filter(function(j){var k,C,P=o in j.props?j.props[o]:(k=j.type.defaultProps)===null||k===void 0?void 0:k[o],O="hide"in j.props?j.props.hide:(C=j.type.defaultProps)===null||C===void 0?void 0:C.hide;return P===x&&!O}),"number",u),i.defaultProps.allowDataOverflow),w=Zw(f,w,x,a)),se(se({},g),{},Ie({},x,se(se({axisType:a},i.defaultProps),{},{hide:!0,orientation:Yr(T1e,"".concat(a,".").concat(m%2),null),domain:w,originalDomain:_,isCategorical:v,layout:u})))}return g},{})},$1e=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.children,f="".concat(i,"Id"),p=Ar(u,a),h={};return p&&p.length?h=D1e(t,{axes:p,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(h=M1e(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),h},L1e=function(t){var r=na(t),n=ji(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:nS(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Zf(r,n)}},q2=function(t){var r=t.children,n=t.defaultShowTooltip,i=zr(r,$s),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},F1e=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ai(r&&r.type);return n&&n.indexOf("Bar")>=0})},U2=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},B1e=function(t,r){var n=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,s=t.yAxisMap,l=s===void 0?{}:s,c=n.width,u=n.height,f=n.children,p=n.margin||{},h=zr(f,$s),v=zr(f,Vr),m=Object.keys(l).reduce(function(w,j){var k=l[j],C=k.orientation;return!k.mirror&&!k.hide?se(se({},w),{},Ie({},C,w[C]+k.width)):w},{left:p.left||0,right:p.right||0}),g=Object.keys(o).reduce(function(w,j){var k=o[j],C=k.orientation;return!k.mirror&&!k.hide?se(se({},w),{},Ie({},C,Yr(w,"".concat(C))+k.height)):w},{top:p.top||0,bottom:p.bottom||0}),y=se(se({},g),m),b=y.bottom;h&&(y.bottom+=h.props.height||$s.defaultProps.height),v&&r&&(y=fpe(y,i,n,r));var x=c-y.left-y.right,_=u-y.top-y.bottom;return se(se({brushBottom:b},y),{},{width:Math.max(x,0),height:Math.max(_,0)})},z1e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},jl=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,p=function(y,b){var x=b.graphicalItems,_=b.stackGroups,w=b.offset,j=b.updateId,k=b.dataStartIndex,C=b.dataEndIndex,P=y.barSize,O=y.layout,T=y.barGap,N=y.barCategoryGap,D=y.maxBarSize,E=U2(O),R=E.numericAxisName,B=E.cateAxisName,F=F1e(x),U=[];return x.forEach(function(L,M){var H=fm(y.data,{graphicalItems:[L],dataStartIndex:k,dataEndIndex:C}),z=L.type.defaultProps!==void 0?se(se({},L.type.defaultProps),L.props):L.props,$=z.dataKey,Q=z.maxBarSize,Z=z["".concat(R,"Id")],fe=z["".concat(B,"Id")],le={},ue=l.reduce(function(re,X){var de=b["".concat(X.axisType,"Map")],ve=z["".concat(X.axisType,"Id")];de&&de[ve]||X.axisType==="zAxis"||wo();var he=de[ve];return se(se({},re),{},Ie(Ie({},X.axisType,he),"".concat(X.axisType,"Ticks"),ji(he)))},le),ee=ue[B],te=ue["".concat(B,"Ticks")],ce=_&&_[Z]&&_[Z].hasStack&&Spe(L,_[Z].stackGroups),J=Ai(L.type).indexOf("Bar")>=0,ne=Zf(ee,te),A=[],K=F&&upe({barSize:P,stackGroups:_,totalSize:z1e(ue,B)});if(J){var V,W,q=Te(Q)?D:Q,G=(V=(W=Zf(ee,te,!0))!==null&&W!==void 0?W:q)!==null&&V!==void 0?V:0;A=dpe({barGap:T,barCategoryGap:N,bandSize:G!==ne?G:ne,sizeList:K[fe],maxBarSize:q}),G!==ne&&(A=A.map(function(re){return se(se({},re),{},{position:se(se({},re.position),{},{offset:re.position.offset-G/2})})}))}var ie=L&&L.type&&L.type.getComposedData;ie&&U.push({props:se(se({},ie(se(se({},ue),{},{displayedData:H,props:y,dataKey:$,item:L,bandSize:ne,barPosition:A,offset:w,stackedData:ce,layout:O,dataStartIndex:k,dataEndIndex:C}))),{},Ie(Ie(Ie({key:L.key||"item-".concat(M)},R,ue[R]),B,ue[B]),"animationId",j)),childIndex:moe(L,y.children),item:L})}),U},h=function(y,b){var x=y.props,_=y.dataStartIndex,w=y.dataEndIndex,j=y.updateId;if(!VA({props:x}))return null;var k=x.children,C=x.layout,P=x.stackOffset,O=x.data,T=x.reverseStackOrder,N=U2(C),D=N.numericAxisName,E=N.cateAxisName,R=Ar(k,n),B=wpe(O,R,"".concat(D,"Id"),"".concat(E,"Id"),P,T),F=l.reduce(function(z,$){var Q="".concat($.axisType,"Map");return se(se({},z),{},Ie({},Q,$1e(x,se(se({},$),{},{graphicalItems:R,stackGroups:$.axisType===D&&B,dataStartIndex:_,dataEndIndex:w}))))},{}),U=B1e(se(se({},F),{},{props:x,graphicalItems:R}),b?.legendBBox);Object.keys(F).forEach(function(z){F[z]=u(x,F[z],U,z.replace("Map",""),r)});var L=F["".concat(E,"Map")],M=L1e(L),H=p(x,se(se({},F),{},{dataStartIndex:_,dataEndIndex:w,updateId:j,graphicalItems:R,stackGroups:B,offset:U}));return se(se({formattedGraphicalItems:H,graphicalItems:R,offset:U,stackGroups:B},M),F)},v=(function(g){function y(b){var x,_,w;return x1e(this,y),w=S1e(this,y,[b]),Ie(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ie(w,"accessibilityManager",new o1e),Ie(w,"handleLegendBBoxUpdate",function(j){if(j){var k=w.state,C=k.dataStartIndex,P=k.dataEndIndex,O=k.updateId;w.setState(se({legendBBox:j},h({props:w.props,dataStartIndex:C,dataEndIndex:P,updateId:O},se(se({},w.state),{},{legendBBox:j}))))}}),Ie(w,"handleReceiveSyncEvent",function(j,k,C){if(w.props.syncId===j){if(C===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(k)}}),Ie(w,"handleBrushChange",function(j){var k=j.startIndex,C=j.endIndex;if(k!==w.state.dataStartIndex||C!==w.state.dataEndIndex){var P=w.state.updateId;w.setState(function(){return se({dataStartIndex:k,dataEndIndex:C},h({props:w.props,dataStartIndex:k,dataEndIndex:C,updateId:P},w.state))}),w.triggerSyncEvent({dataStartIndex:k,dataEndIndex:C})}}),Ie(w,"handleMouseEnter",function(j){var k=w.getMouseInfo(j);if(k){var C=se(se({},k),{},{isTooltipActive:!0});w.setState(C),w.triggerSyncEvent(C);var P=w.props.onMouseEnter;Pe(P)&&P(C,j)}}),Ie(w,"triggeredAfterMouseMove",function(j){var k=w.getMouseInfo(j),C=k?se(se({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(C),w.triggerSyncEvent(C);var P=w.props.onMouseMove;Pe(P)&&P(C,j)}),Ie(w,"handleItemMouseEnter",function(j){w.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),Ie(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Ie(w,"handleMouseMove",function(j){j.persist(),w.throttleTriggeredAfterMouseMove(j)}),Ie(w,"handleMouseLeave",function(j){w.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};w.setState(k),w.triggerSyncEvent(k);var C=w.props.onMouseLeave;Pe(C)&&C(k,j)}),Ie(w,"handleOuterEvent",function(j){var k=poe(j),C=Yr(w.props,"".concat(k));if(k&&Pe(C)){var P,O;/.*touch.*/i.test(k)?O=w.getMouseInfo(j.changedTouches[0]):O=w.getMouseInfo(j),C((P=O)!==null&&P!==void 0?P:{},j)}}),Ie(w,"handleClick",function(j){var k=w.getMouseInfo(j);if(k){var C=se(se({},k),{},{isTooltipActive:!0});w.setState(C),w.triggerSyncEvent(C);var P=w.props.onClick;Pe(P)&&P(C,j)}}),Ie(w,"handleMouseDown",function(j){var k=w.props.onMouseDown;if(Pe(k)){var C=w.getMouseInfo(j);k(C,j)}}),Ie(w,"handleMouseUp",function(j){var k=w.props.onMouseUp;if(Pe(k)){var C=w.getMouseInfo(j);k(C,j)}}),Ie(w,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),Ie(w,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&w.handleMouseDown(j.changedTouches[0])}),Ie(w,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&w.handleMouseUp(j.changedTouches[0])}),Ie(w,"handleDoubleClick",function(j){var k=w.props.onDoubleClick;if(Pe(k)){var C=w.getMouseInfo(j);k(C,j)}}),Ie(w,"handleContextMenu",function(j){var k=w.props.onContextMenu;if(Pe(k)){var C=w.getMouseInfo(j);k(C,j)}}),Ie(w,"triggerSyncEvent",function(j){w.props.syncId!==void 0&&v0.emit(y0,w.props.syncId,j,w.eventEmitterSymbol)}),Ie(w,"applySyncEvent",function(j){var k=w.props,C=k.layout,P=k.syncMethod,O=w.state.updateId,T=j.dataStartIndex,N=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)w.setState(se({dataStartIndex:T,dataEndIndex:N},h({props:w.props,dataStartIndex:T,dataEndIndex:N,updateId:O},w.state)));else if(j.activeTooltipIndex!==void 0){var D=j.chartX,E=j.chartY,R=j.activeTooltipIndex,B=w.state,F=B.offset,U=B.tooltipTicks;if(!F)return;if(typeof P=="function")R=P(U,j);else if(P==="value"){R=-1;for(var L=0;L<U.length;L++)if(U[L].value===j.activeLabel){R=L;break}}var M=se(se({},F),{},{x:F.left,y:F.top}),H=Math.min(D,M.x+M.width),z=Math.min(E,M.y+M.height),$=U[R]&&U[R].value,Q=r1(w.state,w.props.data,R),Z=U[R]?{x:C==="horizontal"?U[R].coordinate:H,y:C==="horizontal"?z:U[R].coordinate}:FB;w.setState(se(se({},j),{},{activeLabel:$,activeCoordinate:Z,activePayload:Q,activeTooltipIndex:R}))}else w.setState(j)}),Ie(w,"renderCursor",function(j){var k,C=w.state,P=C.isTooltipActive,O=C.activeCoordinate,T=C.activePayload,N=C.offset,D=C.activeTooltipIndex,E=C.tooltipAxisBandSize,R=w.getTooltipEventType(),B=(k=j.props.active)!==null&&k!==void 0?k:P,F=w.props.layout,U=j.key||"_recharts-cursor";return I.createElement(h1e,{key:U,activeCoordinate:O,activePayload:T,activeTooltipIndex:D,chartName:r,element:j,isActive:B,layout:F,offset:N,tooltipAxisBandSize:E,tooltipEventType:R})}),Ie(w,"renderPolarAxis",function(j,k,C){var P=Yr(j,"type.axisType"),O=Yr(w.state,"".concat(P,"Map")),T=j.type.defaultProps,N=T!==void 0?se(se({},T),j.props):j.props,D=O&&O[N["".concat(P,"Id")]];return S.cloneElement(j,se(se({},D),{},{className:Me(P,D.className),key:j.key||"".concat(k,"-").concat(C),ticks:ji(D,!0)}))}),Ie(w,"renderPolarGrid",function(j){var k=j.props,C=k.radialLines,P=k.polarAngles,O=k.polarRadius,T=w.state,N=T.radiusAxisMap,D=T.angleAxisMap,E=na(N),R=na(D),B=R.cx,F=R.cy,U=R.innerRadius,L=R.outerRadius;return S.cloneElement(j,{polarAngles:Array.isArray(P)?P:ji(R,!0).map(function(M){return M.coordinate}),polarRadius:Array.isArray(O)?O:ji(E,!0).map(function(M){return M.coordinate}),cx:B,cy:F,innerRadius:U,outerRadius:L,key:j.key||"polar-grid",radialLines:C})}),Ie(w,"renderLegend",function(){var j=w.state.formattedGraphicalItems,k=w.props,C=k.children,P=k.width,O=k.height,T=w.props.margin||{},N=P-(T.left||0)-(T.right||0),D=cF({children:C,formattedGraphicalItems:j,legendWidth:N,legendContent:c});if(!D)return null;var E=D.item,R=F2(D,p1e);return S.cloneElement(E,se(se({},R),{},{chartWidth:P,chartHeight:O,margin:T,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Ie(w,"renderTooltip",function(){var j,k=w.props,C=k.children,P=k.accessibilityLayer,O=zr(C,Et);if(!O)return null;var T=w.state,N=T.isTooltipActive,D=T.activeCoordinate,E=T.activePayload,R=T.activeLabel,B=T.offset,F=(j=O.props.active)!==null&&j!==void 0?j:N;return S.cloneElement(O,{viewBox:se(se({},B),{},{x:B.left,y:B.top}),active:F,label:R,payload:F?E:[],coordinate:D,accessibilityLayer:P})}),Ie(w,"renderBrush",function(j){var k=w.props,C=k.margin,P=k.data,O=w.state,T=O.offset,N=O.dataStartIndex,D=O.dataEndIndex,E=O.updateId;return S.cloneElement(j,{key:j.key||"_recharts-brush",onChange:Od(w.handleBrushChange,j.props.onChange),data:P,x:pe(j.props.x)?j.props.x:T.left,y:pe(j.props.y)?j.props.y:T.top+T.height+T.brushBottom-(C.bottom||0),width:pe(j.props.width)?j.props.width:T.width,startIndex:N,endIndex:D,updateId:"brush-".concat(E)})}),Ie(w,"renderReferenceElement",function(j,k,C){if(!j)return null;var P=w,O=P.clipPathId,T=w.state,N=T.xAxisMap,D=T.yAxisMap,E=T.offset,R=j.type.defaultProps||{},B=j.props,F=B.xAxisId,U=F===void 0?R.xAxisId:F,L=B.yAxisId,M=L===void 0?R.yAxisId:L;return S.cloneElement(j,{key:j.key||"".concat(k,"-").concat(C),xAxis:N[U],yAxis:D[M],viewBox:{x:E.left,y:E.top,width:E.width,height:E.height},clipPathId:O})}),Ie(w,"renderActivePoints",function(j){var k=j.item,C=j.activePoint,P=j.basePoint,O=j.childIndex,T=j.isRange,N=[],D=k.props.key,E=k.item.type.defaultProps!==void 0?se(se({},k.item.type.defaultProps),k.item.props):k.item.props,R=E.activeDot,B=E.dataKey,F=se(se({index:O,dataKey:B,cx:C.x,cy:C.y,r:4,fill:CS(k.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},xe(R,!1)),Cf(R));return N.push(y.renderActiveDot(R,F,"".concat(D,"-activePoint-").concat(O))),P?N.push(y.renderActiveDot(R,se(se({},F),{},{cx:P.x,cy:P.y}),"".concat(D,"-basePoint-").concat(O))):T&&N.push(null),N}),Ie(w,"renderGraphicChild",function(j,k,C){var P=w.filterFormatItem(j,k,C);if(!P)return null;var O=w.getTooltipEventType(),T=w.state,N=T.isTooltipActive,D=T.tooltipAxis,E=T.activeTooltipIndex,R=T.activeLabel,B=w.props.children,F=zr(B,Et),U=P.props,L=U.points,M=U.isRange,H=U.baseLine,z=P.item.type.defaultProps!==void 0?se(se({},P.item.type.defaultProps),P.item.props):P.item.props,$=z.activeDot,Q=z.hide,Z=z.activeBar,fe=z.activeShape,le=!!(!Q&&N&&F&&($||Z||fe)),ue={};O!=="axis"&&F&&F.props.trigger==="click"?ue={onClick:Od(w.handleItemMouseEnter,j.props.onClick)}:O!=="axis"&&(ue={onMouseLeave:Od(w.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:Od(w.handleItemMouseEnter,j.props.onMouseEnter)});var ee=S.cloneElement(j,se(se({},P.props),ue));function te(X){return typeof D.dataKey=="function"?D.dataKey(X.payload):null}if(le)if(E>=0){var ce,J;if(D.dataKey&&!D.allowDuplicatedCategory){var ne=typeof D.dataKey=="function"?te:"payload.".concat(D.dataKey.toString());ce=Of(L,ne,R),J=M&&H&&Of(H,ne,R)}else ce=L?.[E],J=M&&H&&H[E];if(fe||Z){var A=j.props.activeIndex!==void 0?j.props.activeIndex:E;return[S.cloneElement(j,se(se(se({},P.props),ue),{},{activeIndex:A})),null,null]}if(!Te(ce))return[ee].concat(Xs(w.renderActivePoints({item:P,activePoint:ce,basePoint:J,childIndex:E,isRange:M})))}else{var K,V=(K=w.getItemByXY(w.state.activeCoordinate))!==null&&K!==void 0?K:{graphicalItem:ee},W=V.graphicalItem,q=W.item,G=q===void 0?j:q,ie=W.childIndex,re=se(se(se({},P.props),ue),{},{activeIndex:ie});return[S.cloneElement(G,re),null,null]}return M?[ee,null,null]:[ee,null]}),Ie(w,"renderCustomized",function(j,k,C){return S.cloneElement(j,se(se({key:"recharts-customized-".concat(C)},w.props),w.state))}),Ie(w,"renderMap",{CartesianGrid:{handler:Rd,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Rd},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Rd},YAxis:{handler:Rd},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((x=b.id)!==null&&x!==void 0?x:Oa("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=l4(w.triggeredAfterMouseMove,(_=b.throttleDelay)!==null&&_!==void 0?_:1e3/60),w.state={},w}return E1e(y,g),_1e(y,[{key:"componentDidMount",value:function(){var x,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,_=x.children,w=x.data,j=x.height,k=x.layout,C=zr(_,Et);if(C){var P=C.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,T=r1(this.state,w,P,O),N=this.state.tooltipTicks[P].coordinate,D=(this.state.offset.top+j)/2,E=k==="horizontal",R=E?{x:N,y:D}:{y:N,x:D},B=this.state.formattedGraphicalItems.find(function(U){var L=U.item;return L.type.name==="Scatter"});B&&(R=se(se({},R),B.props.points[P].tooltipPosition),T=B.props.points[P].tooltipPayload);var F={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:O,activePayload:T,activeCoordinate:R};this.setState(F),this.renderCursor(C),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var w,j;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(x){Ix([zr(x.children,Et)],[zr(this.props.children,Et)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=zr(this.props.children,Et);if(x&&typeof x.props.shared=="boolean"){var _=x.props.shared?"axis":"item";return s.indexOf(_)>=0?_:a}return a}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var _=this.container,w=_.getBoundingClientRect(),j=tue(w),k={chartX:Math.round(x.pageX-j.left),chartY:Math.round(x.pageY-j.top)},C=w.width/_.offsetWidth||1,P=this.inRange(k.chartX,k.chartY,C);if(!P)return null;var O=this.state,T=O.xAxisMap,N=O.yAxisMap,D=this.getTooltipEventType(),E=z2(this.state,this.props.data,this.props.layout,P);if(D!=="axis"&&T&&N){var R=na(T).scale,B=na(N).scale,F=R&&R.invert?R.invert(k.chartX):null,U=B&&B.invert?B.invert(k.chartY):null;return se(se({},k),{},{xValue:F,yValue:U},E)}return E?se(se({},k),E):null}},{key:"inRange",value:function(x,_){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,k=x/w,C=_/w;if(j==="horizontal"||j==="vertical"){var P=this.state.offset,O=k>=P.left&&k<=P.left+P.width&&C>=P.top&&C<=P.top+P.height;return O?{x:k,y:C}:null}var T=this.state,N=T.angleAxisMap,D=T.radiusAxisMap;if(N&&D){var E=na(N);return IT({x:k,y:C},E)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,_=this.getTooltipEventType(),w=zr(x,Et),j={};w&&_==="axis"&&(w.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=Cf(this.props,this.handleOuterEvent);return se(se({},k),j)}},{key:"addListener",value:function(){v0.on(y0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){v0.removeListener(y0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,_,w){for(var j=this.state.formattedGraphicalItems,k=0,C=j.length;k<C;k++){var P=j[k];if(P.item===x||P.props.key===x.key||_===Ai(P.item.type)&&w===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,_=this.state.offset,w=_.left,j=_.top,k=_.height,C=_.width;return I.createElement("defs",null,I.createElement("clipPath",{id:x},I.createElement("rect",{x:w,y:j,height:k,width:C})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(_,w){var j=L2(w,2),k=j[0],C=j[1];return se(se({},_),{},Ie({},k,C.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(_,w){var j=L2(w,2),k=j[0],C=j[1];return se(se({},_),{},Ie({},k,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[x])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(x){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[x])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(x){var _=this.state,w=_.formattedGraphicalItems,j=_.activeItem;if(w&&w.length)for(var k=0,C=w.length;k<C;k++){var P=w[k],O=P.props,T=P.item,N=T.type.defaultProps!==void 0?se(se({},T.type.defaultProps),T.props):T.props,D=Ai(T.type);if(D==="Bar"){var E=(O.data||[]).find(function(U){return gve(x,U)});if(E)return{graphicalItem:P,payload:E}}else if(D==="RadialBar"){var R=(O.data||[]).find(function(U){return IT(x,U)});if(R)return{graphicalItem:P,payload:R}}else if(rm(P,j)||nm(P,j)||hu(P,j)){var B=Yye({graphicalItem:P,activeTooltipItem:j,itemData:N.data}),F=N.activeIndex===void 0?B:N.activeIndex;return{graphicalItem:se(se({},P),{},{childIndex:F}),payload:hu(P,j)?N.data[B]:P.props.data[B]}}}return null}},{key:"render",value:function(){var x=this;if(!VA(this))return null;var _=this.props,w=_.children,j=_.className,k=_.width,C=_.height,P=_.style,O=_.compact,T=_.title,N=_.desc,D=F2(_,m1e),E=xe(D,!1);if(O)return I.createElement(m2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement(Mx,es({},E,{width:k,height:C,title:T,desc:N}),this.renderClipPath(),GA(w,this.renderMap)));if(this.props.accessibilityLayer){var R,B;E.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,E.role=(B=this.props.role)!==null&&B!==void 0?B:"application",E.onKeyDown=function(U){x.accessibilityManager.keyboardEvent(U)},E.onFocus=function(){x.accessibilityManager.focus()}}var F=this.parseEventsOfWrapper();return I.createElement(m2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement("div",es({className:Me("recharts-wrapper",j),style:se({position:"relative",cursor:"default",width:k,height:C},P)},F,{ref:function(L){x.container=L}}),I.createElement(Mx,es({},E,{width:k,height:C,title:T,desc:N,style:N1e}),this.renderClipPath(),GA(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(S.Component);Ie(v,"displayName",r),Ie(v,"defaultProps",se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ie(v,"getDerivedStateFromProps",function(g,y){var b=g.dataKey,x=g.data,_=g.children,w=g.width,j=g.height,k=g.layout,C=g.stackOffset,P=g.margin,O=y.dataStartIndex,T=y.dataEndIndex;if(y.updateId===void 0){var N=q2(g);return se(se(se({},N),{},{updateId:0},h(se(se({props:g},N),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:x,prevWidth:w,prevHeight:j,prevLayout:k,prevStackOffset:C,prevMargin:P,prevChildren:_})}if(b!==y.prevDataKey||x!==y.prevData||w!==y.prevWidth||j!==y.prevHeight||k!==y.prevLayout||C!==y.prevStackOffset||!ds(P,y.prevMargin)){var D=q2(g),E={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},R=se(se({},z2(y,x,k)),{},{updateId:y.updateId+1}),B=se(se(se({},D),E),R);return se(se(se({},B),h(se({props:g},B),y)),{},{prevDataKey:b,prevData:x,prevWidth:w,prevHeight:j,prevLayout:k,prevStackOffset:C,prevMargin:P,prevChildren:_})}if(!Ix(_,y.prevChildren)){var F,U,L,M,H=zr(_,$s),z=H&&(F=(U=H.props)===null||U===void 0?void 0:U.startIndex)!==null&&F!==void 0?F:O,$=H&&(L=(M=H.props)===null||M===void 0?void 0:M.endIndex)!==null&&L!==void 0?L:T,Q=z!==O||$!==T,Z=!Te(x),fe=Z&&!Q?y.updateId:y.updateId+1;return se(se({updateId:fe},h(se(se({props:g},y),{},{updateId:fe,dataStartIndex:z,dataEndIndex:$}),y)),{},{prevChildren:_,dataStartIndex:z,dataEndIndex:$})}return null}),Ie(v,"renderActiveDot",function(g,y,b){var x;return S.isValidElement(g)?x=S.cloneElement(g,y):Pe(g)?x=g(y):x=I.createElement(_l,y),I.createElement(Fe,{className:"recharts-active-dot",key:b},x)});var m=S.forwardRef(function(y,b){return I.createElement(v,es({},y,{ref:b}))});return m.displayName=v.displayName,m},q1e=jl({chartName:"LineChart",GraphicalChild:hn,axisComponents:[{axisType:"xAxis",AxisComp:Qt},{axisType:"yAxis",AxisComp:Mt}],formatAxisMap:am}),tc=jl({chartName:"BarChart",GraphicalChild:Dt,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Qt},{axisType:"yAxis",AxisComp:Mt}],formatAxisMap:am}),U1e=jl({chartName:"PieChart",GraphicalChild:Ui,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Sa},{axisType:"radiusAxis",AxisComp:_o}],formatAxisMap:wF,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),n1=jl({chartName:"RadarChart",GraphicalChild:So,axisComponents:[{axisType:"angleAxis",AxisComp:Sa},{axisType:"radiusAxis",AxisComp:_o}],formatAxisMap:wF,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),zB=jl({chartName:"AreaChart",GraphicalChild:gn,axisComponents:[{axisType:"xAxis",AxisComp:Qt},{axisType:"yAxis",AxisComp:Mt}],formatAxisMap:am}),xu=jl({chartName:"ComposedChart",GraphicalChild:[hn,gn,Dt,dm],axisComponents:[{axisType:"xAxis",AxisComp:Qt},{axisType:"yAxis",AxisComp:Mt},{axisType:"zAxis",AxisComp:um}],formatAxisMap:am});function W1e({data:e}){return d.jsx(dr,{width:"100%",height:"100%",children:d.jsxs(zB,{data:e,children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"colorOverall",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"hsl(var(--primary))",stopOpacity:.3}),d.jsx("stop",{offset:"95%",stopColor:"hsl(var(--primary))",stopOpacity:0})]})}),d.jsx(Qt,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},dy:10,interval:"preserveStartEnd"}),d.jsx(Mt,{hide:!0,domain:[0,100]}),d.jsx(Et,{contentStyle:{backgroundColor:"hsl(var(--card))",borderRadius:"12px",border:"1px solid hsl(var(--border))",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),d.jsx(gn,{type:"monotone",dataKey:"overall",stroke:"hsl(var(--primary))",strokeWidth:3,fillOpacity:1,fill:"url(#colorOverall)"})]})})}function H1e({stats:e}){const t=e.map(r=>({subject:r.title,A:r.completionRate,fullMark:100}));return e.length<3?d.jsx("div",{className:"bg-card/50 backdrop-blur-sm rounded-3xl p-6 border border-white/5 shadow-xl h-[300px] flex items-center justify-center text-center",children:d.jsxs("p",{className:"text-muted-foreground text-sm",children:["Add at least 3 habits ",d.jsx("br",{})," to unlock Radar view."]})}):d.jsx("div",{className:"w-full h-full min-h-0",children:d.jsx(dr,{width:"100%",height:"100%",children:d.jsxs(n1,{cx:"50%",cy:"50%",outerRadius:"70%",data:t,children:[d.jsx(oh,{stroke:"hsl(var(--border))"}),d.jsx(Sa,{dataKey:"subject",tick:{fill:"hsl(var(--muted-foreground))",fontSize:10}}),d.jsx(So,{name:"Completion",dataKey:"A",stroke:"hsl(var(--primary))",strokeWidth:2,fill:"hsl(var(--primary))",fillOpacity:.4})]})})})}function V1e({data:e}){const t=Math.max(...e.map(n=>n.rate)),r=({active:n,payload:i,label:a})=>n&&i&&i.length?d.jsxs("div",{className:"bg-background/95 backdrop-blur text-xs p-2 rounded-lg border border-border shadow-xl",children:[d.jsx("p",{className:"font-semibold mb-1",children:a}),d.jsxs("p",{className:"text-primary space-x-2",children:[d.jsx("span",{children:"Success Rate:"}),d.jsxs("span",{className:"font-mono font-bold",children:[i[0].value,"%"]})]})]}):null;return d.jsx("div",{className:"w-full h-full min-h-[200px]",children:d.jsx(dr,{width:"100%",height:"100%",children:d.jsxs(tc,{data:e,margin:{top:10,right:0,left:0,bottom:0},children:[d.jsx(Qt,{dataKey:"dayName",axisLine:!1,tickLine:!1,tick:{fill:"hsl(var(--muted-foreground))",fontSize:10},tickFormatter:n=>n.slice(0,3).toUpperCase(),dy:10}),d.jsx(Mt,{hide:!0,domain:[0,100]}),d.jsx(Et,{content:d.jsx(r,{}),cursor:{fill:"hsl(var(--muted)/0.2)"}}),d.jsx(Dt,{dataKey:"rate",radius:[4,4,0,0],maxBarSize:40,children:e.map((n,i)=>d.jsx(vl,{fill:n.rate===t&&n.rate>0?"hsl(var(--primary))":"hsl(var(--primary)/0.3)",className:"transition-all duration-300 hover:opacity-80"},`cell-${i}`))})]})})})}function K1e({comparisons:e,goals:t}){const[r,n]=S.useState("month");return d.jsxs("div",{className:"glass-panel rounded-3xl p-6 animate-fade-in",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-display font-semibold flex items-center gap-2",children:[d.jsx(Er,{className:"w-5 h-5 text-primary"}),"Confronto Temporale"]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Analizza come stai andando rispetto al passato."})]}),d.jsx(us,{value:r,onValueChange:i=>n(i),className:"w-full sm:w-auto",children:d.jsxs(ao,{className:"grid w-full grid-cols-3 sm:w-[300px]",children:[d.jsx(gt,{value:"week",children:"Settimana"}),d.jsx(gt,{value:"month",children:"Mese"}),d.jsx(gt,{value:"year",children:"Anno"})]})})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:t.map(i=>{const a=e.find(c=>c.habitId===i.id);if(!a)return null;const o=a[r],s=o.trend==="neutral"||o.change===0,l=o.trend==="up";return d.jsxs("div",{className:"bg-card/50 border border-border/50 rounded-xl p-4 flex items-center justify-between group hover:bg-card/80 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center opacity-80",style:{backgroundColor:`${i.color}20`,color:i.color},children:d.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:i.color}})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-foreground",children:i.title}),d.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:d.jsxs("span",{children:["Precedente: ",o.previous,"%"]})})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"text-xl font-display font-bold text-foreground",children:[o.current,"%"]}),d.jsxs("div",{className:ae("flex items-center justify-end gap-1 text-xs font-medium",s?"text-muted-foreground":l?"text-emerald-500":"text-rose-500"),children:[s?d.jsx(Ld,{className:"w-3 h-3"}):l?d.jsx(n6,{className:"w-3 h-3"}):d.jsx(t6,{className:"w-3 h-3"}),d.jsxs("span",{children:[o.change>0?"+":"",o.change,"%"]})]})]})]},i.id)})})]})}function G1e({criticalHabits:e}){const t=e.filter(r=>r.completionRate<85&&r.completionRate>0).sort((r,n)=>r.completionRate-n.completionRate).slice(0,3);return t.length===0?null:d.jsxs("div",{className:"glass-panel rounded-3xl p-6 animate-fade-in space-y-4",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-display font-semibold flex items-center gap-2",children:[d.jsx(Gn,{className:"w-5 h-5 text-primary"}),"Aree di Miglioramento"]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Abitudini che richiedono pi attenzione e i loro giorni critici."})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(r=>d.jsxs("div",{className:"bg-card/50 border border-destructive/10 rounded-xl p-4 flex flex-col gap-3 group hover:border-destructive/30 transition-all",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:r.color}}),d.jsx("span",{className:"font-semibold text-foreground",children:r.title})]}),d.jsxs("span",{className:ae("text-xs font-bold px-2 py-0.5 rounded-full",r.completionRate<50?"bg-destructive/10 text-destructive":"bg-warning/10 text-warning"),children:[r.completionRate,"% succ."]})]}),d.jsxs("div",{className:"flex items-start gap-3 bg-background/50 rounded-lg p-3",children:[d.jsx(ts,{className:"w-4 h-4 text-destructive mt-0.5 shrink-0"}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider font-bold",children:"Giorno Nero"}),d.jsx("p",{className:"font-display font-semibold text-lg text-foreground",children:r.worstDay}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:["Solo il ",d.jsxs("span",{className:"text-destructive font-bold",children:[r.worstDayRate,"%"]})," di completamento"]})]})]})]},r.habitId))})]})}const Y1e=()=>ii({queryKey:["habit-completion-history"],queryFn:async()=>{const e=Ge(Ut(new Date,30),"yyyy-MM-dd"),{data:t,error:r}=await be.from("goal_logs").select("date, status").gte("date",e);if(r)throw r;const n=t,i={};return n?.forEach(a=>{const o=a.date;i[o]||(i[o]={total:0,done:0}),i[o].total+=1,a.status==="done"&&(i[o].done+=1)}),i}}),X1e=()=>{const{data:e}=Eie(),{data:t}=Y1e(),{theme:r}=y1();if(!e||!t)return d.jsx(Be,{className:"col-span-1 lg:col-span-2 h-[400px] flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});const n=e.slice(0,14).reverse().map(a=>{const o=t[a.date]||{total:0,done:0},s=o.total>0?Math.round(o.done/o.total*100):0;return{date:Ge(v7(a.date),"dd/MM"),fullDate:a.date,mood:a.mood_score,energy:a.energy_score,productivity:s}}),i=r==="dark";return d.jsxs(Be,{className:"col-span-1 lg:col-span-2 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[d.jsx(Je,{children:d.jsx(Ze,{children:"Mood & Energy vs Productivity"})}),d.jsx(qe,{className:"h-[350px]",children:d.jsx(dr,{width:"100%",height:"100%",children:d.jsxs(xu,{data:n,children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"colorProductivity",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.3}),d.jsx("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]})}),d.jsx(tn,{strokeDasharray:"3 3",opacity:.2,vertical:!1}),d.jsx(Qt,{dataKey:"date",tick:{fontSize:12,fill:i?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1}),d.jsx(Mt,{yAxisId:"left",domain:[0,10],tickCount:6,tick:{fontSize:12,fill:i?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1,label:{value:"Score (1-10)",angle:-90,position:"insideLeft",style:{fill:i?"#A0A0A0":"#666"}}}),d.jsx(Mt,{yAxisId:"right",orientation:"right",domain:[0,100],tick:{fontSize:12,fill:"#8884d8"},axisLine:!1,tickLine:!1,unit:"%"}),d.jsx(Et,{contentStyle:{backgroundColor:i?"#1f2937":"#fff",borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}}),d.jsx(Vr,{wrapperStyle:{paddingTop:"10px"}}),d.jsx(gn,{yAxisId:"right",type:"monotone",dataKey:"productivity",fill:"url(#colorProductivity)",stroke:"#8884d8",strokeWidth:3,name:"Habit Completion %"}),d.jsx(hn,{yAxisId:"left",type:"monotone",dataKey:"mood",stroke:"#10b981",strokeWidth:3,dot:{r:4,strokeWidth:2},activeDot:{r:6},name:"Mood"}),d.jsx(hn,{yAxisId:"left",type:"monotone",dataKey:"energy",stroke:"#f59e0b",strokeWidth:3,strokeDasharray:"5 5",dot:{r:4,strokeWidth:2},name:"Energy"})]})})})]})},Q1e=({correlation:e})=>{const{theme:t}=y1(),r=t==="dark",n=[{category:"Completato",mood:Math.round(e.avgMoodWhenCompleted*10)/10,energy:Math.round(e.avgEnergyWhenCompleted*10)/10},{category:"Mancato",mood:Math.round(e.avgMoodWhenMissed*10)/10,energy:Math.round(e.avgEnergyWhenMissed*10)/10}],i=[{range:"Basso",rangeFull:"Basso (1-4)",mood:Math.round(e.completionRateByMood.low),energy:Math.round(e.completionRateByEnergy.low)},{range:"Medio",rangeFull:"Medio (5-7)",mood:Math.round(e.completionRateByMood.medium),energy:Math.round(e.completionRateByEnergy.medium)},{range:"Alto",rangeFull:"Alto (8-10)",mood:Math.round(e.completionRateByMood.high),energy:Math.round(e.completionRateByEnergy.high)}],a=()=>e.moodCorrelation>.3?d.jsx(Er,{className:"w-4 h-4 text-green-500"}):e.moodCorrelation<-.3?d.jsx(Yn,{className:"w-4 h-4 text-red-500"}):d.jsx(Ld,{className:"w-4 h-4 text-gray-500"}),o=()=>e.energyCorrelation>.3?d.jsx(Er,{className:"w-4 h-4 text-green-500"}):e.energyCorrelation<-.3?d.jsx(Yn,{className:"w-4 h-4 text-red-500"}):d.jsx(Ld,{className:"w-4 h-4 text-gray-500"}),s=l=>{const c=Math.abs(l);return c>=.7?"Forte":c>=.4?"Moderata":c>=.2?"Debole":"Nessuna"};return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[d.jsx(Be,{className:"glass-panel",children:d.jsxs(qe,{className:"p-4 text-center",children:[d.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Correlazione Mood"}),d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[a(),d.jsxs("p",{className:"text-2xl font-bold font-mono",children:[(e.moodCorrelation*100).toFixed(0),"%"]})]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:s(e.moodCorrelation)})]})}),d.jsx(Be,{className:"glass-panel",children:d.jsxs(qe,{className:"p-4 text-center",children:[d.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Correlazione Energia"}),d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[o(),d.jsxs("p",{className:"text-2xl font-bold font-mono",children:[(e.energyCorrelation*100).toFixed(0),"%"]})]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:s(e.energyCorrelation)})]})}),d.jsx(Be,{className:"glass-panel",children:d.jsxs(qe,{className:"p-4 text-center",children:[d.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Mood Medio ()"}),d.jsx("p",{className:"text-2xl font-bold",style:{color:e.habitColor},children:e.avgMoodWhenCompleted.toFixed(1)}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"su 10"})]})}),d.jsx(Be,{className:"glass-panel",children:d.jsxs(qe,{className:"p-4 text-center",children:[d.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Energia Media ()"}),d.jsx("p",{className:"text-2xl font-bold",style:{color:e.habitColor},children:e.avgEnergyWhenCompleted.toFixed(1)}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"su 10"})]})})]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.isMoodSensitive&&d.jsxs("div",{className:"glass-panel px-3 py-1.5 rounded-full flex items-center gap-2 border border-orange-500/30",children:[d.jsx(ki,{className:"w-3 h-3 text-orange-500"}),d.jsx("span",{className:"text-xs font-medium text-orange-500",children:"Sensibile al Mood"})]}),e.isEnergySensitive&&d.jsxs("div",{className:"glass-panel px-3 py-1.5 rounded-full flex items-center gap-2 border border-yellow-500/30",children:[d.jsx(ki,{className:"w-3 h-3 text-yellow-500"}),d.jsx("span",{className:"text-xs font-medium text-yellow-500",children:"Sensibile all'Energia"})]}),e.isResilient&&d.jsxs("div",{className:"glass-panel px-3 py-1.5 rounded-full flex items-center gap-2 border border-green-500/30",children:[d.jsx(Er,{className:"w-3 h-3 text-green-500"}),d.jsx("span",{className:"text-xs font-medium text-green-500",children:"Resiliente"})]}),!e.isMoodSensitive&&!e.isEnergySensitive&&!e.isResilient&&d.jsxs("div",{className:"glass-panel px-3 py-1.5 rounded-full flex items-center gap-2 border border-gray-500/30",children:[d.jsx(Ld,{className:"w-3 h-3 text-gray-500"}),d.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Neutrale"})]})]}),d.jsxs(Be,{className:"glass-panel shadow-lg hover:shadow-xl transition-shadow duration-300",children:[d.jsx(Je,{children:d.jsx(Ze,{className:"text-base sm:text-lg",children:"Completato vs Mancato"})}),d.jsx(qe,{className:"h-[300px]",children:d.jsx(dr,{width:"100%",height:"100%",children:d.jsxs(xu,{data:n,children:[d.jsx(tn,{strokeDasharray:"3 3",opacity:.2,vertical:!1}),d.jsx(Qt,{dataKey:"category",tick:{fontSize:12,fill:r?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1}),d.jsx(Mt,{domain:[0,10],tick:{fontSize:12,fill:r?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1,label:{value:"Score (1-10)",angle:-90,position:"insideLeft",style:{fill:r?"#A0A0A0":"#666"}}}),d.jsx(Et,{contentStyle:{backgroundColor:r?"#1f2937":"#fff",borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}}),d.jsx(Vr,{wrapperStyle:{paddingTop:"10px"}}),d.jsx(Dt,{dataKey:"mood",fill:"#10b981",name:"Mood",radius:[8,8,0,0]}),d.jsx(Dt,{dataKey:"energy",fill:"#f59e0b",name:"Energia",radius:[8,8,0,0]})]})})})]}),d.jsxs(Be,{className:"glass-panel shadow-lg hover:shadow-xl transition-shadow duration-300",children:[d.jsxs(Je,{children:[d.jsx(Ze,{className:"text-base sm:text-lg",children:"Performance per Livello"}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Basso (1-4)  Medio (5-7)  Alto (8-10)"})]}),d.jsx(qe,{className:"h-[320px]",children:d.jsx(dr,{width:"100%",height:"100%",children:d.jsxs(xu,{data:i,margin:{top:10,right:20,bottom:20,left:0},children:[d.jsx(tn,{strokeDasharray:"3 3",opacity:.2,vertical:!1}),d.jsx(Qt,{dataKey:"range",tick:{fontSize:12,fill:r?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1}),d.jsx(Mt,{domain:[0,100],tick:{fontSize:12,fill:r?"#A0A0A0":"#666"},axisLine:!1,tickLine:!1,unit:"%"}),d.jsx(Et,{contentStyle:{backgroundColor:r?"#1f2937":"#fff",borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},formatter:(l,c,u)=>[`${l}%`,c==="mood"?"Con Mood":"Con Energia"],labelFormatter:l=>{const c=i.find(u=>u.range===l);return c?c.rangeFull:l}}),d.jsx(Vr,{wrapperStyle:{paddingTop:"10px"}}),d.jsx(hn,{type:"monotone",dataKey:"mood",stroke:"#10b981",strokeWidth:3,dot:{r:5,strokeWidth:2},activeDot:{r:7},name:"Con Mood"}),d.jsx(hn,{type:"monotone",dataKey:"energy",stroke:"#f59e0b",strokeWidth:3,strokeDasharray:"5 5",dot:{r:5,strokeWidth:2},activeDot:{r:7},name:"Con Energia"})]})})})]}),d.jsx(Be,{className:"glass-panel",children:d.jsx(qe,{className:"p-4",children:d.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Analisi basata su ",d.jsx("strong",{children:e.totalDaysWithMoodData})," giorni con dati mood/energia (",e.daysCompleted," completati, ",e.daysMissed," mancati)"]})})})]})},J1e=({correlations:e})=>{const t=e.filter(i=>i.totalDaysWithMoodData>=5);if(t.length===0)return d.jsx(Be,{className:"glass-panel",children:d.jsx(qe,{className:"p-8 text-center",children:d.jsx("p",{className:"text-muted-foreground",children:"Non ci sono abbastanza dati per mostrare la matrice. Registra mood ed energie per almeno 5 giorni."})})});const r=i=>i>=80?"bg-green-500/90":i>=70?"bg-lime-500/90":i>=50?"bg-yellow-500/90":i>=30?"bg-orange-500/90":i>0?"bg-red-500/90":"bg-gray-700/90",n=i=>i>=50?"text-white font-bold":"text-foreground font-bold";return d.jsxs(Be,{className:"glass-panel shadow-lg hover:shadow-xl transition-shadow duration-300",children:[d.jsxs(Je,{children:[d.jsx(Ze,{className:"text-base sm:text-lg",children:"Performance per Livello"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Completamento (%) per mood ed energia"})]}),d.jsxs(qe,{className:"overflow-x-auto",children:[d.jsxs("div",{className:"hidden md:block min-w-[700px]",children:[d.jsxs("div",{className:"grid grid-cols-[minmax(120px,1fr)_3fr_1px_3fr] gap-3 mb-4 pb-3 border-b border-white/10",children:[d.jsx("div",{}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-sm font-bold text-green-500 mb-2",children:"MOOD"}),d.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[d.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Basso"}),d.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Medio"}),d.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Alto"})]})]}),d.jsx("div",{className:"w-px bg-gradient-to-b from-transparent via-white/20 to-transparent"}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-sm font-bold text-amber-500 mb-2",children:"ENERGIA"}),d.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[d.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Bassa"}),d.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Media"}),d.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:"Alta"})]})]})]}),d.jsx("div",{className:"space-y-3",children:t.map(i=>d.jsxs("div",{className:"grid grid-cols-[minmax(120px,1fr)_3fr_1px_3fr] gap-3 items-center",children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0 pr-2",children:[d.jsx("div",{className:"w-4 h-4 rounded-md shrink-0",style:{backgroundColor:i.habitColor}}),d.jsx("span",{className:"text-sm font-semibold truncate",title:i.habitTitle,children:i.habitTitle})]}),d.jsx("div",{className:"grid grid-cols-3 gap-3",children:["low","medium","high"].map(a=>{const o=Math.round(i.completionRateByMood[a]);return d.jsx("div",{className:ae("rounded-xl p-3 text-center transition-all duration-200 cursor-pointer border-2 border-transparent hover:scale-110 hover:shadow-2xl hover:border-white/30 hover:brightness-110",r(o),n(o)),title:`${i.habitTitle}: ${o}% con mood ${a==="low"?"basso":a==="medium"?"medio":"alto"}`,children:d.jsxs("span",{className:"text-sm font-bold",children:[o,"%"]})},`mood-${a}`)})}),d.jsx("div",{className:"w-px bg-gradient-to-b from-transparent via-white/10 to-transparent h-full"}),d.jsx("div",{className:"grid grid-cols-3 gap-3",children:["low","medium","high"].map(a=>{const o=Math.round(i.completionRateByEnergy[a]);return d.jsx("div",{className:ae("rounded-xl p-3 text-center transition-all duration-200 cursor-pointer border-2 border-transparent hover:scale-110 hover:shadow-2xl hover:border-white/30 hover:brightness-110",r(o),n(o)),title:`${i.habitTitle}: ${o}% con energia ${a==="low"?"bassa":a==="medium"?"media":"alta"}`,children:d.jsxs("span",{className:"text-sm font-bold",children:[o,"%"]})},`energy-${a}`)})})]},i.habitId))})]}),d.jsx("div",{className:"md:hidden space-y-4",children:t.map(i=>d.jsxs("div",{className:"glass-panel rounded-2xl p-4 border border-white/10",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx("div",{className:"w-5 h-5 rounded-md shrink-0",style:{backgroundColor:i.habitColor}}),d.jsx("h4",{className:"text-base font-bold",children:i.habitTitle})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("p",{className:"text-xs font-bold text-green-500 mb-2",children:"MOOD"}),d.jsx("div",{className:"grid grid-cols-3 gap-2",children:["low","medium","high"].map(a=>{const o=Math.round(i.completionRateByMood[a]),s=a==="low"?"Basso":a==="medium"?"Medio":"Alto";return d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:ae("rounded-lg p-3 mb-1",r(o),n(o)),children:d.jsxs("span",{className:"text-base font-bold",children:[o,"%"]})}),d.jsx("span",{className:"text-xs text-muted-foreground",children:s})]},`mood-${a}`)})})]}),d.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-white/10 to-transparent mb-4"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-bold text-amber-500 mb-2",children:"ENERGIA"}),d.jsx("div",{className:"grid grid-cols-3 gap-2",children:["low","medium","high"].map(a=>{const o=Math.round(i.completionRateByEnergy[a]),s=a==="low"?"Bassa":a==="medium"?"Media":"Alta";return d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:ae("rounded-lg p-3 mb-1",r(o),n(o)),children:d.jsxs("span",{className:"text-base font-bold",children:[o,"%"]})}),d.jsx("span",{className:"text-xs text-muted-foreground",children:s})]},`energy-${a}`)})})]})]},i.habitId))}),d.jsxs("div",{className:"mt-6 pt-4 border-t border-white/10",children:[d.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-6 h-6 rounded bg-green-500/90"}),d.jsx("span",{className:"text-xs text-muted-foreground",children:"Ottimo (80%)"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-6 h-6 rounded bg-lime-500/90"}),d.jsx("span",{className:"text-xs text-muted-foreground",children:"Buono (70-79%)"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-6 h-6 rounded bg-yellow-500/90"}),d.jsx("span",{className:"text-xs text-muted-foreground",children:"Medio (50-69%)"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-6 h-6 rounded bg-orange-500/90"}),d.jsx("span",{className:"text-xs text-muted-foreground",children:"Basso (30-49%)"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-6 h-6 rounded bg-red-500/90"}),d.jsx("span",{className:"text-xs text-muted-foreground",children:"Critico (<30%)"})]})]}),d.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"I colori indicano la performance  Passa il mouse per i dettagli"})]})]})]})},Z1e=({insights:e})=>e.moodSensitiveHabits.length>0||e.energySensitiveHabits.length>0||e.resilientHabits.length>0?d.jsxs("div",{className:"space-y-4",children:[e.moodSensitiveHabits.length>0&&d.jsxs(Be,{className:"glass-panel border border-orange-500/30 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[d.jsxs(Je,{children:[d.jsxs(Ze,{className:"text-base sm:text-lg flex items-center gap-2",children:[d.jsx(ki,{className:"w-5 h-5 text-orange-500"}),"Mood"]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Queste abitudini hanno bisogno di un buon mood per essere completate"})]}),d.jsx(qe,{className:"space-y-3",children:e.moodSensitiveHabits.map((r,n)=>d.jsxs("div",{className:"glass-card rounded-xl p-3 flex items-center justify-between hover:bg-white/5 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${r.habitColor}20`,borderColor:`${r.habitColor}40`,borderWidth:"2px"},children:d.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:r.habitColor}})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-sm",children:r.habitTitle}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[d.jsx(nj,{className:"w-3 h-3"}),d.jsxs("span",{children:[Math.round(r.completionRateByMood.low),"% con mood basso"]}),d.jsx(MR,{className:"w-3 h-3 ml-2"}),d.jsxs("span",{children:[Math.round(r.completionRateByMood.high),"% con mood alto"]})]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-xs text-muted-foreground",children:"Drop"}),d.jsxs("p",{className:"text-lg font-bold text-orange-500",children:[Math.round(r.completionRateByMood.high-r.completionRateByMood.low),"%"]})]})]},r.habitId))})]}),e.energySensitiveHabits.length>0&&d.jsxs(Be,{className:"glass-panel border border-yellow-500/30 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[d.jsxs(Je,{children:[d.jsxs(Ze,{className:"text-base sm:text-lg flex items-center gap-2",children:[d.jsx(ju,{className:"w-5 h-5 text-yellow-500"}),"Energia"]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Queste abitudini richiedono alta energia per essere completate"})]}),d.jsx(qe,{className:"space-y-3",children:e.energySensitiveHabits.map((r,n)=>d.jsxs("div",{className:"glass-card rounded-xl p-3 flex items-center justify-between hover:bg-white/5 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${r.habitColor}20`,borderColor:`${r.habitColor}40`,borderWidth:"2px"},children:d.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:r.habitColor}})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-sm",children:r.habitTitle}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[d.jsx(ZS,{className:"w-3 h-3"}),d.jsxs("span",{children:[Math.round(r.completionRateByEnergy.low),"% con energia bassa"]}),d.jsx(i6,{className:"w-3 h-3 ml-2"}),d.jsxs("span",{children:[Math.round(r.completionRateByEnergy.high),"% con energia alta"]})]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-xs text-muted-foreground",children:"Drop"}),d.jsxs("p",{className:"text-lg font-bold text-yellow-500",children:[Math.round(r.completionRateByEnergy.high-r.completionRateByEnergy.low),"%"]})]})]},r.habitId))})]}),e.resilientHabits.length>0&&d.jsxs(Be,{className:"glass-panel border border-green-500/30 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[d.jsxs(Je,{children:[d.jsxs(Ze,{className:"text-base sm:text-lg flex items-center gap-2",children:[d.jsx(N6,{className:"w-5 h-5 text-green-500"}),"Resilienti"]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Queste abitudini vengono mantenute anche quando mood ed energia sono bassi"})]}),d.jsx(qe,{className:"space-y-3",children:e.resilientHabits.map((r,n)=>d.jsxs("div",{className:"glass-card rounded-xl p-3 flex items-center justify-between hover:bg-white/5 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${r.habitColor}20`,borderColor:`${r.habitColor}40`,borderWidth:"2px"},children:d.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:r.habitColor}})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-sm",children:r.habitTitle}),d.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(nj,{className:"w-3 h-3"}),d.jsxs("span",{children:["Mood: ",Math.round(r.completionRateByMood.low),"%"]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(ZS,{className:"w-3 h-3"}),d.jsxs("span",{children:["Energia: ",Math.round(r.completionRateByEnergy.low),"%"]})]})]})]})]}),d.jsxs("div",{className:"flex items-center gap-1 text-green-500",children:[d.jsx(Er,{className:"w-5 h-5"}),d.jsx("span",{className:"text-xs font-bold",children:"Stabile"})]})]},r.habitId))})]}),d.jsxs(Be,{className:"glass-panel border border-primary/30",children:[d.jsx(Je,{children:d.jsx(Ze,{className:"text-base sm:text-lg",children:" Suggerimenti"})}),d.jsx(qe,{children:d.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.moodSensitiveHabits.length>0&&d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-orange-500 shrink-0",children:""}),d.jsx("span",{children:"Pianifica le abitudini sensibili al mood nei momenti della giornata in cui ti senti meglio"})]}),e.energySensitiveHabits.length>0&&d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-yellow-500 shrink-0",children:""}),d.jsx("span",{children:"Esegui le abitudini che richiedono energia al mattino o dopo una pausa rigenerante"})]}),e.resilientHabits.length>0&&d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-green-500 shrink-0",children:""}),d.jsx("span",{children:"Le abitudini resilienti sono ottime da mantenere anche nei giorni difficili"})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-primary shrink-0",children:""}),d.jsx("span",{children:"Monitora il tuo mood ed energia quotidianamente per ottenere insights pi accurati"})]})]})})]})]}):d.jsx(Be,{className:"glass-panel",children:d.jsx(qe,{className:"p-8 text-center",children:d.jsx("p",{className:"text-muted-foreground",children:"Non ci sono abbastanza dati per generare insights. Continua a tracciare le tue abitudini e il tuo mood!"})})});function e_e({habitStats:e}){const t=S.useMemo(()=>{if(e.length===0)return null;const r=[...e].filter(f=>f.worstStreak>0).sort((f,p)=>p.worstStreak-f.worstStreak).slice(0,3);if(r.length===0)return null;const n=r.map(f=>{const p=Math.round(30*(100-f.completionRate)/100);return{habitId:f.id,title:f.title,color:f.color,worstStreak:f.worstStreak,failureFrequency:p,completionRate:f.completionRate}}),i=e.filter(f=>f.worstStreak>0&&f.longestStreak>0).map(f=>{const p=f.worstStreak>0?Math.round(f.worstStreak*(100-f.completionRate)/100):0;return{habitId:f.id,title:f.title,color:f.color,recoveryTime:Math.max(p,1),worstStreak:f.worstStreak}}).sort((f,p)=>f.recoveryTime-p.recoveryTime),a=i.length>0?Math.round(i.reduce((f,p)=>f+p.recoveryTime,0)/i.length):0,o=i.slice(0,3),s=e.filter(f=>f.worstStreak>0).map(f=>{const p=f.worstStreak>0?Math.round(f.longestStreak/f.worstStreak*100):999;let h;return p>=300?h="excellent":p>=150?h="good":h="attention",{habitId:f.id,title:f.title,color:f.color,best:f.longestStreak,worst:f.worstStreak,gap:p,status:h}}).sort((f,p)=>f.gap-p.gap).slice(0,3),l=[],c=r[0];c&&c.worstStreak>=7&&l.push({icon:"",title:`Focus su "${c.title}"`,description:`Hai passato ${c.worstStreak} giorni consecutivi senza completare questa abitudine`,action:"Considera di ridurre la difficolt o impostare promemoria extra"});const u=n.find(f=>f.completionRate<50);if(u&&l.push({icon:"",title:"Tasso di Completamento Basso",description:`"${u.title}" ha solo ${u.completionRate}% di successo`,action:"Prova a semplificare l'abitudine o renderla pi piccola"}),o.length>0&&o[0].recoveryTime<=3&&l.push({icon:"",title:"Ottima Capacit di Recupero",description:`Recuperi velocemente dopo i fallimenti (media ${a} giorni)`,action:"Continua cos - usa la stessa strategia per altre abitudini!"}),n.length>=2){const f=n.reduce((p,h)=>p+h.failureFrequency,0);l.push({icon:"",title:"Pattern Generale",description:`In media fallisci ~${Math.round(f/n.length)} volte al mese`,action:"Identifica i trigger comuni e crea strategie preventive"})}return{top3Worst:r,failureAnalysis:n,avgRecoveryTime:a,fastestRecoverers:o,comparisons:s,suggestions:l}},[e]);return t?d.jsxs("div",{className:"space-y-6 animate-fade-in",children:[d.jsx("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-destructive/10 flex items-center justify-center shrink-0",children:d.jsx(Yn,{className:"w-5 h-5 text-destructive"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-display font-semibold text-foreground",children:"Analisi Worst Streaks"}),d.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Analisi dettagliata delle serie negative per identificare pattern e migliorare."})]})]})}),d.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Gn,{className:"w-5 h-5 text-destructive"}),d.jsx("h4",{className:"font-display font-semibold text-foreground",children:"Abitudini Critiche"}),d.jsx(Zi,{children:d.jsxs(Ka,{children:[d.jsx(Ga,{asChild:!0,children:d.jsx("button",{className:"ml-1",children:d.jsx(Cl,{className:"w-4 h-4 text-muted-foreground hover:text-foreground transition-colors"})})}),d.jsx(ea,{className:"max-w-xs",children:d.jsx("p",{className:"text-sm",children:"Le 3 abitudini con le serie di non completamento pi lunghe. Queste richiedono pi attenzione per evitare l'abbandono."})})]})}),d.jsx("span",{className:"text-xs text-muted-foreground ml-auto",children:"Top 3 Worst Streaks"})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t.top3Worst.map((r,n)=>d.jsxs("div",{className:"bg-card/50 border border-destructive/20 rounded-xl p-4 relative overflow-hidden group hover:border-destructive/40 transition-all",children:[d.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 rounded-full bg-destructive/20 flex items-center justify-center",children:d.jsx("span",{className:"text-xs font-bold text-destructive",children:n+1})}),d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:r.color}}),d.jsx("span",{className:"font-semibold text-foreground text-sm truncate",children:r.title})]}),d.jsxs("div",{className:"bg-background/50 rounded-lg p-3 text-center",children:[d.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Worst Streak"}),d.jsx("p",{className:"text-3xl font-bold font-mono text-destructive",children:r.worstStreak}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"giorni consecutivi"})]})]},r.id))})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(o6,{className:"w-5 h-5 text-orange-500"}),d.jsx("h4",{className:"font-display font-semibold text-foreground",children:"Analisi Fallimenti"}),d.jsx(Zi,{children:d.jsxs(Ka,{children:[d.jsx(Ga,{asChild:!0,children:d.jsx("button",{className:"ml-1",children:d.jsx(Cl,{className:"w-4 h-4 text-muted-foreground hover:text-foreground transition-colors"})})}),d.jsx(ea,{className:"max-w-xs",children:d.jsx("p",{className:"text-sm",children:"Mostra pattern e frequenza dei tuoi fallimenti per capire quando e quanto spesso abbandoni le abitudini."})})]})})]}),d.jsx("div",{className:"space-y-3",children:t.failureAnalysis.map(r=>d.jsxs("div",{className:"bg-background/50 rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:r.color}}),d.jsx("span",{className:"text-sm font-medium truncate",children:r.title})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-muted-foreground mb-1",children:"Worst Streak"}),d.jsxs("p",{className:"font-bold text-destructive",children:[r.worstStreak," giorni"]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-muted-foreground mb-1",children:"Freq. Fallimenti"}),d.jsxs("p",{className:"font-bold text-orange-500",children:["~",r.failureFrequency,"/mese"]})]})]})]},r.habitId))})]}),d.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(uo,{className:"w-5 h-5 text-primary"}),d.jsx("h4",{className:"font-display font-semibold text-foreground",children:"Pattern di Recupero"}),d.jsx(Zi,{children:d.jsxs(Ka,{children:[d.jsx(Ga,{asChild:!0,children:d.jsx("button",{className:"ml-1",children:d.jsx(Cl,{className:"w-4 h-4 text-muted-foreground hover:text-foreground transition-colors"})})}),d.jsx(ea,{className:"max-w-xs",children:d.jsx("p",{className:"text-sm",children:"Mostra quanto velocemente riesci a recuperare dopo un periodo di fallimenti e quali abitudini ripristini pi facilmente."})})]})})]}),d.jsxs("div",{className:"bg-card/50 rounded-xl p-4 mb-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Tempo Medio Recupero"}),d.jsxs("span",{className:"text-sm font-bold text-foreground",children:[t.avgRecoveryTime," giorni"]})]}),d.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-green-500 transition-all duration-500",style:{width:`${Math.min(t.avgRecoveryTime/14*100,100)}%`}})}),d.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:t.avgRecoveryTime<=5?" Eccellente!":t.avgRecoveryTime<=10?" Buono":" Da migliorare"})]}),t.fastestRecoverers.length>0&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-3",children:" Recuperatori Veloci"}),t.fastestRecoverers.map(r=>d.jsxs("div",{className:"bg-background/50 rounded-lg p-2 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d.jsx("div",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:r.color}}),d.jsx("span",{className:"text-sm truncate",children:r.title})]}),d.jsxs("span",{className:"text-xs font-bold text-green-500 shrink-0 ml-2",children:[r.recoveryTime," gg"]})]},r.habitId))]})]})]}),d.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(Er,{className:"w-5 h-5 text-primary"}),d.jsx("h4",{className:"font-display font-semibold text-foreground",children:"Confronto Performance"}),d.jsx(Zi,{children:d.jsxs(Ka,{children:[d.jsx(Ga,{asChild:!0,children:d.jsx("button",{className:"ml-1",children:d.jsx(Cl,{className:"w-4 h-4 text-muted-foreground hover:text-foreground transition-colors"})})}),d.jsx(ea,{className:"max-w-xs",children:d.jsx("p",{className:"text-sm",children:"Mostra le 3 abitudini con il peggior rapporto Best/Worst. Queste sono le abitudini che hanno pi margine di miglioramento e richiedono maggior attenzione."})})]})})]}),d.jsx("div",{className:"space-y-4",children:t.comparisons.map(r=>d.jsxs("div",{className:"bg-background/50 rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:r.color}}),d.jsx("span",{className:"text-sm font-medium",children:r.title}),d.jsx("span",{className:ae("text-xs font-bold px-2 py-0.5 rounded-full ml-auto",r.status==="excellent"&&"bg-green-500/10 text-green-500",r.status==="good"&&"bg-yellow-500/10 text-yellow-500",r.status==="attention"&&"bg-orange-500/10 text-orange-500"),children:r.status==="excellent"?"Eccellente":r.status==="good"?"Buono":"Attenzione"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsx("span",{className:"text-xs text-muted-foreground",children:"Best"}),d.jsxs("span",{className:"text-xs font-bold text-green-500",children:[r.best," gg"]})]}),d.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-green-500 transition-all duration-500",style:{width:`${Math.min(r.best/Math.max(r.best,r.worst)*100,100)}%`}})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsx("span",{className:"text-xs text-muted-foreground",children:"Worst"}),d.jsxs("span",{className:"text-xs font-bold text-destructive",children:[r.worst," gg"]})]}),d.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-destructive transition-all duration-500",style:{width:`${Math.min(r.worst/Math.max(r.best,r.worst)*100,100)}%`}})})]})]}),d.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Gap: ",d.jsxs("span",{className:"font-bold text-foreground",children:[r.gap,"%"]})]})]},r.habitId))})]}),d.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(b6,{className:"w-5 h-5 text-yellow-500"}),d.jsx("h4",{className:"font-display font-semibold text-foreground",children:"Suggerimenti Pratici"}),d.jsx(Zi,{children:d.jsxs(Ka,{children:[d.jsx(Ga,{asChild:!0,children:d.jsx("button",{className:"ml-1",children:d.jsx(Cl,{className:"w-4 h-4 text-muted-foreground hover:text-foreground transition-colors"})})}),d.jsx(ea,{className:"max-w-xs",children:d.jsx("p",{className:"text-sm",children:"Suggerimenti personalizzati basati sui tuoi dati con azioni concrete che puoi implementare subito per migliorare."})})]})})]}),d.jsx("div",{className:"space-y-3",children:t.suggestions.map((r,n)=>d.jsx("div",{className:"bg-gradient-to-r from-primary/5 to-transparent border border-primary/20 rounded-xl p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("span",{className:"text-2xl shrink-0",children:r.icon}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-semibold text-sm text-foreground mb-1",children:r.title}),d.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:r.description}),d.jsxs("div",{className:"flex items-start gap-2 text-xs text-primary",children:[d.jsx("span",{className:"shrink-0",children:""}),d.jsx("span",{className:"font-medium",children:r.action})]})]})]})},n))})]})]}):d.jsxs("div",{className:"glass-panel rounded-3xl p-6 text-center",children:[d.jsx(Er,{className:"w-12 h-12 mx-auto mb-3 text-green-500 opacity-50"}),d.jsx("p",{className:"text-muted-foreground",children:"Ottimo lavoro! Non sono stati rilevati worst streak significativi."})]})}const t_e=({keystoneHabits:e})=>e.length===0?null:d.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-yellow-500/20 to-orange-500/20 flex items-center justify-center",children:d.jsx(tj,{className:"w-5 h-5 text-yellow-500"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold",children:"Abitudini Chiave"}),d.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Abitudini che influenzano positivamente molte altre"})]})]}),d.jsx("div",{className:ae("grid gap-3 sm:gap-4",e.length===1?"grid-cols-1":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"),children:e.map(t=>{const r=t.impact==="high"?"text-green-500":t.impact==="medium"?"text-yellow-500":"text-blue-500",n=t.impact==="high"?"bg-green-500/10 border-green-500/20":t.impact==="medium"?"bg-yellow-500/10 border-yellow-500/20":"bg-blue-500/10 border-blue-500/20",i=t.impact==="high"?"Alto Impatto":t.impact==="medium"?"Medio Impatto":"Impatto Basso";return d.jsxs("div",{className:ae("glass-card rounded-2xl p-4 border-2 transition-all duration-300 hover:scale-[1.02]",n),children:[d.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[d.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${t.color}20`},children:d.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:t.color}})}),d.jsx("h4",{className:"font-semibold text-foreground truncate text-sm sm:text-base",children:t.title})]}),d.jsx(tj,{className:ae("w-5 h-5 shrink-0",r)})]}),d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx("div",{className:ae("px-2 py-1 rounded-full text-xs font-semibold",r,n),children:i}),d.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.connectedHabits," ",t.connectedHabits===1?"connessione":"connessioni"]})]}),d.jsxs("div",{className:"space-y-1.5",children:[t.connections.slice(0,4).map(a=>{const o=a.correlation>=0?"+":"",s=a.correlation>=.6?"text-green-500":a.correlation>=.3?"text-yellow-500":"text-muted-foreground";return d.jsxs("div",{className:"flex items-center justify-between text-xs bg-white/5 rounded-lg px-2 py-1.5",children:[d.jsx("span",{className:"text-muted-foreground truncate flex-1",children:a.title}),d.jsxs("span",{className:ae("font-mono font-semibold ml-2",s),children:[o,a.correlation.toFixed(2)]})]},a.habitId)}),t.connections.length>4&&d.jsxs("div",{className:"text-xs text-center text-muted-foreground pt-1",children:["+",t.connections.length-4," altre connessioni"]})]}),d.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10 flex items-center justify-between text-xs",children:[d.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[d.jsx(Er,{className:"w-3 h-3"}),d.jsx("span",{children:"Media"})]}),d.jsxs("span",{className:"font-mono font-semibold text-foreground",children:[t.avgCorrelation>=0?"+":"",t.avgCorrelation.toFixed(2)]})]})]},t.habitId)})}),d.jsx("div",{className:"mt-4 p-3 bg-primary/5 rounded-xl border border-primary/10",children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx(ju,{className:"w-4 h-4 text-primary shrink-0 mt-0.5"}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.jsx("span",{className:"font-semibold text-foreground",children:"Suggerimento:"}),` Le abitudini chiave hanno un effetto "domino" su altre. Concentrati a mantenerle costanti per migliorare l'intero sistema delle tue abitudini.`]})]})})]}),r_e=({insights:e})=>{const{totalPairs:t,avgCorrelation:r,strongestPositive:n,strongestNegative:i,isolatedHabits:a}=e;return t===0?d.jsxs("div",{className:"glass-panel rounded-3xl p-6 text-center",children:[d.jsx(ij,{className:"w-12 h-12 mx-auto mb-3 text-muted-foreground opacity-50"}),d.jsx("h3",{className:"text-base font-semibold mb-2",children:"Nessuna Correlazione Rilevata"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Traccia almeno 2 abitudini per 10+ giorni per vedere le correlazioni."})]}):d.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500/20 to-purple-500/20 flex items-center justify-center",children:d.jsx(ij,{className:"w-5 h-5 text-blue-500"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold",children:"Analisi Correlazioni"}),d.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Pattern tra le tue abitudini"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-4",children:[d.jsxs("div",{className:"bg-white/5 rounded-xl p-3 text-center",children:[d.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Coppie Analizzate"}),d.jsx("p",{className:"text-2xl font-bold text-foreground font-mono",children:t})]}),d.jsxs("div",{className:"bg-white/5 rounded-xl p-3 text-center",children:[d.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Correlazione Media"}),d.jsxs("p",{className:"text-2xl font-bold text-primary font-mono",children:[r>=0?"+":"",r.toFixed(2)]})]}),d.jsxs("div",{className:"bg-white/5 rounded-xl p-3 text-center",children:[d.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[d.jsx(Er,{className:"w-3 h-3 text-green-500"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Positive"})]}),d.jsx("p",{className:"text-2xl font-bold text-green-500 font-mono",children:n.length})]}),d.jsxs("div",{className:"bg-white/5 rounded-xl p-3 text-center",children:[d.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[d.jsx(Yn,{className:"w-3 h-3 text-red-500"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Negative"})]}),d.jsx("p",{className:"text-2xl font-bold text-red-500 font-mono",children:i.length})]})]}),a.length>0&&d.jsx("div",{className:"bg-yellow-500/5 border border-yellow-500/20 rounded-xl p-3",children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx(v6,{className:"w-4 h-4 text-yellow-500 shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-semibold text-yellow-500 mb-1",children:"Abitudini Isolate"}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.length," ",a.length===1?"abitudine non ha":"abitudini non hanno"," ","correlazioni significative con le altre. Potrebbero essere indipendenti o necessitare pi dati."]})]})]})})]})},W2=({correlation:e})=>{const{habitA:t,habitB:r,correlationCoefficient:n,coOccurrenceRate:i,totalDaysTracked:a,strength:o,type:s,suggestion:l}=e,c=s==="positive",u=c?Er:Yn,f=c?o==="strong"?"border-green-500/40":"border-green-500/20":o==="strong"?"border-red-500/40":"border-red-500/20",p=c?"from-green-500/5 to-transparent":"from-red-500/5 to-transparent",h=c?"bg-green-500/20 text-green-400 border-green-500/30":"bg-red-500/20 text-red-400 border-red-500/30",v=o==="strong"?"Forte":o==="moderate"?"Moderata":"Debole",m=c?"Positiva":"Negativa";return d.jsxs("div",{className:ae("glass-card rounded-2xl p-4 border-2 transition-all duration-300 hover:scale-[1.01]","bg-gradient-to-br",f,p),children:[d.jsx("div",{className:"flex items-center justify-between mb-3",children:d.jsxs("div",{className:ae("flex items-center gap-2 px-3 py-1 rounded-full border text-xs font-semibold",h),children:[d.jsx(u,{className:"w-3 h-3"}),d.jsxs("span",{children:["Correlazione ",m," - ",v]})]})}),d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center shrink-0",style:{backgroundColor:`${t.color}20`},children:d.jsx("div",{className:"w-4 h-4 rounded-sm",style:{backgroundColor:t.color}})}),d.jsx("span",{className:"font-semibold text-foreground text-sm truncate",children:t.title})]}),d.jsx(RR,{className:ae("w-5 h-5 shrink-0",c?"text-green-500":"text-red-500")}),d.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center shrink-0",style:{backgroundColor:`${r.color}20`},children:d.jsx("div",{className:"w-4 h-4 rounded-sm",style:{backgroundColor:r.color}})}),d.jsx("span",{className:"font-semibold text-foreground text-sm truncate",children:r.title})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[d.jsxs("div",{className:"bg-white/5 rounded-lg p-2 text-center",children:[d.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Coefficiente"}),d.jsxs("p",{className:ae("text-base font-mono font-bold",c?"text-green-500":"text-red-500"),children:[n>=0?"+":"",n.toFixed(2)]})]}),d.jsxs("div",{className:"bg-white/5 rounded-lg p-2 text-center",children:[d.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Co-occorrenza"}),d.jsxs("p",{className:"text-base font-mono font-bold text-foreground",children:[Math.round(i),"%"]})]}),d.jsxs("div",{className:"bg-white/5 rounded-lg p-2 text-center",children:[d.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Giorni"}),d.jsx("p",{className:"text-base font-mono font-bold text-foreground",children:a})]})]}),l&&d.jsx("div",{className:"bg-primary/5 border border-primary/10 rounded-xl p-3",children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx(Bh,{className:"w-4 h-4 text-primary shrink-0 mt-0.5"}),d.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:l})]})})]})},n_e=({habitId:e,habitTitle:t,habitColor:r,allCorrelations:n})=>{const i=n.filter(l=>l.habitA.id===e||l.habitB.id===e);if(i.length===0)return d.jsxs("div",{className:"glass-panel rounded-3xl p-6 text-center",children:[d.jsx(RR,{className:"w-12 h-12 mx-auto mb-3 text-muted-foreground opacity-50"}),d.jsx("h3",{className:"text-base font-semibold mb-2",children:"Nessuna Correlazione"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Questa abitudine non ha correlazioni significative con le altre. Traccia pi abitudini insieme per vedere i pattern."})]});const a=i.filter(l=>l.type==="positive").sort((l,c)=>Math.abs(c.correlationCoefficient)-Math.abs(l.correlationCoefficient)).slice(0,3),o=i.filter(l=>l.type==="negative").sort((l,c)=>Math.abs(c.correlationCoefficient)-Math.abs(l.correlationCoefficient)).slice(0,2),s=l=>l.habitA.id===e?l.habitB:l.habitA;return d.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[d.jsxs("div",{className:"mb-4",children:[d.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold mb-1",children:['Correlazioni con "',t,'"']}),d.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Come questa abitudine si relaziona con le altre"})]}),a.length>0&&d.jsxs("div",{className:"mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(Er,{className:"w-4 h-4 text-green-500"}),d.jsx("h4",{className:"text-sm font-semibold text-green-500",children:"Correlazioni Positive"})]}),d.jsx("div",{className:"space-y-2",children:a.map((l,c)=>{const u=s(l),f=l.strength==="strong"?"Forte":"Moderata";return d.jsxs("div",{className:"bg-gradient-to-br from-green-500/5 to-transparent border-2 border-green-500/20 rounded-xl p-3",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${u.color}20`},children:d.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:u.color}})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-semibold text-sm truncate",children:u.title}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[d.jsxs("span",{className:"text-green-500 font-semibold",children:[f," (",l.correlationCoefficient>=0?"+":"",l.correlationCoefficient.toFixed(2),")"]}),d.jsx("span",{children:""}),d.jsxs("span",{children:[Math.round(l.coOccurrenceRate),"% insieme"]})]})]})]}),d.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:l.suggestion})]},c)})})]}),o.length>0&&d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(Yn,{className:"w-4 h-4 text-red-500"}),d.jsx("h4",{className:"text-sm font-semibold text-red-500",children:"Correlazioni Negative"})]}),d.jsx("div",{className:"space-y-2",children:o.map((l,c)=>{const u=s(l),f=l.strength==="strong"?"Forte":"Moderata";return d.jsxs("div",{className:"bg-gradient-to-br from-red-500/5 to-transparent border-2 border-red-500/20 rounded-xl p-3",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:`${u.color}20`},children:d.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:u.color}})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-semibold text-sm truncate",children:u.title}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[d.jsxs("span",{className:"text-red-500 font-semibold",children:[f," (",l.correlationCoefficient.toFixed(2),")"]}),d.jsx("span",{children:""}),d.jsxs("span",{children:[l.totalDaysTracked," giorni"]})]})]})]}),d.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:l.suggestion})]},c)})})]}),(a.length>0||o.length>0)&&d.jsx("div",{className:"mt-4 p-3 bg-blue-500/5 rounded-xl border border-blue-500/10",children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx(ts,{className:"w-4 h-4 text-blue-500 shrink-0 mt-0.5"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Le correlazioni positive suggeriscono abitudini che funzionano bene insieme. Le negative indicano possibili conflitti di tempo o energia."})]})})]})};var x0=0;function i_e(){S.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??H2()),document.body.insertAdjacentElement("beforeend",e[1]??H2()),x0++,()=>{x0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),x0--}},[])}function H2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var a_e=[" ","Enter","ArrowUp","ArrowDown"],o_e=[" ","Enter"],ko="Select",[hm,pm,s_e]=Ih(ko),[kl]=Or(ko,[s_e,Vh]),mm=Vh(),[l_e,Na]=kl(ko),[c_e,u_e]=kl(ko),qB=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:s,onValueChange:l,dir:c,name:u,autoComplete:f,disabled:p,required:h,form:v}=e,m=mm(t),[g,y]=S.useState(null),[b,x]=S.useState(null),[_,w]=S.useState(!1),j=cl(c),[k,C]=ri({prop:n,defaultProp:i??!1,onChange:a,caller:ko}),[P,O]=ri({prop:o,defaultProp:s,onChange:l,caller:ko}),T=S.useRef(null),N=g?v||!!g.closest("form"):!0,[D,E]=S.useState(new Set),R=Array.from(D).map(B=>B.props.value).join(";");return d.jsx(uI,{...m,children:d.jsxs(l_e,{required:h,scope:t,trigger:g,onTriggerChange:y,valueNode:b,onValueNodeChange:x,valueNodeHasChildren:_,onValueNodeHasChildrenChange:w,contentId:Ei(),value:P,onValueChange:O,open:k,onOpenChange:C,dir:j,triggerPointerDownPosRef:T,disabled:p,children:[d.jsx(hm.Provider,{scope:t,children:d.jsx(c_e,{scope:e.__scopeSelect,onNativeOptionAdd:S.useCallback(B=>{E(F=>new Set(F).add(B))},[]),onNativeOptionRemove:S.useCallback(B=>{E(F=>{const U=new Set(F);return U.delete(B),U})},[]),children:r})}),N?d.jsxs(fz,{"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:f,value:P,onChange:B=>O(B.target.value),disabled:p,form:v,children:[P===void 0?d.jsx("option",{value:""}):null,Array.from(D)]},R):null]})})};qB.displayName=ko;var UB="SelectTrigger",WB=S.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,a=mm(r),o=Na(UB,r),s=o.disabled||n,l=$e(t,o.onTriggerChange),c=pm(r),u=S.useRef("touch"),[f,p,h]=pz(m=>{const g=c().filter(x=>!x.disabled),y=g.find(x=>x.value===o.value),b=mz(g,m,y);b!==void 0&&o.onValueChange(b.value)}),v=m=>{s||(o.onOpenChange(!0),h()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return d.jsx(dI,{asChild:!0,...a,children:d.jsx(Ee.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":hz(o.value)?"":void 0,...i,ref:l,onClick:ke(i.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&v(m)}),onPointerDown:ke(i.onPointerDown,m=>{u.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:ke(i.onKeyDown,m=>{const g=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(g&&m.key===" ")&&a_e.includes(m.key)&&(v(),m.preventDefault())})})})});WB.displayName=UB;var HB="SelectValue",VB=S.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...s}=e,l=Na(HB,r),{onValueNodeHasChildrenChange:c}=l,u=a!==void 0,f=$e(t,l.onValueNodeChange);return Ht(()=>{c(u)},[c,u]),d.jsx(Ee.span,{...s,ref:f,style:{pointerEvents:"none"},children:hz(l.value)?d.jsx(d.Fragment,{children:o}):a})});VB.displayName=HB;var d_e="SelectIcon",KB=S.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return d.jsx(Ee.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});KB.displayName=d_e;var f_e="SelectPortal",GB=e=>d.jsx(Mh,{asChild:!0,...e});GB.displayName=f_e;var Eo="SelectContent",YB=S.forwardRef((e,t)=>{const r=Na(Eo,e.__scopeSelect),[n,i]=S.useState();if(Ht(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?Kn.createPortal(d.jsx(XB,{scope:e.__scopeSelect,children:d.jsx(hm.Slot,{scope:e.__scopeSelect,children:d.jsx("div",{children:e.children})})}),a):null}return d.jsx(QB,{...e,ref:t})});YB.displayName=Eo;var _n=10,[XB,Ra]=kl(Eo),h_e="SelectContentImpl",p_e=wc("SelectContent.RemoveScroll"),QB=S.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:v,hideWhenDetached:m,avoidCollisions:g,...y}=e,b=Na(Eo,r),[x,_]=S.useState(null),[w,j]=S.useState(null),k=$e(t,le=>_(le)),[C,P]=S.useState(null),[O,T]=S.useState(null),N=pm(r),[D,E]=S.useState(!1),R=S.useRef(!1);S.useEffect(()=>{if(x)return mM(x)},[x]),i_e();const B=S.useCallback(le=>{const[ue,...ee]=N().map(J=>J.ref.current),[te]=ee.slice(-1),ce=document.activeElement;for(const J of le)if(J===ce||(J?.scrollIntoView({block:"nearest"}),J===ue&&w&&(w.scrollTop=0),J===te&&w&&(w.scrollTop=w.scrollHeight),J?.focus(),document.activeElement!==ce))return},[N,w]),F=S.useCallback(()=>B([C,x]),[B,C,x]);S.useEffect(()=>{D&&F()},[D,F]);const{onOpenChange:U,triggerPointerDownPosRef:L}=b;S.useEffect(()=>{if(x){let le={x:0,y:0};const ue=te=>{le={x:Math.abs(Math.round(te.pageX)-(L.current?.x??0)),y:Math.abs(Math.round(te.pageY)-(L.current?.y??0))}},ee=te=>{le.x<=10&&le.y<=10?te.preventDefault():x.contains(te.target)||U(!1),document.removeEventListener("pointermove",ue),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",ee,{capture:!0})}}},[x,U,L]),S.useEffect(()=>{const le=()=>U(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[U]);const[M,H]=pz(le=>{const ue=N().filter(ce=>!ce.disabled),ee=ue.find(ce=>ce.ref.current===document.activeElement),te=mz(ue,le,ee);te&&setTimeout(()=>te.ref.current.focus())}),z=S.useCallback((le,ue,ee)=>{const te=!R.current&&!ee;(b.value!==void 0&&b.value===ue||te)&&(P(le),te&&(R.current=!0))},[b.value]),$=S.useCallback(()=>x?.focus(),[x]),Q=S.useCallback((le,ue,ee)=>{const te=!R.current&&!ee;(b.value!==void 0&&b.value===ue||te)&&T(le)},[b.value]),Z=n==="popper"?i1:JB,fe=Z===i1?{side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:v,hideWhenDetached:m,avoidCollisions:g}:{};return d.jsx(XB,{scope:r,content:x,viewport:w,onViewportChange:j,itemRefCallback:z,selectedItem:C,onItemLeave:$,itemTextRefCallback:Q,focusSelectedItem:F,selectedItemText:O,position:n,isPositioned:D,searchRef:M,children:d.jsx(Y1,{as:p_e,allowPinchZoom:!0,children:d.jsx(G1,{asChild:!0,trapped:b.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:ke(i,le=>{b.trigger?.focus({preventScroll:!0}),le.preventDefault()}),children:d.jsx(Dh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:d.jsx(Z,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:le=>le.preventDefault(),...y,...fe,onPlaced:()=>E(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ke(y.onKeyDown,le=>{const ue=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!ue&&le.key.length===1&&H(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let te=N().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(le.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const ce=le.target,J=te.indexOf(ce);te=te.slice(J+1)}setTimeout(()=>B(te)),le.preventDefault()}})})})})})})});QB.displayName=h_e;var m_e="SelectItemAlignedPosition",JB=S.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,a=Na(Eo,r),o=Ra(Eo,r),[s,l]=S.useState(null),[c,u]=S.useState(null),f=$e(t,k=>u(k)),p=pm(r),h=S.useRef(!1),v=S.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:y,focusSelectedItem:b}=o,x=S.useCallback(()=>{if(a.trigger&&a.valueNode&&s&&c&&m&&g&&y){const k=a.trigger.getBoundingClientRect(),C=c.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),O=y.getBoundingClientRect();if(a.dir!=="rtl"){const ce=O.left-C.left,J=P.left-ce,ne=k.left-J,A=k.width+ne,K=Math.max(A,C.width),V=window.innerWidth-_n,W=Ic(J,[_n,Math.max(_n,V-K)]);s.style.minWidth=A+"px",s.style.left=W+"px"}else{const ce=C.right-O.right,J=window.innerWidth-P.right-ce,ne=window.innerWidth-k.right-J,A=k.width+ne,K=Math.max(A,C.width),V=window.innerWidth-_n,W=Ic(J,[_n,Math.max(_n,V-K)]);s.style.minWidth=A+"px",s.style.right=W+"px"}const T=p(),N=window.innerHeight-_n*2,D=m.scrollHeight,E=window.getComputedStyle(c),R=parseInt(E.borderTopWidth,10),B=parseInt(E.paddingTop,10),F=parseInt(E.borderBottomWidth,10),U=parseInt(E.paddingBottom,10),L=R+B+D+U+F,M=Math.min(g.offsetHeight*5,L),H=window.getComputedStyle(m),z=parseInt(H.paddingTop,10),$=parseInt(H.paddingBottom,10),Q=k.top+k.height/2-_n,Z=N-Q,fe=g.offsetHeight/2,le=g.offsetTop+fe,ue=R+B+le,ee=L-ue;if(ue<=Q){const ce=T.length>0&&g===T[T.length-1].ref.current;s.style.bottom="0px";const J=c.clientHeight-m.offsetTop-m.offsetHeight,ne=Math.max(Z,fe+(ce?$:0)+J+F),A=ue+ne;s.style.height=A+"px"}else{const ce=T.length>0&&g===T[0].ref.current;s.style.top="0px";const ne=Math.max(Q,R+m.offsetTop+(ce?z:0)+fe)+ee;s.style.height=ne+"px",m.scrollTop=ue-Q+m.offsetTop}s.style.margin=`${_n}px 0`,s.style.minHeight=M+"px",s.style.maxHeight=N+"px",n?.(),requestAnimationFrame(()=>h.current=!0)}},[p,a.trigger,a.valueNode,s,c,m,g,y,a.dir,n]);Ht(()=>x(),[x]);const[_,w]=S.useState();Ht(()=>{c&&w(window.getComputedStyle(c).zIndex)},[c]);const j=S.useCallback(k=>{k&&v.current===!0&&(x(),b?.(),v.current=!1)},[x,b]);return d.jsx(v_e,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:h,onScrollButtonChange:j,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:d.jsx(Ee.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});JB.displayName=m_e;var g_e="SelectPopperPosition",i1=S.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=_n,...a}=e,o=mm(r);return d.jsx(fI,{...o,...a,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});i1.displayName=g_e;var[v_e,BS]=kl(Eo,{}),a1="SelectViewport",ZB=S.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,a=Ra(a1,r),o=BS(a1,r),s=$e(t,a.onViewportChange),l=S.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),d.jsx(hm.Slot,{scope:r,children:d.jsx(Ee.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ke(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p?.current&&f){const h=Math.abs(l.current-u.scrollTop);if(h>0){const v=window.innerHeight-_n*2,m=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),y=Math.max(m,g);if(y<v){const b=y+h,x=Math.min(v,b),_=b-x;f.style.height=x+"px",f.style.bottom==="0px"&&(u.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});ZB.displayName=a1;var ez="SelectGroup",[y_e,b_e]=kl(ez),x_e=S.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Ei();return d.jsx(y_e,{scope:r,id:i,children:d.jsx(Ee.div,{role:"group","aria-labelledby":i,...n,ref:t})})});x_e.displayName=ez;var tz="SelectLabel",rz=S.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=b_e(tz,r);return d.jsx(Ee.div,{id:i.id,...n,ref:t})});rz.displayName=tz;var Nh="SelectItem",[w_e,nz]=kl(Nh),iz=S.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=e,s=Na(Nh,r),l=Ra(Nh,r),c=s.value===n,[u,f]=S.useState(a??""),[p,h]=S.useState(!1),v=$e(t,b=>l.itemRefCallback?.(b,n,i)),m=Ei(),g=S.useRef("touch"),y=()=>{i||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(w_e,{scope:r,value:n,disabled:i,textId:m,isSelected:c,onItemTextChange:S.useCallback(b=>{f(x=>x||(b?.textContent??"").trim())},[]),children:d.jsx(hm.ItemSlot,{scope:r,value:n,disabled:i,textValue:u,children:d.jsx(Ee.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:ke(o.onFocus,()=>h(!0)),onBlur:ke(o.onBlur,()=>h(!1)),onClick:ke(o.onClick,()=>{g.current!=="mouse"&&y()}),onPointerUp:ke(o.onPointerUp,()=>{g.current==="mouse"&&y()}),onPointerDown:ke(o.onPointerDown,b=>{g.current=b.pointerType}),onPointerMove:ke(o.onPointerMove,b=>{g.current=b.pointerType,i?l.onItemLeave?.():g.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ke(o.onPointerLeave,b=>{b.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:ke(o.onKeyDown,b=>{l.searchRef?.current!==""&&b.key===" "||(o_e.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});iz.displayName=Nh;var rc="SelectItemText",az=S.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...a}=e,o=Na(rc,r),s=Ra(rc,r),l=nz(rc,r),c=u_e(rc,r),[u,f]=S.useState(null),p=$e(t,y=>f(y),l.onItemTextChange,y=>s.itemTextRefCallback?.(y,l.value,l.disabled)),h=u?.textContent,v=S.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:h},l.value),[l.disabled,l.value,h]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=c;return Ht(()=>(m(v),()=>g(v)),[m,g,v]),d.jsxs(d.Fragment,{children:[d.jsx(Ee.span,{id:l.textId,...a,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Kn.createPortal(a.children,o.valueNode):null]})});az.displayName=rc;var oz="SelectItemIndicator",sz=S.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return nz(oz,r).isSelected?d.jsx(Ee.span,{"aria-hidden":!0,...n,ref:t}):null});sz.displayName=oz;var o1="SelectScrollUpButton",lz=S.forwardRef((e,t)=>{const r=Ra(o1,e.__scopeSelect),n=BS(o1,e.__scopeSelect),[i,a]=S.useState(!1),o=$e(t,n.onScrollButtonChange);return Ht(()=>{if(r.viewport&&r.isPositioned){let s=function(){const c=l.scrollTop>0;a(c)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?d.jsx(uz,{...e,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});lz.displayName=o1;var s1="SelectScrollDownButton",cz=S.forwardRef((e,t)=>{const r=Ra(s1,e.__scopeSelect),n=BS(s1,e.__scopeSelect),[i,a]=S.useState(!1),o=$e(t,n.onScrollButtonChange);return Ht(()=>{if(r.viewport&&r.isPositioned){let s=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;a(u)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?d.jsx(uz,{...e,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});cz.displayName=s1;var uz=S.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,a=Ra("SelectScrollButton",r),o=S.useRef(null),s=pm(r),l=S.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return S.useEffect(()=>()=>l(),[l]),Ht(()=>{s().find(u=>u.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[s]),d.jsx(Ee.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:ke(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:ke(i.onPointerMove,()=>{a.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:ke(i.onPointerLeave,()=>{l()})})}),__e="SelectSeparator",dz=S.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return d.jsx(Ee.div,{"aria-hidden":!0,...n,ref:t})});dz.displayName=__e;var l1="SelectArrow",S_e=S.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=mm(r),a=Na(l1,r),o=Ra(l1,r);return a.open&&o.position==="popper"?d.jsx(hI,{...i,...n,ref:t}):null});S_e.displayName=l1;var j_e="SelectBubbleInput",fz=S.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=S.useRef(null),a=$e(n,i),o=Op(t);return S.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&u){const f=new Event("change",{bubbles:!0});u.call(s,t),s.dispatchEvent(f)}},[o,t]),d.jsx(Ee.select,{...r,style:{...oR,...r.style},ref:a,defaultValue:t})});fz.displayName=j_e;function hz(e){return e===""||e===void 0}function pz(e){const t=Lt(e),r=S.useRef(""),n=S.useRef(0),i=S.useCallback(o=>{const s=r.current+o;t(s),(function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))})(s)},[t]),a=S.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function mz(e,t,r){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=k_e(e,Math.max(a,0));i.length===1&&(o=o.filter(c=>c!==r));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function k_e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var E_e=qB,gz=WB,A_e=VB,O_e=KB,C_e=GB,vz=YB,P_e=ZB,yz=rz,bz=iz,T_e=az,N_e=sz,xz=lz,wz=cz,_z=dz;const Wn=E_e,sa=A_e,On=S.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(gz,{ref:n,className:ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,d.jsx(O_e,{asChild:!0,children:d.jsx(CR,{className:"h-4 w-4 opacity-50"})})]}));On.displayName=gz.displayName;const Sz=S.forwardRef(({className:e,...t},r)=>d.jsx(xz,{ref:r,className:ae("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(s6,{className:"h-4 w-4"})}));Sz.displayName=xz.displayName;const jz=S.forwardRef(({className:e,...t},r)=>d.jsx(wz,{ref:r,className:ae("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(CR,{className:"h-4 w-4"})}));jz.displayName=wz.displayName;const Cn=S.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>d.jsx(C_e,{children:d.jsxs(vz,{ref:i,className:ae("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[d.jsx(Sz,{}),d.jsx(P_e,{className:ae("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),d.jsx(jz,{})]})}));Cn.displayName=vz.displayName;const R_e=S.forwardRef(({className:e,...t},r)=>d.jsx(yz,{ref:r,className:ae("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));R_e.displayName=yz.displayName;const $t=S.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(bz,{ref:n,className:ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(N_e,{children:d.jsx(Fh,{className:"h-4 w-4"})})}),d.jsx(T_e,{children:t})]}));$t.displayName=bz.displayName;const I_e=S.forwardRef(({className:e,...t},r)=>d.jsx(_z,{ref:r,className:ae("-mx-1 my-1 h-px bg-muted",e),...t}));I_e.displayName=_z.displayName;const D_e=()=>{const{goals:e,allGoals:t,logs:r}=H1(),[n,i]=S.useState("weekly"),[a,o]=S.useState(null),[s,l]=S.useState("rate"),c=s3(e,r,n),{isPrivacyMode:u}=ip(),{isAIEnabled:f}=Xh(),{correlations:p,insights:h}=oae(e,r),{correlations:v,insights:m}=dae(e,r),g=S.useMemo(()=>t.find(w=>w.id===a)||null,[t,a]),y=S.useMemo(()=>{const w=[...c.habitStats];switch(s){case"rate":return w.sort((j,k)=>k.completionRate-j.completionRate);case"best":return w.sort((j,k)=>k.longestStreak-j.longestStreak);case"worst":return w.sort((j,k)=>k.worstStreak-j.worstStreak);case"current":return w.sort((j,k)=>k.currentStreak-j.currentStreak);case"name":return w.sort((j,k)=>j.title.localeCompare(k.title));default:return w}},[c.habitStats,s]),b=S.useMemo(()=>{if(!g)return null;const w=[],j=new Date,k=new Date(g.start_date),C=g.end_date?new Date(g.end_date):j,P=C>j?j:C;ln({start:k,end:P}).forEach(ne=>{const A=Ge(ne,"yyyy-MM-dd"),K=r[A]?.[g.id]||null;w.push({date:A,status:K})});const T=w.length,N=w.filter(ne=>ne.status==="done").length,D=w.filter(ne=>ne.status==="missed").length,E=T>0?Math.round(N/T*100):0;let R=0,B=0,F=0;const U=[];let L=0,M=0,H="",z="";for(let ne=0;ne<w.length;ne++){const A=w[ne];A.status==="done"?(F++,F>B&&(B=F),L>M&&(M=L,H=z),L=0):(F>2&&U.push({date:A.date,streakLength:F}),F=0,(A.status==="missed"||A.status===null)&&(L===0&&(z=A.date),L++))}L>M&&(M=L,H=z);for(let ne=w.length-1;ne>=0&&w[ne].status==="done";ne--)R++;const $=[0,0,0,0,0,0,0],Q=[0,0,0,0,0,0,0];w.forEach(ne=>{const A=new Date(ne.date).getDay(),K=A===0?6:A-1;Q[K]++,ne.status==="done"&&$[K]++});const Z=["Lun","Mar","Mer","Gio","Ven","Sab","Dom"].map((ne,A)=>({day:ne,rate:Q[A]>0?Math.round($[A]/Q[A]*100):0,total:Q[A],done:$[A]})),fe=Z.reduce((ne,A)=>A.total>2&&A.rate<ne.rate?A:ne,{day:"N/A",rate:100,total:0,done:0}),le=np(j),ue=hV(j),te=ln({start:le,end:ue}).map(ne=>{const A=Ge(ne,"yyyy-MM-dd"),K=r[A]?.[g.id];return{date:A,count:K==="done"?1:K==="missed"?-1:0,intensity:K==="done"?1:K==="missed"?.5:0}}),J=ln({start:new Date(j.getTime()-720*60*60*1e3),end:j}).map(ne=>{const A=Ge(ne,"yyyy-MM-dd"),K=r[A]?.[g.id];return{date:Ge(ne,"dd/MM"),value:K==="done"?100:0,status:K||null}});return{totalDays:T,doneDays:N,missedDays:D,completionRate:E,currentStreak:R,bestStreak:B,brokenStreaks:U.slice(-5).reverse(),worstNegativeStreak:M,worstNegativeStreakStart:H,weekdayPerformance:Z,worstDay:fe,heatmapData:te,trendData:J}},[g,r]),x=c.habitStats.length>0?c.habitStats.reduce((w,j)=>w.completionRate>j.completionRate?w:j,c.habitStats[0]):null,_=w=>{o(w==="all"?null:w)};return d.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-5xl animate-fade-in pb-32 space-y-6",children:[d.jsx("div",{className:"fixed top-20 left-1/2 -translate-x-1/2 w-[800px] h-[800px] bg-primary/5 blur-[120px] rounded-full pointer-events-none -z-10"}),d.jsxs("div",{className:ae("space-y-3",u&&"blur-sm"),children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("h1",{className:"text-2xl sm:text-3xl font-display font-bold text-foreground",children:"Le tue Statistiche"}),d.jsx("p",{className:"text-muted-foreground font-light text-sm sm:text-base",children:"Analisi dettagliata delle tue performance."})]}),d.jsxs(Wn,{value:a||"all",onValueChange:_,children:[d.jsx(On,{className:"w-full sm:w-[300px] glass-panel border-white/10",children:d.jsx(sa,{placeholder:"Seleziona goal"})}),d.jsxs(Cn,{children:[d.jsx($t,{value:"all",children:d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(Gn,{className:"w-4 h-4"}),"Tutti i Goals"]})}),t.map(w=>d.jsx($t,{value:w.id,children:d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:w.color}}),w.title,w.end_date&&d.jsx("span",{className:"text-xs text-muted-foreground",children:"(archiviato)"})]})},w.id))]})]})]}),a===null?d.jsxs(us,{defaultValue:"panoramica",className:"w-full",children:[d.jsxs(ao,{className:"grid w-full grid-cols-5 mb-4 shrink-0",children:[d.jsx(gt,{value:"panoramica",className:"text-xs sm:text-sm",children:"Info"}),d.jsx(gt,{value:"trend",className:"text-xs sm:text-sm",children:"Trend"}),d.jsx(gt,{value:"analisi",className:"text-xs sm:text-sm",children:"Alert"}),d.jsx(gt,{value:"abitudini",className:"text-xs sm:text-sm",children:"Abitudini"}),d.jsx(gt,{value:"mood-energia",className:"text-xs sm:text-sm flex items-center gap-1",children:d.jsx("span",{children:"Mood"})})]}),d.jsxs(xr,{value:"panoramica",className:"mt-0 space-y-6",children:[d.jsx("div",{className:ae("transition-all duration-300",u&&"blur-sm"),children:d.jsx(fae,{globalStats:{totalActiveDays:c.totalActiveDays,globalSuccessRate:c.globalSuccessRate,bestStreak:c.bestStreak,worstDay:c.worstDay},bestHabit:x||void 0})}),f&&d.jsx("div",{className:"hidden lg:block",children:d.jsx("div",{onClick:()=>window.location.hash="/ai-coach",className:"glass-panel rounded-3xl p-6 cursor-pointer hover:scale-[1.02] transition-all duration-300 border-2 border-primary/20 hover:border-primary/40 group",children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-primary/20 to-purple-500/20 flex items-center justify-center shrink-0 group-hover:scale-110 transition-transform",children:d.jsx(ki,{className:"w-7 h-7 text-primary animate-pulse"})}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("h3",{className:"text-lg sm:text-xl font-display font-semibold mb-2 flex items-center gap-2",children:["AI Coach",d.jsx("span",{className:"text-xs bg-primary/20 text-primary px-2 py-0.5 rounded-full font-normal",children:"Nuovo"})]}),d.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Genera un report settimanale personalizzato con analisi AI dei tuoi progressi e suggerimenti concreti per migliorare."}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-primary",children:[d.jsx("span",{className:"font-semibold",children:"Clicca per iniziare"}),d.jsx("span",{children:""})]})]})]})})}),m.totalPairs>0&&d.jsxs(d.Fragment,{children:[m.keystoneHabits.length>0&&d.jsx("div",{className:ae("transition-all duration-300",u&&"blur-sm"),children:d.jsx(t_e,{keystoneHabits:m.keystoneHabits})}),d.jsx("div",{className:ae("transition-all duration-300",u&&"blur-sm"),children:d.jsx(r_e,{insights:m})}),m.strongestPositive.length>0&&d.jsx("div",{className:ae("transition-all duration-300",u&&"blur-sm"),children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold flex items-center gap-2",children:[d.jsx("span",{className:"text-green-500",children:""}),"Correlazioni Positive"]}),m.strongestPositive.map((w,j)=>d.jsx(W2,{correlation:w},j))]})}),m.strongestNegative.length>0&&d.jsx("div",{className:ae("transition-all duration-300",u&&"blur-sm"),children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold flex items-center gap-2",children:[d.jsx("span",{className:"text-red-500",children:""}),"Correlazioni Negative"]}),d.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Queste abitudini tendono a non essere completate insieme."}),m.strongestNegative.map((w,j)=>d.jsx(W2,{correlation:w},j))]})})]}),d.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[d.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4 flex items-center gap-2",children:[d.jsx("span",{className:"w-2 h-2 rounded-sm bg-primary animate-pulse"}),"Attivit Recente"]}),d.jsx(hae,{data:c.heatmapData})]})]}),d.jsxs(xr,{value:"trend",className:"mt-0 space-y-6",children:[d.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6 h-[350px] sm:h-[400px] flex flex-col",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-4",children:[d.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold",children:"Trend"}),d.jsx(us,{value:n,onValueChange:w=>i(w),className:"w-full sm:w-auto",children:d.jsxs(ao,{className:"grid w-full grid-cols-4 sm:w-[300px]",children:[d.jsx(gt,{value:"weekly",className:"text-xs",children:"Sett"}),d.jsx(gt,{value:"monthly",className:"text-xs",children:"Mese"}),d.jsx(gt,{value:"annual",className:"text-xs",children:"Anno"}),d.jsx(gt,{value:"all",className:"text-xs",children:"Tutto"})]})})]}),d.jsx("div",{className:"flex-1 w-full min-h-0",children:d.jsx(W1e,{data:c.trendData})})]}),d.jsx("div",{className:ae("transition-all duration-300",u&&"blur-sm"),children:d.jsx(K1e,{comparisons:c.comparisons,goals:e})})]}),d.jsxs(xr,{value:"analisi",className:"mt-0 space-y-6",children:[d.jsx("div",{className:ae("transition-all duration-300",u&&"blur-sm"),children:d.jsx(G1e,{criticalHabits:c.criticalHabits})}),d.jsx("div",{className:ae("transition-all duration-300",u&&"blur-sm"),children:d.jsx(e_e,{habitStats:c.habitStats})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[d.jsxs("div",{className:ae("glass-panel rounded-3xl p-4 sm:p-6 h-[300px] sm:h-[350px] flex flex-col transition-all duration-300",u&&"blur-sm"),children:[d.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-3",children:"Focus Abitudini"}),d.jsx("div",{className:"flex-1 w-full min-h-0",children:d.jsx(H1e,{stats:c.habitStats})})]}),d.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6 h-[300px] sm:h-[350px] flex flex-col",children:[d.jsxs("div",{className:"mb-3",children:[d.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold flex items-center gap-2",children:[d.jsx("span",{className:"w-2 h-2 rounded-sm bg-primary animate-pulse"}),"Costanza Settimanale"]}),d.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Scopri in quali giorni sei pi produttivo."})]}),d.jsx("div",{className:"flex-1 w-full min-h-0",children:d.jsx(V1e,{data:c.weekdayStats})})]})]})]}),d.jsx(xr,{value:"abitudini",className:"mt-0",children:d.jsxs("div",{className:ae("glass-panel rounded-3xl p-4 sm:p-6 transition-all duration-300",u&&"blur-sm"),children:[d.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 mb-4 sm:mb-6",children:[d.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold",children:"Dettagli Abitudini"}),d.jsxs(Wn,{value:s,onValueChange:w=>l(w),children:[d.jsx(On,{className:"w-full sm:w-[200px] glass-card border-white/10",children:d.jsx(sa,{})}),d.jsxs(Cn,{children:[d.jsx($t,{value:"rate",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Er,{className:"w-4 h-4 text-primary"}),d.jsx("span",{children:"Rate"})]})}),d.jsx($t,{value:"best",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(la,{className:"w-4 h-4 text-yellow-500"}),d.jsx("span",{children:"Best Streak"})]})}),d.jsx($t,{value:"worst",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Yn,{className:"w-4 h-4 text-destructive"}),d.jsx("span",{children:"Worst Streak"})]})}),d.jsx($t,{value:"current",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(E0,{className:"w-4 h-4 text-orange-500"}),d.jsx("span",{children:"Serie Attuale"})]})}),d.jsx($t,{value:"name",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(e6,{className:"w-4 h-4"}),d.jsx("span",{children:"Nome"})]})})]})]})]}),d.jsx("div",{className:"space-y-3",children:c.habitStats.length===0?d.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Nessuna abitudine tracciata ancora."}):d.jsx(d.Fragment,{children:(()=>{const w=y.filter(k=>{const C=t.find(P=>P.id===k.id);return C&&!C.end_date}),j=y.filter(k=>{const C=t.find(P=>P.id===k.id);return C&&C.end_date});return d.jsxs(d.Fragment,{children:[w.map(k=>d.jsxs("div",{className:"glass-card rounded-xl p-3 sm:p-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4 group cursor-pointer hover:bg-white/5 transition-colors",onClick:()=>o(k.id),children:[d.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 w-full sm:w-auto",children:[d.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl flex items-center justify-center bg-white/5 border border-white/10 group-hover:scale-110 transition-transform duration-300 shadow-lg shrink-0",style:{borderColor:`${k.color}40`,boxShadow:`0 0 20px ${k.color}10`},children:d.jsx("div",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-sm",style:{backgroundColor:k.color}})}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("span",{className:"font-semibold text-foreground text-base sm:text-lg truncate block",children:k.title}),d.jsx("div",{className:"h-1 w-16 sm:w-20 bg-secondary rounded-full mt-1 overflow-hidden",children:d.jsx("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${k.completionRate}%`,backgroundColor:k.color}})})]})]}),d.jsxs("div",{className:"grid grid-cols-4 gap-3 sm:flex sm:gap-6 text-sm text-muted-foreground w-full sm:w-auto justify-between sm:justify-end",children:[d.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[d.jsxs("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5 flex items-center gap-1",children:[d.jsx(la,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-yellow-500"})," Best"]}),d.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-foreground",children:[k.longestStreak,d.jsx("span",{className:"text-[10px] sm:text-xs font-sans font-normal opacity-50",children:"gg"})]})]}),d.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[d.jsxs("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5 flex items-center gap-1",children:[d.jsx(Yn,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-destructive"})," Worst"]}),d.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-destructive",children:[k.worstStreak,d.jsx("span",{className:"text-[10px] sm:text-xs font-sans font-normal opacity-50",children:"gg"})]})]}),d.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[d.jsx("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5",children:"Serie"}),d.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-foreground",children:[k.currentStreak,d.jsx("span",{className:"text-[10px] sm:text-xs font-sans font-normal opacity-50",children:"gg"})]})]}),d.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[d.jsx("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5",children:"Rate"}),d.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-foreground",children:[k.completionRate,d.jsx("span",{className:"text-[10px] sm:text-sm",children:"%"})]})]})]})]},k.id)),j.length>0&&d.jsxs("div",{className:"relative py-4",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-white/10"})}),d.jsx("div",{className:"relative flex justify-center",children:d.jsxs("span",{className:"bg-[#0a0a0a] px-3 text-xs uppercase tracking-widest text-muted-foreground font-semibold",children:["Archiviate (",j.length,")"]})})]}),j.map(k=>d.jsxs("div",{className:"glass-card rounded-xl p-3 sm:p-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4 group cursor-pointer hover:bg-white/5 transition-colors opacity-60",onClick:()=>o(k.id),children:[d.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 w-full sm:w-auto",children:[d.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl flex items-center justify-center bg-white/5 border border-white/10 group-hover:scale-110 transition-transform duration-300 shadow-lg shrink-0",style:{borderColor:`${k.color}40`,boxShadow:`0 0 20px ${k.color}10`},children:d.jsx("div",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-sm",style:{backgroundColor:k.color}})}),d.jsxs("div",{className:"min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"font-semibold text-foreground text-base sm:text-lg truncate",children:k.title}),d.jsx("span",{className:"text-xs text-muted-foreground shrink-0",children:"(archiviato)"})]}),d.jsx("div",{className:"h-1 w-16 sm:w-20 bg-secondary rounded-full mt-1 overflow-hidden",children:d.jsx("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${k.completionRate}%`,backgroundColor:k.color}})})]})]}),d.jsxs("div",{className:"grid grid-cols-4 gap-3 sm:flex sm:gap-6 text-sm text-muted-foreground w-full sm:w-auto justify-between sm:justify-end",children:[d.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[d.jsxs("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5 flex items-center gap-1",children:[d.jsx(la,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-yellow-500"})," Best"]}),d.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-foreground",children:[k.longestStreak,d.jsx("span",{className:"text-[10px] sm:text-xs font-sans font-normal opacity-50",children:"gg"})]})]}),d.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[d.jsxs("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5 flex items-center gap-1",children:[d.jsx(Yn,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-destructive"})," Worst"]}),d.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-destructive",children:[k.worstStreak,d.jsx("span",{className:"text-[10px] sm:text-xs font-sans font-normal opacity-50",children:"gg"})]})]}),d.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[d.jsx("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5",children:"Serie"}),d.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-foreground",children:[k.currentStreak,d.jsx("span",{className:"text-[10px] sm:text-xs font-sans font-normal opacity-50",children:"gg"})]})]}),d.jsxs("div",{className:"flex flex-col items-center sm:items-end",children:[d.jsx("span",{className:"text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-60 mb-0.5",children:"Rate"}),d.jsxs("span",{className:"font-mono text-base sm:text-lg font-bold text-foreground",children:[k.completionRate,d.jsx("span",{className:"text-[10px] sm:text-sm",children:"%"})]})]})]})]},k.id))]})})()})})]})}),d.jsxs(xr,{value:"mood-energia",className:"mt-0 space-y-6",children:[d.jsx("div",{className:ae("transition-all duration-300",u&&"blur-sm"),children:d.jsx(X1e,{})}),d.jsx("div",{className:ae("transition-all duration-300",u&&"blur-sm"),children:d.jsx(Z1e,{insights:h})}),d.jsx("div",{className:ae("transition-all duration-300",u&&"blur-sm"),children:d.jsx(J1e,{correlations:p})})]})]}):g&&b&&d.jsxs(us,{defaultValue:"overview",className:"w-full",children:[d.jsxs(ao,{className:"grid w-full grid-cols-5 mb-4 shrink-0",children:[d.jsxs(gt,{value:"overview",className:"text-xs sm:text-sm",children:[d.jsx("span",{className:"hidden sm:inline",children:"Overview"}),d.jsx("span",{className:"sm:hidden",children:"Info"})]}),d.jsxs(gt,{value:"calendario",className:"text-xs sm:text-sm",children:[d.jsx("span",{className:"hidden sm:inline",children:"Calendario"}),d.jsx("span",{className:"sm:hidden",children:"Cal"})]}),d.jsxs(gt,{value:"performance",className:"text-xs sm:text-sm",children:[d.jsx("span",{className:"hidden sm:inline",children:"Performance"}),d.jsx("span",{className:"sm:hidden",children:"Perf"})]}),d.jsxs(gt,{value:"miglioramento",className:"text-xs sm:text-sm",children:[d.jsx("span",{className:"hidden sm:inline",children:"Miglioramento"}),d.jsx("span",{className:"sm:hidden",children:"Tips"})]}),d.jsxs(gt,{value:"mood-energia",className:"text-xs sm:text-sm flex items-center gap-1",children:[d.jsx(ki,{className:"w-3 h-3"}),d.jsx("span",{children:"Mood"})]})]}),d.jsxs(xr,{value:"overview",className:"mt-0 space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[d.jsxs("div",{className:"glass-panel rounded-2xl p-4 text-center",children:[d.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Serie Attuale"}),d.jsx("p",{className:"text-3xl font-bold font-mono",style:{color:g.color},children:b.currentStreak}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"giorni"})]}),d.jsxs("div",{className:"glass-panel rounded-2xl p-4 text-center",children:[d.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Record"}),d.jsx("p",{className:"text-3xl font-bold font-mono text-yellow-500",children:b.bestStreak}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"giorni"})]}),d.jsxs("div",{className:"glass-panel rounded-2xl p-4 text-center",children:[d.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Completamento"}),d.jsxs("p",{className:"text-3xl font-bold font-mono text-primary",children:[b.completionRate,"%"]}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[b.doneDays,"/",b.totalDays," gg"]})]}),d.jsxs("div",{className:"glass-panel rounded-2xl p-4 text-center",children:[d.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Mancati"}),d.jsx("p",{className:"text-3xl font-bold font-mono text-destructive",children:b.missedDays}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"giorni"})]})]}),d.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[d.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4",children:"Trend Ultimi 30 Giorni"}),d.jsx("div",{className:"grid grid-cols-10 gap-1 sm:gap-2",children:b.trendData.slice(-30).map((w,j)=>d.jsx("div",{className:"aspect-square rounded-md sm:rounded-lg transition-all duration-300 hover:scale-110",style:{backgroundColor:w.status==="done"?"#11FF00":w.status==="missed"?"#FF0000":"rgba(255,255,255,0.1)",opacity:w.status?1:.4},title:w.date},j))}),d.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-muted-foreground",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:"#11FF00"}}),d.jsx("span",{children:"Completato"})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 rounded-sm bg-white/10"}),d.jsx("span",{children:"Non completato"})]})]})]}),d.jsx("div",{className:ae("transition-all duration-300",u&&"blur-sm"),children:d.jsx(n_e,{habitId:g.id,habitTitle:g.title,habitColor:g.color,allCorrelations:v})})]}),d.jsx(xr,{value:"calendario",className:"mt-0 space-y-6",children:d.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[d.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4 flex items-center gap-2",children:[d.jsx(uo,{className:"w-5 h-5"}),"Calendario Annuale"]}),d.jsx("div",{className:"flex gap-1 flex-wrap",children:b.heatmapData.map((w,j)=>d.jsx("div",{className:"w-3 h-3 rounded-sm transition-all",style:{backgroundColor:w.count===1?"#11FF00":w.count===-1?"#FF0000":"rgba(255,255,255,0.05)"},title:`${w.date}: ${w.count===1?"Completato":w.count===-1?"Mancato":"Non tracciato"}`},j))}),d.jsxs("div",{className:"flex items-center gap-4 mt-4 text-xs text-muted-foreground",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:"#11FF00"}}),d.jsx("span",{children:"Completato"})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 rounded-sm bg-destructive"}),d.jsx("span",{children:"Mancato"})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 rounded-sm bg-white/5"}),d.jsx("span",{children:"Non tracciato"})]})]})]})}),d.jsxs(xr,{value:"performance",className:"mt-0 space-y-6",children:[d.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[d.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4",children:"Performance per Giorno"}),d.jsx("div",{className:"grid grid-cols-7 gap-2",children:b.weekdayPerformance.map((w,j)=>d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:w.day}),d.jsx("div",{className:"h-24 bg-white/5 rounded-lg relative overflow-hidden",children:d.jsx("div",{className:"absolute bottom-0 left-0 right-0 transition-all duration-500 rounded-t",style:{height:`${w.rate}%`,backgroundColor:w.rate>=70?"#11FF00":w.rate>=40?"#f59e0b":"#FF0000"}})}),d.jsxs("p",{className:"text-sm font-bold mt-2",children:[w.rate,"%"]})]},j))})]}),b.worstDay.day!=="N/A"&&d.jsx("div",{className:"glass-panel rounded-2xl p-4 border border-destructive/30",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Jd,{className:"w-5 h-5 text-destructive"}),d.jsxs("div",{children:[d.jsxs("p",{className:"font-semibold",children:["Giorno pi debole: ",b.worstDay.day]}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Solo ",b.worstDay.rate,"% di completamento (",b.worstDay.done,"/",b.worstDay.total,")"]})]})]})})]}),d.jsxs(xr,{value:"miglioramento",className:"mt-0 space-y-6",children:[d.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[d.jsxs("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4 flex items-center gap-2",children:[d.jsx(Yn,{className:"w-5 h-5 text-destructive"}),"Serie Negativa Peggiore"]}),b.worstNegativeStreak>0?d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"text-4xl font-bold font-mono text-destructive",children:b.worstNegativeStreak}),d.jsxs("div",{children:[d.jsx("p",{className:"text-muted-foreground",children:"giorni consecutivi mancati"}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Iniziata il ",Ge(new Date(b.worstNegativeStreakStart),"d MMMM yyyy",{locale:Rr})]})]})]}):d.jsx("p",{className:"text-muted-foreground",children:"Nessuna serie negativa significativa. Ottimo lavoro! "})]}),d.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6",children:[d.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4",children:"Streak Interrotti"}),b.brokenStreaks.length>0?d.jsx("div",{className:"space-y-3",children:b.brokenStreaks.map((w,j)=>d.jsx("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-xl",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-destructive/20 flex items-center justify-center",children:d.jsx("span",{className:"text-destructive font-bold",children:w.streakLength})}),d.jsxs("div",{children:[d.jsxs("p",{className:"font-semibold",children:["Streak di ",w.streakLength," giorni interrotto"]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:Ge(new Date(w.date),"d MMMM yyyy",{locale:Rr})})]})]})},j))}):d.jsx("p",{className:"text-muted-foreground",children:"Nessuno streak significativo interrotto."})]}),d.jsxs("div",{className:"glass-panel rounded-3xl p-4 sm:p-6 border border-primary/30",children:[d.jsx("h3",{className:"text-base sm:text-lg font-display font-semibold mb-4",children:" Suggerimenti"}),d.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[b.worstDay.day!=="N/A"&&b.worstDay.rate<50&&d.jsxs("li",{children:[" Concentrati sul ",d.jsx("strong",{className:"text-foreground",children:b.worstDay.day})," -  il tuo giorno pi debole"]}),b.worstNegativeStreak>=3&&d.jsxs("li",{children:[" Evita pause prolungate - la tua serie negativa pi lunga  stata di ",b.worstNegativeStreak," giorni"]}),b.completionRate<70&&d.jsx("li",{children:" Obiettivo: raggiungi almeno il 70% di completamento per consolidare l'abitudine"}),b.completionRate>=80&&d.jsx("li",{children:"  Ottimo lavoro! Mantieni questa costanza"})]})]})]}),d.jsx(xr,{value:"mood-energia",className:"mt-0 space-y-6",children:(()=>{const w=p.find(j=>j.habitId===a);return w?d.jsx(Q1e,{correlation:w}):d.jsxs("div",{className:"glass-panel rounded-3xl p-8 text-center",children:[d.jsx(ki,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground opacity-50"}),d.jsx("p",{className:"text-muted-foreground",children:"Non ci sono abbastanza dati per analizzare la correlazione mood/energia."}),d.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Registra il tuo mood ed energia quotidianamente per vedere le correlazioni."})]})})()})]},a)]})},Ur={red:"Rosso",orange:"Arancione",yellow:"Giallo",blue:"Blu",purple:"Viola",pink:"Rosa",cyan:"Ciano"},nc={red:"hsl(0 65% 55%)",orange:"hsl(25 60% 45%)",yellow:"hsl(45 90% 45%)",blue:"hsl(220 70% 50%)",purple:"hsl(270 70% 50%)",pink:"hsl(330 70% 50%)",cyan:"hsl(170 70% 40%)"};function zS(){const e=ja(),{data:t,isLoading:r}=ii({queryKey:["goalCategorySettings"],queryFn:async()=>{const{data:{user:l}}=await be.auth.getUser();if(!l)return null;const{data:c,error:u}=await be.from("goal_category_settings").select("*").eq("user_id",l.id).single();return u&&u.code!=="PGRST116"&&console.error("Error fetching category settings:",u),c}}),n=an({mutationFn:async l=>{const{data:{user:c}}=await be.auth.getUser();if(!c)throw new Error("Not authenticated");const{data:u}=await be.from("goal_category_settings").select("id").eq("user_id",c.id).single();if(u){const{error:f}=await be.from("goal_category_settings").update({mappings:l}).eq("id",u.id);if(f)throw f}else{const{error:f}=await be.from("goal_category_settings").insert({user_id:c.id,mappings:l});if(f)throw f}},onSuccess:()=>{e.invalidateQueries({queryKey:["longTermGoals"]}),e.invalidateQueries({queryKey:["goalCategorySettings"]}),Ue.success("Categorie aggiornate con successo")},onError:()=>{Ue.error("Errore durante l'aggiornamento delle categorie")}}),i=S.useMemo(()=>{const l={};return t?.mappings&&Object.entries(t.mappings).forEach(([c,u])=>{typeof u=="string"?l[c]=u:l[c]=u.label}),{...Ur,...l}},[t]),a=S.useMemo(()=>{const l={};return Object.entries(Ur).forEach(([c,u])=>{l[c]=u}),t?.mappings&&Object.entries(t.mappings).forEach(([c,u])=>{typeof u!="string"&&u.archived?delete l[c]:typeof u=="string"?l[c]=u:l[c]=u.label}),l},[t]),o=l=>{if(!l)return"Generale";const c=t?.mappings?.[l];return typeof c=="string"?c:c?.label?c.label:Ur[l]||l},s=l=>{if(!l)return null;const c=t?.mappings?.[l];return c&&typeof c!="string"&&c.color?c.color:nc[l]||null};return{settings:t,isLoading:r,updateSettings:n.mutate,getLabel:o,getColor:s,categoryLabels:i,activeCategoryLabels:a}}function M_e({year:e}){const{getLabel:t}=zS(),{data:r,isLoading:n}=ii({queryKey:["longTermGoals","stats",e],queryFn:async()=>{let O=[],T=0;const N=1e3;let D=!0;for(;D;){let E=be.from("long_term_goals").select("*");e!=="all"&&(E=E.eq("year",typeof e=="string"?parseInt(e):e));const{data:R,error:B}=await E.range(T,T+N-1);if(B)throw B;R&&R.length>0?(O=[...O,...R],R.length<N?D=!1:T+=N):D=!1}return O}});if(S.useEffect(()=>{(async()=>{const{error:T}=await be.rpc("check_and_fail_expired_goals");T&&console.error("Error checking expired goals:",T)})()},[]),n)return d.jsx("div",{className:"flex justify-center p-8",children:d.jsx(Tn,{className:"w-8 h-8 animate-spin text-muted-foreground"})});if(!r||r.length===0)return d.jsxs("div",{className:"text-center p-12 border border-dashed border-white/10 rounded-xl text-muted-foreground",children:["Nessun dato disponibile per ",e==="all"?"il periodo selezionato":`il ${e}`,". Aggiungi qualche obiettivo!"]});const i=r.length,a=r.filter(O=>O.status==="completed").length,o=Math.round(a/i*100)||0,s=r.filter(O=>O.type==="lifetime"),l=r.filter(O=>O.type!=="lifetime"),c=l.map(O=>O.year).filter(O=>O!==null),u=c.length>0?Math.min(...c):new Date().getFullYear(),f={annual:r.filter(O=>O.type==="annual").length,quarterly:r.filter(O=>O.type==="quarterly").length,monthly:r.filter(O=>O.type==="monthly").length,weekly:r.filter(O=>O.type==="weekly").length,lifetime:s.length},p=[{type:"Lifetime",total:f.lifetime,completed:s.filter(O=>O.status==="completed").length},{type:"Annuale",total:f.annual,completed:r.filter(O=>O.type==="annual"&&O.status==="completed").length},{type:"Trimestrale",total:f.quarterly,completed:r.filter(O=>O.type==="quarterly"&&O.status==="completed").length},{type:"Mensile",total:f.monthly,completed:r.filter(O=>O.type==="monthly"&&O.status==="completed").length},{type:"Settimanale",total:f.weekly,completed:r.filter(O=>O.type==="weekly"&&O.status==="completed").length}].map(O=>({...O,rate:O.total>0?Math.round(O.completed/O.total*100):0})).sort((O,T)=>T.rate-O.rate||T.completed-O.completed),h=p[0],v={};r.forEach(O=>{const T=O.color||"null",N=t(T==="null"?null:T),D=T==="null"?"Generale":Ur[T]||T;(T==="null"||!(T!=="null"&&N===D))&&(v[T]||(v[T]={total:0,completed:0}),v[T].total++,O.status==="completed"&&v[T].completed++)});const m=Object.entries(v).map(([O,T])=>({subject:t(O==="null"?null:O),A:Math.round(T.completed/T.total*100),fullMark:100,total:T.total})).sort((O,T)=>T.A-O.A),g=m.length>0?m[0]:null,y={red:"#f43f5e",orange:"#f97316",yellow:"#fbbf24",green:"#10b981",blue:"#2563eb",purple:"#7c3aed",pink:"#d946ef",cyan:"#06b6d4",null:"#525252"},b=Object.entries(v).map(([O,T])=>({name:t(O==="null"?null:O),value:T.total,fill:y[O]||"#888888"})).sort((O,T)=>T.value-O.value);if(e==="all"){const O={};l.forEach(U=>{U.year!==null&&(O[U.year]||(O[U.year]={total:0,completed:0,failed:0,active:0,rate:0}),O[U.year].total++,U.status==="completed"?O[U.year].completed++:U.status==="failed"?O[U.year].failed++:O[U.year].active++)});const T=Object.entries(O).map(([U,L])=>({year:U,total:L.total,completed:L.completed,failed:L.failed,active:L.active,rate:Math.round(L.completed/L.total*100)||0})).sort((U,L)=>parseInt(U.year)-parseInt(L.year)),N=[...T].sort((U,L)=>L.rate-U.rate||L.completed-U.completed)[0],D=[...T].sort((U,L)=>L.completed-U.completed)[0],E=[1,2,3,4].map(U=>({name:`Q${U}`,total:0,completed:0,failed:0,active:0,rate:0}));l.forEach(U=>{const L=U.quarter;if(L&&L>=1&&L<=4){const M=L-1;E[M].total++,U.status==="completed"?E[M].completed++:U.status==="failed"?E[M].failed++:E[M].active++}}),E.forEach(U=>{U.rate=U.total>0?Math.round(U.completed/U.total*100):0});const R=Array.from({length:12},(U,L)=>({name:new Date(2024,L).toLocaleString("it-IT",{month:"short"}),monthIndex:L+1,total:0,completed:0,failed:0,active:0,rate:0}));l.forEach(U=>{if(U.month&&U.month>=1&&U.month<=12){const L=U.month-1;R[L].total++,U.status==="completed"?R[L].completed++:U.status==="failed"?R[L].failed++:R[L].active++}}),R.forEach(U=>{U.rate=U.total>0?Math.round(U.completed/U.total*100):0});const B=[];return Array.from(new Set(l.map(U=>U.year).filter(U=>U!==null))).sort((U,L)=>U-L).forEach(U=>{const L=l.filter(H=>H.year===U),M={year:U.toString(),total:L.length};Object.keys(y).forEach(H=>{const z=t(H==="null"?null:H),$=H==="null"?"Generale":Ur[H]||H;(H==="null"||!(H!=="null"&&z===$))&&(M[H]=0)}),L.forEach(H=>{const z=H.color||"null",$=t(z==="null"?null:z),Q=z==="null"?"Generale":Ur[z]||z;(z==="null"||!(z!=="null"&&$===Q))&&M[z]!==void 0&&M[z]++}),B.push(M)}),d.jsxs("div",{className:"space-y-8 animate-fade-in pb-10",children:[d.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[d.jsxs(Be,{className:"bg-gradient-to-br from-indigo-500/10 to-blue-600/10 border-indigo-500/20 shadow-lg shadow-indigo-500/5",children:[d.jsxs(Je,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(Ze,{className:"text-sm font-medium text-indigo-400",children:"Totale Storico"}),d.jsx(Gn,{className:"h-4 w-4 text-indigo-500"})]}),d.jsxs(qe,{children:[d.jsx("div",{className:"text-3xl font-bold text-white",children:i}),d.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Obiettivi tracciati dal ",u]})]})]}),d.jsxs(Be,{className:"bg-gradient-to-br from-emerald-500/10 to-teal-500/10 border-emerald-500/20 shadow-lg shadow-emerald-500/5",children:[d.jsxs(Je,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(Ze,{className:"text-sm font-medium text-emerald-400",children:"Successo Globale"}),d.jsx(la,{className:"h-4 w-4 text-emerald-500"})]}),d.jsxs(qe,{children:[d.jsxs("div",{className:"text-3xl font-bold text-white",children:[o,"%"]}),d.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a," obiettivi completati"]})]})]}),d.jsxs(Be,{className:"bg-gradient-to-br from-amber-500/10 to-orange-500/10 border-amber-500/20 shadow-lg shadow-amber-500/5",children:[d.jsxs(Je,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(Ze,{className:"text-sm font-medium text-amber-400",children:"Anno Migliore"}),d.jsx(uo,{className:"h-4 w-4 text-amber-500"})]}),d.jsxs(qe,{children:[d.jsx("div",{className:"text-3xl font-bold text-white",children:N?.year||"N/A"}),d.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[N?.rate,"% completamento"]})]})]}),d.jsxs(Be,{className:"bg-gradient-to-br from-cyan-500/10 to-sky-500/10 border-cyan-500/20 shadow-lg shadow-cyan-500/5",children:[d.jsxs(Je,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(Ze,{className:"text-sm font-medium text-cyan-400",children:"Anno Pi Produttivo"}),d.jsx(JS,{className:"h-4 w-4 text-cyan-500"})]}),d.jsxs(qe,{children:[d.jsx("div",{className:"text-3xl font-bold text-white",children:D?.year||"N/A"}),d.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[D?.total," obiettivi totali"]})]})]})]}),d.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[d.jsxs(Be,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm p-2",children:[d.jsxs(Je,{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Er,{className:"w-5 h-5 text-blue-500"}),d.jsx(Ze,{children:"Progressione Annuale"})]}),d.jsx(kn,{children:"Confronto anno per anno del volume di obiettivi e completamenti"})]}),d.jsx(qe,{className:"h-[300px] sm:h-[400px]",children:d.jsx(dr,{width:"100%",height:"100%",children:d.jsxs(xu,{data:T,margin:{top:20,right:20,bottom:20,left:20},children:[d.jsx(tn,{strokeDasharray:"3 3",stroke:"#ffffff10",vertical:!1}),d.jsx(Qt,{dataKey:"year",stroke:"#888888",fontSize:14,tickLine:!1,axisLine:!1}),d.jsx(Mt,{yAxisId:"left",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),d.jsx(Mt,{yAxisId:"right",orientation:"right",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,unit:"%",domain:[0,100]}),d.jsx(Et,{contentStyle:{backgroundColor:"#09090b",border:"1px solid #27272a",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.5)"},cursor:{fill:"#ffffff05"}}),d.jsx(Vr,{wrapperStyle:{paddingTop:"20px"}}),d.jsx(Dt,{yAxisId:"left",dataKey:"active",stackId:"a",name:"Attivi",fill:"#3b82f6",radius:[0,0,4,4],barSize:40,fillOpacity:.8}),d.jsx(Dt,{yAxisId:"left",dataKey:"failed",stackId:"a",name:"Falliti",fill:"#ef4444",radius:[0,0,0,0],barSize:40,fillOpacity:.8}),d.jsx(Dt,{yAxisId:"left",dataKey:"completed",stackId:"a",name:"Completati",fill:"#10b981",radius:[4,4,0,0],barSize:40,fillOpacity:.8}),d.jsx(hn,{yAxisId:"right",type:"monotone",dataKey:"rate",name:"Tasso Successo %",stroke:"#f59e0b",strokeWidth:3,dot:{r:4,strokeWidth:2},activeDot:{r:6}})]})})})]}),d.jsxs(Be,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[d.jsx(Je,{children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Gn,{className:"w-5 h-5 text-cyan-500"}),d.jsx(Ze,{children:"Performance per Categoria (Storico)"})]})}),d.jsx(qe,{className:"h-[300px] sm:h-[350px]",children:d.jsx(dr,{width:"100%",height:"100%",children:d.jsxs(n1,{cx:"50%",cy:"50%",outerRadius:"65%",data:m,children:[d.jsx(oh,{stroke:"#ffffff20"}),d.jsx(Sa,{dataKey:"subject",tick:{fill:"#a1a1aa",fontSize:13,fontWeight:500}}),d.jsx(_o,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),d.jsx(So,{name:"Success Rate",dataKey:"A",stroke:"#06b6d4",fill:"#06b6d4",fillOpacity:.5}),d.jsx(Et,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"},formatter:U=>[`${U}%`,"Successo"]})]})})})]}),d.jsxs(Be,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[d.jsx(Je,{children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ej,{className:"w-5 h-5 text-purple-500"}),d.jsx(Ze,{children:"Distribuzione Tipologie"})]})}),d.jsx(qe,{className:"h-[300px] sm:h-[350px]",children:d.jsx(dr,{width:"100%",height:"100%",children:d.jsxs(tc,{data:p,layout:"vertical",margin:{left:20},children:[d.jsx(tn,{strokeDasharray:"3 3",stroke:"#ffffff10",horizontal:!0,vertical:!1}),d.jsx(Qt,{type:"number",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),d.jsx(Mt,{dataKey:"type",type:"category",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,width:80}),d.jsx(Et,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},cursor:{fill:"#ffffff05"}}),d.jsx(Dt,{dataKey:"rate",name:"Successo %",fill:"#8b5cf6",radius:[0,4,4,0],barSize:30})]})})})]}),d.jsxs(Be,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[d.jsxs(Je,{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(uo,{className:"w-5 h-5 text-amber-500"}),d.jsx(Ze,{children:"Stagionalit (Performance Trimestrale)"})]}),d.jsx(kn,{children:"Aggregato di tutti gli anni: in quale trimestre rendi meglio?"})]}),d.jsx(qe,{className:"h-[300px] sm:h-[350px]",children:d.jsx(dr,{width:"100%",height:"100%",children:d.jsxs(tc,{data:E,children:[d.jsx(tn,{strokeDasharray:"3 3",stroke:"#ffffff10",vertical:!1}),d.jsx(Qt,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),d.jsx(Mt,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),d.jsx(Et,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},cursor:{fill:"#ffffff05"}}),d.jsx(Vr,{wrapperStyle:{paddingTop:"20px"}}),d.jsx(Dt,{dataKey:"active",stackId:"a",name:"Attivi",fill:"#3b82f6",radius:[0,0,4,4],barSize:30,fillOpacity:.6}),d.jsx(Dt,{dataKey:"failed",stackId:"a",name:"Falliti",fill:"#f59e0b",radius:[0,0,0,0],barSize:30,fillOpacity:.8}),d.jsx(Dt,{dataKey:"completed",stackId:"a",name:"Completati",fill:"#10b981",radius:[4,4,0,0],barSize:30})]})})})]}),d.jsxs(Be,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[d.jsxs(Je,{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(JS,{className:"w-5 h-5 text-pink-500"}),d.jsx(Ze,{children:"Performance Mensile (Storico)"})]}),d.jsx(kn,{children:"Successo medio per mese: scopri il tuo ritmo ideale"})]}),d.jsx(qe,{className:"h-[300px] sm:h-[350px]",children:d.jsx(dr,{width:"100%",height:"100%",children:d.jsxs(q1e,{data:R,children:[d.jsx(tn,{strokeDasharray:"3 3",stroke:"#ffffff10",vertical:!1}),d.jsx(Qt,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),d.jsx(Mt,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,unit:"%",domain:[0,100]}),d.jsx(Et,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},cursor:{stroke:"#ffffff20"}}),d.jsx(hn,{type:"monotone",dataKey:"rate",name:"Tasso di Successo",stroke:"#ec4899",strokeWidth:3,dot:{r:4,strokeWidth:2,fill:"#1f1f1f"},activeDot:{r:6,fill:"#ec4899"}})]})})})]}),d.jsxs(Be,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm",children:[d.jsxs(Je,{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Er,{className:"w-5 h-5 text-indigo-500"}),d.jsx(Ze,{children:"Evoluzione Interessi (Categorie)"})]}),d.jsx(kn,{children:"Come sono cambiati i tuoi focus nel corso degli anni"})]}),d.jsx(qe,{className:"h-[300px] sm:h-[400px]",children:d.jsx(dr,{width:"100%",height:"100%",children:d.jsxs(tc,{data:B,children:[d.jsx(tn,{strokeDasharray:"3 3",stroke:"#ffffff10",vertical:!1}),d.jsx(Qt,{dataKey:"year",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),d.jsx(Mt,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),d.jsx(Et,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},cursor:{fill:"#ffffff05"}}),d.jsx(Vr,{}),Object.entries(y).map(([U,L])=>{const M=t(U==="null"?null:U),H=U==="null"?"Generale":Ur[U]||U;return U==="null"||!(U!=="null"&&M===H)?d.jsx(Dt,{dataKey:U,name:M,stackId:"a",fill:L},U):null})]})})})]})]})]})}const _=typeof e=="string"?parseInt(e):e,w=Array.from({length:12},(O,T)=>({name:new Date(_,T).toLocaleString("it-IT",{month:"short"}),monthIndex:T+1,total:0,completed:0,failed:0,active:0,rate:0,cumulativeTotal:0,cumulativeCompleted:0}));let j=0,k=0;l.forEach(O=>{let T=0;O.month&&(T=O.month-1),T<0&&(T=0),T>11&&(T=11),w[T].total++,O.status==="completed"?w[T].completed++:O.status==="failed"?w[T].failed++:w[T].active++}),w.forEach(O=>{O.rate=O.total>0?Math.round(O.completed/O.total*100):0,j+=O.total,k+=O.completed,O.cumulativeTotal=j,O.cumulativeCompleted=k});const C=[1,2,3,4].map(O=>({name:`Q${O}`,quarterIndex:O,total:0,completed:0,rate:0}));r.filter(O=>O.quarter).forEach(O=>{if(O.quarter&&O.quarter>=1&&O.quarter<=4){const T=O.quarter-1;C[T].total++,O.status==="completed"&&C[T].completed++}}),C.forEach(O=>{O.rate=O.total>0?Math.round(O.completed/O.total*100):0});const P=[...w].filter(O=>O.total>0).sort((O,T)=>T.rate-O.rate||T.completed-O.completed)[0];return d.jsxs("div",{className:"space-y-6 animate-fade-in pb-10",children:[d.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[d.jsxs(Be,{className:"bg-gradient-to-br from-purple-500/10 to-blue-500/10 border-purple-500/20",children:[d.jsxs(Je,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(Ze,{className:"text-sm font-medium text-purple-400",children:"Punto di Forza"}),d.jsx(ju,{className:"h-4 w-4 text-purple-500"})]}),d.jsxs(qe,{children:[d.jsx("div",{className:"text-2xl font-bold text-white",children:g?.subject||"N/A"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:g?`${g.A}% di completamento`:"Nessun dato"})]})]}),d.jsxs(Be,{className:"bg-gradient-to-br from-amber-500/10 to-orange-500/10 border-amber-500/20",children:[d.jsxs(Je,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(Ze,{className:"text-sm font-medium text-amber-400",children:"Mese Migliore"}),d.jsx(la,{className:"h-4 w-4 text-amber-500"})]}),d.jsxs(qe,{children:[d.jsx("div",{className:"text-2xl font-bold text-white",children:P?.name||"N/A"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:P?`${P.rate}% di successo (${P.completed}/${P.total})`:"Nessuna attivit"})]})]}),d.jsxs(Be,{className:"bg-gradient-to-br from-emerald-500/10 to-cyan-500/10 border-emerald-500/20",children:[d.jsxs(Je,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(Ze,{className:"text-sm font-medium text-emerald-400",children:"Tipologia Efficace"}),d.jsx(ej,{className:"h-4 w-4 text-emerald-500"})]}),d.jsxs(qe,{children:[d.jsx("div",{className:"text-2xl font-bold text-white capitalize",children:h.total>0?h.type:"N/A"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:h.total>0?`${h.rate}% di successo`:"Dati insufficienti"})]})]})]}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[d.jsxs(Be,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[d.jsxs(Je,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(Ze,{className:"text-sm font-medium text-muted-foreground",children:"Totale"}),d.jsx(Gn,{className:"h-4 w-4 text-primary"})]}),d.jsx(qe,{children:d.jsx("div",{className:"text-2xl font-bold text-white",children:i})})]}),d.jsxs(Be,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[d.jsxs(Je,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(Ze,{className:"text-sm font-medium text-muted-foreground",children:"Completati"}),d.jsx($d,{className:"h-4 w-4 text-green-500"})]}),d.jsx(qe,{children:d.jsx("div",{className:"text-2xl font-bold text-white",children:a})})]}),d.jsxs(Be,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[d.jsxs(Je,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(Ze,{className:"text-sm font-medium text-muted-foreground",children:"Successo"}),d.jsx(la,{className:"h-4 w-4 text-yellow-500"})]}),d.jsx(qe,{children:d.jsxs("div",{className:"text-2xl font-bold text-white",children:[o,"%"]})})]}),d.jsxs(Be,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[d.jsxs(Je,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(Ze,{className:"text-sm font-medium text-muted-foreground",children:"Trend"}),d.jsx(Er,{className:"h-4 w-4 text-blue-500"})]}),d.jsx(qe,{children:d.jsx("div",{className:"text-2xl font-bold text-white",children:k>0?"In Crescita":"Stabile"})})]})]}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[d.jsxs(Be,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm",children:[d.jsxs(Je,{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(O6,{className:"w-5 h-5 text-orange-500"}),d.jsx(Ze,{children:"Velocit di Esecuzione (Cumulativa)"})]}),d.jsx(kn,{children:"Confronto tra obiettivi pianificati e completati nel tempo"})]}),d.jsx(qe,{className:"h-[300px] sm:h-[350px]",children:d.jsx(dr,{width:"100%",height:"100%",children:d.jsxs(zB,{data:w,children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"colorTotal",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.3}),d.jsx("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]}),d.jsxs("linearGradient",{id:"colorCompleted",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.3}),d.jsx("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0})]})]}),d.jsx(Qt,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),d.jsx(Mt,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),d.jsx(tn,{strokeDasharray:"3 3",stroke:"#ffffff10"}),d.jsx(Et,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"}}),d.jsx(gn,{type:"monotone",dataKey:"cumulativeTotal",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorTotal)",name:"Obiettivi Totali"}),d.jsx(gn,{type:"monotone",dataKey:"cumulativeCompleted",stroke:"#82ca9d",fillOpacity:1,fill:"url(#colorCompleted)",name:"Obiettivi Completati"})]})})})]}),d.jsxs(Be,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[d.jsxs(Je,{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Gn,{className:"w-5 h-5 text-cyan-500"}),d.jsx(Ze,{children:"Performance Categorie"})]}),d.jsx(kn,{children:"Tasso di successo per categoria"})]}),d.jsx(qe,{className:"h-[300px] sm:h-[350px]",children:d.jsx(dr,{width:"100%",height:"100%",children:d.jsxs(n1,{cx:"50%",cy:"50%",outerRadius:"65%",data:m,children:[d.jsx(oh,{stroke:"#ffffff20"}),d.jsx(Sa,{dataKey:"subject",tick:{fill:"#a1a1aa",fontSize:13,fontWeight:500}}),d.jsx(_o,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),d.jsx(So,{name:"Success Rate",dataKey:"A",stroke:"#06b6d4",fill:"#06b6d4",fillOpacity:.5}),d.jsx(Et,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"},formatter:O=>[`${O}%`,"Successo"]})]})})})]})]}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[d.jsxs(Be,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[d.jsxs(Je,{children:[d.jsx(Ze,{children:"Attivit Trimestrale"}),d.jsx(kn,{children:"Progressione Q1 - Q4"})]}),d.jsx(qe,{className:"h-[300px]",children:d.jsx(dr,{width:"100%",height:"100%",children:d.jsxs(tc,{data:C,children:[d.jsx(Qt,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),d.jsx(Mt,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),d.jsx(Et,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"},cursor:{fill:"#ffffff05"}}),d.jsx(tn,{stroke:"#ffffff10",vertical:!1}),d.jsx(Dt,{dataKey:"total",name:"Pianificati",fill:"#f59e0b",radius:[4,4,0,0],barSize:30,fillOpacity:.7}),d.jsx(Dt,{dataKey:"completed",name:"Completati",fill:"#10b981",radius:[4,4,0,0],barSize:30})]})})})]}),d.jsxs(Be,{className:"bg-card/40 border-white/5 backdrop-blur-sm",children:[d.jsx(Je,{children:d.jsx(Ze,{children:"Attivit Mensile"})}),d.jsx(qe,{className:"h-[300px]",children:d.jsx(dr,{width:"100%",height:"100%",children:d.jsxs(xu,{data:w,children:[d.jsx(Qt,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),d.jsx(Mt,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),d.jsx(Et,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"}}),d.jsx(tn,{stroke:"#ffffff10"}),d.jsx(Dt,{dataKey:"total",barSize:20,fill:"#413ea0",radius:[4,4,0,0],name:"Creati"}),d.jsx(hn,{type:"monotone",dataKey:"completed",stroke:"#ff7300",strokeWidth:2,name:"Completati"})]})})})]}),d.jsxs(Be,{className:"md:col-span-2 bg-card/40 border-white/5 backdrop-blur-sm",children:[d.jsx(Je,{children:d.jsx(Ze,{children:"Distribuzione Categorie"})}),d.jsx(qe,{className:"h-[300px]",children:d.jsx(dr,{width:"100%",height:"100%",children:d.jsxs(U1e,{children:[d.jsx(Ui,{data:b,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:b.map((O,T)=>d.jsx(vl,{fill:O.fill},`cell-${T}`))}),d.jsx(Et,{contentStyle:{backgroundColor:"#1f1f1f",border:"1px solid #333",color:"#fff",borderRadius:"8px"},itemStyle:{color:"#fff"}}),d.jsx(Vr,{formatter:(O,T)=>d.jsx("span",{style:{color:"#ccc"},children:O})})]})})})]})]})]})}function $_e(){const{settings:e,updateSettings:t}=zS(),[r,n]=S.useState({}),[i,a]=S.useState(!1);S.useEffect(()=>{i&&e?.mappings?n(e.mappings):i&&n({})},[i,e]);const o=()=>{t(r),a(!1)},s=(u,f)=>{n(p=>{const h=p[u],v=typeof h=="object"?h.color:nc[u]||"";return{...p,[u]:{label:f,color:v}}})},l=(u,f)=>{n(p=>{const h=p[u],v=typeof h=="object"?h.label:typeof h=="string"?h:Ur[u]||"";return{...p,[u]:{label:v,color:f}}})},c=u=>{const f=r[u];return f?typeof f=="string"?{label:f,color:nc[u]||""}:f:{label:Ur[u]||"",color:nc[u]||""}};return d.jsxs(fp,{open:i,onOpenChange:a,children:[d.jsx(Z1,{asChild:!0,children:d.jsx(Xe,{variant:"outline",size:"icon",title:"Impostazioni Categorie",className:"h-10 w-10 sm:h-9 sm:w-9",children:d.jsx(P6,{className:"w-4 h-4"})})}),d.jsxs(Ou,{className:"sm:max-w-[425px] flex flex-col max-h-[85vh] p-0 gap-0 bg-[#0a0a0a]/90 backdrop-blur-2xl border-white/10 text-foreground",children:[d.jsxs(hp,{className:"p-6 pb-2 shrink-0",children:[d.jsx(Cu,{children:"Personalizza Categorie"}),d.jsx(Pu,{children:"Personalizza i colori e le etichette per i tuoi obiettivi."})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-6 pt-2 space-y-4",children:[d.jsx("div",{className:"space-y-2",children:Array.from(new Set([...Object.keys(Ur),...Object.keys(r)])).filter(u=>{const f=r[u];return!(f&&typeof f!="string"&&f.archived)}).map(u=>{const{label:f,color:p}=c(u),h=u in Ur;return d.jsxs("div",{className:"grid grid-cols-[auto_1fr_auto] items-center gap-3 p-3 rounded-lg bg-white/5 border border-white/5 group",children:[d.jsx(r_,{value:p||"hsl(0 0% 50%)",onChange:v=>l(u,v),showValueLabel:!1,className:"w-10"}),d.jsx(wa,{id:u,value:f,placeholder:Ur[u]||"Nuova Categoria",onChange:v=>s(u,v.target.value),className:"h-9 bg-black/20 border-white/10"}),!h&&d.jsxs(io,{children:[d.jsx(ys,{asChild:!0,children:d.jsx(Xe,{variant:"ghost",size:"icon",className:"h-9 w-9 text-muted-foreground hover:text-destructive opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M3 6h18"}),d.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),d.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})})}),d.jsxs(da,{children:[d.jsxs(fa,{children:[d.jsx(pa,{children:"Sei sicuro?"}),d.jsx(ma,{children:"Questa azione archivier la categoria. Verr rimossa dalle opzioni future, ma lo storico rimarr accessibile."})]}),d.jsxs(ha,{children:[d.jsx(go,{children:"Annulla"}),d.jsx(ga,{onClick:()=>{n(v=>{const m=v[u],g=typeof m=="object"?m.label:typeof m=="string"?m:Ur[u]||"",y=typeof m=="object"?m.color:nc[u]||"";return{...v,[u]:{label:g,color:y||"hsl(0 0% 50%)",archived:!0}}})},children:"Elimina"})]})]})]})]},u)})}),d.jsx(Xe,{variant:"outline",className:"w-full border-dashed border-white/20 hover:border-white/40 hover:bg-white/5",onClick:()=>{const u=`custom_${Date.now()}`;n(f=>({...f,[u]:{label:"Nuova Categoria",color:"hsl(0 0% 50%)"}}))},children:"+ Aggiungi Categoria"})]}),d.jsx(IM,{className:"p-6 pt-2 shrink-0",children:d.jsx(Xe,{type:"submit",onClick:o,className:"w-full",children:"Salva Modifiche"})})]})]})}function L_e(){const e=ja(),[t,r]=S.useState(!1),[n,i]=S.useState(!1);return{exportBackup:async(s={scope:"all"})=>{r(!0);try{const{data:{user:l}}=await be.auth.getUser();if(!l)throw new Error("Not authenticated");let c=be.from("long_term_goals").select("*").eq("user_id",l.id);s.scope==="year"&&s.year&&(c=c.eq("year",s.year));const{data:u,error:f}=await c;if(f)throw f;const{data:p,error:h}=await be.from("goal_category_settings").select("*").eq("user_id",l.id).single();if(h&&h.code!=="PGRST116")throw h;const v={version:1,timestamp:new Date().toISOString(),goals:u||[],settings:p||null},m=s.scope==="all"?`habit_tracker_FULL_backup_${new Date().toISOString().split("T")[0]}.json`:`habit_tracker_${s.year}_backup.json`,g=new Blob([JSON.stringify(v,null,2)],{type:"application/json"}),y=URL.createObjectURL(g),b=document.createElement("a");b.href=y,b.download=m,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(y),Ue.success("Backup scaricato con successo")}catch(l){console.error("Export failed:",l),Ue.error(`Errore durante l'export: ${l.message}`)}finally{r(!1)}},importBackup:async s=>(i(!0),new Promise(l=>{const c=new FileReader;c.onload=async u=>{try{const f=u.target?.result;if(!f){l(null);return}const p=JSON.parse(f);if(!p.version||!Array.isArray(p.goals))throw new Error("Formato file non valido (manca versione o goals)");const{data:{user:h}}=await be.auth.getUser();if(!h)throw new Error("Not authenticated");const{data:v,error:m}=await be.from("long_term_goals").select("*").eq("user_id",h.id);if(m)throw m;const g=new Map(v?.map(k=>[k.id,k])),y=new Set,b=[],x=[];let _=0;const w=[];for(const k of p.goals){let C={...k};!C.status&&C.is_completed!==void 0?(C.status=C.is_completed?"completed":"active",delete C.is_completed):C.status||(C.status="active");let P={...C,user_id:h.id},O=g.get(P.id);if(!O){const T=v?.find(N=>!y.has(N.id)&&N.title===P.title&&N.type===P.type&&N.year===P.year);T&&(O=T,P.id=T.id)}O?(y.add(O.id),O.title!==P.title||O.status!==P.status||O.type!==P.type||O.year!==P.year||O.month!==P.month||O.week_number!==P.week_number||O.color!==P.color?(x.push(P),w.push(P)):_++):(b.push(P),w.push(P))}if(w.length>0){const{error:k}=await be.from("long_term_goals").upsert(w);if(k)throw k}let j=!1;if(p.settings){const{data:k}=await be.from("goal_category_settings").select("*").eq("user_id",h.id).single(),C=k,P={user_id:h.id,mappings:p.settings.mappings};(!C||JSON.stringify(C.mappings)!==JSON.stringify(P.mappings))&&(C?await be.from("goal_category_settings").update({mappings:P.mappings}).eq("id",C.id):await be.from("goal_category_settings").insert(P),j=!0)}await e.invalidateQueries({queryKey:["longTermGoals"]}),await e.invalidateQueries({queryKey:["goalCategorySettings"]}),l({totalProcessed:p.goals.length,restored:b,updated:x,unchanged:_,settingsUpdated:j})}catch(f){console.error("Import failed:",f),Ue.error(`Errore durante l'importazione: ${f.message}`),l(null)}finally{i(!1)}},c.readAsText(s)})),isExporting:t,isImporting:n}}var qS="Radio",[F_e,kz]=Or(qS),[B_e,z_e]=F_e(qS),Ez=S.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:a,disabled:o,value:s="on",onCheck:l,form:c,...u}=e,[f,p]=S.useState(null),h=$e(t,g=>p(g)),v=S.useRef(!1),m=f?c||!!f.closest("form"):!0;return d.jsxs(B_e,{scope:r,checked:i,disabled:o,children:[d.jsx(Ee.button,{type:"button",role:"radio","aria-checked":i,"data-state":Pz(i),"data-disabled":o?"":void 0,disabled:o,value:s,...u,ref:h,onClick:ke(e.onClick,g=>{i||l?.(),m&&(v.current=g.isPropagationStopped(),v.current||g.stopPropagation())})}),m&&d.jsx(Cz,{control:f,bubbles:!v.current,name:n,value:s,checked:i,required:a,disabled:o,form:c,style:{transform:"translateX(-100%)"}})]})});Ez.displayName=qS;var Az="RadioIndicator",Oz=S.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...i}=e,a=z_e(Az,r);return d.jsx(Mi,{present:n||a.checked,children:d.jsx(Ee.span,{"data-state":Pz(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t})})});Oz.displayName=Az;var q_e="RadioBubbleInput",Cz=S.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...i},a)=>{const o=S.useRef(null),s=$e(o,a),l=Op(r),c=Hh(t);return S.useEffect(()=>{const u=o.current;if(!u)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&h){const v=new Event("click",{bubbles:n});h.call(u,r),u.dispatchEvent(v)}},[l,r,n]),d.jsx(Ee.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Cz.displayName=q_e;function Pz(e){return e?"checked":"unchecked"}var U_e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],gm="RadioGroup",[W_e]=Or(gm,[Ep,kz]),Tz=Ep(),Nz=kz(),[H_e,V_e]=W_e(gm),Rz=S.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:a,required:o=!1,disabled:s=!1,orientation:l,dir:c,loop:u=!0,onValueChange:f,...p}=e,h=Tz(r),v=cl(c),[m,g]=ri({prop:a,defaultProp:i??null,onChange:f,caller:gm});return d.jsx(H_e,{scope:r,name:n,required:o,disabled:s,value:m,onValueChange:g,children:d.jsx(sL,{asChild:!0,...h,orientation:l,dir:v,loop:u,children:d.jsx(Ee.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":s?"":void 0,dir:v,...p,ref:t})})})});Rz.displayName=gm;var Iz="RadioGroupItem",Dz=S.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...i}=e,a=V_e(Iz,r),o=a.disabled||n,s=Tz(r),l=Nz(r),c=S.useRef(null),u=$e(t,c),f=a.value===i.value,p=S.useRef(!1);return S.useEffect(()=>{const h=m=>{U_e.includes(m.key)&&(p.current=!0)},v=()=>p.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",v)}},[]),d.jsx(lL,{asChild:!0,...s,focusable:!o,active:f,children:d.jsx(Ez,{disabled:o,required:a.required,checked:f,...l,...i,name:a.name,ref:u,onCheck:()=>a.onValueChange(i.value),onKeyDown:ke(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:ke(i.onFocus,()=>{p.current&&c.current?.click()})})})});Dz.displayName=Iz;var K_e="RadioGroupIndicator",Mz=S.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,i=Nz(r);return d.jsx(Oz,{...i,...n,ref:t})});Mz.displayName=K_e;var $z=Rz,Lz=Dz,G_e=Mz;const Fz=S.forwardRef(({className:e,...t},r)=>d.jsx($z,{className:ae("grid gap-2",e),...t,ref:r}));Fz.displayName=$z.displayName;const c1=S.forwardRef(({className:e,...t},r)=>d.jsx(Lz,{ref:r,className:ae("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:d.jsx(G_e,{className:"flex items-center justify-center",children:d.jsx(u6,{className:"h-2.5 w-2.5 fill-current text-current"})})}));c1.displayName=Lz.displayName;function Y_e(){const[e,t]=S.useState(new Date().getFullYear().toString()),[r,n]=S.useState(sV(new Date)),[i,a]=S.useState(new Date().getMonth()+1),[o,s]=S.useState(p7(new Date,{weekStartsOn:1})),[l,c]=S.useState("weekly"),[u,f]=S.useState("all"),[p,h]=S.useState(null),[v,m]=S.useState(""),[g,y]=S.useState(null),b=ja(),[x,_]=S.useState({}),w=S.useRef({});S.useEffect(()=>()=>{Object.values(w.current).forEach(clearTimeout)},[]);const{getLabel:j,getColor:k,activeCategoryLabels:C}=zS(),{isPrivacyMode:P}=ip(),O=A=>{const K=k(A);return K?K.startsWith("hsl")?{backgroundColor:K.replace(")"," / 0.15)"),borderColor:K.replace(")"," / 0.3)")}:{borderColor:K}:{}},T=A=>k(A)||"transparent",N=A=>"bg-card/20 border-white/5 hover:bg-card/40 relative overflow-hidden",D=[{value:1,label:"1 Trimestre (Q1)"},{value:2,label:"2 Trimestre (Q2)"},{value:3,label:"3 Trimestre (Q3)"},{value:4,label:"4 Trimestre (Q4)"}],E=Object.keys(C).sort((A,K)=>{const V=["red","orange","yellow","green","blue","purple","pink","cyan"],W=V.indexOf(A),q=V.indexOf(K);return W!==-1&&q!==-1?W-q:W!==-1?-1:q!==-1?1:A.localeCompare(K)}),{data:R,isLoading:B}=ii({queryKey:["longTermGoals",l,e,r,i,o],queryFn:async()=>{let A=be.from("long_term_goals").select("*").eq("type",l).order("status",{ascending:!0}).order("color",{ascending:!0}).order("created_at",{ascending:!0});e!=="all"&&l!=="lifetime"&&(A=A.eq("year",parseInt(e))),l==="quarterly"?A=A.eq("quarter",r):l==="monthly"?A=A.eq("month",i):l==="weekly"&&(A=A.eq("month",i).eq("week_number",o));const{data:K,error:V}=await A;if(V)throw V;return K},enabled:l!=="stats"}),F=an({mutationFn:async({title:A,color:K})=>{const{data:{user:V}}=await be.auth.getUser();if(!V)throw new Error("Not authenticated");const W={user_id:V.id,title:A,type:l,year:l==="lifetime"?null:e==="all"?new Date().getFullYear():parseInt(e),quarter:l==="quarterly"?r:null,month:l==="monthly"||l==="weekly"?i:null,week_number:l==="weekly"?o:null,status:"active",color:K},{data:q,error:G}=await be.from("long_term_goals").insert(W).select().single();if(G)throw G;return q},onSuccess:()=>{m(""),y(null),b.invalidateQueries({queryKey:["longTermGoals"]}),Ue.success("Obiettivo creato!")},onError:A=>{Ue.error(`Errore durante la creazione: ${A.message}`)}}),U=an({mutationFn:async({id:A,status:K})=>{const{error:V}=await be.from("long_term_goals").update({status:K}).eq("id",A);if(V)throw V},onSuccess:()=>{b.invalidateQueries({queryKey:["longTermGoals"]})}}),L=an({mutationFn:async({id:A,color:K})=>{const{error:V}=await be.from("long_term_goals").update({color:K}).eq("id",A);if(V)throw V},onSuccess:()=>{b.invalidateQueries({queryKey:["longTermGoals"]})},onError:()=>{Ue.error("Errore aggiornamento colore")}}),M=an({mutationFn:async A=>{const{error:K}=await be.from("long_term_goals").delete().eq("id",A);if(K)throw K},onSuccess:()=>{b.invalidateQueries({queryKey:["longTermGoals"]}),Ue.success("Obiettivo eliminato")}}),H=A=>{A.preventDefault(),v.trim()&&F.mutate({title:v,color:g})},z=S.useRef(null),{exportBackup:$,importBackup:Q,isExporting:Z,isImporting:fe}=L_e(),le=()=>{z.current?.click()},ue=async A=>{const K=A.target.files?.[0];if(!K)return;const V=await Q(K);V&&h(V),z.current&&(z.current.value="")},ee=[{value:1,label:"Gennaio"},{value:2,label:"Febbraio"},{value:3,label:"Marzo"},{value:4,label:"Aprile"},{value:5,label:"Maggio"},{value:6,label:"Giugno"},{value:7,label:"Luglio"},{value:8,label:"Agosto"},{value:9,label:"Settembre"},{value:10,label:"Ottobre"},{value:11,label:"Novembre"},{value:12,label:"Dicembre"}],{data:te}=ii({queryKey:["longTermGoals","minYear"],queryFn:async()=>{const{data:A,error:K}=await be.from("long_term_goals").select("year").order("year",{ascending:!0}).limit(1).single();return K&&K.code!=="PGRST116"&&console.error("Error fetching min year:",K),A?.year||2022}}),ce=te||2022,J=new Date().getFullYear(),ne=Array.from({length:J+5-ce+1},(A,K)=>ce+K);return d.jsxs("div",{className:"space-y-6 animate-fade-in p-2 md:p-0",children:[d.jsx(io,{open:!!p,onOpenChange:A=>!A&&h(null),children:d.jsxs(da,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[d.jsxs(fa,{children:[d.jsx(pa,{children:"Rapporto Importazione"}),d.jsx(ma,{children:"Ecco il dettaglio delle modifiche apportate ai tuoi dati."})]}),d.jsxs("div",{className:"space-y-6 py-4",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500/20 rounded-xl flex flex-col items-center justify-center text-center",children:[d.jsx("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:p?.restored.length||0}),d.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mt-1",children:"Nuovi"})]}),d.jsxs("div",{className:"p-4 bg-amber-500/10 border border-amber-500/20 rounded-xl flex flex-col items-center justify-center text-center",children:[d.jsx("span",{className:"text-3xl font-bold text-amber-600 dark:text-amber-400",children:p?.updated.length||0}),d.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mt-1",children:"Modificati"})]}),d.jsxs("div",{className:"p-4 bg-slate-500/10 border border-slate-500/20 rounded-xl flex flex-col items-center justify-center text-center opacity-70",children:[d.jsx("span",{className:"text-3xl font-bold text-slate-600 dark:text-slate-400",children:p?.unchanged||0}),d.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mt-1",children:"Invariati"})]})]}),p?.settingsUpdated&&d.jsxs("div",{className:"flex items-center gap-3 text-sm text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20 dark:text-yellow-400 p-3 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[d.jsx("span",{className:"flex h-2 w-2 rounded-full bg-yellow-500 animate-pulse"}),d.jsx("span",{children:"Le impostazioni delle categorie sono state aggiornate con successo."})]}),d.jsxs("div",{className:"space-y-6",children:[p?.restored&&p.restored.length>0&&d.jsxs("div",{className:"space-y-3",children:[d.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-green-600 dark:text-green-400",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-current"}),"Elementi Aggiunti / Ripristinati"]}),d.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-green-100 dark:border-green-900/30",children:Object.entries(p.restored.reduce((A,K)=>{const V=j(K.color||"default");return A[V]||(A[V]=[]),A[V].push(K),A},{})).map(([A,K])=>d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"text-xs font-bold uppercase text-muted-foreground tracking-widest",children:A}),d.jsx("div",{className:"grid gap-2",children:K.map(V=>d.jsxs("div",{className:"bg-secondary/40 p-3 rounded-md flex justify-between items-start gap-3 text-sm",children:[d.jsx("span",{className:"font-medium",children:V.title}),d.jsxs("span",{className:"shrink-0 text-xs px-2 py-0.5 bg-background rounded border opacity-70",children:[V.year,"  ",V.type]})]},V.id))})]},A))})]}),p?.updated&&p.updated.length>0&&d.jsxs("div",{className:"space-y-3",children:[d.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-amber-600 dark:text-amber-400",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-current"}),"Elementi Aggiornati"]}),d.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-amber-100 dark:border-amber-900/30",children:Object.entries(p.updated.reduce((A,K)=>{const V=j(K.color||"default");return A[V]||(A[V]=[]),A[V].push(K),A},{})).map(([A,K])=>d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"text-xs font-bold uppercase text-muted-foreground tracking-widest",children:A}),d.jsx("div",{className:"grid gap-2",children:K.map(V=>d.jsxs("div",{className:"bg-secondary/40 p-3 rounded-md flex justify-between items-start gap-3 text-sm",children:[d.jsx("span",{className:"font-medium",children:V.title}),d.jsxs("span",{className:"shrink-0 text-xs px-2 py-0.5 bg-background rounded border opacity-70",children:[V.year,"  ",V.type]})]},V.id))})]},A))})]})]})]}),d.jsx(ha,{children:d.jsx(ga,{onClick:()=>h(null),children:"Chiudi Report"})})]})}),d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"flex justify-center w-full",children:d.jsx(us,{value:l,onValueChange:A=>c(A),className:"w-full max-w-2xl",children:d.jsxs(ao,{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 w-full h-auto p-1 bg-secondary/30 backdrop-blur-sm border border-white/5 gap-1",children:[d.jsx(gt,{value:"lifetime",className:"w-full col-span-2 sm:col-span-1",children:"Lifetime"}),d.jsx(gt,{value:"annual",className:"w-full",children:"Annuale"}),d.jsx(gt,{value:"quarterly",className:"w-full",children:"Trimestrale"}),d.jsx(gt,{value:"monthly",className:"w-full",children:"Mensile"}),d.jsx(gt,{value:"weekly",className:"w-full",children:"Settimanale"}),d.jsxs(gt,{value:"stats",className:"w-full gap-2 col-span-2 sm:col-span-1",children:[d.jsx(p1,{className:"w-4 h-4"})," Stats"]})]})})}),d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 p-4 rounded-2xl bg-card/40 border border-white/5 backdrop-blur-xl transition-all duration-300",children:[d.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start items-center gap-2 w-full md:w-auto",children:[d.jsxs(Wn,{value:e,onValueChange:A=>t(A),children:[d.jsx(On,{className:"w-[120px] bg-background/40 border-white/5",children:d.jsx(sa,{placeholder:"Anno"})}),d.jsxs(Cn,{children:[d.jsxs($t,{value:"all",className:"font-bold text-primary",children:["Dal ",ce]}),ne.map(A=>d.jsx($t,{value:A.toString(),className:ae(A<J&&"text-muted-foreground italic"),children:A},A))]})]}),l==="quarterly"&&d.jsxs(Wn,{value:r.toString(),onValueChange:A=>n(parseInt(A)),children:[d.jsx(On,{className:"w-[160px] bg-background/40 border-white/5",children:d.jsx(sa,{placeholder:"Trimestre"})}),d.jsx(Cn,{children:D.map(A=>d.jsx($t,{value:A.value.toString(),children:A.label},A.value))})]}),(l==="monthly"||l==="weekly")&&d.jsxs(Wn,{value:i.toString(),onValueChange:A=>{a(parseInt(A)),s(1)},children:[d.jsx(On,{className:"w-[140px] bg-background/40 border-white/5",children:d.jsx(sa,{placeholder:"Mese"})}),d.jsx(Cn,{children:ee.map(A=>d.jsx($t,{value:A.value.toString(),className:ae(e!=="all"&&parseInt(e)<J||e===J.toString()&&A.value<new Date().getMonth()+1&&"text-muted-foreground italic"),children:A.label},A.value))})]}),l==="weekly"&&d.jsxs(Wn,{value:o.toString(),onValueChange:A=>s(parseInt(A)),children:[d.jsx(On,{className:"w-[140px] bg-background/40 border-white/5",children:d.jsx(sa,{placeholder:"Settimana"})}),d.jsx(Cn,{children:Array.from({length:g7(new Date(e==="all"?J:parseInt(e),i-1,1),{weekStartsOn:1})},(A,K)=>K+1).map(A=>d.jsxs($t,{value:A.toString(),className:ae(e!=="all"&&parseInt(e)<J||e===J.toString()&&i<new Date().getMonth()+1&&"text-muted-foreground italic"),children:["Settimana ",A]},A))})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(io,{children:[d.jsx(ys,{asChild:!0,children:d.jsx(Xe,{variant:"ghost",size:"icon",className:"hover:bg-white/5",title:"Esporta Backup (JSON)",children:d.jsx(zh,{className:"w-4 h-4 text-muted-foreground"})})}),d.jsxs(da,{className:"sm:max-w-md",children:[d.jsxs(fa,{children:[d.jsx(pa,{children:"Backup Obiettivi"}),d.jsx(ma,{children:"Crea un backup dei tuoi obiettivi e impostazioni. I file sono in formato JSON."})]}),d.jsx("div",{className:"py-4",children:d.jsxs(Fz,{value:u,onValueChange:A=>f(A),children:[d.jsxs("div",{className:"flex items-center space-x-2 border p-3 rounded-lg hover:bg-accent cursor-pointer",onClick:()=>f("all"),children:[d.jsx(c1,{value:"all",id:"r1"}),d.jsxs(Mn,{htmlFor:"r1",className:"cursor-pointer flex-1",children:[d.jsx("div",{className:"font-medium",children:"Esporta Tutto"}),d.jsx("div",{className:"text-xs text-muted-foreground",children:"Tutti gli anni, mesi e impostazioni"})]})]}),d.jsxs("div",{className:"flex items-center space-x-2 border p-3 rounded-lg hover:bg-accent cursor-pointer",onClick:()=>f("year"),children:[d.jsx(c1,{value:"year",id:"r2"}),d.jsxs(Mn,{htmlFor:"r2",className:"cursor-pointer flex-1",children:[d.jsxs("div",{className:"font-medium",children:["Solo ",e==="all"?J:e]}),d.jsx("div",{className:"text-xs text-muted-foreground",children:"Solo obiettivi di questo anno e impostazioni"})]})]})]})}),d.jsxs(ha,{children:[d.jsx(go,{children:"Annulla"}),d.jsxs(ga,{onClick:()=>$({scope:u,year:e==="all"?J:parseInt(e)}),disabled:Z,children:[Z?d.jsx(Tn,{className:"w-4 h-4 animate-spin mr-2"}):null,"Scarica Backup"]})]})]})]}),d.jsx(Xe,{variant:"ghost",size:"icon",className:"hover:bg-white/5",title:"Ripristina da Backup (JSON)",onClick:le,disabled:fe,children:fe?d.jsx(Tn,{className:"w-4 h-4 animate-spin"}):d.jsx($R,{className:"w-4 h-4 text-muted-foreground"})}),d.jsx("input",{type:"file",ref:z,onChange:ue,accept:".json",className:"hidden"}),d.jsx("div",{className:"ml-1",children:d.jsx($_e,{})})]})]}),l!=="stats"&&d.jsxs("div",{className:ae("text-2xl font-bold tracking-tight text-white flex items-center gap-3 transition-all duration-300 pl-2",P&&"blur-sm"),children:[l==="lifetime"&&d.jsx("span",{className:"text-emerald-400",children:"Lifetime"}),l==="annual"&&d.jsx("span",{className:"text-primary",children:e==="all"?"Tutti gli anni":e}),l==="quarterly"&&d.jsxs("span",{className:"text-amber-500",children:["Q",r," ",e!=="all"&&e]}),l==="monthly"&&d.jsx("span",{className:"text-blue-400",children:ee.find(A=>A.value===i)?.label}),l==="weekly"&&d.jsxs("span",{className:"text-purple-400",children:["Settimana ",o]}),d.jsx("span",{className:"text-muted-foreground text-lg font-normal",children:l==="lifetime"?"Obiettivi a Lungo Termine":l==="annual"?"Obiettivi Annuali":l==="quarterly"?"Obiettivi Trimestrali":l==="monthly"?"Obiettivi Mensili":"Obiettivi Settimanali"})]})]}),l==="stats"?d.jsx(M_e,{year:e}):d.jsxs("div",{className:ae("transition-all duration-300",P&&"blur-sm"),children:[d.jsxs("form",{onSubmit:H,className:"flex gap-2",children:[d.jsx(wa,{className:"flex-1 bg-background/50",placeholder:`Aggiungi obiettivo ${l==="lifetime"?"lifetime":l==="annual"?"annuale":l==="quarterly"?"trimestrale":l==="monthly"?"mensile":"settimanale"}...`,value:v,onChange:A=>m(A.target.value)}),d.jsxs(Wn,{value:g||"null",onValueChange:A=>y(A==="null"?null:A),children:[d.jsx(On,{className:"w-[50px] px-2 bg-background/50 border-input",children:d.jsx("div",{className:"flex items-center justify-center w-full",children:d.jsx("div",{className:"w-4 h-4 rounded-full border border-white/10",style:{backgroundColor:g?T(g):"transparent"}})})}),d.jsxs(Cn,{align:"end",children:[d.jsx($t,{value:"null",children:"Nessun Colore"}),E.map(A=>d.jsx($t,{value:A,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full border border-white/10",style:{backgroundColor:T(A)}}),j(A)]})},A))]})]}),d.jsx(Xe,{type:"submit",disabled:F.isPending,children:F.isPending?d.jsx(Tn,{className:"w-4 h-4 animate-spin"}):d.jsx(A0,{className:"w-4 h-4"})})]}),d.jsx("div",{className:"space-y-2 mt-2",children:B?d.jsx("div",{className:"flex justify-center p-8 text-muted-foreground",children:d.jsx(Tn,{className:"w-6 h-6 animate-spin"})}):R?.length===0?d.jsx("div",{className:"text-center p-8 border border-dashed border-white/10 rounded-xl text-muted-foreground",children:"Nessun obiettivo impostato per questo periodo."}):R?.map((A,K)=>{const V=x[A.id]||A.status,W=R[K-1],q=A.status==="completed"&&(!W||W.status!=="completed"),G=A.status==="failed"&&(!W||W.status!=="failed"),ie=()=>{w.current[A.id]&&clearTimeout(w.current[A.id]);const re=x[A.id]||A.status,X=re==="active"?"completed":re==="completed"?"failed":"active";_(de=>({...de,[A.id]:X})),w.current[A.id]=setTimeout(()=>{U.mutate({id:A.id,status:X},{onSuccess:()=>{_(de=>{const ve={...de};return delete ve[A.id],ve}),delete w.current[A.id]}})},2e3)};return d.jsxs("div",{children:[q&&d.jsxs("div",{className:"flex items-center gap-4 py-6",children:[d.jsx("div",{className:"h-px bg-white/10 flex-1"}),d.jsx("span",{className:"text-xs font-medium text-emerald-500/70 uppercase tracking-widest",children:"Completati"}),d.jsx("div",{className:"h-px bg-white/10 flex-1"})]}),G&&d.jsxs("div",{className:"flex items-center gap-4 py-6",children:[d.jsx("div",{className:"h-px bg-white/10 flex-1"}),d.jsx("span",{className:"text-xs font-medium text-destructive/70 uppercase tracking-widest",children:"Falliti"}),d.jsx("div",{className:"h-px bg-white/10 flex-1"})]}),d.jsxs("div",{className:ae("group flex items-center gap-3 p-4 rounded-xl border transition-all duration-300",V==="completed"?"opacity-60 bg-emerald-500/5 border-emerald-500/10":V==="failed"?"opacity-60 bg-destructive/5 border-destructive/10":N(A.color)),style:V==="active"?O(A.color):{},children:[d.jsxs("div",{onClick:ie,className:ae("w-5 h-5 rounded flex items-center justify-center border cursor-pointer transition-all duration-300 hover:scale-110",V==="active"&&"border-white/20 hover:border-white/40",V==="completed"&&"bg-emerald-500 border-emerald-500 text-white",V==="failed"&&"bg-destructive border-destructive text-white"),children:[V==="active"&&d.jsx("div",{className:"w-full h-full"}),V==="completed"&&d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-in zoom-in duration-200",children:d.jsx("polyline",{points:"20 6 9 17 4 12"})}),V==="failed"&&d.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-in zoom-in duration-200",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})]}),d.jsx("span",{className:ae("flex-1 font-medium transition-all cursor-pointer duration-300 min-w-0 break-words",V==="completed"&&"text-emerald-500/80 line-through",V==="failed"&&"text-destructive/80 line-through",V==="active"&&"text-foreground"),onClick:ie,children:A.title}),d.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsxs(Wn,{value:A.color||"null",onValueChange:re=>L.mutate({id:A.id,color:re==="null"?null:re}),children:[d.jsx(On,{className:"w-[30px] h-[30px] p-0 border-0 bg-transparent focus:ring-0",children:d.jsx("div",{className:"w-4 h-4 rounded-full border border-white/10",style:{backgroundColor:A.color?T(A.color):"rgba(255,255,255,0.2)"}})}),d.jsxs(Cn,{align:"end",children:[d.jsx($t,{value:"null",children:"Nessun Colore"}),E.map(re=>d.jsx($t,{value:re,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full border border-white/10",style:{backgroundColor:T(re)}}),j(re)]})},re))]})]}),d.jsxs(io,{children:[d.jsx(ys,{asChild:!0,children:d.jsx(Xe,{variant:"ghost",size:"icon",className:"text-destructive hover:bg-destructive/10 hover:text-destructive h-8 w-8",children:d.jsx(v1,{className:"w-4 h-4"})})}),d.jsxs(da,{children:[d.jsxs(fa,{children:[d.jsx(pa,{children:"Eliminare questo obiettivo?"}),d.jsx(ma,{children:"Questa azione non pu essere annullata. L'obiettivo verr rimosso permanentemente."})]}),d.jsxs(ha,{children:[d.jsx(go,{children:"Annulla"}),d.jsx(ga,{onClick:()=>M.mutate(A.id),children:"Elimina"})]})]})]})]})]})]},A.id)})})]})]})}const X_e=()=>d.jsxs("div",{className:"flex-1 min-h-dvh flex flex-col pt-8 pb-12 px-4 sm:px-8 animate-fade-in relative z-10 w-full max-w-[1200px] mx-auto",children:[d.jsx("div",{className:"fixed top-[-20%] right-[-10%] w-[50%] h-[50%] bg-purple-500/5 blur-[120px] rounded-full pointer-events-none -z-10"}),d.jsx("div",{className:"mb-8 flex items-center justify-between",children:d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-display font-bold text-foreground",children:"Macro Obiettivi"}),d.jsx("p",{className:"text-muted-foreground",children:"Pianificazione a lungo termine."})]})}),d.jsx("div",{className:"glass-panel p-6 rounded-2xl min-h-[600px]",children:d.jsx(Y_e,{})})]}),Q_e=wu("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),lo=S.forwardRef(({className:e,variant:t,...r},n)=>d.jsx("div",{ref:n,role:"alert",className:ae(Q_e({variant:t}),e),...r}));lo.displayName="Alert";const Yd=S.forwardRef(({className:e,...t},r)=>d.jsx("h5",{ref:r,className:ae("mb-1 font-medium leading-none tracking-tight",e),...t}));Yd.displayName="AlertTitle";const co=S.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:ae("text-sm [&_p]:leading-relaxed",e),...t}));co.displayName="AlertDescription";const US="http://localhost:11434";async function J_e(){try{return(await fetch(`${US}/api/tags`,{method:"GET"})).ok}catch{return!1}}async function Z_e(){try{const e=await fetch(`${US}/api/tags`);if(!e.ok)throw new Error("Failed to fetch models");return(await e.json()).models||[]}catch(e){return console.error("Failed to list models:",e),[]}}async function eSe(e,t,r="weekly",n,i){try{let a="";switch(r){case"weekly":a=`Analizza l'ultima settimana e fornisci:
1. **Risultati Chiave**: I 2-3 principali successi della settimana
2. **Pattern Identificati**: Tendenze e comportamenti ricorrenti (es: "fatica il luned", "ottimo nei weekend")
3. **Suggerimento Principale**: Un'azione concreta e specifica da implementare la prossima settimana`;break;case"monthly":a=`Analizza l'ultimo mese e fornisci:
1. **Panoramica Mensile**: Progressi generali e trend del mese
2. **Abitudini Consolidate**: Quali abitudini sono diventate pi solide
3. **Aree di Miglioramento**: Quali abitudini necessitano pi attenzione
4. **Piano per il Prossimo Mese**: 2-3 obiettivi concreti`;break;case"focus":a=`Fornisci un'analisi rapida e mirata:
1. **Stato Attuale**: Snapshot della situazione odierna
2. **Area Critica**: L'abitudine che necessita attenzione immediata
3. **Quick Win**: Un'azione veloce per oggi che pu fare la differenza`;break}const o=`Sei un coach personale esperto in abitudini e produttivit. ${a}

Usa un tono motivante ma realistico. Sii specifico e basati solo sui dati forniti. Rispondi in italiano.

DATI ABITUDINI:
${e}

REPORT:`,s=await fetch(`${US}/api/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:t,prompt:o,stream:!!n}),signal:i});if(!s.ok)throw new Error(`Ollama API error: ${s.statusText}`);if(n&&s.body){const l=s.body.getReader(),c=new TextDecoder;let u="";for(;;){const{done:f,value:p}=await l.read();if(f)break;const v=c.decode(p).split(`
`).filter(m=>m.trim());for(const m of v)try{const g=JSON.parse(m);g.response&&(u+=g.response,n(g.response))}catch{}}return u}else return(await s.json()).response||""}catch(a){throw a.name==="AbortError"?new Error("Generazione interrotta dall'utente"):(console.error("Failed to generate coach report:",a),a)}}function tSe(e,t,r){const n=Object.keys(t).slice(-7);let i=`### Abitudini Tracciate (${e.length})
`;return e.forEach(a=>{i+=`- ${a.title}
`}),i+=`
### Performance Ultimi 7 Giorni
`,n.forEach(a=>{const o=t[a],s=Object.values(o).filter(c=>c==="done").length,l=Object.keys(o).length;i+=`- ${a}: ${s}/${l} completate
`}),i+=`
### Statistiche Globali
`,i+=`- Tasso di successo: ${r.globalSuccessRate}%
`,i+=`- Migliore streak: ${r.bestStreak} giorni
`,i+=`- Giorni attivi totali: ${r.totalActiveDays}
`,i}const rSe=()=>{const{goals:e,logs:t}=H1(),r=s3(e,t,"weekly"),{isPrivacyMode:n}=ip(),{isAIEnabled:i}=Xh(),a=S.useRef(null),[o,s]=S.useState([]),[l,c]=S.useState(""),[u,f]=S.useState("weekly"),[p,h]=S.useState(!0),[v,m]=S.useState(!1),[g,y]=S.useState(!1),[b,x]=S.useState(""),[_,w]=S.useState(""),[j,k]=S.useState(0);S.useEffect(()=>{C()},[]),S.useEffect(()=>{if(o.length>0){const B=localStorage.getItem("ollama_preferred_model");B&&o.find(F=>F.name===B)?c(B):c(o[0].name)}const R=localStorage.getItem("ollama_report_type");R&&["weekly","monthly","focus"].includes(R)&&f(R)},[o]),S.useEffect(()=>{if(_){const R=_.trim().split(/\s+/).length;k(R)}},[_]);const C=async()=>{h(!0);try{const R=await J_e();if(m(R),R){const B=await Z_e();s(B),B.length===0&&Ue.error("Nessun modello installato. Esegui: ollama pull llama3.2")}}catch(R){console.error("Failed to check Ollama:",R)}finally{h(!1)}},P=async()=>{if(!l){Ue.error("Seleziona un modello prima di generare il report");return}y(!0),x(""),w(""),k(0),a.current=new AbortController;try{const R=tSe(e,t,r),B=await eSe(R,l,u,F=>{w(U=>U+F)},a.current.signal);x(B),Ue.success("Report generato con successo!")}catch(R){console.error("Failed to generate report:",R),R.message?.includes("interrotta")?Ue.info("Generazione interrotta"):Ue.error("Errore durante la generazione del report")}finally{y(!1),a.current=null}},O=()=>{a.current&&(a.current.abort(),y(!1),Ue.info("Generazione arrestata"))},T=R=>{c(R),localStorage.setItem("ollama_preferred_model",R)},N=R=>{f(R),localStorage.setItem("ollama_report_type",R)},D=()=>{if(!b)return;const R=new Blob([b],{type:"text/markdown"}),B=window.URL.createObjectURL(R),F=document.createElement("a");F.href=B,F.download=`ai-coach-report-${u}-${new Date().toISOString().split("T")[0]}.md`,document.body.appendChild(F),F.click(),window.URL.revokeObjectURL(B),document.body.removeChild(F),Ue.success("Report esportato!")},E=R=>(R/1073741824).toFixed(1)+" GB";return i?d.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-4xl animate-fade-in pb-32 space-y-6",children:[d.jsx("div",{className:"fixed top-20 left-1/2 -translate-x-1/2 w-[800px] h-[800px] bg-primary/5 blur-[120px] rounded-full pointer-events-none -z-10"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("h1",{className:"text-2xl sm:text-3xl font-display font-bold text-foreground flex items-center gap-3",children:[d.jsx(ki,{className:"w-8 h-8 text-primary"}),"AI Coach"]}),d.jsx("p",{className:"text-muted-foreground font-light text-sm sm:text-base",children:"Analisi intelligente delle tue abitudini con Ollama"})]}),p?d.jsxs(lo,{children:[d.jsx(Tn,{className:"h-4 w-4 animate-spin"}),d.jsx(co,{children:"Controllo Ollama..."})]}):v?o.length===0?d.jsxs(lo,{variant:"destructive",children:[d.jsx(Jd,{className:"h-4 w-4"}),d.jsxs(co,{children:["Nessun modello installato. Esegui: ",d.jsx("code",{className:"bg-black/20 px-2 py-1 rounded",children:"ollama pull llama3.2"})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs(Be,{className:"glass-panel",children:[d.jsxs(Je,{children:[d.jsxs(Ze,{className:"text-lg flex items-center gap-2",children:[d.jsx(f6,{className:"w-5 h-5"}),"Configura Analisi"]}),d.jsx(kn,{children:"Seleziona modello e tipo di report"})]}),d.jsxs(qe,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Tipo di Report"}),d.jsxs(Wn,{value:u,onValueChange:N,children:[d.jsx(On,{className:"glass-panel border-white/10",children:d.jsx(sa,{})}),d.jsxs(Cn,{children:[d.jsx($t,{value:"weekly",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(g1,{className:"w-4 h-4"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:"Settimanale"}),d.jsx("div",{className:"text-xs text-muted-foreground",children:"Analisi ultimi 7 giorni"})]})]})}),d.jsx($t,{value:"monthly",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(uo,{className:"w-4 h-4"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:"Mensile"}),d.jsx("div",{className:"text-xs text-muted-foreground",children:"Panoramica del mese"})]})]})}),d.jsx($t,{value:"focus",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ju,{className:"w-4 h-4"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:"Focus Rapido"}),d.jsx("div",{className:"text-xs text-muted-foreground",children:"Analisi mirata immediata"})]})]})})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Modello AI"}),d.jsxs(Wn,{value:l,onValueChange:T,children:[d.jsx(On,{className:"glass-panel border-white/10",children:d.jsx(sa,{placeholder:"Seleziona modello"})}),d.jsx(Cn,{children:o.map(R=>d.jsx($t,{value:R.name,children:d.jsxs("div",{className:"flex items-center justify-between gap-3",children:[d.jsx("span",{className:"font-medium",children:R.name}),d.jsx("span",{className:"text-xs text-muted-foreground",children:E(R.size)})]})},R.name))})]})]}),d.jsx("div",{className:"flex gap-2",children:g?d.jsxs(Xe,{onClick:O,variant:"destructive",className:"flex-1",size:"lg",children:[d.jsx(l6,{className:"w-4 h-4 mr-2"}),"Ferma Generazione"]}):d.jsxs(Xe,{onClick:P,disabled:!l||n,className:"flex-1",size:"lg",children:[d.jsx(ki,{className:"w-4 h-4 mr-2"}),"Genera Report"]})}),n&&d.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Disattiva la modalit privacy per usare l'AI Coach"})]})]}),(_||b)&&d.jsxs(Be,{className:"glass-panel",children:[d.jsxs(Je,{className:"flex flex-row items-center justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(Ze,{className:"text-lg",children:"Report AI"}),g&&d.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[d.jsx(Tn,{className:"w-3 h-3 animate-spin"}),d.jsxs("span",{className:"font-mono",children:[j," parole generate"]})]})]}),b&&!g&&d.jsxs(Xe,{variant:"outline",size:"sm",onClick:D,children:[d.jsx(zh,{className:"w-4 h-4 mr-2"}),"Esporta"]})]}),d.jsx(qe,{children:d.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:d.jsx(T5,{remarkPlugins:[tL],children:g?_:b})})})]})]}):d.jsxs(lo,{variant:"destructive",children:[d.jsx(Jd,{className:"h-4 w-4"}),d.jsxs(co,{children:["Ollama non  attivo. Avvia Ollama con ",d.jsx("code",{className:"bg-black/20 px-2 py-1 rounded",children:"ollama serve"})," e"," ",d.jsx("button",{onClick:C,className:"underline font-semibold",children:"riprova"})]})]})]}):d.jsx("div",{className:"container mx-auto px-4 py-6 max-w-4xl animate-fade-in pb-32",children:d.jsxs("div",{className:"glass-panel rounded-3xl p-12 text-center space-y-4",children:[d.jsx(AR,{className:"w-16 h-16 mx-auto text-muted-foreground opacity-50"}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-display font-semibold text-foreground mb-2",children:"AI Coach Disabilitato"}),d.jsx("p",{className:"text-muted-foreground",children:'Attiva lo switch "AI" nel Protocollo per utilizzare questa funzionalit.'})]})]})})};function Id(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var w0={exports:{}};var V2;function nSe(){return V2||(V2=1,(function(e,t){(function(r){e.exports=r()})(function(){return(function r(n,i,a){function o(c,u){if(!i[c]){if(!n[c]){var f=typeof Id=="function"&&Id;if(!u&&f)return f(c,!0);if(s)return s(c,!0);var p=new Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p}var h=i[c]={exports:{}};n[c][0].call(h.exports,function(v){var m=n[c][1][v];return o(m||v)},h,h.exports,r,n,i,a)}return i[c].exports}for(var s=typeof Id=="function"&&Id,l=0;l<a.length;l++)o(a[l]);return o})({1:[function(r,n,i){var a=r("./utils"),o=r("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,u,f,p,h,v,m,g=[],y=0,b=l.length,x=b,_=a.getTypeOf(l)!=="string";y<l.length;)x=b-y,f=_?(c=l[y++],u=y<b?l[y++]:0,y<b?l[y++]:0):(c=l.charCodeAt(y++),u=y<b?l.charCodeAt(y++):0,y<b?l.charCodeAt(y++):0),p=c>>2,h=(3&c)<<4|u>>4,v=1<x?(15&u)<<2|f>>6:64,m=2<x?63&f:64,g.push(s.charAt(p)+s.charAt(h)+s.charAt(v)+s.charAt(m));return g.join("")},i.decode=function(l){var c,u,f,p,h,v,m=0,g=0,y="data:";if(l.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var b,x=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===s.charAt(64)&&x--,l.charAt(l.length-2)===s.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=o.uint8array?new Uint8Array(0|x):new Array(0|x);m<l.length;)c=s.indexOf(l.charAt(m++))<<2|(p=s.indexOf(l.charAt(m++)))>>4,u=(15&p)<<4|(h=s.indexOf(l.charAt(m++)))>>2,f=(3&h)<<6|(v=s.indexOf(l.charAt(m++))),b[g++]=c,h!==64&&(b[g++]=u),v!==64&&(b[g++]=f);return b}},{"./support":30,"./utils":32}],2:[function(r,n,i){var a=r("./external"),o=r("./stream/DataWorker"),s=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function c(u,f,p,h,v){this.compressedSize=u,this.uncompressedSize=f,this.crc32=p,this.compression=h,this.compressedContent=v}c.prototype={getContentWorker:function(){var u=new o(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return u.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new o(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,f,p){return u.pipe(new s).pipe(new l("uncompressedSize")).pipe(f.compressWorker(p)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},n.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var a=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var a=r("./utils"),o=(function(){for(var s,l=[],c=0;c<256;c++){s=c;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;l[c]=s}return l})();n.exports=function(s,l){return s!==void 0&&s.length?a.getTypeOf(s)!=="string"?(function(c,u,f,p){var h=o,v=p+f;c^=-1;for(var m=p;m<v;m++)c=c>>>8^h[255&(c^u[m])];return-1^c})(0|l,s,s.length,0):(function(c,u,f,p){var h=o,v=p+f;c^=-1;for(var m=p;m<v;m++)c=c>>>8^h[255&(c^u.charCodeAt(m))];return-1^c})(0|l,s,s.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var a=null;a=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:a}},{lie:37}],7:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),s=r("./utils"),l=r("./stream/GenericWorker"),c=a?"uint8array":"array";function u(f,p){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=p,this.meta={}}i.magic="\b\0",s.inherits(u,l),u.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(c,f.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(p){f.push({data:p,meta:f.meta})}},i.compressWorker=function(f){return new u("Deflate",f)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function a(h,v){var m,g="";for(m=0;m<v;m++)g+=String.fromCharCode(255&h),h>>>=8;return g}function o(h,v,m,g,y,b){var x,_,w=h.file,j=h.compression,k=b!==c.utf8encode,C=s.transformTo("string",b(w.name)),P=s.transformTo("string",c.utf8encode(w.name)),O=w.comment,T=s.transformTo("string",b(O)),N=s.transformTo("string",c.utf8encode(O)),D=P.length!==w.name.length,E=N.length!==O.length,R="",B="",F="",U=w.dir,L=w.date,M={crc32:0,compressedSize:0,uncompressedSize:0};v&&!m||(M.crc32=h.crc32,M.compressedSize=h.compressedSize,M.uncompressedSize=h.uncompressedSize);var H=0;v&&(H|=8),k||!D&&!E||(H|=2048);var z=0,$=0;U&&(z|=16),y==="UNIX"?($=798,z|=(function(Z,fe){var le=Z;return Z||(le=fe?16893:33204),(65535&le)<<16})(w.unixPermissions,U)):($=20,z|=(function(Z){return 63&(Z||0)})(w.dosPermissions)),x=L.getUTCHours(),x<<=6,x|=L.getUTCMinutes(),x<<=5,x|=L.getUTCSeconds()/2,_=L.getUTCFullYear()-1980,_<<=4,_|=L.getUTCMonth()+1,_<<=5,_|=L.getUTCDate(),D&&(B=a(1,1)+a(u(C),4)+P,R+="up"+a(B.length,2)+B),E&&(F=a(1,1)+a(u(T),4)+N,R+="uc"+a(F.length,2)+F);var Q="";return Q+=`
\0`,Q+=a(H,2),Q+=j.magic,Q+=a(x,2),Q+=a(_,2),Q+=a(M.crc32,4),Q+=a(M.compressedSize,4),Q+=a(M.uncompressedSize,4),Q+=a(C.length,2),Q+=a(R.length,2),{fileRecord:f.LOCAL_FILE_HEADER+Q+C+R,dirRecord:f.CENTRAL_FILE_HEADER+a($,2)+Q+a(T.length,2)+"\0\0\0\0"+a(z,4)+a(g,4)+C+R+T}}var s=r("../utils"),l=r("../stream/GenericWorker"),c=r("../utf8"),u=r("../crc32"),f=r("../signature");function p(h,v,m,g){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=m,this.encodeFileName=g,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(p,l),p.prototype.push=function(h){var v=h.meta.percent||0,m=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:m?(v+100*(m-g-1))/m:100}}))},p.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var v=this.streamFiles&&!h.file.dir;if(v){var m=o(h,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(h){this.accumulate=!1;var v=this.streamFiles&&!h.file.dir,m=o(h,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),v)this.push({data:(function(g){return f.DATA_DESCRIPTOR+a(g.crc32,4)+a(g.compressedSize,4)+a(g.uncompressedSize,4)})(h),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var h=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var m=this.bytesWritten-h,g=(function(y,b,x,_,w){var j=s.transformTo("string",w(_));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(y,2)+a(y,2)+a(b,4)+a(x,4)+a(j.length,2)+j})(this.dirRecords.length,m,h,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(h){this._sources.push(h);var v=this;return h.on("data",function(m){v.processChunk(m)}),h.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),h.on("error",function(m){v.error(m)}),this},p.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(h){var v=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var m=0;m<v.length;m++)try{v[m].error(h)}catch{}return!0},p.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,v=0;v<h.length;v++)h[v].lock()},n.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var a=r("../compressions"),o=r("./ZipFileWorker");i.generateWorker=function(s,l,c){var u=new o(l.streamFiles,c,l.platform,l.encodeFileName),f=0;try{s.forEach(function(p,h){f++;var v=(function(b,x){var _=b||x,w=a[_];if(!w)throw new Error(_+" is not a valid compression method !");return w})(h.options.compression,l.compression),m=h.options.compressionOptions||l.compressionOptions||{},g=h.dir,y=h.date;h._compressWorker(v,m).withStreamInfo("file",{name:p,dir:g,date:y,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(u)}),u.entriesCount=f}catch(p){u.error(p)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new a;for(var s in this)typeof this[s]!="function"&&(o[s]=this[s]);return o}}(a.prototype=r("./object")).loadAsync=r("./load"),a.support=r("./support"),a.defaults=r("./defaults"),a.version="3.10.1",a.loadAsync=function(o,s){return new a().loadAsync(o,s)},a.external=r("./external"),n.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var a=r("./utils"),o=r("./external"),s=r("./utf8"),l=r("./zipEntries"),c=r("./stream/Crc32Probe"),u=r("./nodejsUtils");function f(p){return new o.Promise(function(h,v){var m=p.decompressed.getContentWorker().pipe(new c);m.on("error",function(g){v(g)}).on("end",function(){m.streamInfo.crc32!==p.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}n.exports=function(p,h){var v=this;return h=a.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),u.isNode&&u.isStream(p)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",p,!0,h.optimizedBinaryString,h.base64).then(function(m){var g=new l(h);return g.load(m),g}).then(function(m){var g=[o.Promise.resolve(m)],y=m.files;if(h.checkCRC32)for(var b=0;b<y.length;b++)g.push(f(y[b]));return o.Promise.all(g)}).then(function(m){for(var g=m.shift(),y=g.files,b=0;b<y.length;b++){var x=y[b],_=x.fileNameStr,w=a.resolve(x.fileNameStr);v.file(w,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:h.createFolders}),x.dir||(v.file(w).unsafeOriginalName=_)}return g.zipComment.length&&(v.comment=g.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var a=r("../utils"),o=r("../stream/GenericWorker");function s(l,c){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}a.inherits(s,o),s.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},s.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var a=r("readable-stream").Readable;function o(s,l,c){a.call(this,l),this._helper=s;var u=this;s.on("data",function(f,p){u.push(f)||u._helper.pause(),c&&c(p)}).on("error",function(f){u.emit("error",f)}).on("end",function(){u.push(null)})}r("../utils").inherits(o,a),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,o);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,o)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var o=new Buffer(a);return o.fill(0),o},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(r,n,i){function a(w,j,k){var C,P=s.getTypeOf(j),O=s.extend(k||{},u);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&16384&O.unixPermissions&&(O.dir=!0),O.dosPermissions&&16&O.dosPermissions&&(O.dir=!0),O.dir&&(w=y(w)),O.createFolders&&(C=g(w))&&b.call(this,C,!0);var T=P==="string"&&O.binary===!1&&O.base64===!1;k&&k.binary!==void 0||(O.binary=!T),(j instanceof f&&j.uncompressedSize===0||O.dir||!j||j.length===0)&&(O.base64=!1,O.binary=!0,j="",O.compression="STORE",P="string");var N=null;N=j instanceof f||j instanceof l?j:v.isNode&&v.isStream(j)?new m(w,j):s.prepareContent(w,j,O.binary,O.optimizedBinaryString,O.base64);var D=new p(w,N,O);this.files[w]=D}var o=r("./utf8"),s=r("./utils"),l=r("./stream/GenericWorker"),c=r("./stream/StreamHelper"),u=r("./defaults"),f=r("./compressedObject"),p=r("./zipObject"),h=r("./generate"),v=r("./nodejsUtils"),m=r("./nodejs/NodejsStreamInputAdapter"),g=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var j=w.lastIndexOf("/");return 0<j?w.substring(0,j):""},y=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},b=function(w,j){return j=j!==void 0?j:u.createFolders,w=y(w),this.files[w]||a.call(this,w,null,{dir:!0,createFolders:j}),this.files[w]};function x(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var _={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var j,k,C;for(j in this.files)C=this.files[j],(k=j.slice(this.root.length,j.length))&&j.slice(0,this.root.length)===this.root&&w(k,C)},filter:function(w){var j=[];return this.forEach(function(k,C){w(k,C)&&j.push(C)}),j},file:function(w,j,k){if(arguments.length!==1)return w=this.root+w,a.call(this,w,j,k),this;if(x(w)){var C=w;return this.filter(function(O,T){return!T.dir&&C.test(O)})}var P=this.files[this.root+w];return P&&!P.dir?P:null},folder:function(w){if(!w)return this;if(x(w))return this.filter(function(P,O){return O.dir&&w.test(P)});var j=this.root+w,k=b.call(this,j),C=this.clone();return C.root=k.name,C},remove:function(w){w=this.root+w;var j=this.files[w];if(j||(w.slice(-1)!=="/"&&(w+="/"),j=this.files[w]),j&&!j.dir)delete this.files[w];else for(var k=this.filter(function(P,O){return O.name.slice(0,w.length)===w}),C=0;C<k.length;C++)delete this.files[k[C].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var j,k={};try{if((k=s.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=k.type.toLowerCase(),k.compression=k.compression.toUpperCase(),k.type==="binarystring"&&(k.type="string"),!k.type)throw new Error("No output type specified.");s.checkSupport(k.type),k.platform!=="darwin"&&k.platform!=="freebsd"&&k.platform!=="linux"&&k.platform!=="sunos"||(k.platform="UNIX"),k.platform==="win32"&&(k.platform="DOS");var C=k.comment||this.comment||"";j=h.generateWorker(this,k,C)}catch(P){(j=new l("error")).error(P)}return new c(j,k.type||"string",k.mimeType)},generateAsync:function(w,j){return this.generateInternalStream(w).accumulate(j)},generateNodeStream:function(w,j){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(j)}};n.exports=_},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var a=r("./DataReader");function o(s){a.call(this,s);for(var l=0;l<this.data.length;l++)s[l]=255&s[l]}r("../utils").inherits(o,a),o.prototype.byteAt=function(s){return this.data[this.zero+s]},o.prototype.lastIndexOfSignature=function(s){for(var l=s.charCodeAt(0),c=s.charCodeAt(1),u=s.charCodeAt(2),f=s.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===l&&this.data[p+1]===c&&this.data[p+2]===u&&this.data[p+3]===f)return p-this.zero;return-1},o.prototype.readAndCheckSignature=function(s){var l=s.charCodeAt(0),c=s.charCodeAt(1),u=s.charCodeAt(2),f=s.charCodeAt(3),p=this.readData(4);return l===p[0]&&c===p[1]&&u===p[2]&&f===p[3]},o.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var a=r("../utils");function o(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var l,c=0;for(this.checkOffset(s),l=this.index+s-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=s,c},readString:function(s){return a.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},n.exports=o},{"../utils":32}],19:[function(r,n,i){var a=r("./Uint8ArrayReader");function o(s){a.call(this,s)}r("../utils").inherits(o,a),o.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var a=r("./DataReader");function o(s){a.call(this,s)}r("../utils").inherits(o,a),o.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},o.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},o.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},o.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var a=r("./ArrayReader");function o(s){a.call(this,s)}r("../utils").inherits(o,a),o.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var a=r("../utils"),o=r("../support"),s=r("./ArrayReader"),l=r("./StringReader"),c=r("./NodeBufferReader"),u=r("./Uint8ArrayReader");n.exports=function(f){var p=a.getTypeOf(f);return a.checkSupport(p),p!=="string"||o.uint8array?p==="nodebuffer"?new c(f):o.uint8array?new u(a.transformTo("uint8array",f)):new s(a.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var a=r("./GenericWorker"),o=r("../utils");function s(l){a.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(s,a),s.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},n.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var a=r("./GenericWorker"),o=r("../crc32");function s(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(s,a),s.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var a=r("../utils"),o=r("./GenericWorker");function s(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}a.inherits(s,o),s.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}o.prototype.processChunk.call(this,l)},n.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var a=r("../utils"),o=r("./GenericWorker");function s(l){o.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=a.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}a.inherits(s,o),s.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function a(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,s){return this._listeners[o].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,s){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,s)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var s=this;return o.on("data",function(l){s.processChunk(l)}),o.on("end",function(){s.end()}),o.on("error",function(l){s.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,s){return this.extraStreamInfo[o]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=a},{}],29:[function(r,n,i){var a=r("../utils"),o=r("./ConvertWorker"),s=r("./GenericWorker"),l=r("../base64"),c=r("../support"),u=r("../external"),f=null;if(c.nodestream)try{f=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(v,m){return new u.Promise(function(g,y){var b=[],x=v._internalType,_=v._outputType,w=v._mimeType;v.on("data",function(j,k){b.push(j),m&&m(k)}).on("error",function(j){b=[],y(j)}).on("end",function(){try{var j=(function(k,C,P){switch(k){case"blob":return a.newBlob(a.transformTo("arraybuffer",C),P);case"base64":return l.encode(C);default:return a.transformTo(k,C)}})(_,(function(k,C){var P,O=0,T=null,N=0;for(P=0;P<C.length;P++)N+=C[P].length;switch(k){case"string":return C.join("");case"array":return Array.prototype.concat.apply([],C);case"uint8array":for(T=new Uint8Array(N),P=0;P<C.length;P++)T.set(C[P],O),O+=C[P].length;return T;case"nodebuffer":return Buffer.concat(C);default:throw new Error("concat : unsupported type '"+k+"'")}})(x,b),w);g(j)}catch(k){y(k)}b=[]}).resume()})}function h(v,m,g){var y=m;switch(m){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=m,this._mimeType=g,a.checkSupport(y),this._worker=v.pipe(new o(y)),v.lock()}catch(b){this._worker=new s("error"),this._worker.error(b)}}h.prototype={accumulate:function(v){return p(this,v)},on:function(v,m){var g=this;return v==="data"?this._worker.on(v,function(y){m.call(g,y.data,y.meta)}):this._worker.on(v,function(){a.delay(m,arguments,g)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},v)}},n.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(a),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var a=r("./utils"),o=r("./support"),s=r("./nodejsUtils"),l=r("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function p(){l.call(this,"utf-8 encode")}i.utf8encode=function(h){return o.nodebuffer?s.newBufferFrom(h,"utf-8"):(function(v){var m,g,y,b,x,_=v.length,w=0;for(b=0;b<_;b++)(64512&(g=v.charCodeAt(b)))==55296&&b+1<_&&(64512&(y=v.charCodeAt(b+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),b++),w+=g<128?1:g<2048?2:g<65536?3:4;for(m=o.uint8array?new Uint8Array(w):new Array(w),b=x=0;x<w;b++)(64512&(g=v.charCodeAt(b)))==55296&&b+1<_&&(64512&(y=v.charCodeAt(b+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),b++),g<128?m[x++]=g:(g<2048?m[x++]=192|g>>>6:(g<65536?m[x++]=224|g>>>12:(m[x++]=240|g>>>18,m[x++]=128|g>>>12&63),m[x++]=128|g>>>6&63),m[x++]=128|63&g);return m})(h)},i.utf8decode=function(h){return o.nodebuffer?a.transformTo("nodebuffer",h).toString("utf-8"):(function(v){var m,g,y,b,x=v.length,_=new Array(2*x);for(m=g=0;m<x;)if((y=v[m++])<128)_[g++]=y;else if(4<(b=c[y]))_[g++]=65533,m+=b-1;else{for(y&=b===2?31:b===3?15:7;1<b&&m<x;)y=y<<6|63&v[m++],b--;1<b?_[g++]=65533:y<65536?_[g++]=y:(y-=65536,_[g++]=55296|y>>10&1023,_[g++]=56320|1023&y)}return _.length!==g&&(_.subarray?_=_.subarray(0,g):_.length=g),a.applyFromCharCode(_)})(h=a.transformTo(o.uint8array?"uint8array":"array",h))},a.inherits(f,l),f.prototype.processChunk=function(h){var v=a.transformTo(o.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var m=v;(v=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),v.set(m,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var g=(function(b,x){var _;for((x=x||b.length)>b.length&&(x=b.length),_=x-1;0<=_&&(192&b[_])==128;)_--;return _<0||_===0?x:_+c[b[_]]>x?_:x})(v),y=v;g!==v.length&&(o.uint8array?(y=v.subarray(0,g),this.leftOver=v.subarray(g,v.length)):(y=v.slice(0,g),this.leftOver=v.slice(g,v.length))),this.push({data:i.utf8decode(y),meta:h.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,a.inherits(p,l),p.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var a=r("./support"),o=r("./base64"),s=r("./nodejsUtils"),l=r("./external");function c(m){return m}function u(m,g){for(var y=0;y<m.length;++y)g[y]=255&m.charCodeAt(y);return g}r("setimmediate"),i.newBlob=function(m,g){i.checkSupport("blob");try{return new Blob([m],{type:g})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(m),y.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(m,g,y){var b=[],x=0,_=m.length;if(_<=y)return String.fromCharCode.apply(null,m);for(;x<_;)g==="array"||g==="nodebuffer"?b.push(String.fromCharCode.apply(null,m.slice(x,Math.min(x+y,_)))):b.push(String.fromCharCode.apply(null,m.subarray(x,Math.min(x+y,_)))),x+=y;return b.join("")},stringifyByChar:function(m){for(var g="",y=0;y<m.length;y++)g+=String.fromCharCode(m[y]);return g},applyCanBeUsed:{uint8array:(function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}})()}};function p(m){var g=65536,y=i.getTypeOf(m),b=!0;if(y==="uint8array"?b=f.applyCanBeUsed.uint8array:y==="nodebuffer"&&(b=f.applyCanBeUsed.nodebuffer),b)for(;1<g;)try{return f.stringifyByChunk(m,y,g)}catch{g=Math.floor(g/2)}return f.stringifyByChar(m)}function h(m,g){for(var y=0;y<m.length;y++)g[y]=m[y];return g}i.applyFromCharCode=p;var v={};v.string={string:c,array:function(m){return u(m,new Array(m.length))},arraybuffer:function(m){return v.string.uint8array(m).buffer},uint8array:function(m){return u(m,new Uint8Array(m.length))},nodebuffer:function(m){return u(m,s.allocBuffer(m.length))}},v.array={string:p,array:c,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return s.newBufferFrom(m)}},v.arraybuffer={string:function(m){return p(new Uint8Array(m))},array:function(m){return h(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:c,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return s.newBufferFrom(new Uint8Array(m))}},v.uint8array={string:p,array:function(m){return h(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:c,nodebuffer:function(m){return s.newBufferFrom(m)}},v.nodebuffer={string:p,array:function(m){return h(m,new Array(m.length))},arraybuffer:function(m){return v.nodebuffer.uint8array(m).buffer},uint8array:function(m){return h(m,new Uint8Array(m.length))},nodebuffer:c},i.transformTo=function(m,g){if(g=g||"",!m)return g;i.checkSupport(m);var y=i.getTypeOf(g);return v[y][m](g)},i.resolve=function(m){for(var g=m.split("/"),y=[],b=0;b<g.length;b++){var x=g[b];x==="."||x===""&&b!==0&&b!==g.length-1||(x===".."?y.pop():y.push(x))}return y.join("/")},i.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":a.nodebuffer&&s.isBuffer(m)?"nodebuffer":a.uint8array&&m instanceof Uint8Array?"uint8array":a.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(m){if(!a[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(m){var g,y,b="";for(y=0;y<(m||"").length;y++)b+="\\x"+((g=m.charCodeAt(y))<16?"0":"")+g.toString(16).toUpperCase();return b},i.delay=function(m,g,y){setImmediate(function(){m.apply(y||null,g||[])})},i.inherits=function(m,g){function y(){}y.prototype=g.prototype,m.prototype=new y},i.extend=function(){var m,g,y={};for(m=0;m<arguments.length;m++)for(g in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],g)&&y[g]===void 0&&(y[g]=arguments[m][g]);return y},i.prepareContent=function(m,g,y,b,x){return l.Promise.resolve(g).then(function(_){return a.blob&&(_ instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(_))!==-1)&&typeof FileReader<"u"?new l.Promise(function(w,j){var k=new FileReader;k.onload=function(C){w(C.target.result)},k.onerror=function(C){j(C.target.error)},k.readAsArrayBuffer(_)}):_}).then(function(_){var w=i.getTypeOf(_);return w?(w==="arraybuffer"?_=i.transformTo("uint8array",_):w==="string"&&(x?_=o.decode(_):y&&b!==!0&&(_=(function(j){return u(j,a.uint8array?new Uint8Array(j.length):new Array(j.length))})(_))),_):l.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var a=r("./reader/readerFor"),o=r("./utils"),s=r("./signature"),l=r("./zipEntry"),c=r("./support");function u(f){this.files=[],this.loadOptions=f}u.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(p)+", expected "+o.pretty(f)+")")}},isSignature:function(f,p){var h=this.reader.index;this.reader.setIndex(f);var v=this.reader.readString(4)===p;return this.reader.setIndex(h),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),p=c.uint8array?"uint8array":"array",h=o.transformTo(p,f);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,p,h,v=this.zip64EndOfCentralSize-44;0<v;)f=this.reader.readInt(2),p=this.reader.readInt(4),h=this.reader.readData(p),this.zip64ExtensibleData[f]={id:f,length:p,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,p;for(f=0;f<this.files.length;f++)p=this.files[f],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var p=f;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var v=p-h;if(0<v)this.isSignature(p,s.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(f){this.reader=a(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var a=r("./reader/readerFor"),o=r("./utils"),s=r("./compressedObject"),l=r("./crc32"),c=r("./utf8"),u=r("./compressions"),f=r("./support");function p(h,v){this.options=h,this.loadOptions=v}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var v,m;if(h.skip(22),this.fileNameLength=h.readInt(2),m=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=(function(g){for(var y in u)if(Object.prototype.hasOwnProperty.call(u,y)&&u[y].magic===g)return u[y];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,v,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var v=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(v),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=a(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var v,m,g,y=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<y;)v=h.readInt(2),m=h.readInt(2),g=h.readData(m),this.extraFields[v]={id:v,length:m,value:g};h.setIndex(y)},handleUTF8:function(){var h=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var m=o.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var y=o.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var v=a(h.value);return v.readInt(1)!==1||l(this.fileName)!==v.readInt(4)?null:c.utf8decode(v.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var v=a(h.value);return v.readInt(1)!==1||l(this.fileComment)!==v.readInt(4)?null:c.utf8decode(v.readData(h.length-5))}return null}},n.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function a(v,m,g){this.name=v,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=m,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var o=r("./stream/StreamHelper"),s=r("./stream/DataWorker"),l=r("./utf8"),c=r("./compressedObject"),u=r("./stream/GenericWorker");a.prototype={internalStream:function(v){var m=null,g="string";try{if(!v)throw new Error("No output type specified.");var y=(g=v.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),m=this._decompressWorker();var b=!this._dataBinary;b&&!y&&(m=m.pipe(new l.Utf8EncodeWorker)),!b&&y&&(m=m.pipe(new l.Utf8DecodeWorker))}catch(x){(m=new u("error")).error(x)}return new o(m,g,"")},async:function(v,m){return this.internalStream(v).accumulate(m)},nodeStream:function(v,m){return this.internalStream(v||"nodebuffer").toNodejsStream(m)},_compressWorker:function(v,m){if(this._data instanceof c&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(g,v,m)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new s(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<f.length;h++)a.prototype[f[h]]=p;n.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(a){var o,s,l=a.MutationObserver||a.WebKitMutationObserver;if(l){var c=0,u=new l(v),f=a.document.createTextNode("");u.observe(f,{characterData:!0}),o=function(){f.data=c=++c%2}}else if(a.setImmediate||a.MessageChannel===void 0)o="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var m=a.document.createElement("script");m.onreadystatechange=function(){v(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},a.document.documentElement.appendChild(m)}:function(){setTimeout(v,0)};else{var p=new a.MessageChannel;p.port1.onmessage=v,o=function(){p.port2.postMessage(0)}}var h=[];function v(){var m,g;s=!0;for(var y=h.length;y;){for(g=h,h=[],m=-1;++m<y;)g[m]();y=h.length}s=!1}n.exports=function(m){h.push(m)!==1||s||o()}}).call(this,typeof un<"u"?un:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var a=r("immediate");function o(){}var s={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function f(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,y!==o&&m(this,y)}function p(y,b,x){this.promise=y,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function h(y,b,x){a(function(){var _;try{_=b(x)}catch(w){return s.reject(y,w)}_===y?s.reject(y,new TypeError("Cannot resolve promise with itself")):s.resolve(y,_)})}function v(y){var b=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof b=="function")return function(){b.apply(y,arguments)}}function m(y,b){var x=!1;function _(k){x||(x=!0,s.reject(y,k))}function w(k){x||(x=!0,s.resolve(y,k))}var j=g(function(){b(w,_)});j.status==="error"&&_(j.value)}function g(y,b){var x={};try{x.value=y(b),x.status="success"}catch(_){x.status="error",x.value=_}return x}(n.exports=f).prototype.finally=function(y){if(typeof y!="function")return this;var b=this.constructor;return this.then(function(x){return b.resolve(y()).then(function(){return x})},function(x){return b.resolve(y()).then(function(){throw x})})},f.prototype.catch=function(y){return this.then(null,y)},f.prototype.then=function(y,b){if(typeof y!="function"&&this.state===c||typeof b!="function"&&this.state===l)return this;var x=new this.constructor(o);return this.state!==u?h(x,this.state===c?y:b,this.outcome):this.queue.push(new p(x,y,b)),x},p.prototype.callFulfilled=function(y){s.resolve(this.promise,y)},p.prototype.otherCallFulfilled=function(y){h(this.promise,this.onFulfilled,y)},p.prototype.callRejected=function(y){s.reject(this.promise,y)},p.prototype.otherCallRejected=function(y){h(this.promise,this.onRejected,y)},s.resolve=function(y,b){var x=g(v,b);if(x.status==="error")return s.reject(y,x.value);var _=x.value;if(_)m(y,_);else{y.state=c,y.outcome=b;for(var w=-1,j=y.queue.length;++w<j;)y.queue[w].callFulfilled(b)}return y},s.reject=function(y,b){y.state=l,y.outcome=b;for(var x=-1,_=y.queue.length;++x<_;)y.queue[x].callRejected(b);return y},f.resolve=function(y){return y instanceof this?y:s.resolve(new this(o),y)},f.reject=function(y){var b=new this(o);return s.reject(b,y)},f.all=function(y){var b=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=y.length,_=!1;if(!x)return this.resolve([]);for(var w=new Array(x),j=0,k=-1,C=new this(o);++k<x;)P(y[k],k);return C;function P(O,T){b.resolve(O).then(function(N){w[T]=N,++j!==x||_||(_=!0,s.resolve(C,w))},function(N){_||(_=!0,s.reject(C,N))})}},f.race=function(y){var b=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=y.length,_=!1;if(!x)return this.resolve([]);for(var w=-1,j=new this(o);++w<x;)k=y[w],b.resolve(k).then(function(C){_||(_=!0,s.resolve(j,C))},function(C){_||(_=!0,s.reject(j,C))});var k;return j}},{immediate:36}],38:[function(r,n,i){var a={};(0,r("./lib/utils/common").assign)(a,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var a=r("./zlib/deflate"),o=r("./utils/common"),s=r("./utils/strings"),l=r("./zlib/messages"),c=r("./zlib/zstream"),u=Object.prototype.toString,f=0,p=-1,h=0,v=8;function m(y){if(!(this instanceof m))return new m(y);this.options=o.assign({level:p,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},y||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var x=a.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(x!==f)throw new Error(l[x]);if(b.header&&a.deflateSetHeader(this.strm,b.header),b.dictionary){var _;if(_=typeof b.dictionary=="string"?s.string2buf(b.dictionary):u.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(x=a.deflateSetDictionary(this.strm,_))!==f)throw new Error(l[x]);this._dict_set=!0}}function g(y,b){var x=new m(b);if(x.push(y,!0),x.err)throw x.msg||l[x.err];return x.result}m.prototype.push=function(y,b){var x,_,w=this.strm,j=this.options.chunkSize;if(this.ended)return!1;_=b===~~b?b:b===!0?4:0,typeof y=="string"?w.input=s.string2buf(y):u.call(y)==="[object ArrayBuffer]"?w.input=new Uint8Array(y):w.input=y,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new o.Buf8(j),w.next_out=0,w.avail_out=j),(x=a.deflate(w,_))!==1&&x!==f)return this.onEnd(x),!(this.ended=!0);w.avail_out!==0&&(w.avail_in!==0||_!==4&&_!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(o.shrinkBuf(w.output,w.next_out))):this.onData(o.shrinkBuf(w.output,w.next_out)))}while((0<w.avail_in||w.avail_out===0)&&x!==1);return _===4?(x=a.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===f):_!==2||(this.onEnd(f),!(w.avail_out=0))},m.prototype.onData=function(y){this.chunks.push(y)},m.prototype.onEnd=function(y){y===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Deflate=m,i.deflate=g,i.deflateRaw=function(y,b){return(b=b||{}).raw=!0,g(y,b)},i.gzip=function(y,b){return(b=b||{}).gzip=!0,g(y,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var a=r("./zlib/inflate"),o=r("./utils/common"),s=r("./utils/strings"),l=r("./zlib/constants"),c=r("./zlib/messages"),u=r("./zlib/zstream"),f=r("./zlib/gzheader"),p=Object.prototype.toString;function h(m){if(!(this instanceof h))return new h(m);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},m||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||m&&m.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&(15&g.windowBits)==0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var y=a.inflateInit2(this.strm,g.windowBits);if(y!==l.Z_OK)throw new Error(c[y]);this.header=new f,a.inflateGetHeader(this.strm,this.header)}function v(m,g){var y=new h(g);if(y.push(m,!0),y.err)throw y.msg||c[y.err];return y.result}h.prototype.push=function(m,g){var y,b,x,_,w,j,k=this.strm,C=this.options.chunkSize,P=this.options.dictionary,O=!1;if(this.ended)return!1;b=g===~~g?g:g===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof m=="string"?k.input=s.binstring2buf(m):p.call(m)==="[object ArrayBuffer]"?k.input=new Uint8Array(m):k.input=m,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new o.Buf8(C),k.next_out=0,k.avail_out=C),(y=a.inflate(k,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&P&&(j=typeof P=="string"?s.string2buf(P):p.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,y=a.inflateSetDictionary(this.strm,j)),y===l.Z_BUF_ERROR&&O===!0&&(y=l.Z_OK,O=!1),y!==l.Z_STREAM_END&&y!==l.Z_OK)return this.onEnd(y),!(this.ended=!0);k.next_out&&(k.avail_out!==0&&y!==l.Z_STREAM_END&&(k.avail_in!==0||b!==l.Z_FINISH&&b!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=s.utf8border(k.output,k.next_out),_=k.next_out-x,w=s.buf2string(k.output,x),k.next_out=_,k.avail_out=C-_,_&&o.arraySet(k.output,k.output,x,_,0),this.onData(w)):this.onData(o.shrinkBuf(k.output,k.next_out)))),k.avail_in===0&&k.avail_out===0&&(O=!0)}while((0<k.avail_in||k.avail_out===0)&&y!==l.Z_STREAM_END);return y===l.Z_STREAM_END&&(b=l.Z_FINISH),b===l.Z_FINISH?(y=a.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===l.Z_OK):b!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(k.avail_out=0))},h.prototype.onData=function(m){this.chunks.push(m)},h.prototype.onEnd=function(m){m===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Inflate=h,i.inflate=v,i.inflateRaw=function(m,g){return(g=g||{}).raw=!0,v(m,g)},i.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var f in u)u.hasOwnProperty(f)&&(l[f]=u[f])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var o={arraySet:function(l,c,u,f,p){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+f),p);else for(var h=0;h<f;h++)l[p+h]=c[u+h]},flattenChunks:function(l){var c,u,f,p,h,v;for(c=f=0,u=l.length;c<u;c++)f+=l[c].length;for(v=new Uint8Array(f),c=p=0,u=l.length;c<u;c++)h=l[c],v.set(h,p),p+=h.length;return v}},s={arraySet:function(l,c,u,f,p){for(var h=0;h<f;h++)l[p+h]=c[u+h]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,s))},i.setTyped(a)},{}],42:[function(r,n,i){var a=r("./common"),o=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var l=new a.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(f,p){if(p<65537&&(f.subarray&&s||!f.subarray&&o))return String.fromCharCode.apply(null,a.shrinkBuf(f,p));for(var h="",v=0;v<p;v++)h+=String.fromCharCode(f[v]);return h}l[254]=l[254]=1,i.string2buf=function(f){var p,h,v,m,g,y=f.length,b=0;for(m=0;m<y;m++)(64512&(h=f.charCodeAt(m)))==55296&&m+1<y&&(64512&(v=f.charCodeAt(m+1)))==56320&&(h=65536+(h-55296<<10)+(v-56320),m++),b+=h<128?1:h<2048?2:h<65536?3:4;for(p=new a.Buf8(b),m=g=0;g<b;m++)(64512&(h=f.charCodeAt(m)))==55296&&m+1<y&&(64512&(v=f.charCodeAt(m+1)))==56320&&(h=65536+(h-55296<<10)+(v-56320),m++),h<128?p[g++]=h:(h<2048?p[g++]=192|h>>>6:(h<65536?p[g++]=224|h>>>12:(p[g++]=240|h>>>18,p[g++]=128|h>>>12&63),p[g++]=128|h>>>6&63),p[g++]=128|63&h);return p},i.buf2binstring=function(f){return u(f,f.length)},i.binstring2buf=function(f){for(var p=new a.Buf8(f.length),h=0,v=p.length;h<v;h++)p[h]=f.charCodeAt(h);return p},i.buf2string=function(f,p){var h,v,m,g,y=p||f.length,b=new Array(2*y);for(h=v=0;h<y;)if((m=f[h++])<128)b[v++]=m;else if(4<(g=l[m]))b[v++]=65533,h+=g-1;else{for(m&=g===2?31:g===3?15:7;1<g&&h<y;)m=m<<6|63&f[h++],g--;1<g?b[v++]=65533:m<65536?b[v++]=m:(m-=65536,b[v++]=55296|m>>10&1023,b[v++]=56320|1023&m)}return u(b,v)},i.utf8border=function(f,p){var h;for((p=p||f.length)>f.length&&(p=f.length),h=p-1;0<=h&&(192&f[h])==128;)h--;return h<0||h===0?p:h+l[f[h]]>p?h:p}},{"./common":41}],43:[function(r,n,i){n.exports=function(a,o,s,l){for(var c=65535&a|0,u=a>>>16&65535|0,f=0;s!==0;){for(s-=f=2e3<s?2e3:s;u=u+(c=c+o[l++]|0)|0,--f;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var a=(function(){for(var o,s=[],l=0;l<256;l++){o=l;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;s[l]=o}return s})();n.exports=function(o,s,l,c){var u=a,f=c+l;o^=-1;for(var p=c;p<f;p++)o=o>>>8^u[255&(o^s[p])];return-1^o}},{}],46:[function(r,n,i){var a,o=r("../utils/common"),s=r("./trees"),l=r("./adler32"),c=r("./crc32"),u=r("./messages"),f=0,p=4,h=0,v=-2,m=-1,g=4,y=2,b=8,x=9,_=286,w=30,j=19,k=2*_+1,C=15,P=3,O=258,T=O+P+1,N=42,D=113,E=1,R=2,B=3,F=4;function U(A,K){return A.msg=u[K],K}function L(A){return(A<<1)-(4<A?9:0)}function M(A){for(var K=A.length;0<=--K;)A[K]=0}function H(A){var K=A.state,V=K.pending;V>A.avail_out&&(V=A.avail_out),V!==0&&(o.arraySet(A.output,K.pending_buf,K.pending_out,V,A.next_out),A.next_out+=V,K.pending_out+=V,A.total_out+=V,A.avail_out-=V,K.pending-=V,K.pending===0&&(K.pending_out=0))}function z(A,K){s._tr_flush_block(A,0<=A.block_start?A.block_start:-1,A.strstart-A.block_start,K),A.block_start=A.strstart,H(A.strm)}function $(A,K){A.pending_buf[A.pending++]=K}function Q(A,K){A.pending_buf[A.pending++]=K>>>8&255,A.pending_buf[A.pending++]=255&K}function Z(A,K){var V,W,q=A.max_chain_length,G=A.strstart,ie=A.prev_length,re=A.nice_match,X=A.strstart>A.w_size-T?A.strstart-(A.w_size-T):0,de=A.window,ve=A.w_mask,he=A.prev,Y=A.strstart+O,oe=de[G+ie-1],ge=de[G+ie];A.prev_length>=A.good_match&&(q>>=2),re>A.lookahead&&(re=A.lookahead);do if(de[(V=K)+ie]===ge&&de[V+ie-1]===oe&&de[V]===de[G]&&de[++V]===de[G+1]){G+=2,V++;do;while(de[++G]===de[++V]&&de[++G]===de[++V]&&de[++G]===de[++V]&&de[++G]===de[++V]&&de[++G]===de[++V]&&de[++G]===de[++V]&&de[++G]===de[++V]&&de[++G]===de[++V]&&G<Y);if(W=O-(Y-G),G=Y-O,ie<W){if(A.match_start=K,re<=(ie=W))break;oe=de[G+ie-1],ge=de[G+ie]}}while((K=he[K&ve])>X&&--q!=0);return ie<=A.lookahead?ie:A.lookahead}function fe(A){var K,V,W,q,G,ie,re,X,de,ve,he=A.w_size;do{if(q=A.window_size-A.lookahead-A.strstart,A.strstart>=he+(he-T)){for(o.arraySet(A.window,A.window,he,he,0),A.match_start-=he,A.strstart-=he,A.block_start-=he,K=V=A.hash_size;W=A.head[--K],A.head[K]=he<=W?W-he:0,--V;);for(K=V=he;W=A.prev[--K],A.prev[K]=he<=W?W-he:0,--V;);q+=he}if(A.strm.avail_in===0)break;if(ie=A.strm,re=A.window,X=A.strstart+A.lookahead,de=q,ve=void 0,ve=ie.avail_in,de<ve&&(ve=de),V=ve===0?0:(ie.avail_in-=ve,o.arraySet(re,ie.input,ie.next_in,ve,X),ie.state.wrap===1?ie.adler=l(ie.adler,re,ve,X):ie.state.wrap===2&&(ie.adler=c(ie.adler,re,ve,X)),ie.next_in+=ve,ie.total_in+=ve,ve),A.lookahead+=V,A.lookahead+A.insert>=P)for(G=A.strstart-A.insert,A.ins_h=A.window[G],A.ins_h=(A.ins_h<<A.hash_shift^A.window[G+1])&A.hash_mask;A.insert&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[G+P-1])&A.hash_mask,A.prev[G&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=G,G++,A.insert--,!(A.lookahead+A.insert<P)););}while(A.lookahead<T&&A.strm.avail_in!==0)}function le(A,K){for(var V,W;;){if(A.lookahead<T){if(fe(A),A.lookahead<T&&K===f)return E;if(A.lookahead===0)break}if(V=0,A.lookahead>=P&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+P-1])&A.hash_mask,V=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),V!==0&&A.strstart-V<=A.w_size-T&&(A.match_length=Z(A,V)),A.match_length>=P)if(W=s._tr_tally(A,A.strstart-A.match_start,A.match_length-P),A.lookahead-=A.match_length,A.match_length<=A.max_lazy_match&&A.lookahead>=P){for(A.match_length--;A.strstart++,A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+P-1])&A.hash_mask,V=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart,--A.match_length!=0;);A.strstart++}else A.strstart+=A.match_length,A.match_length=0,A.ins_h=A.window[A.strstart],A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+1])&A.hash_mask;else W=s._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(W&&(z(A,!1),A.strm.avail_out===0))return E}return A.insert=A.strstart<P-1?A.strstart:P-1,K===p?(z(A,!0),A.strm.avail_out===0?B:F):A.last_lit&&(z(A,!1),A.strm.avail_out===0)?E:R}function ue(A,K){for(var V,W,q;;){if(A.lookahead<T){if(fe(A),A.lookahead<T&&K===f)return E;if(A.lookahead===0)break}if(V=0,A.lookahead>=P&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+P-1])&A.hash_mask,V=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),A.prev_length=A.match_length,A.prev_match=A.match_start,A.match_length=P-1,V!==0&&A.prev_length<A.max_lazy_match&&A.strstart-V<=A.w_size-T&&(A.match_length=Z(A,V),A.match_length<=5&&(A.strategy===1||A.match_length===P&&4096<A.strstart-A.match_start)&&(A.match_length=P-1)),A.prev_length>=P&&A.match_length<=A.prev_length){for(q=A.strstart+A.lookahead-P,W=s._tr_tally(A,A.strstart-1-A.prev_match,A.prev_length-P),A.lookahead-=A.prev_length-1,A.prev_length-=2;++A.strstart<=q&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+P-1])&A.hash_mask,V=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),--A.prev_length!=0;);if(A.match_available=0,A.match_length=P-1,A.strstart++,W&&(z(A,!1),A.strm.avail_out===0))return E}else if(A.match_available){if((W=s._tr_tally(A,0,A.window[A.strstart-1]))&&z(A,!1),A.strstart++,A.lookahead--,A.strm.avail_out===0)return E}else A.match_available=1,A.strstart++,A.lookahead--}return A.match_available&&(W=s._tr_tally(A,0,A.window[A.strstart-1]),A.match_available=0),A.insert=A.strstart<P-1?A.strstart:P-1,K===p?(z(A,!0),A.strm.avail_out===0?B:F):A.last_lit&&(z(A,!1),A.strm.avail_out===0)?E:R}function ee(A,K,V,W,q){this.good_length=A,this.max_lazy=K,this.nice_length=V,this.max_chain=W,this.func=q}function te(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*k),this.dyn_dtree=new o.Buf16(2*(2*w+1)),this.bl_tree=new o.Buf16(2*(2*j+1)),M(this.dyn_ltree),M(this.dyn_dtree),M(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(C+1),this.heap=new o.Buf16(2*_+1),M(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*_+1),M(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ce(A){var K;return A&&A.state?(A.total_in=A.total_out=0,A.data_type=y,(K=A.state).pending=0,K.pending_out=0,K.wrap<0&&(K.wrap=-K.wrap),K.status=K.wrap?N:D,A.adler=K.wrap===2?0:1,K.last_flush=f,s._tr_init(K),h):U(A,v)}function J(A){var K=ce(A);return K===h&&(function(V){V.window_size=2*V.w_size,M(V.head),V.max_lazy_match=a[V.level].max_lazy,V.good_match=a[V.level].good_length,V.nice_match=a[V.level].nice_length,V.max_chain_length=a[V.level].max_chain,V.strstart=0,V.block_start=0,V.lookahead=0,V.insert=0,V.match_length=V.prev_length=P-1,V.match_available=0,V.ins_h=0})(A.state),K}function ne(A,K,V,W,q,G){if(!A)return v;var ie=1;if(K===m&&(K=6),W<0?(ie=0,W=-W):15<W&&(ie=2,W-=16),q<1||x<q||V!==b||W<8||15<W||K<0||9<K||G<0||g<G)return U(A,v);W===8&&(W=9);var re=new te;return(A.state=re).strm=A,re.wrap=ie,re.gzhead=null,re.w_bits=W,re.w_size=1<<re.w_bits,re.w_mask=re.w_size-1,re.hash_bits=q+7,re.hash_size=1<<re.hash_bits,re.hash_mask=re.hash_size-1,re.hash_shift=~~((re.hash_bits+P-1)/P),re.window=new o.Buf8(2*re.w_size),re.head=new o.Buf16(re.hash_size),re.prev=new o.Buf16(re.w_size),re.lit_bufsize=1<<q+6,re.pending_buf_size=4*re.lit_bufsize,re.pending_buf=new o.Buf8(re.pending_buf_size),re.d_buf=1*re.lit_bufsize,re.l_buf=3*re.lit_bufsize,re.level=K,re.strategy=G,re.method=V,J(A)}a=[new ee(0,0,0,0,function(A,K){var V=65535;for(V>A.pending_buf_size-5&&(V=A.pending_buf_size-5);;){if(A.lookahead<=1){if(fe(A),A.lookahead===0&&K===f)return E;if(A.lookahead===0)break}A.strstart+=A.lookahead,A.lookahead=0;var W=A.block_start+V;if((A.strstart===0||A.strstart>=W)&&(A.lookahead=A.strstart-W,A.strstart=W,z(A,!1),A.strm.avail_out===0)||A.strstart-A.block_start>=A.w_size-T&&(z(A,!1),A.strm.avail_out===0))return E}return A.insert=0,K===p?(z(A,!0),A.strm.avail_out===0?B:F):(A.strstart>A.block_start&&(z(A,!1),A.strm.avail_out),E)}),new ee(4,4,8,4,le),new ee(4,5,16,8,le),new ee(4,6,32,32,le),new ee(4,4,16,16,ue),new ee(8,16,32,32,ue),new ee(8,16,128,128,ue),new ee(8,32,128,256,ue),new ee(32,128,258,1024,ue),new ee(32,258,258,4096,ue)],i.deflateInit=function(A,K){return ne(A,K,b,15,8,0)},i.deflateInit2=ne,i.deflateReset=J,i.deflateResetKeep=ce,i.deflateSetHeader=function(A,K){return A&&A.state?A.state.wrap!==2?v:(A.state.gzhead=K,h):v},i.deflate=function(A,K){var V,W,q,G;if(!A||!A.state||5<K||K<0)return A?U(A,v):v;if(W=A.state,!A.output||!A.input&&A.avail_in!==0||W.status===666&&K!==p)return U(A,A.avail_out===0?-5:v);if(W.strm=A,V=W.last_flush,W.last_flush=K,W.status===N)if(W.wrap===2)A.adler=0,$(W,31),$(W,139),$(W,8),W.gzhead?($(W,(W.gzhead.text?1:0)+(W.gzhead.hcrc?2:0)+(W.gzhead.extra?4:0)+(W.gzhead.name?8:0)+(W.gzhead.comment?16:0)),$(W,255&W.gzhead.time),$(W,W.gzhead.time>>8&255),$(W,W.gzhead.time>>16&255),$(W,W.gzhead.time>>24&255),$(W,W.level===9?2:2<=W.strategy||W.level<2?4:0),$(W,255&W.gzhead.os),W.gzhead.extra&&W.gzhead.extra.length&&($(W,255&W.gzhead.extra.length),$(W,W.gzhead.extra.length>>8&255)),W.gzhead.hcrc&&(A.adler=c(A.adler,W.pending_buf,W.pending,0)),W.gzindex=0,W.status=69):($(W,0),$(W,0),$(W,0),$(W,0),$(W,0),$(W,W.level===9?2:2<=W.strategy||W.level<2?4:0),$(W,3),W.status=D);else{var ie=b+(W.w_bits-8<<4)<<8;ie|=(2<=W.strategy||W.level<2?0:W.level<6?1:W.level===6?2:3)<<6,W.strstart!==0&&(ie|=32),ie+=31-ie%31,W.status=D,Q(W,ie),W.strstart!==0&&(Q(W,A.adler>>>16),Q(W,65535&A.adler)),A.adler=1}if(W.status===69)if(W.gzhead.extra){for(q=W.pending;W.gzindex<(65535&W.gzhead.extra.length)&&(W.pending!==W.pending_buf_size||(W.gzhead.hcrc&&W.pending>q&&(A.adler=c(A.adler,W.pending_buf,W.pending-q,q)),H(A),q=W.pending,W.pending!==W.pending_buf_size));)$(W,255&W.gzhead.extra[W.gzindex]),W.gzindex++;W.gzhead.hcrc&&W.pending>q&&(A.adler=c(A.adler,W.pending_buf,W.pending-q,q)),W.gzindex===W.gzhead.extra.length&&(W.gzindex=0,W.status=73)}else W.status=73;if(W.status===73)if(W.gzhead.name){q=W.pending;do{if(W.pending===W.pending_buf_size&&(W.gzhead.hcrc&&W.pending>q&&(A.adler=c(A.adler,W.pending_buf,W.pending-q,q)),H(A),q=W.pending,W.pending===W.pending_buf_size)){G=1;break}G=W.gzindex<W.gzhead.name.length?255&W.gzhead.name.charCodeAt(W.gzindex++):0,$(W,G)}while(G!==0);W.gzhead.hcrc&&W.pending>q&&(A.adler=c(A.adler,W.pending_buf,W.pending-q,q)),G===0&&(W.gzindex=0,W.status=91)}else W.status=91;if(W.status===91)if(W.gzhead.comment){q=W.pending;do{if(W.pending===W.pending_buf_size&&(W.gzhead.hcrc&&W.pending>q&&(A.adler=c(A.adler,W.pending_buf,W.pending-q,q)),H(A),q=W.pending,W.pending===W.pending_buf_size)){G=1;break}G=W.gzindex<W.gzhead.comment.length?255&W.gzhead.comment.charCodeAt(W.gzindex++):0,$(W,G)}while(G!==0);W.gzhead.hcrc&&W.pending>q&&(A.adler=c(A.adler,W.pending_buf,W.pending-q,q)),G===0&&(W.status=103)}else W.status=103;if(W.status===103&&(W.gzhead.hcrc?(W.pending+2>W.pending_buf_size&&H(A),W.pending+2<=W.pending_buf_size&&($(W,255&A.adler),$(W,A.adler>>8&255),A.adler=0,W.status=D)):W.status=D),W.pending!==0){if(H(A),A.avail_out===0)return W.last_flush=-1,h}else if(A.avail_in===0&&L(K)<=L(V)&&K!==p)return U(A,-5);if(W.status===666&&A.avail_in!==0)return U(A,-5);if(A.avail_in!==0||W.lookahead!==0||K!==f&&W.status!==666){var re=W.strategy===2?(function(X,de){for(var ve;;){if(X.lookahead===0&&(fe(X),X.lookahead===0)){if(de===f)return E;break}if(X.match_length=0,ve=s._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++,ve&&(z(X,!1),X.strm.avail_out===0))return E}return X.insert=0,de===p?(z(X,!0),X.strm.avail_out===0?B:F):X.last_lit&&(z(X,!1),X.strm.avail_out===0)?E:R})(W,K):W.strategy===3?(function(X,de){for(var ve,he,Y,oe,ge=X.window;;){if(X.lookahead<=O){if(fe(X),X.lookahead<=O&&de===f)return E;if(X.lookahead===0)break}if(X.match_length=0,X.lookahead>=P&&0<X.strstart&&(he=ge[Y=X.strstart-1])===ge[++Y]&&he===ge[++Y]&&he===ge[++Y]){oe=X.strstart+O;do;while(he===ge[++Y]&&he===ge[++Y]&&he===ge[++Y]&&he===ge[++Y]&&he===ge[++Y]&&he===ge[++Y]&&he===ge[++Y]&&he===ge[++Y]&&Y<oe);X.match_length=O-(oe-Y),X.match_length>X.lookahead&&(X.match_length=X.lookahead)}if(X.match_length>=P?(ve=s._tr_tally(X,1,X.match_length-P),X.lookahead-=X.match_length,X.strstart+=X.match_length,X.match_length=0):(ve=s._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++),ve&&(z(X,!1),X.strm.avail_out===0))return E}return X.insert=0,de===p?(z(X,!0),X.strm.avail_out===0?B:F):X.last_lit&&(z(X,!1),X.strm.avail_out===0)?E:R})(W,K):a[W.level].func(W,K);if(re!==B&&re!==F||(W.status=666),re===E||re===B)return A.avail_out===0&&(W.last_flush=-1),h;if(re===R&&(K===1?s._tr_align(W):K!==5&&(s._tr_stored_block(W,0,0,!1),K===3&&(M(W.head),W.lookahead===0&&(W.strstart=0,W.block_start=0,W.insert=0))),H(A),A.avail_out===0))return W.last_flush=-1,h}return K!==p?h:W.wrap<=0?1:(W.wrap===2?($(W,255&A.adler),$(W,A.adler>>8&255),$(W,A.adler>>16&255),$(W,A.adler>>24&255),$(W,255&A.total_in),$(W,A.total_in>>8&255),$(W,A.total_in>>16&255),$(W,A.total_in>>24&255)):(Q(W,A.adler>>>16),Q(W,65535&A.adler)),H(A),0<W.wrap&&(W.wrap=-W.wrap),W.pending!==0?h:1)},i.deflateEnd=function(A){var K;return A&&A.state?(K=A.state.status)!==N&&K!==69&&K!==73&&K!==91&&K!==103&&K!==D&&K!==666?U(A,v):(A.state=null,K===D?U(A,-3):h):v},i.deflateSetDictionary=function(A,K){var V,W,q,G,ie,re,X,de,ve=K.length;if(!A||!A.state||(G=(V=A.state).wrap)===2||G===1&&V.status!==N||V.lookahead)return v;for(G===1&&(A.adler=l(A.adler,K,ve,0)),V.wrap=0,ve>=V.w_size&&(G===0&&(M(V.head),V.strstart=0,V.block_start=0,V.insert=0),de=new o.Buf8(V.w_size),o.arraySet(de,K,ve-V.w_size,V.w_size,0),K=de,ve=V.w_size),ie=A.avail_in,re=A.next_in,X=A.input,A.avail_in=ve,A.next_in=0,A.input=K,fe(V);V.lookahead>=P;){for(W=V.strstart,q=V.lookahead-(P-1);V.ins_h=(V.ins_h<<V.hash_shift^V.window[W+P-1])&V.hash_mask,V.prev[W&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=W,W++,--q;);V.strstart=W,V.lookahead=P-1,fe(V)}return V.strstart+=V.lookahead,V.block_start=V.strstart,V.insert=V.lookahead,V.lookahead=0,V.match_length=V.prev_length=P-1,V.match_available=0,A.next_in=re,A.input=X,A.avail_in=ie,V.wrap=G,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(a,o){var s,l,c,u,f,p,h,v,m,g,y,b,x,_,w,j,k,C,P,O,T,N,D,E,R;s=a.state,l=a.next_in,E=a.input,c=l+(a.avail_in-5),u=a.next_out,R=a.output,f=u-(o-a.avail_out),p=u+(a.avail_out-257),h=s.dmax,v=s.wsize,m=s.whave,g=s.wnext,y=s.window,b=s.hold,x=s.bits,_=s.lencode,w=s.distcode,j=(1<<s.lenbits)-1,k=(1<<s.distbits)-1;e:do{x<15&&(b+=E[l++]<<x,x+=8,b+=E[l++]<<x,x+=8),C=_[b&j];t:for(;;){if(b>>>=P=C>>>24,x-=P,(P=C>>>16&255)===0)R[u++]=65535&C;else{if(!(16&P)){if((64&P)==0){C=_[(65535&C)+(b&(1<<P)-1)];continue t}if(32&P){s.mode=12;break e}a.msg="invalid literal/length code",s.mode=30;break e}O=65535&C,(P&=15)&&(x<P&&(b+=E[l++]<<x,x+=8),O+=b&(1<<P)-1,b>>>=P,x-=P),x<15&&(b+=E[l++]<<x,x+=8,b+=E[l++]<<x,x+=8),C=w[b&k];r:for(;;){if(b>>>=P=C>>>24,x-=P,!(16&(P=C>>>16&255))){if((64&P)==0){C=w[(65535&C)+(b&(1<<P)-1)];continue r}a.msg="invalid distance code",s.mode=30;break e}if(T=65535&C,x<(P&=15)&&(b+=E[l++]<<x,(x+=8)<P&&(b+=E[l++]<<x,x+=8)),h<(T+=b&(1<<P)-1)){a.msg="invalid distance too far back",s.mode=30;break e}if(b>>>=P,x-=P,(P=u-f)<T){if(m<(P=T-P)&&s.sane){a.msg="invalid distance too far back",s.mode=30;break e}if(D=y,(N=0)===g){if(N+=v-P,P<O){for(O-=P;R[u++]=y[N++],--P;);N=u-T,D=R}}else if(g<P){if(N+=v+g-P,(P-=g)<O){for(O-=P;R[u++]=y[N++],--P;);if(N=0,g<O){for(O-=P=g;R[u++]=y[N++],--P;);N=u-T,D=R}}}else if(N+=g-P,P<O){for(O-=P;R[u++]=y[N++],--P;);N=u-T,D=R}for(;2<O;)R[u++]=D[N++],R[u++]=D[N++],R[u++]=D[N++],O-=3;O&&(R[u++]=D[N++],1<O&&(R[u++]=D[N++]))}else{for(N=u-T;R[u++]=R[N++],R[u++]=R[N++],R[u++]=R[N++],2<(O-=3););O&&(R[u++]=R[N++],1<O&&(R[u++]=R[N++]))}break}}break}}while(l<c&&u<p);l-=O=x>>3,b&=(1<<(x-=O<<3))-1,a.next_in=l,a.next_out=u,a.avail_in=l<c?c-l+5:5-(l-c),a.avail_out=u<p?p-u+257:257-(u-p),s.hold=b,s.bits=x}},{}],49:[function(r,n,i){var a=r("../utils/common"),o=r("./adler32"),s=r("./crc32"),l=r("./inffast"),c=r("./inftrees"),u=1,f=2,p=0,h=-2,v=1,m=852,g=592;function y(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(N){var D;return N&&N.state?(D=N.state,N.total_in=N.total_out=D.total=0,N.msg="",D.wrap&&(N.adler=1&D.wrap),D.mode=v,D.last=0,D.havedict=0,D.dmax=32768,D.head=null,D.hold=0,D.bits=0,D.lencode=D.lendyn=new a.Buf32(m),D.distcode=D.distdyn=new a.Buf32(g),D.sane=1,D.back=-1,p):h}function _(N){var D;return N&&N.state?((D=N.state).wsize=0,D.whave=0,D.wnext=0,x(N)):h}function w(N,D){var E,R;return N&&N.state?(R=N.state,D<0?(E=0,D=-D):(E=1+(D>>4),D<48&&(D&=15)),D&&(D<8||15<D)?h:(R.window!==null&&R.wbits!==D&&(R.window=null),R.wrap=E,R.wbits=D,_(N))):h}function j(N,D){var E,R;return N?(R=new b,(N.state=R).window=null,(E=w(N,D))!==p&&(N.state=null),E):h}var k,C,P=!0;function O(N){if(P){var D;for(k=new a.Buf32(512),C=new a.Buf32(32),D=0;D<144;)N.lens[D++]=8;for(;D<256;)N.lens[D++]=9;for(;D<280;)N.lens[D++]=7;for(;D<288;)N.lens[D++]=8;for(c(u,N.lens,0,288,k,0,N.work,{bits:9}),D=0;D<32;)N.lens[D++]=5;c(f,N.lens,0,32,C,0,N.work,{bits:5}),P=!1}N.lencode=k,N.lenbits=9,N.distcode=C,N.distbits=5}function T(N,D,E,R){var B,F=N.state;return F.window===null&&(F.wsize=1<<F.wbits,F.wnext=0,F.whave=0,F.window=new a.Buf8(F.wsize)),R>=F.wsize?(a.arraySet(F.window,D,E-F.wsize,F.wsize,0),F.wnext=0,F.whave=F.wsize):(R<(B=F.wsize-F.wnext)&&(B=R),a.arraySet(F.window,D,E-R,B,F.wnext),(R-=B)?(a.arraySet(F.window,D,E-R,R,0),F.wnext=R,F.whave=F.wsize):(F.wnext+=B,F.wnext===F.wsize&&(F.wnext=0),F.whave<F.wsize&&(F.whave+=B))),0}i.inflateReset=_,i.inflateReset2=w,i.inflateResetKeep=x,i.inflateInit=function(N){return j(N,15)},i.inflateInit2=j,i.inflate=function(N,D){var E,R,B,F,U,L,M,H,z,$,Q,Z,fe,le,ue,ee,te,ce,J,ne,A,K,V,W,q=0,G=new a.Buf8(4),ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return h;(E=N.state).mode===12&&(E.mode=13),U=N.next_out,B=N.output,M=N.avail_out,F=N.next_in,R=N.input,L=N.avail_in,H=E.hold,z=E.bits,$=L,Q=M,K=p;e:for(;;)switch(E.mode){case v:if(E.wrap===0){E.mode=13;break}for(;z<16;){if(L===0)break e;L--,H+=R[F++]<<z,z+=8}if(2&E.wrap&&H===35615){G[E.check=0]=255&H,G[1]=H>>>8&255,E.check=s(E.check,G,2,0),z=H=0,E.mode=2;break}if(E.flags=0,E.head&&(E.head.done=!1),!(1&E.wrap)||(((255&H)<<8)+(H>>8))%31){N.msg="incorrect header check",E.mode=30;break}if((15&H)!=8){N.msg="unknown compression method",E.mode=30;break}if(z-=4,A=8+(15&(H>>>=4)),E.wbits===0)E.wbits=A;else if(A>E.wbits){N.msg="invalid window size",E.mode=30;break}E.dmax=1<<A,N.adler=E.check=1,E.mode=512&H?10:12,z=H=0;break;case 2:for(;z<16;){if(L===0)break e;L--,H+=R[F++]<<z,z+=8}if(E.flags=H,(255&E.flags)!=8){N.msg="unknown compression method",E.mode=30;break}if(57344&E.flags){N.msg="unknown header flags set",E.mode=30;break}E.head&&(E.head.text=H>>8&1),512&E.flags&&(G[0]=255&H,G[1]=H>>>8&255,E.check=s(E.check,G,2,0)),z=H=0,E.mode=3;case 3:for(;z<32;){if(L===0)break e;L--,H+=R[F++]<<z,z+=8}E.head&&(E.head.time=H),512&E.flags&&(G[0]=255&H,G[1]=H>>>8&255,G[2]=H>>>16&255,G[3]=H>>>24&255,E.check=s(E.check,G,4,0)),z=H=0,E.mode=4;case 4:for(;z<16;){if(L===0)break e;L--,H+=R[F++]<<z,z+=8}E.head&&(E.head.xflags=255&H,E.head.os=H>>8),512&E.flags&&(G[0]=255&H,G[1]=H>>>8&255,E.check=s(E.check,G,2,0)),z=H=0,E.mode=5;case 5:if(1024&E.flags){for(;z<16;){if(L===0)break e;L--,H+=R[F++]<<z,z+=8}E.length=H,E.head&&(E.head.extra_len=H),512&E.flags&&(G[0]=255&H,G[1]=H>>>8&255,E.check=s(E.check,G,2,0)),z=H=0}else E.head&&(E.head.extra=null);E.mode=6;case 6:if(1024&E.flags&&(L<(Z=E.length)&&(Z=L),Z&&(E.head&&(A=E.head.extra_len-E.length,E.head.extra||(E.head.extra=new Array(E.head.extra_len)),a.arraySet(E.head.extra,R,F,Z,A)),512&E.flags&&(E.check=s(E.check,R,Z,F)),L-=Z,F+=Z,E.length-=Z),E.length))break e;E.length=0,E.mode=7;case 7:if(2048&E.flags){if(L===0)break e;for(Z=0;A=R[F+Z++],E.head&&A&&E.length<65536&&(E.head.name+=String.fromCharCode(A)),A&&Z<L;);if(512&E.flags&&(E.check=s(E.check,R,Z,F)),L-=Z,F+=Z,A)break e}else E.head&&(E.head.name=null);E.length=0,E.mode=8;case 8:if(4096&E.flags){if(L===0)break e;for(Z=0;A=R[F+Z++],E.head&&A&&E.length<65536&&(E.head.comment+=String.fromCharCode(A)),A&&Z<L;);if(512&E.flags&&(E.check=s(E.check,R,Z,F)),L-=Z,F+=Z,A)break e}else E.head&&(E.head.comment=null);E.mode=9;case 9:if(512&E.flags){for(;z<16;){if(L===0)break e;L--,H+=R[F++]<<z,z+=8}if(H!==(65535&E.check)){N.msg="header crc mismatch",E.mode=30;break}z=H=0}E.head&&(E.head.hcrc=E.flags>>9&1,E.head.done=!0),N.adler=E.check=0,E.mode=12;break;case 10:for(;z<32;){if(L===0)break e;L--,H+=R[F++]<<z,z+=8}N.adler=E.check=y(H),z=H=0,E.mode=11;case 11:if(E.havedict===0)return N.next_out=U,N.avail_out=M,N.next_in=F,N.avail_in=L,E.hold=H,E.bits=z,2;N.adler=E.check=1,E.mode=12;case 12:if(D===5||D===6)break e;case 13:if(E.last){H>>>=7&z,z-=7&z,E.mode=27;break}for(;z<3;){if(L===0)break e;L--,H+=R[F++]<<z,z+=8}switch(E.last=1&H,z-=1,3&(H>>>=1)){case 0:E.mode=14;break;case 1:if(O(E),E.mode=20,D!==6)break;H>>>=2,z-=2;break e;case 2:E.mode=17;break;case 3:N.msg="invalid block type",E.mode=30}H>>>=2,z-=2;break;case 14:for(H>>>=7&z,z-=7&z;z<32;){if(L===0)break e;L--,H+=R[F++]<<z,z+=8}if((65535&H)!=(H>>>16^65535)){N.msg="invalid stored block lengths",E.mode=30;break}if(E.length=65535&H,z=H=0,E.mode=15,D===6)break e;case 15:E.mode=16;case 16:if(Z=E.length){if(L<Z&&(Z=L),M<Z&&(Z=M),Z===0)break e;a.arraySet(B,R,F,Z,U),L-=Z,F+=Z,M-=Z,U+=Z,E.length-=Z;break}E.mode=12;break;case 17:for(;z<14;){if(L===0)break e;L--,H+=R[F++]<<z,z+=8}if(E.nlen=257+(31&H),H>>>=5,z-=5,E.ndist=1+(31&H),H>>>=5,z-=5,E.ncode=4+(15&H),H>>>=4,z-=4,286<E.nlen||30<E.ndist){N.msg="too many length or distance symbols",E.mode=30;break}E.have=0,E.mode=18;case 18:for(;E.have<E.ncode;){for(;z<3;){if(L===0)break e;L--,H+=R[F++]<<z,z+=8}E.lens[ie[E.have++]]=7&H,H>>>=3,z-=3}for(;E.have<19;)E.lens[ie[E.have++]]=0;if(E.lencode=E.lendyn,E.lenbits=7,V={bits:E.lenbits},K=c(0,E.lens,0,19,E.lencode,0,E.work,V),E.lenbits=V.bits,K){N.msg="invalid code lengths set",E.mode=30;break}E.have=0,E.mode=19;case 19:for(;E.have<E.nlen+E.ndist;){for(;ee=(q=E.lencode[H&(1<<E.lenbits)-1])>>>16&255,te=65535&q,!((ue=q>>>24)<=z);){if(L===0)break e;L--,H+=R[F++]<<z,z+=8}if(te<16)H>>>=ue,z-=ue,E.lens[E.have++]=te;else{if(te===16){for(W=ue+2;z<W;){if(L===0)break e;L--,H+=R[F++]<<z,z+=8}if(H>>>=ue,z-=ue,E.have===0){N.msg="invalid bit length repeat",E.mode=30;break}A=E.lens[E.have-1],Z=3+(3&H),H>>>=2,z-=2}else if(te===17){for(W=ue+3;z<W;){if(L===0)break e;L--,H+=R[F++]<<z,z+=8}z-=ue,A=0,Z=3+(7&(H>>>=ue)),H>>>=3,z-=3}else{for(W=ue+7;z<W;){if(L===0)break e;L--,H+=R[F++]<<z,z+=8}z-=ue,A=0,Z=11+(127&(H>>>=ue)),H>>>=7,z-=7}if(E.have+Z>E.nlen+E.ndist){N.msg="invalid bit length repeat",E.mode=30;break}for(;Z--;)E.lens[E.have++]=A}}if(E.mode===30)break;if(E.lens[256]===0){N.msg="invalid code -- missing end-of-block",E.mode=30;break}if(E.lenbits=9,V={bits:E.lenbits},K=c(u,E.lens,0,E.nlen,E.lencode,0,E.work,V),E.lenbits=V.bits,K){N.msg="invalid literal/lengths set",E.mode=30;break}if(E.distbits=6,E.distcode=E.distdyn,V={bits:E.distbits},K=c(f,E.lens,E.nlen,E.ndist,E.distcode,0,E.work,V),E.distbits=V.bits,K){N.msg="invalid distances set",E.mode=30;break}if(E.mode=20,D===6)break e;case 20:E.mode=21;case 21:if(6<=L&&258<=M){N.next_out=U,N.avail_out=M,N.next_in=F,N.avail_in=L,E.hold=H,E.bits=z,l(N,Q),U=N.next_out,B=N.output,M=N.avail_out,F=N.next_in,R=N.input,L=N.avail_in,H=E.hold,z=E.bits,E.mode===12&&(E.back=-1);break}for(E.back=0;ee=(q=E.lencode[H&(1<<E.lenbits)-1])>>>16&255,te=65535&q,!((ue=q>>>24)<=z);){if(L===0)break e;L--,H+=R[F++]<<z,z+=8}if(ee&&(240&ee)==0){for(ce=ue,J=ee,ne=te;ee=(q=E.lencode[ne+((H&(1<<ce+J)-1)>>ce)])>>>16&255,te=65535&q,!(ce+(ue=q>>>24)<=z);){if(L===0)break e;L--,H+=R[F++]<<z,z+=8}H>>>=ce,z-=ce,E.back+=ce}if(H>>>=ue,z-=ue,E.back+=ue,E.length=te,ee===0){E.mode=26;break}if(32&ee){E.back=-1,E.mode=12;break}if(64&ee){N.msg="invalid literal/length code",E.mode=30;break}E.extra=15&ee,E.mode=22;case 22:if(E.extra){for(W=E.extra;z<W;){if(L===0)break e;L--,H+=R[F++]<<z,z+=8}E.length+=H&(1<<E.extra)-1,H>>>=E.extra,z-=E.extra,E.back+=E.extra}E.was=E.length,E.mode=23;case 23:for(;ee=(q=E.distcode[H&(1<<E.distbits)-1])>>>16&255,te=65535&q,!((ue=q>>>24)<=z);){if(L===0)break e;L--,H+=R[F++]<<z,z+=8}if((240&ee)==0){for(ce=ue,J=ee,ne=te;ee=(q=E.distcode[ne+((H&(1<<ce+J)-1)>>ce)])>>>16&255,te=65535&q,!(ce+(ue=q>>>24)<=z);){if(L===0)break e;L--,H+=R[F++]<<z,z+=8}H>>>=ce,z-=ce,E.back+=ce}if(H>>>=ue,z-=ue,E.back+=ue,64&ee){N.msg="invalid distance code",E.mode=30;break}E.offset=te,E.extra=15&ee,E.mode=24;case 24:if(E.extra){for(W=E.extra;z<W;){if(L===0)break e;L--,H+=R[F++]<<z,z+=8}E.offset+=H&(1<<E.extra)-1,H>>>=E.extra,z-=E.extra,E.back+=E.extra}if(E.offset>E.dmax){N.msg="invalid distance too far back",E.mode=30;break}E.mode=25;case 25:if(M===0)break e;if(Z=Q-M,E.offset>Z){if((Z=E.offset-Z)>E.whave&&E.sane){N.msg="invalid distance too far back",E.mode=30;break}fe=Z>E.wnext?(Z-=E.wnext,E.wsize-Z):E.wnext-Z,Z>E.length&&(Z=E.length),le=E.window}else le=B,fe=U-E.offset,Z=E.length;for(M<Z&&(Z=M),M-=Z,E.length-=Z;B[U++]=le[fe++],--Z;);E.length===0&&(E.mode=21);break;case 26:if(M===0)break e;B[U++]=E.length,M--,E.mode=21;break;case 27:if(E.wrap){for(;z<32;){if(L===0)break e;L--,H|=R[F++]<<z,z+=8}if(Q-=M,N.total_out+=Q,E.total+=Q,Q&&(N.adler=E.check=E.flags?s(E.check,B,Q,U-Q):o(E.check,B,Q,U-Q)),Q=M,(E.flags?H:y(H))!==E.check){N.msg="incorrect data check",E.mode=30;break}z=H=0}E.mode=28;case 28:if(E.wrap&&E.flags){for(;z<32;){if(L===0)break e;L--,H+=R[F++]<<z,z+=8}if(H!==(4294967295&E.total)){N.msg="incorrect length check",E.mode=30;break}z=H=0}E.mode=29;case 29:K=1;break e;case 30:K=-3;break e;case 31:return-4;default:return h}return N.next_out=U,N.avail_out=M,N.next_in=F,N.avail_in=L,E.hold=H,E.bits=z,(E.wsize||Q!==N.avail_out&&E.mode<30&&(E.mode<27||D!==4))&&T(N,N.output,N.next_out,Q-N.avail_out)?(E.mode=31,-4):($-=N.avail_in,Q-=N.avail_out,N.total_in+=$,N.total_out+=Q,E.total+=Q,E.wrap&&Q&&(N.adler=E.check=E.flags?s(E.check,B,Q,N.next_out-Q):o(E.check,B,Q,N.next_out-Q)),N.data_type=E.bits+(E.last?64:0)+(E.mode===12?128:0)+(E.mode===20||E.mode===15?256:0),($==0&&Q===0||D===4)&&K===p&&(K=-5),K)},i.inflateEnd=function(N){if(!N||!N.state)return h;var D=N.state;return D.window&&(D.window=null),N.state=null,p},i.inflateGetHeader=function(N,D){var E;return N&&N.state?(2&(E=N.state).wrap)==0?h:((E.head=D).done=!1,p):h},i.inflateSetDictionary=function(N,D){var E,R=D.length;return N&&N.state?(E=N.state).wrap!==0&&E.mode!==11?h:E.mode===11&&o(1,D,R,0)!==E.check?-3:T(N,D,R,R)?(E.mode=31,-4):(E.havedict=1,p):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var a=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(u,f,p,h,v,m,g,y){var b,x,_,w,j,k,C,P,O,T=y.bits,N=0,D=0,E=0,R=0,B=0,F=0,U=0,L=0,M=0,H=0,z=null,$=0,Q=new a.Buf16(16),Z=new a.Buf16(16),fe=null,le=0;for(N=0;N<=15;N++)Q[N]=0;for(D=0;D<h;D++)Q[f[p+D]]++;for(B=T,R=15;1<=R&&Q[R]===0;R--);if(R<B&&(B=R),R===0)return v[m++]=20971520,v[m++]=20971520,y.bits=1,0;for(E=1;E<R&&Q[E]===0;E++);for(B<E&&(B=E),N=L=1;N<=15;N++)if(L<<=1,(L-=Q[N])<0)return-1;if(0<L&&(u===0||R!==1))return-1;for(Z[1]=0,N=1;N<15;N++)Z[N+1]=Z[N]+Q[N];for(D=0;D<h;D++)f[p+D]!==0&&(g[Z[f[p+D]]++]=D);if(k=u===0?(z=fe=g,19):u===1?(z=o,$-=257,fe=s,le-=257,256):(z=l,fe=c,-1),N=E,j=m,U=D=H=0,_=-1,w=(M=1<<(F=B))-1,u===1&&852<M||u===2&&592<M)return 1;for(;;){for(C=N-U,O=g[D]<k?(P=0,g[D]):g[D]>k?(P=fe[le+g[D]],z[$+g[D]]):(P=96,0),b=1<<N-U,E=x=1<<F;v[j+(H>>U)+(x-=b)]=C<<24|P<<16|O|0,x!==0;);for(b=1<<N-1;H&b;)b>>=1;if(b!==0?(H&=b-1,H+=b):H=0,D++,--Q[N]==0){if(N===R)break;N=f[p+g[D]]}if(B<N&&(H&w)!==_){for(U===0&&(U=B),j+=E,L=1<<(F=N-U);F+U<R&&!((L-=Q[F+U])<=0);)F++,L<<=1;if(M+=1<<F,u===1&&852<M||u===2&&592<M)return 1;v[_=H&w]=B<<24|F<<16|j-m|0}}return H!==0&&(v[j+H]=N-U<<24|64<<16|0),y.bits=B,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var a=r("../utils/common"),o=0,s=1;function l(q){for(var G=q.length;0<=--G;)q[G]=0}var c=0,u=29,f=256,p=f+1+u,h=30,v=19,m=2*p+1,g=15,y=16,b=7,x=256,_=16,w=17,j=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],C=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],T=new Array(2*(p+2));l(T);var N=new Array(2*h);l(N);var D=new Array(512);l(D);var E=new Array(256);l(E);var R=new Array(u);l(R);var B,F,U,L=new Array(h);function M(q,G,ie,re,X){this.static_tree=q,this.extra_bits=G,this.extra_base=ie,this.elems=re,this.max_length=X,this.has_stree=q&&q.length}function H(q,G){this.dyn_tree=q,this.max_code=0,this.stat_desc=G}function z(q){return q<256?D[q]:D[256+(q>>>7)]}function $(q,G){q.pending_buf[q.pending++]=255&G,q.pending_buf[q.pending++]=G>>>8&255}function Q(q,G,ie){q.bi_valid>y-ie?(q.bi_buf|=G<<q.bi_valid&65535,$(q,q.bi_buf),q.bi_buf=G>>y-q.bi_valid,q.bi_valid+=ie-y):(q.bi_buf|=G<<q.bi_valid&65535,q.bi_valid+=ie)}function Z(q,G,ie){Q(q,ie[2*G],ie[2*G+1])}function fe(q,G){for(var ie=0;ie|=1&q,q>>>=1,ie<<=1,0<--G;);return ie>>>1}function le(q,G,ie){var re,X,de=new Array(g+1),ve=0;for(re=1;re<=g;re++)de[re]=ve=ve+ie[re-1]<<1;for(X=0;X<=G;X++){var he=q[2*X+1];he!==0&&(q[2*X]=fe(de[he]++,he))}}function ue(q){var G;for(G=0;G<p;G++)q.dyn_ltree[2*G]=0;for(G=0;G<h;G++)q.dyn_dtree[2*G]=0;for(G=0;G<v;G++)q.bl_tree[2*G]=0;q.dyn_ltree[2*x]=1,q.opt_len=q.static_len=0,q.last_lit=q.matches=0}function ee(q){8<q.bi_valid?$(q,q.bi_buf):0<q.bi_valid&&(q.pending_buf[q.pending++]=q.bi_buf),q.bi_buf=0,q.bi_valid=0}function te(q,G,ie,re){var X=2*G,de=2*ie;return q[X]<q[de]||q[X]===q[de]&&re[G]<=re[ie]}function ce(q,G,ie){for(var re=q.heap[ie],X=ie<<1;X<=q.heap_len&&(X<q.heap_len&&te(G,q.heap[X+1],q.heap[X],q.depth)&&X++,!te(G,re,q.heap[X],q.depth));)q.heap[ie]=q.heap[X],ie=X,X<<=1;q.heap[ie]=re}function J(q,G,ie){var re,X,de,ve,he=0;if(q.last_lit!==0)for(;re=q.pending_buf[q.d_buf+2*he]<<8|q.pending_buf[q.d_buf+2*he+1],X=q.pending_buf[q.l_buf+he],he++,re===0?Z(q,X,G):(Z(q,(de=E[X])+f+1,G),(ve=k[de])!==0&&Q(q,X-=R[de],ve),Z(q,de=z(--re),ie),(ve=C[de])!==0&&Q(q,re-=L[de],ve)),he<q.last_lit;);Z(q,x,G)}function ne(q,G){var ie,re,X,de=G.dyn_tree,ve=G.stat_desc.static_tree,he=G.stat_desc.has_stree,Y=G.stat_desc.elems,oe=-1;for(q.heap_len=0,q.heap_max=m,ie=0;ie<Y;ie++)de[2*ie]!==0?(q.heap[++q.heap_len]=oe=ie,q.depth[ie]=0):de[2*ie+1]=0;for(;q.heap_len<2;)de[2*(X=q.heap[++q.heap_len]=oe<2?++oe:0)]=1,q.depth[X]=0,q.opt_len--,he&&(q.static_len-=ve[2*X+1]);for(G.max_code=oe,ie=q.heap_len>>1;1<=ie;ie--)ce(q,de,ie);for(X=Y;ie=q.heap[1],q.heap[1]=q.heap[q.heap_len--],ce(q,de,1),re=q.heap[1],q.heap[--q.heap_max]=ie,q.heap[--q.heap_max]=re,de[2*X]=de[2*ie]+de[2*re],q.depth[X]=(q.depth[ie]>=q.depth[re]?q.depth[ie]:q.depth[re])+1,de[2*ie+1]=de[2*re+1]=X,q.heap[1]=X++,ce(q,de,1),2<=q.heap_len;);q.heap[--q.heap_max]=q.heap[1],(function(ge,Oe){var ze,Ve,Tt,Ke,It,rr,et=Oe.dyn_tree,yr=Oe.max_code,je=Oe.stat_desc.static_tree,tt=Oe.stat_desc.has_stree,at=Oe.stat_desc.extra_bits,st=Oe.stat_desc.extra_base,Ce=Oe.stat_desc.max_length,He=0;for(Ke=0;Ke<=g;Ke++)ge.bl_count[Ke]=0;for(et[2*ge.heap[ge.heap_max]+1]=0,ze=ge.heap_max+1;ze<m;ze++)Ce<(Ke=et[2*et[2*(Ve=ge.heap[ze])+1]+1]+1)&&(Ke=Ce,He++),et[2*Ve+1]=Ke,yr<Ve||(ge.bl_count[Ke]++,It=0,st<=Ve&&(It=at[Ve-st]),rr=et[2*Ve],ge.opt_len+=rr*(Ke+It),tt&&(ge.static_len+=rr*(je[2*Ve+1]+It)));if(He!==0){do{for(Ke=Ce-1;ge.bl_count[Ke]===0;)Ke--;ge.bl_count[Ke]--,ge.bl_count[Ke+1]+=2,ge.bl_count[Ce]--,He-=2}while(0<He);for(Ke=Ce;Ke!==0;Ke--)for(Ve=ge.bl_count[Ke];Ve!==0;)yr<(Tt=ge.heap[--ze])||(et[2*Tt+1]!==Ke&&(ge.opt_len+=(Ke-et[2*Tt+1])*et[2*Tt],et[2*Tt+1]=Ke),Ve--)}})(q,G),le(de,oe,q.bl_count)}function A(q,G,ie){var re,X,de=-1,ve=G[1],he=0,Y=7,oe=4;for(ve===0&&(Y=138,oe=3),G[2*(ie+1)+1]=65535,re=0;re<=ie;re++)X=ve,ve=G[2*(re+1)+1],++he<Y&&X===ve||(he<oe?q.bl_tree[2*X]+=he:X!==0?(X!==de&&q.bl_tree[2*X]++,q.bl_tree[2*_]++):he<=10?q.bl_tree[2*w]++:q.bl_tree[2*j]++,de=X,oe=(he=0)===ve?(Y=138,3):X===ve?(Y=6,3):(Y=7,4))}function K(q,G,ie){var re,X,de=-1,ve=G[1],he=0,Y=7,oe=4;for(ve===0&&(Y=138,oe=3),re=0;re<=ie;re++)if(X=ve,ve=G[2*(re+1)+1],!(++he<Y&&X===ve)){if(he<oe)for(;Z(q,X,q.bl_tree),--he!=0;);else X!==0?(X!==de&&(Z(q,X,q.bl_tree),he--),Z(q,_,q.bl_tree),Q(q,he-3,2)):he<=10?(Z(q,w,q.bl_tree),Q(q,he-3,3)):(Z(q,j,q.bl_tree),Q(q,he-11,7));de=X,oe=(he=0)===ve?(Y=138,3):X===ve?(Y=6,3):(Y=7,4)}}l(L);var V=!1;function W(q,G,ie,re){Q(q,(c<<1)+(re?1:0),3),(function(X,de,ve,he){ee(X),$(X,ve),$(X,~ve),a.arraySet(X.pending_buf,X.window,de,ve,X.pending),X.pending+=ve})(q,G,ie)}i._tr_init=function(q){V||((function(){var G,ie,re,X,de,ve=new Array(g+1);for(X=re=0;X<u-1;X++)for(R[X]=re,G=0;G<1<<k[X];G++)E[re++]=X;for(E[re-1]=X,X=de=0;X<16;X++)for(L[X]=de,G=0;G<1<<C[X];G++)D[de++]=X;for(de>>=7;X<h;X++)for(L[X]=de<<7,G=0;G<1<<C[X]-7;G++)D[256+de++]=X;for(ie=0;ie<=g;ie++)ve[ie]=0;for(G=0;G<=143;)T[2*G+1]=8,G++,ve[8]++;for(;G<=255;)T[2*G+1]=9,G++,ve[9]++;for(;G<=279;)T[2*G+1]=7,G++,ve[7]++;for(;G<=287;)T[2*G+1]=8,G++,ve[8]++;for(le(T,p+1,ve),G=0;G<h;G++)N[2*G+1]=5,N[2*G]=fe(G,5);B=new M(T,k,f+1,p,g),F=new M(N,C,0,h,g),U=new M(new Array(0),P,0,v,b)})(),V=!0),q.l_desc=new H(q.dyn_ltree,B),q.d_desc=new H(q.dyn_dtree,F),q.bl_desc=new H(q.bl_tree,U),q.bi_buf=0,q.bi_valid=0,ue(q)},i._tr_stored_block=W,i._tr_flush_block=function(q,G,ie,re){var X,de,ve=0;0<q.level?(q.strm.data_type===2&&(q.strm.data_type=(function(he){var Y,oe=4093624447;for(Y=0;Y<=31;Y++,oe>>>=1)if(1&oe&&he.dyn_ltree[2*Y]!==0)return o;if(he.dyn_ltree[18]!==0||he.dyn_ltree[20]!==0||he.dyn_ltree[26]!==0)return s;for(Y=32;Y<f;Y++)if(he.dyn_ltree[2*Y]!==0)return s;return o})(q)),ne(q,q.l_desc),ne(q,q.d_desc),ve=(function(he){var Y;for(A(he,he.dyn_ltree,he.l_desc.max_code),A(he,he.dyn_dtree,he.d_desc.max_code),ne(he,he.bl_desc),Y=v-1;3<=Y&&he.bl_tree[2*O[Y]+1]===0;Y--);return he.opt_len+=3*(Y+1)+5+5+4,Y})(q),X=q.opt_len+3+7>>>3,(de=q.static_len+3+7>>>3)<=X&&(X=de)):X=de=ie+5,ie+4<=X&&G!==-1?W(q,G,ie,re):q.strategy===4||de===X?(Q(q,2+(re?1:0),3),J(q,T,N)):(Q(q,4+(re?1:0),3),(function(he,Y,oe,ge){var Oe;for(Q(he,Y-257,5),Q(he,oe-1,5),Q(he,ge-4,4),Oe=0;Oe<ge;Oe++)Q(he,he.bl_tree[2*O[Oe]+1],3);K(he,he.dyn_ltree,Y-1),K(he,he.dyn_dtree,oe-1)})(q,q.l_desc.max_code+1,q.d_desc.max_code+1,ve+1),J(q,q.dyn_ltree,q.dyn_dtree)),ue(q),re&&ee(q)},i._tr_tally=function(q,G,ie){return q.pending_buf[q.d_buf+2*q.last_lit]=G>>>8&255,q.pending_buf[q.d_buf+2*q.last_lit+1]=255&G,q.pending_buf[q.l_buf+q.last_lit]=255&ie,q.last_lit++,G===0?q.dyn_ltree[2*ie]++:(q.matches++,G--,q.dyn_ltree[2*(E[ie]+f+1)]++,q.dyn_dtree[2*z(G)]++),q.last_lit===q.lit_bufsize-1},i._tr_align=function(q){Q(q,2,3),Z(q,x,T),(function(G){G.bi_valid===16?($(G,G.bi_buf),G.bi_buf=0,G.bi_valid=0):8<=G.bi_valid&&(G.pending_buf[G.pending++]=255&G.bi_buf,G.bi_buf>>=8,G.bi_valid-=8)})(q)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(a){(function(o,s){if(!o.setImmediate){var l,c,u,f,p=1,h={},v=!1,m=o.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(o);g=g&&g.setTimeout?g:o,l={}.toString.call(o.process)==="[object process]"?function(_){process.nextTick(function(){b(_)})}:(function(){if(o.postMessage&&!o.importScripts){var _=!0,w=o.onmessage;return o.onmessage=function(){_=!1},o.postMessage("","*"),o.onmessage=w,_}})()?(f="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",x,!1):o.attachEvent("onmessage",x),function(_){o.postMessage(f+_,"*")}):o.MessageChannel?((u=new MessageChannel).port1.onmessage=function(_){b(_.data)},function(_){u.port2.postMessage(_)}):m&&"onreadystatechange"in m.createElement("script")?(c=m.documentElement,function(_){var w=m.createElement("script");w.onreadystatechange=function(){b(_),w.onreadystatechange=null,c.removeChild(w),w=null},c.appendChild(w)}):function(_){setTimeout(b,0,_)},g.setImmediate=function(_){typeof _!="function"&&(_=new Function(""+_));for(var w=new Array(arguments.length-1),j=0;j<w.length;j++)w[j]=arguments[j+1];var k={callback:_,args:w};return h[p]=k,l(p),p++},g.clearImmediate=y}function y(_){delete h[_]}function b(_){if(v)setTimeout(b,0,_);else{var w=h[_];if(w){v=!0;try{(function(j){var k=j.callback,C=j.args;switch(C.length){case 0:k();break;case 1:k(C[0]);break;case 2:k(C[0],C[1]);break;case 3:k(C[0],C[1],C[2]);break;default:k.apply(s,C)}})(w)}finally{y(_),v=!1}}}}function x(_){_.source===o&&typeof _.data=="string"&&_.data.indexOf(f)===0&&b(+_.data.slice(f.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof un<"u"?un:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(w0)),w0.exports}var iSe=nSe();const Bz=it(iSe);var Xd={exports:{}},aSe=Xd.exports,K2;function oSe(){return K2||(K2=1,(function(e,t){(function(r,n){n()})(aSe,function(){function r(c,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function n(c,u,f){var p=new XMLHttpRequest;p.open("GET",c),p.responseType="blob",p.onload=function(){l(p.response,u,f)},p.onerror=function(){console.error("could not download file")},p.send()}function i(c){var u=new XMLHttpRequest;u.open("HEAD",c,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function a(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(u)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof un=="object"&&un.global===un?un:void 0,s=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(c,u,f){var p=o.URL||o.webkitURL,h=document.createElement("a");u=u||c.name||"download",h.download=u,h.rel="noopener",typeof c=="string"?(h.href=c,h.origin===location.origin?a(h):i(h.href)?n(c,u,f):a(h,h.target="_blank")):(h.href=p.createObjectURL(c),setTimeout(function(){p.revokeObjectURL(h.href)},4e4),setTimeout(function(){a(h)},0))}:"msSaveOrOpenBlob"in navigator?function(c,u,f){if(u=u||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(r(c,f),u);else if(i(c))n(c,u,f);else{var p=document.createElement("a");p.href=c,p.target="_blank",setTimeout(function(){a(p)})}}:function(c,u,f,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof c=="string")return n(c,u,f);var h=c.type==="application/octet-stream",v=/constructor/i.test(o.HTMLElement)||o.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||h&&v||s)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var x=g.result;x=m?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=x:location=x,p=null},g.readAsDataURL(c)}else{var y=o.URL||o.webkitURL,b=y.createObjectURL(c);p?p.location=b:location.href=b,p=null,setTimeout(function(){y.revokeObjectURL(b)},4e4)}});o.saveAs=l.saveAs=l,e.exports=l})})(Xd)),Xd.exports}var sSe=oSe();async function lSe(e,t){const r=new Bz,n=`habit-tracker-backup-${t.split("T")[0]}`,i=r.folder(n);if(!i)throw new Error("Failed to create root folder");i.file("backup.json",JSON.stringify(e,null,2)),i.file("README.txt",cSe(e));const a=i.folder("data");if(!a)throw new Error("Failed to create data folder");const o=a.folder("habits");o&&(o.file("goals.json",JSON.stringify(e.goals||[],null,2)),o.file("logs.json",JSON.stringify(e.goal_logs||[],null,2)));const s=a.folder("macro-goals");s&&s.file("long_term_goals.json",JSON.stringify(e.long_term_goals||[],null,2));const l=a.folder("categories");l&&l.file("settings.json",JSON.stringify(e.goal_category_settings||null,null,2));const c=a.folder("tracking");c&&(c.file("reading.json",JSON.stringify(e.reading_logs||[],null,2)),c.file("moods.json",JSON.stringify(e.daily_moods||[],null,2)));const u=a.folder("settings");u&&(u.file("user_settings.json",JSON.stringify(e.user_settings||[],null,2)),u.file("app_settings.json",JSON.stringify(e.app_settings||{},null,2)));const f=a.folder("notes");f&&e.user_memos&&f.file("memo.md",e.user_memos.content||`# Note

Nessuna nota salvata.`);const p=i.folder("database-schema");p&&(e.database_schema?.sql&&p.file("schema.sql",e.database_schema.sql),e.database_schema?.metadata&&p.file("database_info.json",JSON.stringify(e.database_schema.metadata,null,2)),e.database_schema?.tables_summary&&p.file("tables_summary.json",JSON.stringify(e.database_schema.tables_summary,null,2))),i.file("RESTORE_INSTRUCTIONS_IT.md",fSe(e)),i.file("RESTORE_INSTRUCTIONS_EN.md",hSe(e));const h=await r.generateAsync({type:"blob"});sSe.saveAs(h,`${n}.zip`)}function cSe(e){const t=WS(e);return`HABIT TRACKER - BACKUP COMPLETO
================================

Data Backup: ${e.timestamp}
Versione: ${e.version}

CONTENUTO DEL BACKUP
--------------------
Questo backup contiene TUTTI i tuoi dati dell'applicazione:

 ${t.goals} Abitudini giornaliere (daily habits)
 ${t.goalLogs} Log di completamento abitudini
 ${t.longTermGoals} Obiettivi macro (annuali, mensili, settimanali, etc.)
 Impostazioni colori e categorie personalizzate
 ${t.readingLogs} Log di lettura
 ${t.moods} Registrazioni mood & energy
 ${t.userSettings} Impostazioni utente
 Note personali (memo)

TOTALE RECORD: ${t.total}

COME RIPRISTINARE
-----------------
1. Apri l'applicazione Habit Tracker
2. Vai alla pagina Backup Completo (/complete-backup)
3. Trascina questo file ZIP nell'area di importazione
4. Conferma il ripristino
5. Attendi il completamento dell'operazione

NOTA: Il ripristino sovrascriver i dati esistenti.
Si consiglia di fare un backup prima di importare.

STRUTTURA FILE
--------------
- backup.json: File completo con tutti i dati
- README.txt: Questo file
- database-schema/: Schema del database Supabase
  - schema.sql: Script SQL completo per ricreare il database
  - database_info.json: Metadata e informazioni del database  - tables_summary.json: Riepilogo struttura tabelle
- data/: Cartella con dati organizzati per tipologia
  - habits/: Abitudini giornaliere e log
  - macro-goals/: Obiettivi a lungo termine
  - categories/: Impostazioni categorie
  - tracking/: Dati di tracking (lettura, mood)
  - settings/: Impostazioni utente e app
  - notes/: Note personali

Per assistenza o segnalazioni: https://github.com/simo-hue/habit-tracker/issues
`}function WS(e){return{goals:Array.isArray(e.goals)?e.goals.length:0,goalLogs:Array.isArray(e.goal_logs)?e.goal_logs.length:0,longTermGoals:Array.isArray(e.long_term_goals)?e.long_term_goals.length:0,readingLogs:Array.isArray(e.reading_logs)?e.reading_logs.length:0,moods:Array.isArray(e.daily_moods)?e.daily_moods.length:0,userSettings:Array.isArray(e.user_settings)?e.user_settings.length:0,total:(Array.isArray(e.goals)?e.goals.length:0)+(Array.isArray(e.goal_logs)?e.goal_logs.length:0)+(Array.isArray(e.long_term_goals)?e.long_term_goals.length:0)+(Array.isArray(e.reading_logs)?e.reading_logs.length:0)+(Array.isArray(e.daily_moods)?e.daily_moods.length:0)+(Array.isArray(e.user_settings)?e.user_settings.length:0)+(e.goal_category_settings?1:0)+(e.user_memos?1:0)}}function uSe(e){const t=[];return e.version||t.push("Missing backup version"),e.timestamp||t.push("Missing backup timestamp"),Array.isArray(e.goals)&&e.goals.length>0||Array.isArray(e.long_term_goals)&&e.long_term_goals.length>0||Array.isArray(e.goal_logs)&&e.goal_logs.length>0||Array.isArray(e.reading_logs)&&e.reading_logs.length>0||Array.isArray(e.daily_moods)&&e.daily_moods.length>0||e.user_memos||t.push("Backup appears to be empty - no data found"),{valid:t.length===0,errors:t}}async function dSe(e){if(e.name.endsWith(".zip")){const t=await Bz.loadAsync(e);let r=t.file("backup.json");if(!r){const a=Object.keys(t.files).find(o=>o.endsWith("backup.json"));a&&(r=t.file(a))}if(!r)throw new Error("File backup.json non trovato nel ZIP");const n=await r.async("text");return JSON.parse(n)}else{if(e.name.endsWith(".json"))return new Promise((t,r)=>{const n=new FileReader;n.onload=i=>{try{const a=i.target?.result;t(JSON.parse(a))}catch{r(new Error("File JSON non valido"))}},n.onerror=()=>r(new Error("Errore lettura file")),n.readAsText(e)});throw new Error("Formato file non supportato. Usa .zip o .json")}}function fSe(e){const t=WS(e);return e.metadata?.exportDate,`# ISTRUZIONI DI RIPRISTINO COMPLETO
# Habit Tracker - Full Disaster Recovery

**Data Backup:** ${e.timestamp}  
**Record Totali:** ${t.total}

---

##  SCENARIO 1: Ripristino Dati su App Esistente

### Prerequisiti
- Applicazione Habit Tracker gi installata e funzionante
- Account Supabase configurato
- File di backup ( habit-tracker-backup-*.zip)

### Passaggi

**1. Accedi all'Applicazione**
- Apri il browser e vai all'app Habit Tracker
- Effettua il login con le tue credenziali

**2. Naviga alla Pagina Backup**
- Menu  Backup Completo
- Oppure vai direttamente a: \`/#/complete-backup\`

**3. Importa il Backup**
- Trascina il file ZIP nell'area di drop
- Oppure clicca "Seleziona file" e scegli il ZIP
- Attendi il completamento (potrebbero volerci alcuni secondi per ${t.total} record)

**4. Verifica il Ripristino**
- Controlla che le abitudini siano visibili nella home
- Verifica i macro obiettivi in "Macro Goals"
- Controlla le statistiche in "Stats"

 **Fatto!** I tuoi dati sono stati ripristinati.

---

##  SCENARIO 2: Ripristino Completo da Zero (Disaster Recovery)

### Prerequisiti
- Niente! Partirai da zero
- File di backup (habit-tracker-backup-*.zip)
- Account GitHub (opzionale, per deploy)

### FASE 1: Crea Nuovo Progetto Supabase

**1.1 Crea Account / Progetto**
- Vai su https://supabase.com
- Clicca "Start your project"
- Crea una nuova organization (se necessario)
- Crea un nuovo progetto:
  - Nome: \`habit-tracker-restore\` (o quello che preferisci)
  - Database Password: **SALVALA!** Ti servir
  - Region: Scegli la pi vicina a te

**1.2 Attendi Provisioning**
- Supabase creer il database (1-2 minuti)
- Vedrai "Project is ready" quando completato

**1.3 Configura il Database**
- Vai su: SQL Editor (icona </> nella sidebar)
- Apri il file \`database-schema/schema.sql\` dal backup ZIP
- Copia **TUTTO** il contenuto
- Incollalo nel SQL Editor di Supabase
- Clicca "RUN" (o premi Ctrl+Enter)
- Vedrai "Success. No rows returned"   Schema creato!

**1.4 Salva le Credenziali Supabase**
- Vai su: Settings  API ( Settings in basso)
- Copia e salva:
  - **Project URL**: \`https://xxxxx.supabase.co\`
  - **anon/public API key**: \`eyJhbG....\`

### FASE 2: Clona e Configura l'Applicazione

**2.1 Clona Repository**
\`\`\`bash
git clone https://github.com/simo-hue/habit-tracker.git
cd habit-tracker
\`\`\`

**2.2 Installa Dipendenze**
\`\`\`bash
npm install
\`\`\`

**2.3 Configura Variabili d'Ambiente**
Crea file \`.env.local\` con:
\`\`\`
VITE_SUPABASE_URL=https://tuo-progetto.supabase.co
VITE_SUPABASE_ANON_KEY=tua-anon-key
\`\`\`

Sostituisci con i valori salvati al punto 1.4

**2.4 Testa in Locale**
\`\`\`bash
npm run dev
\`\`\`
Apri http://localhost:8080/habit-tracker/

### FASE 3: Ripristina i Dati

**3.1 Crea Account**
- Nell'app locale, clicca "Registrati"
- Usa una email valida
- Conferma l'email (controlla inbox)

**3.2 Importa il Backup**
- Login nell'app
- Vai a: Menu  Backup Completo
- Trascina il file ZIP
- Attendi completamento

**3.3 Verifica Dati**
-  ${t.goals} abitudini
-  ${t.longTermGoals} macro obiettivi
-  ${t.moods} registrazioni mood
-  Note personali

### FASE 4: Deploy (Opzionale)

**4.1 Deploy su GitHub Pages**
\`\`\`bash
npm run deploy
\`\`\`

**4.2 Configura GitHub Pages**
- Vai su GitHub  Repository Settings  Pages
- Source: \`gh-pages\` branch
- Salva

La tua app sar online su:  
\`https://tuo-username.github.io/habit-tracker/\`

---

##  RISOLUZIONE PROBLEMI

### Errore: "Non autenticato"
- Verifica di aver fatto login
- Controlla che le credenziali Supabase siano corrette nel file .env.local

### Errore: "Backup non valido"
- Verifica che il file sia .zip o .json
- Controlla che il file non sia corrotto
- Prova a estrarre manualmente il ZIP e usa backup.json

### Schema SQL Error
- Assicurati di aver copiato TUTTO il contenuto di schema.sql
- Verifica che non ci siano caratteri strani
- Esegui lo script una riga alla volta se necessario

### Import Parziale
- Controlla la console del browser (F12) per errori
- Prova a importare il backup.json manualmente
- Verifica le policy RLS su Supabase

---

##  SUPPORTO

- GitHub Issues: https://github.com/simo-hue/habit-tracker/issues
- Documentazione: https://github.com/simo-hue/habit-tracker

---

**Nota Importante sullo Schema:**  
Lo schema SQL incluso potrebbe non essere aggiornato all'ultima versione.
Per ottenere lo schema pi recente:
1. Vai su Supabase Dashboard
2. SQL Editor  Schema tab
3. Copia lo schema completo
4. Sostituisci il contenuto di \`database-schema/schema.sql\`
`}function hSe(e){const t=WS(e);return`# COMPLETE RESTORE INSTRUCTIONS
# Habit Tracker - Full Disaster Recovery

**Backup Date:** ${e.timestamp}  
**Total Records:** ${t.total}

---

##  SCENARIO 1: Restore Data on Existing App

### Prerequisites
- Habit Tracker app already installed and running
- Supabase account configured
- Backup file (habit-tracker-backup-*.zip)

### Steps

**1. Access the Application**
- Open browser and go to Habit Tracker app
- Login with your credentials

**2. Navigate to Backup Page**
- Menu  Complete Backup
- Or go directly to: \`/#/complete-backup\`

**3. Import Backup**
- Drag and drop the ZIP file into the drop area
- Or click "Browse file" and select the ZIP
- Wait for completion (may take a few seconds for ${t.total} records)

**4. Verify Restore**
- Check that habits are visible on home page
- Verify macro goals in "Macro Goals"
- Check statistics in "Stats"

 **Done!** Your data has been restored.

---

##  SCENARIO 2: Complete Restore from Scratch (Disaster Recovery)

### Prerequisites
- Nothing! You'll start from zero
- Backup file (habit-tracker-backup-*.zip)
- GitHub account (optional, for deployment)

### PHASE 1: Create New Supabase Project

**1.1 Create Account / Project**
- Go to https://supabase.com
- Click "Start your project"
- Create a new organization (if needed)
- Create a new project:
  - Name: \`habit-tracker-restore\` (or whatever you prefer)
  - Database Password: **SAVE IT!** You'll need it
  - Region: Choose closest to you

**1.2 Wait for Provisioning**
- Supabase will create the database (1-2 minutes)
- You'll see "Project is ready" when completed

**1.3 Configure Database**
- Go to: SQL Editor (</> icon in sidebar)
- Open the \`database-schema/schema.sql\` file from backup ZIP
- Copy **ALL** the content
- Paste it into Supabase SQL Editor
- Click "RUN" (or press Ctrl+Enter)
- You'll see "Success. No rows returned"   Schema created!

**1.4 Save Supabase Credentials**
- Go to: Settings  API ( Settings at bottom)
- Copy and save:
  - **Project URL**: \`https://xxxxx.supabase.co\`
  - **anon/public API key**: \`eyJhbG....\`

### PHASE 2: Clone and Configure Application

**2.1 Clone Repository**
\`\`\`bash
git clone https://github.com/simo-hue/habit-tracker.git
cd habit-tracker
\`\`\`

**2.2 Install Dependencies**
\`\`\`bash
npm install
\`\`\`

**2.3 Configure Environment Variables**
Create \`.env.local\` file with:
\`\`\`
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key
\`\`\`

Replace with values saved in step 1.4

**2.4 Test Locally**
\`\`\`bash
npm run dev
\`\`\`
Open http://localhost:8080/habit-tracker/

### PHASE 3: Restore Data

**3.1 Create Account**
- In the local app, click "Sign Up"
- Use a valid email
- Confirm email (check inbox)

**3.2 Import Backup**
- Login to the app
- Go to: Menu  Complete Backup
- Drag and drop the ZIP file
- Wait for completion

**3.3 Verify Data**
-  ${t.goals} habits
-  ${t.longTermGoals} macro goals
-  ${t.moods} mood records
-  Personal notes

### PHASE 4: Deploy (Optional)

**4.1 Deploy to GitHub Pages**
\`\`\`bash
npm run deploy
\`\`\`

**4.2 Configure GitHub Pages**
- Go to GitHub  Repository Settings  Pages
- Source: \`gh-pages\` branch
- Save

Your app will be live at:  
\`https://your-username.github.io/habit-tracker/\`

---

##  TROUBLESHOOTING

### Error: "Not authenticated"
- Verify you're logged in
- Check that Supabase credentials are correct in .env.local file

### Error: "Invalid backup"
- Verify file is .zip or .json
- Check that file is not corrupted
- Try manually extracting ZIP and using backup.json

### Schema SQL Error
- Make sure you copied ALL content from schema.sql
- Verify there are no strange characters
- Run script one line at a time if necessary

### Partial Import
- Check browser console (F12) for errors
- Try importing backup.json manually
- Verify RLS policies on Supabase

---

##  SUPPORT

- GitHub Issues: https://github.com/simo-hue/habit-tracker/issues
- Documentation: https://github.com/simo-hue/habit-tracker

---

**Important Note about Schema:**  
The included SQL schema may not be updated to the latest version.
To get the most recent schema:
1. Go to Supabase Dashboard
2. SQL Editor  Schema tab
3. Copy the complete schema
4. Replace content of \`database-schema/schema.sql\`
`}function pSe(){const e=ja(),[t,r]=S.useState(!1),[n,i]=S.useState(!1);return{exportCompleteBackup:async()=>{r(!0);try{const{data:{user:s}}=await be.auth.getUser();if(!s)throw new Error("Non autenticato");const l=new Date().toISOString(),c=async(k,C=!0)=>{let P=[],O=0;const T=1e3;let N=!0,D=0;for(;N;){let E=be.from(k).select("*").range(O,O+T-1);C&&(E=E.eq("user_id",s.id));const{data:R,error:B}=await E;if(B)throw B;R&&R.length>0?(D++,P=[...P,...R],R.length===T&&console.log(` Fetching ${k}: batch ${D} (${P.length} records so far...)`),R.length<T?(N=!1,console.log(` ${k}: ${P.length} records fetched in ${D} batch(es)`)):O+=T):(N=!1,P.length>0&&console.log(` ${k}: ${P.length} records fetched in ${D} batch(es)`))}return P},[u,f,p,h,v,m,g,y]=await Promise.all([c("goals",!0),c("goal_logs",!0),c("long_term_goals",!0),be.from("goal_category_settings").select("*").eq("user_id",s.id).single(),c("reading_logs",!1),c("user_settings",!1),be.from("user_memos").select("*").eq("user_id",s.id).single(),c("daily_moods",!0)]);if(h.error&&h.error.code!=="PGRST116")throw h.error;if(g.error&&g.error.code!=="PGRST116")throw g.error;const b={ollama_preferred_model:localStorage.getItem("ollama_preferred_model")||void 0,ollama_report_type:localStorage.getItem("ollama_report_type")||void 0};let x="";try{const k=await fetch("/schema.sql");k.ok?x=await k.text():console.warn("schema.sql not found in public folder")}catch(k){console.warn("Could not load schema.sql:",k)}x?x=`-- HABIT TRACKER DATABASE SCHEMA
-- Exported: ${new Date().toISOString()}
-- Source: /public/schema.sql
-- 
-- This schema includes all 8 tables with RLS policies and triggers.
-- For the most up-to-date schema, export from Supabase Dashboard.
--
${x}`:x=`-- Database Schema not available
-- 
-- To get the current database schema:
-- 1. Go to Supabase Dashboard > SQL Editor
-- 2. Copy the complete schema
-- 3. Or manually export via Supabase CLI: supabase db dump -f schema.sql
`;const _={sql:x,metadata:{supabase_version:"2.87.1",postgrest_version:"13.0.5",exported_at:l,tables_count:8,total_records:0},tables_summary:{goals:{description:"Daily habits tracking",key_columns:["id","user_id","title","color","frequency_days"],has_rls:!0},goal_logs:{description:"Habit completion logs",key_columns:["id","user_id","goal_id","date","status"],has_rls:!0},long_term_goals:{description:"Macro goals (annual, monthly, weekly, quarterly, lifetime)",key_columns:["id","user_id","title","type","year","month"],has_rls:!0},goal_category_settings:{description:"Category colors and labels settings",key_columns:["id","user_id","mappings"],has_rls:!0,note:"Single record per user"},reading_logs:{description:"Daily reading tracking",key_columns:["id","date","status"],has_rls:!0},user_settings:{description:"Generic user settings (key-value)",key_columns:["id","key","value"],has_rls:!0},user_memos:{description:"User personal notes in markdown",key_columns:["id","user_id","content"],has_rls:!0,note:"Single record per user"},daily_moods:{description:"Daily mood and energy tracking",key_columns:["id","user_id","date","mood_score","energy_score"],has_rls:!0}}},w=(u?.length||0)+(f?.length||0)+(p?.length||0)+(h.data?1:0)+(v?.length||0)+(m?.length||0)+(g.data?1:0)+(y?.length||0);_.metadata.total_records=w;const j={version:1,timestamp:l,metadata:{appVersion:"1.0.0",exportDate:new Date().toLocaleDateString("it-IT"),totalRecords:w},goals:u||[],goal_logs:f||[],long_term_goals:p||[],goal_category_settings:h.data||null,reading_logs:v||[],user_settings:m||[],user_memos:g.data||null,daily_moods:y||[],app_settings:b,database_schema:_};Ue.info(`Preparazione backup: ${w} record trovati...`),await lSe(j,l),Ue.success(`Backup completo creato con successo! (${w} record)`)}catch(s){console.error("Export failed:",s),Ue.error(`Errore durante l'export: ${s.message}`)}finally{r(!1)}},importCompleteBackup:async s=>{i(!0);try{const l=await dSe(s),c=uSe(l);if(!c.valid)throw new Error(`Backup non valido: ${c.errors.join(", ")}`);const{data:{user:u}}=await be.auth.getUser();if(!u)throw new Error("Non autenticato");const f={totalProcessed:0,byTable:{},settingsRestored:[],timestamp:new Date().toISOString()},p=async(h,v,m="id")=>{if(!Array.isArray(v)||v.length===0){f.byTable[h]={inserted:0,updated:0,unchanged:0,errors:[]};return}try{const{data:g,error:y}=await be.from(h).select("*").eq("user_id",u.id);if(y)throw y;const b=new Map((g||[]).map(k=>[k[m],k])),x=[];let _=0,w=0,j=0;for(const k of v){const C={...k,user_id:u.id},P=b.get(k[m]);P?JSON.stringify(P)!==JSON.stringify(C)?(w++,x.push(C)):j++:(_++,x.push(C))}if(x.length>0){const{error:k}=await be.from(h).upsert(x);if(k)throw k}f.byTable[h]={inserted:_,updated:w,unchanged:j,errors:[]},f.totalProcessed+=v.length}catch(g){f.byTable[h]={inserted:0,updated:0,unchanged:0,errors:[g.message]}}};if(await p("goals",l.goals),await p("goal_logs",l.goal_logs),await p("long_term_goals",l.long_term_goals),await p("reading_logs",l.reading_logs),await p("user_settings",l.user_settings,"key"),await p("daily_moods",l.daily_moods),l.goal_category_settings)try{const{data:h}=await be.from("goal_category_settings").select("*").eq("user_id",u.id).single(),v={user_id:u.id,mappings:l.goal_category_settings.mappings};h?(await be.from("goal_category_settings").update({mappings:v.mappings}).eq("id",h.id),f.byTable.goal_category_settings={inserted:0,updated:1,unchanged:0,errors:[]}):(await be.from("goal_category_settings").insert(v),f.byTable.goal_category_settings={inserted:1,updated:0,unchanged:0,errors:[]}),f.totalProcessed++}catch(h){f.byTable.goal_category_settings={inserted:0,updated:0,unchanged:0,errors:[h.message]}}if(l.user_memos)try{const{error:h}=await be.from("user_memos").upsert({user_id:u.id,content:l.user_memos.content||"",updated_at:new Date().toISOString()},{onConflict:"user_id"});if(h)throw h;f.byTable.user_memos={inserted:0,updated:1,unchanged:0,errors:[]},f.totalProcessed++}catch(h){f.byTable.user_memos={inserted:0,updated:0,unchanged:0,errors:[h.message]}}return l.app_settings&&(l.app_settings.ollama_preferred_model&&(localStorage.setItem("ollama_preferred_model",l.app_settings.ollama_preferred_model),f.settingsRestored.push("ollama_preferred_model")),l.app_settings.ollama_report_type&&(localStorage.setItem("ollama_report_type",l.app_settings.ollama_report_type),f.settingsRestored.push("ollama_report_type"))),await e.invalidateQueries({queryKey:["goals"]}),await e.invalidateQueries({queryKey:["goal_logs"]}),await e.invalidateQueries({queryKey:["longTermGoals"]}),await e.invalidateQueries({queryKey:["goalCategorySettings"]}),await e.invalidateQueries({queryKey:["moods"]}),Ue.success(`Backup importato con successo! (${f.totalProcessed} record ripristinati)`),f}catch(l){return console.error("Import failed:",l),Ue.error(`Errore durante l'importazione: ${l.message}`),null}finally{i(!1)}},isExporting:t,isImporting:n}}var HS="Progress",VS=100,[mSe]=Or(HS),[gSe,vSe]=mSe(HS),zz=S.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=ySe,...o}=e;(i||i===0)&&!G2(i)&&console.error(bSe(`${i}`,"Progress"));const s=G2(i)?i:VS;n!==null&&!Y2(n,s)&&console.error(xSe(`${n}`,"Progress"));const l=Y2(n,s)?n:null,c=Rh(l)?a(l,s):void 0;return d.jsx(gSe,{scope:r,value:l,max:s,children:d.jsx(Ee.div,{"aria-valuemax":s,"aria-valuemin":0,"aria-valuenow":Rh(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":Wz(l,s),"data-value":l??void 0,"data-max":s,...o,ref:t})})});zz.displayName=HS;var qz="ProgressIndicator",Uz=S.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,i=vSe(qz,r);return d.jsx(Ee.div,{"data-state":Wz(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});Uz.displayName=qz;function ySe(e,t){return`${Math.round(e/t*100)}%`}function Wz(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Rh(e){return typeof e=="number"}function G2(e){return Rh(e)&&!isNaN(e)&&e>0}function Y2(e,t){return Rh(e)&&!isNaN(e)&&e<=t&&e>=0}function bSe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${VS}\`.`}function xSe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${VS} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Hz=zz,wSe=Uz;const Vz=S.forwardRef(({className:e,value:t,...r},n)=>d.jsx(Hz,{ref:n,className:ae("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:d.jsx(wSe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Vz.displayName=Hz.displayName;var _Se="Separator",X2="horizontal",SSe=["horizontal","vertical"],Kz=S.forwardRef((e,t)=>{const{decorative:r,orientation:n=X2,...i}=e,a=jSe(n)?n:X2,s=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return d.jsx(Ee.div,{"data-orientation":a,...s,...i,ref:t})});Kz.displayName=_Se;function jSe(e){return SSe.includes(e)}var Gz=Kz;const Qd=S.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},i)=>d.jsx(Gz,{ref:i,decorative:r,orientation:t,className:ae("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Qd.displayName=Gz.displayName;function kSe(){const{exportCompleteBackup:e,importCompleteBackup:t,isExporting:r,isImporting:n}=pSe(),[i,a]=S.useState(null),[o,s]=S.useState(!1),l=async()=>{await e()},c=async m=>{const g=await t(m);a(g)},u=S.useCallback(m=>{m.preventDefault(),s(!1);const g=Array.from(m.dataTransfer.files);g.length>0&&c(g[0])},[]),f=S.useCallback(m=>{m.preventDefault(),s(!0)},[]),p=S.useCallback(m=>{m.preventDefault(),s(!1)},[]),h=S.useCallback(m=>{const g=m.target.files;g&&g.length>0&&c(g[0])},[]),v=[{icon:Gn,label:"Abitudini giornaliere",key:"goals",color:"text-blue-500"},{icon:$d,label:"Log completamento abitudini",key:"goal_logs",color:"text-green-500"},{icon:uo,label:"Obiettivi macro (annuali, mensili, etc.)",key:"long_term_goals",color:"text-purple-500"},{icon:k6,label:"Categorie e colori personalizzati",key:"goal_category_settings",color:"text-pink-500"},{icon:a6,label:"Log di lettura",key:"reading_logs",color:"text-amber-500"},{icon:MR,label:"Registrazioni Mood & Energy",key:"daily_moods",color:"text-cyan-500"},{icon:DR,label:"Impostazioni utente",key:"user_settings",color:"text-slate-500"},{icon:g1,label:"Note personali (memo)",key:"user_memos",color:"text-orange-500"}];return d.jsx("div",{className:"container mx-auto p-4 sm:p-6 max-w-4xl",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[d.jsx(PR,{className:"h-8 w-8 text-primary"}),"Backup Completo"]}),d.jsx("p",{className:"text-muted-foreground",children:"Esporta o importa tutti i dati dell'applicazione in un unico archivio organizzato"})]}),d.jsxs(lo,{children:[d.jsx(ts,{className:"h-4 w-4"}),d.jsx(Yd,{children:"Cosa viene salvato nel backup?"}),d.jsxs(co,{children:["Il backup include ",d.jsx("strong",{children:"tutti i tuoi dati"}),": abitudini, obiettivi, log, impostazioni, categorie personalizzate, note e registrazioni mood. Il file sar scaricato come archivio ZIP ben organizzato."]})]}),d.jsxs(Be,{children:[d.jsxs(Je,{children:[d.jsxs(Ze,{className:"flex items-center gap-2",children:[d.jsx(zh,{className:"h-5 w-5"}),"Esporta Backup"]}),d.jsx(kn,{children:"Scarica un backup completo di tutti i tuoi dati in formato ZIP"})]}),d.jsxs(qe,{className:"space-y-4",children:[d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:v.map(m=>d.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:[d.jsx(m.icon,{className:`h-5 w-5 ${m.color}`}),d.jsx("span",{className:"text-sm font-medium",children:m.label})]},m.key))}),d.jsx(Qd,{}),d.jsx(Xe,{onClick:l,disabled:r,className:"w-full sm:w-auto",size:"lg",children:r?d.jsxs(d.Fragment,{children:[d.jsx(Tn,{className:"mr-2 h-4 w-4 animate-spin"}),"Creazione backup..."]}):d.jsxs(d.Fragment,{children:[d.jsx(rj,{className:"mr-2 h-4 w-4"}),"Esporta Backup Completo"]})})]})]}),d.jsxs(Be,{children:[d.jsxs(Je,{children:[d.jsxs(Ze,{className:"flex items-center gap-2",children:[d.jsx($R,{className:"h-5 w-5"}),"Importa Backup"]}),d.jsx(kn,{children:"Ripristina i tuoi dati da un file di backup precedente (ZIP o JSON)"})]}),d.jsxs(qe,{className:"space-y-4",children:[d.jsxs("div",{onDrop:u,onDragOver:f,onDragLeave:p,className:`
                                border-2 border-dashed rounded-lg p-8 text-center transition-all
                                ${o?"border-primary bg-primary/5 scale-105":"border-muted-foreground/25 hover:border-muted-foreground/50"}
                            `,children:[d.jsx(rj,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),d.jsx("p",{className:"text-sm font-medium mb-2",children:"Trascina qui il file di backup"}),d.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Supporta file .zip e .json"}),d.jsx("label",{htmlFor:"backup-file-input",children:d.jsx(Xe,{variant:"outline",size:"sm",asChild:!0,disabled:n,children:d.jsx("span",{className:"cursor-pointer",children:n?d.jsxs(d.Fragment,{children:[d.jsx(Tn,{className:"mr-2 h-4 w-4 animate-spin"}),"Importazione..."]}):"Oppure clicca per selezionare"})})}),d.jsx("input",{id:"backup-file-input",type:"file",accept:".zip,.json",onChange:h,className:"hidden",disabled:n})]}),n&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"flex items-center justify-between text-sm",children:d.jsx("span",{className:"text-muted-foreground",children:"Ripristino in corso..."})}),d.jsx(Vz,{value:void 0,className:"h-2"})]}),i&&d.jsxs(lo,{className:"border-green-500/50 bg-green-500/10",children:[d.jsx($d,{className:"h-4 w-4 text-green-500"}),d.jsx(Yd,{className:"text-green-500",children:"Backup importato con successo!"}),d.jsx(co,{className:"mt-2",children:d.jsx(g_,{className:"h-48 w-full rounded-md border p-4 bg-background/50",children:d.jsxs("div",{className:"space-y-3 text-sm",children:[d.jsxs("div",{className:"font-semibold",children:["Record totali processati: ",i.totalProcessed]}),d.jsx(Qd,{}),d.jsx("div",{className:"space-y-2",children:Object.entries(i.byTable).map(([m,g])=>d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"font-medium capitalize",children:m.replace(/_/g," ")}),d.jsxs("div",{className:"pl-4 text-xs space-y-0.5 text-muted-foreground",children:[g.inserted>0&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx($d,{className:"h-3 w-3 text-green-500"}),d.jsxs("span",{children:[g.inserted," nuovi record"]})]}),g.updated>0&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ts,{className:"h-3 w-3 text-blue-500"}),d.jsxs("span",{children:[g.updated," aggiornati"]})]}),g.unchanged>0&&d.jsx("div",{className:"flex items-center gap-2",children:d.jsxs("span",{className:"text-muted-foreground",children:[g.unchanged," invariati"]})}),g.errors.length>0&&d.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[d.jsx(c6,{className:"h-3 w-3"}),d.jsx("span",{children:g.errors.join(", ")})]})]})]},m))}),i.settingsRestored.length>0&&d.jsxs(d.Fragment,{children:[d.jsx(Qd,{}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:"Impostazioni ripristinate:"}),d.jsx("div",{className:"pl-4 text-xs text-muted-foreground",children:i.settingsRestored.join(", ")})]})]})]})})})]})]})]}),d.jsxs(lo,{variant:"destructive",children:[d.jsx(ts,{className:"h-4 w-4"}),d.jsx(Yd,{children:"Attenzione"}),d.jsxs(co,{children:["L'importazione di un backup ",d.jsx("strong",{children:"sovrascriver i dati esistenti"}),". Assicurati di aver effettuato un backup prima di procedere se hai dati da conservare."]})]})]})})}const ESe=()=>{const[e,t]=S.useState(!1),[r,n]=S.useState(""),[i,a]=S.useState(""),[o,s]=S.useState(!1),l=tR();S.useEffect(()=>{be.auth.getSession().then(({data:{session:u}})=>{u&&l("/")})},[l]);const c=async u=>{u.preventDefault(),t(!0);try{if(o){Ue.error("Non sei autorizzato, prova scrivi su linkedin a mattioli simone");return}else{const{error:f}=await be.auth.signInWithPassword({email:r,password:i});if(f)throw f;Ue.success("Accesso effettuato"),l("/")}}catch(f){Ue.error(f.message)}finally{t(!1)}};return d.jsxs("div",{className:"min-h-dvh flex items-center justify-center p-4 relative overflow-hidden bg-background",children:[d.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[d.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-primary/20 blur-[100px] rounded-full opacity-50 animate-pulse"}),d.jsx("div",{className:"absolute top-0 right-0 w-[400px] h-[400px] bg-secondary/10 blur-[80px] rounded-full"})]}),d.jsxs("div",{className:"glass-panel w-full max-w-md p-8 rounded-3xl relative z-10 border-white/10 shadow-2xl animate-scale-in",children:[d.jsxs("div",{className:"text-center mb-8 space-y-2",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-xl bg-primary/10 border border-primary/20 mb-4 shadow-[0_0_15px_rgba(255,255,255,0.1)]",children:d.jsx(T6,{className:"w-6 h-6 text-primary"})}),d.jsx("h1",{className:"text-3xl font-display font-bold tracking-tight bg-gradient-to-br from-white to-white/60 bg-clip-text text-transparent",children:"Mattioli.OS"}),d.jsx("p",{className:"text-sm text-muted-foreground font-light",children:"Sistema di tracciamento abitudini personale"})]}),d.jsxs("form",{onSubmit:c,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"relative group",children:[d.jsx(_6,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground transition-colors group-focus-within:text-primary"}),d.jsx(wa,{type:"email",placeholder:"Email",value:r,onChange:u=>n(u.target.value),className:"pl-10 h-11 bg-black/20 border-white/10 focus:border-primary/50 focus:bg-black/40 transition-all rounded-xl",required:!0})]}),d.jsxs("div",{className:"relative group",children:[d.jsx(w6,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground transition-colors group-focus-within:text-primary"}),d.jsx(wa,{type:"password",placeholder:"Password",value:i,onChange:u=>a(u.target.value),className:"pl-10 h-11 bg-black/20 border-white/10 focus:border-primary/50 focus:bg-black/40 transition-all rounded-xl",required:!0})]})]}),d.jsx(Xe,{type:"submit",className:"w-full h-11 text-base font-medium mt-6 bg-primary hover:bg-primary/90 text-primary-foreground shadow-[0_0_20px_rgba(255,255,255,0.1)] hover:shadow-[0_0_25px_rgba(255,255,255,0.2)] transition-all duration-300",disabled:e,children:e?d.jsx(Tn,{className:"w-5 h-5 animate-spin"}):d.jsxs("span",{className:"flex items-center gap-2",children:[o?"Registrati":"Accedi al Sistema",d.jsx(r6,{className:"w-4 h-4"})]})})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsx("button",{onClick:()=>s(!o),className:"text-xs text-muted-foreground hover:text-primary transition-colors hover:underline underline-offset-4",children:o?"Hai gi un account? Accedi":"Prima volta? Inizializza Protocollo (Registrati)"})})]})]})},ASe=()=>{const e=e8();return S.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),d.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},OSe=new gW,CSe=({children:e})=>{const[t,r]=S.useState(null);return S.useEffect(()=>{be.auth.getSession().then(({data:{session:i}})=>{r(!!i)});const{data:{subscription:n}}=be.auth.onAuthStateChange((i,a)=>{r(!!a)});return()=>n.unsubscribe()},[]),t===null?null:t?d.jsx(d.Fragment,{children:e}):d.jsx(n8,{to:"/auth",replace:!0})},PSe=()=>d.jsx(wW,{client:OSe,children:d.jsx(M7,{children:d.jsx(RW,{children:d.jsxs(Zi,{children:[d.jsx(L6,{}),d.jsx(mq,{}),d.jsx(t8,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:d.jsxs(r8,{children:[d.jsx(Hi,{path:"/auth",element:d.jsx(ESe,{})}),d.jsxs(Hi,{element:d.jsx(CSe,{children:d.jsx(LW,{})}),children:[d.jsx(Hi,{path:"/",element:d.jsx(iae,{})}),d.jsx(Hi,{path:"/stats",element:d.jsx(D_e,{})}),d.jsx(Hi,{path:"/macro-goals",element:d.jsx(X_e,{})}),d.jsx(Hi,{path:"/ai-coach",element:d.jsx(rSe,{})}),d.jsx(Hi,{path:"/complete-backup",element:d.jsx(kSe,{})})]}),d.jsx(Hi,{path:"*",element:d.jsx(ASe,{})})]})})]})})})});try{const e=document.getElementById("root");if(!e)throw new Error("Root element not found");o8.createRoot(e).render(d.jsx(PSe,{}))}catch(e){console.error("Error in main.tsx:",e)}
